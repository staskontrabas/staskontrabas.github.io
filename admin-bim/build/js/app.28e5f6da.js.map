{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsParams.vue?9ea2","webpack:///./src/components/pages/workflow/dctview/ViewDwg.vue?0429","webpack:///./src/plugins/click_outside.js","webpack:///./src/assets/images/gear.gif","webpack:///./src/components/pages/workflow/dctview/ViewDxf.vue?95e3","webpack:///./src/components/pages/workflow/manage_tasks/TaskCreate.vue?a5bb","webpack:///./src/components/pages/workflow/dctview/PanelWorkList.vue?8682","webpack:///./src/components/pages/workflow/dctview/PanelSearch.vue?6a7c","webpack:///./src/assets/images/screen.png","webpack:///./src/assets/images/Logo_icon.svg","webpack:///./src/assets/images/arrows.svg","webpack:///./src/assets/images/download.gif","webpack:///./src/App.vue?76ec","webpack:///src/App.vue","webpack:///./src/App.vue?9e95","webpack:///./src/App.vue","webpack:///./src/utils/define.js","webpack:///./src/utils/services.js","webpack:///./src/store/modules/common.js","webpack:///./src/store/modules/auth.js","webpack:///./src/utils/socket.js","webpack:///./src/store/modules/comments.js","webpack:///./src/store/modules/workflow.js","webpack:///./src/store/modules/administration.js","webpack:///./src/store/modules/toolbar.js","webpack:///./src/store/index.js","webpack:///./src/components/core/Init.vue?93c8","webpack:///src/components/core/Init.vue","webpack:///./src/components/core/Init.vue?cf6a","webpack:///./src/components/core/Init.vue","webpack:///./src/components/core/Layout.vue?667e","webpack:///./src/components/core/sidebar/sidebar.js","webpack:///./src/components/core/AppBar.vue?a359","webpack:///./src/components/core/Logobar.vue?b11f","webpack:///src/components/core/Logobar.vue","webpack:///./src/components/core/Logobar.vue?fc6e","webpack:///./src/components/core/Logobar.vue","webpack:///./src/components/core/appbar/Menu.vue?0d73","webpack:///src/components/core/appbar/Menu.vue","webpack:///./src/components/core/appbar/Menu.vue?977e","webpack:///./src/components/core/appbar/Menu.vue","webpack:///./src/components/core/appbar/Profile.vue?c597","webpack:///src/components/core/appbar/Profile.vue","webpack:///./src/components/core/appbar/Profile.vue?38c9","webpack:///./src/components/core/appbar/Profile.vue","webpack:///./src/components/core/appbar/Promise.vue?1ef5","webpack:///src/components/core/appbar/Promise.vue","webpack:///./src/components/core/appbar/Promise.vue?1cfc","webpack:///./src/components/core/appbar/Promise.vue","webpack:///src/components/core/AppBar.vue","webpack:///./src/components/core/AppBar.vue?7e49","webpack:///./src/components/core/AppBar.vue","webpack:///./src/components/core/Sidebar.vue?94bb","webpack:///./src/components/pages/workflow/workflow_project/SidebarFolders.vue?e3ac","webpack:///./src/components/pages/workflow/workflow_project/CreateMenu.vue?8f2c","webpack:///src/components/pages/workflow/workflow_project/CreateMenu.vue","webpack:///./src/components/pages/workflow/workflow_project/CreateMenu.vue?0de3","webpack:///./src/components/pages/workflow/workflow_project/CreateMenu.vue","webpack:///./src/components/pages/workflow/workflow_project/CreateGroup.vue?3758","webpack:///src/components/pages/workflow/workflow_project/CreateGroup.vue","webpack:///./src/components/pages/workflow/workflow_project/CreateGroup.vue?9769","webpack:///./src/components/pages/workflow/workflow_project/CreateGroup.vue","webpack:///./src/components/pages/workflow/workflow_project/CreateFolder.vue?508f","webpack:///src/components/pages/workflow/workflow_project/CreateFolder.vue","webpack:///./src/components/pages/workflow/workflow_project/CreateFolder.vue?4d5c","webpack:///./src/components/pages/workflow/workflow_project/CreateFolder.vue","webpack:///./src/components/pages/workflow/workflow_project/EditMenu.vue?0347","webpack:///src/components/pages/workflow/workflow_project/EditMenu.vue","webpack:///./src/components/pages/workflow/workflow_project/EditMenu.vue?59b7","webpack:///./src/components/pages/workflow/workflow_project/EditMenu.vue","webpack:///./src/components/pages/workflow/workflow_project/EditFolder.vue?b7a2","webpack:///src/components/pages/workflow/workflow_project/EditFolder.vue","webpack:///./src/components/pages/workflow/workflow_project/EditFolder.vue?fdb3","webpack:///./src/components/pages/workflow/workflow_project/EditFolder.vue","webpack:///./src/components/pages/workflow/workflow_project/RemoveFolder.vue?7e99","webpack:///src/components/pages/workflow/workflow_project/RemoveFolder.vue","webpack:///./src/components/pages/workflow/workflow_project/RemoveFolder.vue?83e3","webpack:///./src/components/pages/workflow/workflow_project/RemoveFolder.vue","webpack:///./src/components/pages/workflow/workflow_project/AccessRights.vue?6bf2","webpack:///src/components/pages/workflow/workflow_project/AccessRights.vue","webpack:///./src/components/pages/workflow/workflow_project/AccessRights.vue?ca93","webpack:///./src/components/pages/workflow/workflow_project/AccessRights.vue","webpack:///./src/components/pages/workflow/workflow_project/EditMain.vue?2f00","webpack:///src/components/pages/workflow/workflow_project/EditMain.vue","webpack:///./src/components/pages/workflow/workflow_project/EditMain.vue?8ada","webpack:///./src/components/pages/workflow/workflow_project/EditMain.vue","webpack:///src/components/pages/workflow/workflow_project/SidebarFolders.vue","webpack:///./src/components/pages/workflow/workflow_project/SidebarFolders.vue?d5e7","webpack:///./src/components/pages/workflow/workflow_project/SidebarFolders.vue","webpack:///src/components/core/Sidebar.vue","webpack:///./src/components/core/Sidebar.vue?24e6","webpack:///./src/components/core/Sidebar.vue","webpack:///./src/components/core/CoreView.vue?7f19","webpack:///src/components/core/CoreView.vue","webpack:///./src/components/core/CoreView.vue?5909","webpack:///./src/components/core/CoreView.vue","webpack:///src/components/core/Layout.vue","webpack:///./src/components/core/Layout.vue?5f19","webpack:///./src/components/core/Layout.vue","webpack:///./src/components/pages/Dummy.vue?1686","webpack:///./src/components/core/CoreFooter.vue?cea0","webpack:///src/components/core/CoreFooter.vue","webpack:///./src/components/core/CoreFooter.vue?1224","webpack:///./src/components/core/CoreFooter.vue","webpack:///src/components/pages/Dummy.vue","webpack:///./src/components/pages/Dummy.vue?d3fc","webpack:///./src/components/pages/Dummy.vue","webpack:///./src/components/pages/Callback.vue?3231","webpack:///src/components/pages/Callback.vue","webpack:///./src/components/pages/Callback.vue?d2e5","webpack:///./src/components/pages/Callback.vue","webpack:///./src/components/pages/Main.vue?53bc","webpack:///src/components/pages/Main.vue","webpack:///./src/components/pages/Main.vue?6e98","webpack:///./src/components/pages/Main.vue","webpack:///./src/components/pages/Moduls.vue?aa54","webpack:///src/components/pages/Moduls.vue","webpack:///./src/components/pages/Moduls.vue?fc07","webpack:///./src/components/pages/Moduls.vue","webpack:///./src/components/pages/Engineering.vue?bd53","webpack:///src/components/pages/Engineering.vue","webpack:///./src/components/pages/Engineering.vue?a9ea","webpack:///./src/components/pages/Engineering.vue","webpack:///./src/components/pages/Invite.vue?084c","webpack:///src/components/pages/Invite.vue","webpack:///./src/components/pages/Invite.vue?5d2a","webpack:///./src/components/pages/Invite.vue","webpack:///./src/components/pages/Administration.vue?3d2c","webpack:///src/components/pages/Administration.vue","webpack:///./src/components/pages/Administration.vue?d766","webpack:///./src/components/pages/Administration.vue","webpack:///./src/components/pages/Workflow.vue?c3de","webpack:///src/components/pages/Workflow.vue","webpack:///./src/components/pages/Workflow.vue?b51a","webpack:///./src/components/pages/Workflow.vue","webpack:///./src/components/pages/workflow/WorkflowList.vue?8841","webpack:///./src/components/pages/workflow/workflow_list/EditProject.vue?fe6c","webpack:///./src/components/pages/workflow/workflow_list/Custom.vue?d679","webpack:///src/components/pages/workflow/workflow_list/Custom.vue","webpack:///./src/components/pages/workflow/workflow_list/Custom.vue?1f1f","webpack:///./src/components/pages/workflow/workflow_list/Custom.vue","webpack:///./src/components/pages/workflow/workflow_list/Edit.vue?3564","webpack:///src/components/pages/workflow/workflow_list/Edit.vue","webpack:///./src/components/pages/workflow/workflow_list/Edit.vue?094d","webpack:///./src/components/pages/workflow/workflow_list/Edit.vue","webpack:///src/components/pages/workflow/workflow_list/EditProject.vue","webpack:///./src/components/pages/workflow/workflow_list/EditProject.vue?dd12","webpack:///./src/components/pages/workflow/workflow_list/EditProject.vue","webpack:///./src/components/pages/workflow/workflow_list/ProjectDescription.vue?c439","webpack:///./src/components/pages/workflow/workflow_list/project_description/TObject.vue?b9aa","webpack:///./src/components/pages/workflow/workflow_list/project_description/Fields.vue?89a5","webpack:///src/components/pages/workflow/workflow_list/project_description/Fields.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/Fields.vue?5f26","webpack:///./src/components/pages/workflow/workflow_list/project_description/Fields.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TAddress.vue?67a9","webpack:///src/components/pages/workflow/workflow_list/project_description/TAddress.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TAddress.vue?5358","webpack:///./src/components/pages/workflow/workflow_list/project_description/TAddress.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTei.vue?705c","webpack:///src/components/pages/workflow/workflow_list/project_description/TTei.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTei.vue?7a0d","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTei.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TCadastralNumber.vue?29d2","webpack:///src/components/pages/workflow/workflow_list/project_description/TCadastralNumber.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TCadastralNumber.vue?18ad","webpack:///./src/components/pages/workflow/workflow_list/project_description/TCadastralNumber.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TObjectPart.vue?0057","webpack:///src/components/pages/workflow/workflow_list/project_description/TObjectPart.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TObjectPart.vue?e286","webpack:///./src/components/pages/workflow/workflow_list/project_description/TObjectPart.vue","webpack:///src/components/pages/workflow/workflow_list/project_description/TObject.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TObject.vue?6b90","webpack:///./src/components/pages/workflow/workflow_list/project_description/TObject.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDeclarant.vue?4e62","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDeclarantItem.vue?c00f","webpack:///./src/components/pages/workflow/workflow_list/project_description/TOrganization.vue?1b93","webpack:///src/components/pages/workflow/workflow_list/project_description/TOrganization.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TOrganization.vue?1232","webpack:///./src/components/pages/workflow/workflow_list/project_description/TOrganization.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TForeignOrganization.vue?71aa","webpack:///src/components/pages/workflow/workflow_list/project_description/TForeignOrganization.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TForeignOrganization.vue?6703","webpack:///./src/components/pages/workflow/workflow_list/project_description/TForeignOrganization.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TIP.vue?b6a2","webpack:///src/components/pages/workflow/workflow_list/project_description/TIP.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TIP.vue?e2f6","webpack:///./src/components/pages/workflow/workflow_list/project_description/TIP.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TPerson.vue?bba8","webpack:///src/components/pages/workflow/workflow_list/project_description/TPerson.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TPerson.vue?fb6a","webpack:///./src/components/pages/workflow/workflow_list/project_description/TPerson.vue","webpack:///src/components/pages/workflow/workflow_list/project_description/TDeclarantItem.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDeclarantItem.vue?8a5f","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDeclarantItem.vue","webpack:///src/components/pages/workflow/workflow_list/project_description/TDeclarant.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDeclarant.vue?de11","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDeclarant.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTechnicalCustomer.vue?8e94","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTechnicalCustomerItem.vue?bf2b","webpack:///src/components/pages/workflow/workflow_list/project_description/TTechnicalCustomerItem.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTechnicalCustomerItem.vue?4dd3","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTechnicalCustomerItem.vue","webpack:///src/components/pages/workflow/workflow_list/project_description/TTechnicalCustomer.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTechnicalCustomer.vue?fed5","webpack:///./src/components/pages/workflow/workflow_list/project_description/TTechnicalCustomer.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TFinances.vue?c3df","webpack:///./src/components/pages/workflow/workflow_list/project_description/TFinance.vue?f11b","webpack:///src/components/pages/workflow/workflow_list/project_description/TFinance.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TFinance.vue?c814","webpack:///./src/components/pages/workflow/workflow_list/project_description/TFinance.vue","webpack:///src/components/pages/workflow/workflow_list/project_description/TFinances.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TFinances.vue?35d1","webpack:///./src/components/pages/workflow/workflow_list/project_description/TFinances.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEstimatedCost.vue?3067","webpack:///./src/components/pages/workflow/workflow_list/project_description/TComplexEstimatedCost.vue?55cc","webpack:///src/components/pages/workflow/workflow_list/project_description/TComplexEstimatedCost.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TComplexEstimatedCost.vue?9c89","webpack:///./src/components/pages/workflow/workflow_list/project_description/TComplexEstimatedCost.vue","webpack:///src/components/pages/workflow/workflow_list/project_description/TEstimatedCost.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEstimatedCost.vue?8630","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEstimatedCost.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TClimateConditions.vue?eae1","webpack:///src/components/pages/workflow/workflow_list/project_description/TClimateConditions.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TClimateConditions.vue?522e","webpack:///./src/components/pages/workflow/workflow_list/project_description/TClimateConditions.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDesigner.vue?4148","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDesignerItem.vue?24b6","webpack:///src/components/pages/workflow/workflow_list/project_description/TDesignerItem.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDesignerItem.vue?d9c6","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDesignerItem.vue","webpack:///src/components/pages/workflow/workflow_list/project_description/TDesigner.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDesigner.vue?6da5","webpack:///./src/components/pages/workflow/workflow_list/project_description/TDesigner.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEngineeringSurvey.vue?63ec","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEngineeringSurveyAddress.vue?154c","webpack:///src/components/pages/workflow/workflow_list/project_description/TEngineeringSurveyAddress.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEngineeringSurveyAddress.vue?e627","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEngineeringSurveyAddress.vue","webpack:///src/components/pages/workflow/workflow_list/project_description/TEngineeringSurvey.vue","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEngineeringSurvey.vue?805c","webpack:///./src/components/pages/workflow/workflow_list/project_description/TEngineeringSurvey.vue","webpack:///src/components/pages/workflow/workflow_list/ProjectDescription.vue","webpack:///./src/components/pages/workflow/workflow_list/ProjectDescription.vue?98d9","webpack:///./src/components/pages/workflow/workflow_list/ProjectDescription.vue","webpack:///./src/components/pages/workflow/workflow_list/ActionMenu.vue?24cb","webpack:///src/components/pages/workflow/workflow_list/ActionMenu.vue","webpack:///./src/components/pages/workflow/workflow_list/ActionMenu.vue?bdd1","webpack:///./src/components/pages/workflow/workflow_list/ActionMenu.vue","webpack:///./src/components/pages/workflow/workflow_list/CreateXml.vue?d577","webpack:///src/components/pages/workflow/workflow_list/CreateXml.vue","webpack:///./src/components/pages/workflow/workflow_list/CreateXml.vue?c51f","webpack:///./src/components/pages/workflow/workflow_list/CreateXml.vue","webpack:///src/components/pages/workflow/WorkflowList.vue","webpack:///./src/components/pages/workflow/WorkflowList.vue?5f59","webpack:///./src/components/pages/workflow/WorkflowList.vue","webpack:///./src/components/pages/workflow/DctView.vue?1e6c","webpack:///./src/components/pages/workflow/dctview/ViewPdf.vue?aa7a","webpack:///./src/components/pages/workflow/dctview/Tools.vue?0c3d","webpack:///./src/components/pages/workflow/dctview/Comments.vue?b029","webpack:///./src/components/pages/workflow/dctview/comments/Comment.vue?f88d","webpack:///./src/components/pages/workflow/dctview/comments/CommentItem.vue?52fe","webpack:///src/components/pages/workflow/dctview/comments/CommentItem.vue","webpack:///./src/components/pages/workflow/dctview/comments/CommentItem.vue?175f","webpack:///./src/components/pages/workflow/dctview/comments/CommentItem.vue","webpack:///src/components/pages/workflow/dctview/comments/Comment.vue","webpack:///./src/components/pages/workflow/dctview/comments/Comment.vue?a156","webpack:///./src/components/pages/workflow/dctview/comments/Comment.vue","webpack:///src/components/pages/workflow/dctview/Comments.vue","webpack:///./src/components/pages/workflow/dctview/Comments.vue?b144","webpack:///./src/components/pages/workflow/dctview/Comments.vue","webpack:///./src/components/pages/workflow/dctview/HistoryList.vue?799b","webpack:///./src/components/pages/workflow/dctview/history/HistoryComment.vue?8e22","webpack:///src/components/pages/workflow/dctview/history/HistoryComment.vue","webpack:///./src/components/pages/workflow/dctview/history/HistoryComment.vue?dfaa","webpack:///./src/components/pages/workflow/dctview/history/HistoryComment.vue","webpack:///src/components/pages/workflow/dctview/HistoryList.vue","webpack:///./src/components/pages/workflow/dctview/HistoryList.vue?12dc","webpack:///./src/components/pages/workflow/dctview/HistoryList.vue","webpack:///./src/components/pages/workflow/dctview/Tasks.vue?67ee","webpack:///./src/components/pages/workflow/dctview/TaskCreate.vue?ca57","webpack:///src/components/pages/workflow/dctview/TaskCreate.vue","webpack:///./src/components/pages/workflow/dctview/TaskCreate.vue?0e75","webpack:///./src/components/pages/workflow/dctview/TaskCreate.vue?49f3","webpack:///src/components/pages/workflow/dctview/Tasks.vue","webpack:///./src/components/pages/workflow/dctview/Tasks.vue?4763","webpack:///./src/components/pages/workflow/dctview/Tasks.vue","webpack:///src/components/pages/workflow/dctview/Tools.vue","webpack:///./src/components/pages/workflow/dctview/Tools.vue?8a8c","webpack:///./src/components/pages/workflow/dctview/Tools.vue","webpack:///./src/components/pages/workflow/dctview/PanelOptions.vue?a644","webpack:///src/components/pages/workflow/dctview/PanelOptions.vue","webpack:///./src/components/pages/workflow/dctview/PanelOptions.vue?2cfe","webpack:///./src/components/pages/workflow/dctview/PanelOptions.vue","webpack:///./src/components/pages/workflow/dctview/view_pdf/PdfAnno.vue?c30a","webpack:///src/components/pages/workflow/dctview/view_pdf/PdfAnno.vue","webpack:///./src/components/pages/workflow/dctview/view_pdf/PdfAnno.vue?c2ae","webpack:///./src/components/pages/workflow/dctview/view_pdf/PdfAnno.vue","webpack:///./src/components/pages/workflow/dctview/view_pdf/BorderStack.vue?4fe9","webpack:///./src/components/pages/workflow/dctview/view_pdf/PdfDraft.vue?83f9","webpack:///src/components/pages/workflow/dctview/view_pdf/PdfDraft.vue","webpack:///./src/components/pages/workflow/dctview/view_pdf/PdfDraft.vue?27de","webpack:///./src/components/pages/workflow/dctview/view_pdf/PdfDraft.vue","webpack:///src/components/pages/workflow/dctview/view_pdf/BorderStack.vue","webpack:///./src/components/pages/workflow/dctview/view_pdf/BorderStack.vue?c48a","webpack:///./src/components/pages/workflow/dctview/view_pdf/BorderStack.vue","webpack:///./src/components/pages/workflow/dctview/view_pdf/BorderHelper.vue?ec2b","webpack:///src/components/pages/workflow/dctview/view_pdf/BorderHelper.vue","webpack:///./src/components/pages/workflow/dctview/view_pdf/BorderHelper.vue?08e8","webpack:///./src/components/pages/workflow/dctview/view_pdf/BorderHelper.vue","webpack:///src/components/pages/workflow/dctview/ViewPdf.vue","webpack:///./src/components/pages/workflow/dctview/ViewPdf.vue?c114","webpack:///./src/components/pages/workflow/dctview/ViewPdf.vue","webpack:///./src/components/pages/workflow/dctview/ViewObj.vue?2780","webpack:///./src/components/pages/workflow/dctview/Tools3d.vue?65ee","webpack:///./src/components/pages/workflow/dctview/Comments3d.vue?ef40","webpack:///./src/components/pages/workflow/dctview/comments/Comment3d.vue?6bab","webpack:///src/components/pages/workflow/dctview/comments/Comment3d.vue","webpack:///./src/components/pages/workflow/dctview/comments/Comment3d.vue?99f5","webpack:///./src/components/pages/workflow/dctview/comments/Comment3d.vue","webpack:///src/components/pages/workflow/dctview/Comments3d.vue","webpack:///./src/components/pages/workflow/dctview/Comments3d.vue?8345","webpack:///./src/components/pages/workflow/dctview/Comments3d.vue","webpack:///./src/components/pages/workflow/dctview/Access.vue?ad31","webpack:///src/components/pages/workflow/dctview/Access.vue","webpack:///./src/components/pages/workflow/dctview/Access.vue?0f4a","webpack:///./src/components/pages/workflow/dctview/Access.vue","webpack:///src/components/pages/workflow/dctview/Tools3d.vue","webpack:///./src/components/pages/workflow/dctview/Tools3d.vue?e117","webpack:///./src/components/pages/workflow/dctview/Tools3d.vue","webpack:///./src/components/pages/workflow/dctview/PanelProperty.vue?16f8","webpack:///src/components/pages/workflow/dctview/PanelProperty.vue","webpack:///./src/components/pages/workflow/dctview/PanelProperty.vue?bdc7","webpack:///./src/components/pages/workflow/dctview/PanelProperty.vue","webpack:///./src/components/pages/workflow/dctview/PanelDispatcher.vue?acb4","webpack:///./src/components/custom/IconBotton.vue?c987","webpack:///src/components/custom/IconBotton.vue","webpack:///./src/components/custom/IconBotton.vue?a417","webpack:///./src/components/custom/IconBotton.vue?694e","webpack:///./src/components/pages/workflow/dctview/PanelBtnModeTmpl.vue?d754","webpack:///src/components/pages/workflow/dctview/PanelBtnModeTmpl.vue","webpack:///./src/components/pages/workflow/dctview/PanelBtnModeTmpl.vue?f9f5","webpack:///./src/components/pages/workflow/dctview/PanelBtnModeTmpl.vue","webpack:///src/components/pages/workflow/dctview/PanelDispatcher.vue","webpack:///./src/components/pages/workflow/dctview/PanelDispatcher.vue?dd05","webpack:///./src/components/pages/workflow/dctview/PanelDispatcher.vue?c1f4","webpack:///./src/components/pages/workflow/dctview/PanelResurs.vue?fb61","webpack:///src/components/pages/workflow/dctview/PanelResurs.vue","webpack:///./src/components/pages/workflow/dctview/PanelResurs.vue?3cd4","webpack:///./src/components/pages/workflow/dctview/PanelResurs.vue?d400","webpack:///./src/components/pages/workflow/dctview/PanelHidden.vue?fdc6","webpack:///src/components/pages/workflow/dctview/PanelHidden.vue","webpack:///./src/components/pages/workflow/dctview/PanelHidden.vue?8a88","webpack:///./src/components/pages/workflow/dctview/PanelHidden.vue","webpack:///./src/components/pages/workflow/dctview/PanelFilters.vue?8826","webpack:///src/components/pages/workflow/dctview/PanelFilters.vue","webpack:///./src/components/pages/workflow/dctview/PanelFilters.vue?f90f","webpack:///./src/components/pages/workflow/dctview/PanelFilters.vue","webpack:///./src/components/pages/workflow/dctview/PanelDelta.vue?2db2","webpack:///src/components/pages/workflow/dctview/PanelDelta.vue","webpack:///./src/components/pages/workflow/dctview/PanelDelta.vue?e005","webpack:///./src/components/pages/workflow/dctview/PanelDelta.vue","webpack:///./src/components/pages/workflow/dctview/PanelRooms.vue?bc35","webpack:///src/components/pages/workflow/dctview/PanelRooms.vue","webpack:///./src/components/pages/workflow/dctview/PanelRooms.vue?2c1a","webpack:///./src/components/pages/workflow/dctview/PanelRooms.vue","webpack:///./src/components/pages/workflow/dctview/PanelSearch.vue?f673","webpack:///./src/components/pages/workflow/dctview/panel-tabs/Components.vue?7eed","webpack:///src/components/pages/workflow/dctview/panel-tabs/Components.vue","webpack:///./src/components/pages/workflow/dctview/panel-tabs/Components.vue?bc2a","webpack:///./src/components/pages/workflow/dctview/panel-tabs/Components.vue?fd78","webpack:///src/components/pages/workflow/dctview/PanelSearch.vue","webpack:///./src/components/pages/workflow/dctview/PanelSearch.vue?8b5c","webpack:///./src/components/pages/workflow/dctview/PanelSearch.vue?888c","webpack:///./src/components/pages/workflow/dctview/PanelCollisionSettings.vue?408b","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/DialogView.vue?687c","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesTypes.vue?282f","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/RulesTypes.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesTypes.vue?3483","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesTypes.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettings.vue?4b60","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/RulesSettings.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettings.vue?6bfd","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettings.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsParams.vue?7a6c","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsParams.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsParams.vue?e329","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsParams.vue?90ff","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsRepeat.vue?edfa","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsRepeat.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsRepeat.vue?760d","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSettingsRepeat.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesElement.vue?aae9","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/RulesElement.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesElement.vue?6d2a","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesElement.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSelect.vue?9b75","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/RulesSelect.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSelect.vue?0db0","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/RulesSelect.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/GroupAdd.vue?7e8b","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/GroupAdd.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/GroupAdd.vue?157c","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/GroupAdd.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/GetParams.vue?0936","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/GetParams.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/GetParams.vue?4397","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/GetParams.vue","webpack:///src/components/pages/workflow/dctview/panel_collision_settings/DialogView.vue","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/DialogView.vue?e441","webpack:///./src/components/pages/workflow/dctview/panel_collision_settings/DialogView.vue","webpack:///src/components/pages/workflow/dctview/PanelCollisionSettings.vue","webpack:///./src/components/pages/workflow/dctview/PanelCollisionSettings.vue?3161","webpack:///./src/components/pages/workflow/dctview/PanelCollisionSettings.vue","webpack:///./src/components/pages/workflow/dctview/PanelCollisionReport.vue?63b5","webpack:///src/components/pages/workflow/dctview/PanelCollisionReport.vue","webpack:///./src/components/pages/workflow/dctview/PanelCollisionReport.vue?6e55","webpack:///./src/components/pages/workflow/dctview/PanelCollisionReport.vue?82d1","webpack:///./src/components/pages/workflow/dctview/PanelWorkList.vue?1e56","webpack:///src/components/pages/workflow/dctview/PanelWorkList.vue","webpack:///./src/components/pages/workflow/dctview/PanelWorkList.vue?2577","webpack:///./src/components/pages/workflow/dctview/PanelWorkList.vue?d774","webpack:///./src/components/pages/workflow/dctview/PanelTabs.vue?fe3b","webpack:///src/components/pages/workflow/dctview/PanelTabs.vue","webpack:///./src/components/pages/workflow/dctview/PanelTabs.vue?06ee","webpack:///./src/components/pages/workflow/dctview/PanelTabs.vue?db48","webpack:///src/components/pages/workflow/dctview/ViewObj.vue","webpack:///./src/components/pages/workflow/dctview/ViewObj.vue?fd24","webpack:///./src/components/pages/workflow/dctview/ViewObj.vue?4ec1","webpack:///./src/components/pages/workflow/dctview/ViewDwg.vue?1eb3","webpack:///src/components/pages/workflow/dctview/ViewDwg.vue","webpack:///./src/components/pages/workflow/dctview/ViewDwg.vue?6ce1","webpack:///./src/components/pages/workflow/dctview/ViewDwg.vue?be81","webpack:///./src/components/pages/workflow/dctview/ViewDxf.vue?e6c6","webpack:///src/components/pages/workflow/dctview/ViewDxf.vue","webpack:///./src/components/pages/workflow/dctview/ViewDxf.vue?209d","webpack:///./src/components/pages/workflow/dctview/ViewDxf.vue?0bc0","webpack:///src/components/pages/workflow/DctView.vue","webpack:///./src/components/pages/workflow/DctView.vue?dcdf","webpack:///./src/components/pages/workflow/DctView.vue","webpack:///./src/components/pages/workflow/WorkflowProject.vue?b149","webpack:///./src/components/pages/workflow/workflow_project/TableGrid.vue?c721","webpack:///src/components/pages/workflow/workflow_project/TableGrid.vue","webpack:///./src/components/pages/workflow/workflow_project/TableGrid.vue?af17","webpack:///./src/components/pages/workflow/workflow_project/TableGrid.vue","webpack:///./src/components/pages/workflow/workflow_project/UploadFiles.vue?c11c","webpack:///src/components/pages/workflow/workflow_project/UploadFiles.vue","webpack:///./src/components/pages/workflow/workflow_project/UploadFiles.vue?4c78","webpack:///./src/components/pages/workflow/workflow_project/UploadFiles.vue","webpack:///./src/components/pages/workflow/workflow_project/ActionMenu.vue?8653","webpack:///src/components/pages/workflow/workflow_project/ActionMenu.vue","webpack:///./src/components/pages/workflow/workflow_project/ActionMenu.vue?de70","webpack:///./src/components/pages/workflow/workflow_project/ActionMenu.vue","webpack:///./src/components/pages/workflow/workflow_project/RemoveSelected.vue?eadd","webpack:///src/components/pages/workflow/workflow_project/RemoveSelected.vue","webpack:///./src/components/pages/workflow/workflow_project/RemoveSelected.vue?84af","webpack:///./src/components/pages/workflow/workflow_project/RemoveSelected.vue","webpack:///./src/components/pages/workflow/workflow_project/ReplaceItem.vue?db8b","webpack:///src/components/pages/workflow/workflow_project/ReplaceItem.vue","webpack:///./src/components/pages/workflow/workflow_project/ReplaceItem.vue?4a57","webpack:///./src/components/pages/workflow/workflow_project/ReplaceItem.vue","webpack:///./src/components/pages/workflow/workflow_project/CopyItem.vue?5a4c","webpack:///src/components/pages/workflow/workflow_project/CopyItem.vue","webpack:///./src/components/pages/workflow/workflow_project/CopyItem.vue?8eef","webpack:///./src/components/pages/workflow/workflow_project/CopyItem.vue","webpack:///./src/components/pages/workflow/workflow_project/RenameItem.vue?a9bd","webpack:///src/components/pages/workflow/workflow_project/RenameItem.vue","webpack:///./src/components/pages/workflow/workflow_project/RenameItem.vue?5e8e","webpack:///./src/components/pages/workflow/workflow_project/RenameItem.vue","webpack:///./src/components/pages/workflow/workflow_project/RemoveItem.vue?944e","webpack:///src/components/pages/workflow/workflow_project/RemoveItem.vue","webpack:///./src/components/pages/workflow/workflow_project/RemoveItem.vue?2204","webpack:///./src/components/pages/workflow/workflow_project/RemoveItem.vue","webpack:///./src/components/pages/workflow/workflow_project/CreateXml.vue?e925","webpack:///src/components/pages/workflow/workflow_project/CreateXml.vue","webpack:///./src/components/pages/workflow/workflow_project/CreateXml.vue?ba84","webpack:///./src/components/pages/workflow/workflow_project/CreateXml.vue","webpack:///./src/components/pages/workflow/workflow_project/Version.vue?c014","webpack:///src/components/pages/workflow/workflow_project/Version.vue","webpack:///./src/components/pages/workflow/workflow_project/Version.vue?c2f5","webpack:///./src/components/pages/workflow/workflow_project/Version.vue","webpack:///./src/components/pages/workflow/workflow_project/ErrorIfcxml.vue?7074","webpack:///src/components/pages/workflow/workflow_project/ErrorIfcxml.vue","webpack:///./src/components/pages/workflow/workflow_project/ErrorIfcxml.vue?ea51","webpack:///./src/components/pages/workflow/workflow_project/ErrorIfcxml.vue","webpack:///./src/components/pages/workflow/workflow_project/SetSp333Attribute.vue?d3fa","webpack:///./src/components/pages/workflow/workflow_project/ClueSp333Attribute.vue?a033","webpack:///src/components/pages/workflow/workflow_project/ClueSp333Attribute.vue","webpack:///./src/components/pages/workflow/workflow_project/ClueSp333Attribute.vue?b02b","webpack:///./src/components/pages/workflow/workflow_project/ClueSp333Attribute.vue","webpack:///src/components/pages/workflow/workflow_project/SetSp333Attribute.vue","webpack:///./src/components/pages/workflow/workflow_project/SetSp333Attribute.vue?911a","webpack:///./src/components/pages/workflow/workflow_project/SetSp333Attribute.vue","webpack:///./src/components/pages/workflow/workflow_project/Collisions.vue?416e","webpack:///src/components/pages/workflow/workflow_project/Collisions.vue","webpack:///./src/components/pages/workflow/workflow_project/Collisions.vue?3bc6","webpack:///./src/components/pages/workflow/workflow_project/Collisions.vue","webpack:///./src/components/pages/workflow/workflow_project/SpecificationXml.vue?5d15","webpack:///./src/components/pages/workflow/workflow_project/specification_xml/DateXml.vue?f50a","webpack:///src/components/pages/workflow/workflow_project/specification_xml/DateXml.vue","webpack:///./src/components/pages/workflow/workflow_project/specification_xml/DateXml.vue?2573","webpack:///./src/components/pages/workflow/workflow_project/specification_xml/DateXml.vue","webpack:///src/components/pages/workflow/workflow_project/SpecificationXml.vue","webpack:///./src/components/pages/workflow/workflow_project/SpecificationXml.vue?a62d","webpack:///./src/components/pages/workflow/workflow_project/SpecificationXml.vue","webpack:///src/components/pages/workflow/WorkflowProject.vue","webpack:///./src/components/pages/workflow/WorkflowProject.vue?7b5c","webpack:///./src/components/pages/workflow/WorkflowProject.vue","webpack:///./src/components/pages/workflow/ManageTasks.vue?07fc","webpack:///./src/components/pages/workflow/manage_tasks/Task.vue?c77c","webpack:///src/components/pages/workflow/manage_tasks/Task.vue","webpack:///./src/components/pages/workflow/manage_tasks/Task.vue?9160","webpack:///./src/components/pages/workflow/manage_tasks/Task.vue?1252","webpack:///./src/components/pages/workflow/manage_tasks/Tools.vue?450d","webpack:///./src/components/pages/workflow/manage_tasks/TaskCreate.vue?1037","webpack:///src/components/pages/workflow/manage_tasks/TaskCreate.vue","webpack:///./src/components/pages/workflow/manage_tasks/TaskCreate.vue?d7d1","webpack:///./src/components/pages/workflow/manage_tasks/TaskCreate.vue?4813","webpack:///src/components/pages/workflow/manage_tasks/Tools.vue","webpack:///./src/components/pages/workflow/manage_tasks/Tools.vue?58a2","webpack:///./src/components/pages/workflow/manage_tasks/Tools.vue","webpack:///src/components/pages/workflow/ManageTasks.vue","webpack:///./src/components/pages/workflow/ManageTasks.vue?78cb","webpack:///./src/components/pages/workflow/ManageTasks.vue?bab9","webpack:///./src/components/pages/workflow/RemovedFiles.vue?c5e0","webpack:///./src/components/pages/workflow/removed_files/ActionMenu.vue?6554","webpack:///src/components/pages/workflow/removed_files/ActionMenu.vue","webpack:///./src/components/pages/workflow/removed_files/ActionMenu.vue?0256","webpack:///./src/components/pages/workflow/removed_files/ActionMenu.vue","webpack:///src/components/pages/workflow/RemovedFiles.vue","webpack:///./src/components/pages/workflow/RemovedFiles.vue?b353","webpack:///./src/components/pages/workflow/RemovedFiles.vue","webpack:///./src/components/pages/administration/Account.vue?bbda","webpack:///./src/components/pages/administration/common/UploadFiles.vue?1b97","webpack:///src/components/pages/administration/common/UploadFiles.vue","webpack:///./src/components/pages/administration/common/UploadFiles.vue?3c71","webpack:///./src/components/pages/administration/common/UploadFiles.vue","webpack:///./src/components/pages/administration/account/NewPassword.vue?e3ce","webpack:///src/components/pages/administration/account/NewPassword.vue","webpack:///./src/components/pages/administration/account/NewPassword.vue?ebf4","webpack:///./src/components/pages/administration/account/NewPassword.vue","webpack:///src/components/pages/administration/Account.vue","webpack:///./src/components/pages/administration/Account.vue?6c2d","webpack:///./src/components/pages/administration/Account.vue","webpack:///./src/components/pages/administration/Statistics.vue?3e14","webpack:///src/components/pages/administration/Statistics.vue","webpack:///./src/components/pages/administration/Statistics.vue?08dc","webpack:///./src/components/pages/administration/Statistics.vue","webpack:///./src/components/pages/administration/Settings.vue?dc08","webpack:///src/components/pages/administration/Settings.vue","webpack:///./src/components/pages/administration/Settings.vue?f76b","webpack:///./src/components/pages/administration/Settings.vue","webpack:///./src/components/pages/administration/Payment.vue?b822","webpack:///src/components/pages/administration/Payment.vue","webpack:///./src/components/pages/administration/Payment.vue?3e7f","webpack:///./src/components/pages/administration/Payment.vue","webpack:///./src/components/pages/administration/payment/Control.vue?29ff","webpack:///./src/components/pages/administration/payment/control/ControlDialog.vue?fc5d","webpack:///./src/components/pages/administration/payment/control/License.vue?f9ad","webpack:///src/components/pages/administration/payment/control/License.vue","webpack:///./src/components/pages/administration/payment/control/License.vue?2b33","webpack:///./src/components/pages/administration/payment/control/License.vue","webpack:///./src/components/pages/administration/payment/control/Plan.vue?4c8a","webpack:///src/components/pages/administration/payment/control/Plan.vue","webpack:///./src/components/pages/administration/payment/control/Plan.vue?baf4","webpack:///./src/components/pages/administration/payment/control/Plan.vue","webpack:///./src/components/pages/administration/payment/control/Size.vue?2e6b","webpack:///src/components/pages/administration/payment/control/Size.vue","webpack:///./src/components/pages/administration/payment/control/Size.vue?59e6","webpack:///./src/components/pages/administration/payment/control/Size.vue","webpack:///./src/components/pages/administration/payment/control/Confirm.vue?aa0c","webpack:///src/components/pages/administration/payment/control/Confirm.vue","webpack:///./src/components/pages/administration/payment/control/Confirm.vue?a337","webpack:///./src/components/pages/administration/payment/control/Confirm.vue","webpack:///src/components/pages/administration/payment/control/ControlDialog.vue","webpack:///./src/components/pages/administration/payment/control/ControlDialog.vue?ae62","webpack:///./src/components/pages/administration/payment/control/ControlDialog.vue","webpack:///src/components/pages/administration/payment/Control.vue","webpack:///./src/components/pages/administration/payment/Control.vue?66e6","webpack:///./src/components/pages/administration/payment/Control.vue","webpack:///./src/components/pages/administration/settings/SettingsList.vue?1ffd","webpack:///src/components/pages/administration/settings/SettingsList.vue","webpack:///./src/components/pages/administration/settings/SettingsList.vue?1713","webpack:///./src/components/pages/administration/settings/SettingsList.vue","webpack:///./src/components/pages/administration/settings/Company.vue?eb27","webpack:///src/components/pages/administration/settings/Company.vue","webpack:///./src/components/pages/administration/settings/Company.vue?903b","webpack:///./src/components/pages/administration/settings/Company.vue","webpack:///./src/components/pages/administration/settings/Employees.vue?6abb","webpack:///src/components/pages/administration/settings/Employees.vue","webpack:///./src/components/pages/administration/settings/Employees.vue?bf04","webpack:///./src/components/pages/administration/settings/Employees.vue","webpack:///./src/components/pages/administration/settings/Rights.vue?8e56","webpack:///src/components/pages/administration/settings/Rights.vue","webpack:///./src/components/pages/administration/settings/Rights.vue?de47","webpack:///./src/components/pages/administration/settings/Rights.vue","webpack:///./src/components/pages/administration/settings/Version.vue?4ef8","webpack:///src/components/pages/administration/settings/Version.vue","webpack:///./src/components/pages/administration/settings/Version.vue?1309","webpack:///./src/components/pages/administration/settings/Version.vue","webpack:///./src/components/pages/administration/settings/employees/EmployeesList.vue?a876","webpack:///./src/components/pages/administration/settings/employees/ActionMenu.vue?5b70","webpack:///src/components/pages/administration/settings/employees/ActionMenu.vue","webpack:///./src/components/pages/administration/settings/employees/ActionMenu.vue?1667","webpack:///./src/components/pages/administration/settings/employees/ActionMenu.vue","webpack:///src/components/pages/administration/settings/employees/EmployeesList.vue","webpack:///./src/components/pages/administration/settings/employees/EmployeesList.vue?01a4","webpack:///./src/components/pages/administration/settings/employees/EmployeesList.vue","webpack:///./src/components/pages/administration/settings/employees/EmployeesInvite.vue?795c","webpack:///src/components/pages/administration/settings/employees/EmployeesInvite.vue","webpack:///./src/components/pages/administration/settings/employees/EmployeesInvite.vue?f627","webpack:///./src/components/pages/administration/settings/employees/EmployeesInvite.vue","webpack:///./src/components/pages/administration/settings/employees/Account.vue?5f99","webpack:///src/components/pages/administration/settings/employees/Account.vue","webpack:///./src/components/pages/administration/settings/employees/Account.vue?b12b","webpack:///./src/components/pages/administration/settings/employees/Account.vue","webpack:///./src/router.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/assets/images/Logo_text.svg","webpack:///./src/components/pages/workflow/dctview/ViewObj.vue?ef07","webpack:///./src/components/pages/workflow/dctview/panel-tabs/Components.vue?a1a9","webpack:///./src/components/pages/workflow/dctview/PanelCollisionReport.vue?c5f6","webpack:///./node_modules/pdfjs-dist/cmaps lazy ./node_modules/raw-loader/dist/cjs.js ^\\.\\/.*\\.bcmap$ namespace object","webpack:///./src/components/pages/workflow/ManageTasks.vue?a37b","webpack:///./src/components/pages/workflow/dctview/PanelDispatcher.vue?e105","webpack:///./src/components/pages/workflow/dctview/PanelResurs.vue?45e8","webpack:///./src/components/pages/workflow/manage_tasks/Task.vue?dc35","webpack:///./src/components/pages/workflow/dctview/TaskCreate.vue?c523","webpack:///./src/components/custom/IconBotton.vue?ecd0","webpack:///./src/components/pages/workflow/dctview/PanelTabs.vue?1646","webpack:///./src/assets/images/in_work.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","validate","binding","warn","expression","isPopup","popupItem","elements","len","contains","isServer","vNode","componentInstance","$isServer","el","handler","context","path","composedPath","unshift","__vueClickOutside__","callback","addEventListener","update","unbind","removeEventListener","_vm","this","_c","_self","VApp","attrs","onLoadsCheck","_e","staticClass","scopedSlots","_u","fn","props","class","item","on","close","VIcon","_v","_s","notifyIcon","domProps","text","staticRenderFns","methods","icons","success","localState","JSON","parse","localStorage","getItem","expiry","$store","state","auth","now","Date","out","left","parseInt","getTime","dispatch","check","perms","administration","groupPermissions","title","setInterval","checkToken","component","http","local","server","login","account","project","cloud","tasks","socket_project","socket_files","doc_xml","api","post","body","headers","method","signal","blob","requestOptions","obj","stringify","credentials","fetch","then","handleResponse","handleResponseBlob","file","options","arKeys","keys","params","map","join","handleResponseFile","catch","er","response","code","ok","status","statusText","objectURL","URL","createObjectURL","log","service","traverseTree","createMap","createTreeForSidebar","getListPath","createAvatarChar","v","size","fontSize","char","toUpperCase","canvas","width","height","ctx","getContext","beginPath","fillStyle","fillRect","font","textAlign","fillText","avatar","toDataURL","sortObj","ar","prop","sort","a","b","currentF","stop","tree","createTreePart","groups","filter","group","folders","parent","level","list","isExpanded","isSelected","id","children","is_deleted","toGroup","g","traverseMap","fullPath","next","html2text","html","tag","innerHTML","innerText","checklicense","currentLicense","store","config","configLicense","pcode","getAccess","power","access","setPermission","permission","setAccessFolderFile","createrID","userID","find","fu","itemID","users","user","u","can_open","can_edit","can_download","can_comment","admin","adminPerms","some","created_by","countries","regions","uploadFileNames","uploadFileMap","meta","mutations","payload","actions","rootState","commit","pld","token","access_token","uuid","workflow","activeProject","type_id","company","authorization","res","collisions","fileList","pushin","action","AbortController","fromEntries","entries","k","abort","append","task_id","typeBlob","namespaced","error_login","id_token","framer","active","admin_token","invite","token_state","refresh_token","token_type","invite_code","setItem","currentRoute","url","location","href","redirect_url","removeItem","root","getPerms","tokenState","register_url","email","answer","confirm","restore","assign","authorized","packetTypeIn","packetTypeOut","eventTypeIn","eventTypeOut","toHEX","num","toString","toDEC","hex","strToBlob","str","Blob","str2ab","array","bodyArray","encodeUTF8","buffer","Uint8Array","bytes","ci","charCodeAt","c2","subarray","decodeUTF8","String","fromCharCode","abToStr","encoding","blobToStr","Response","arrayBuffer","view","packetType","packetIn","cout","packet","packetOut","eventOut","cin","responseSwitch","eventIn","dec","dx","getEvent","eventType","toLowerCase","socket","doc","docId","version","subscribe","comments","activeComment","timerId","borders","borderHelper","borderList","borderStack","borderEdit","draft","draftBbox","x","y","w","h","draftList","draftHover","marker","count","brd","uid","vis","act","stack","Math","max","listValue","did","files","socketId","WebSocket","onmessage","onopen","onclose","clearInterval","userAvatar","send","typ","prj","ver","userList","borAr","brds","bid","nam","mesAr","frm","siz","lid","msgs","createMsgs","mes","mid","pid","first_name","last_name","txt","date","tim","chld","reverse","reply","workflow_project","projects","folderTree","currentFolder","docs","taskList","foldersMap","isExpandedList","listDocs","listSocket","fileTypeConversion","fileTypeList","commentList","commentState","markerStack","commentActive","commentInput","markerHelper","markerList","markerEdit","draftSelected","pdfInit","activeGroup","activeFolder","activeFolderName","openFolder","templates_collision","tmpl","created","fileType","fileId","fileName","drop","position","pathStr","folderPerms","folderPermissions","filePerms","filesPermissions","f","folder","reg","match","name_short","inwork","arName","split","consolidations","inworkId","status_file","tags","finally","sts","readyState","attachment","force","expanded","selected","expandedList","createTree","arPath","opened","reduce","folderList","notify","nodes","pathes","paths","historyList","anno_list","annotation","comment","z","input","comment_id","replyList","project_uuid","plist","owner","allSettled","docid","unitbim_file_id","size2000","errorKSI","consolidation","commentsPDF","tasksPDF","editRVT","size20","licenseList","companyLogo","existUser","history_limit","invited","limit","role","charAt","avatarSmall","indexOf","with_users","logo","promisesList","avatarSrc","avatarFull","alert","pass","old_password","new_password","user_id","dct_name","dct_status","use","Store","common","toolbar","style","computed","innerWidth","innerHeight","getSize","VLayout","part","main","title_type","parentLink","drawer","link","access_list","engineering","icon","clone","VAppBar","bg_color","VToolbar","_l","VListItem","VList","directives","rawName","color","VImg","logo_text","dct_props","backLink","dct_view","param","replace","$route","VMenu","VBtn","_g","_b","VCard","note","onClick","notes","VAvatar","VListItemAvatar","VDivider","createMenu","$event","preventDefault","$router","VListItemAction","abortFetch","upload","download","createxml","components","Logobar","Menu","Profile","bg_color_list","normal","white","titlePage","watch","to","from","setBG","VNavigationDrawer","index","ref","nodeSelected","expand","dropNode","beforeDrop","getDocs","node","expandGroup","editNode","creatingBranchId","isFile","newFolderAction","editFolderAction","removeFolderAction","accessFolderAction","model","$$v","folderslist","slot","nodeSelectedEl","VFooter","newGroup","newFolder","createGroup","createFolder","editFolder","renameNode","removeFolderFlag","removeNode","accessrights","lvl","$emit","VDialog","cancel","VSpacer","staticStyle","VTextField","group_name","checkChange","enter","keyCode","folder_name","stopPropagation","editName","updateNode","getType","isLeaf","workItem","VRow","VCol","VAutocomplete","managers","VChip","removeChips","managerList","addUsers","proxy","VDataTable","noData","removeUser","VSwitch","permissions","$set","change","save","addedUserList","removedUserList","changedPermissionUserList","align","sortable","admins","changedUsers","addedUsers","removedUsers","str1","str2","companyUsers","full_name","trim","promiseList","permissionFolders","permissionFiles","groupPerms","itemPerms","traversUp","traversDown","checkRole","$refs","blur","SlVueTree","CreateMenu","CreateGroup","CreateFolder","EditMenu","EditFolder","RemoveFolder","AccessRights","EditMain","folderActive","search","curentNodeId","stackTree","curF","getNodes","pos","placement","listPromises","order","listGroup","indexIn","listFoldersIn","listIn","listOut","currentFolderId","created_at","updated_at","updated_by","g_model","checkTween","getUser","prevPath","nextPath","groupList","traverse","dontGroupList","selectF","slVueTree","unwatch","nodePath","select","SidebarFolders","mini","VContent","fab","createNav","AppBar","Sidebar","CoreView","top","pageYOffset","scrollTop","$vuetify","goTo","sidebar","includes","getRole","crumbs","matched","VContainer","VFlex","links","visible","display","CoreFooter","render","query","stateInit","confirmed","projectList","getPermission","onProject","inputFiles","arguments","onImportXml","getProject","info","in_charge_name","client","getDate","number_of_files","onProjectDescription","onCreateXml","removeProject","pageStart","pageStop","itemsLength","editProject","itemCurrent","projectDescription","create_xml","createXml","removeProjectSelected","addition","additionID","storeage","custom_name","VSelect","types","custom_type","custom_value","onlyNumber","VCombobox","items","colors","nonce","selectItem","editing","_k","edit","removeCustom","addCustom","checkEditChange","header","menu","val","prev","$nextTick","queryText","itemText","hasValue","custom","editMode","VForm","manager","number","VTextarea","description","editCustom","disabledSave","selectCountry","selectRegion","selectCity","ready","in_charge_id","$notify","form","saveChange","$data","Edit","Custom","getAddition","capture","charCode","ind","VListGroup","required","rules","onChange","multiple","add","Fields","numberList","TAddress","TTei","TCadastralNumber","TObjectPart","test","emailRules","TOrganization","TForeignOrganization","TIP","TPerson","TDeclarantItem","TTechnicalCustomerItem","TTechnicalCustomer","TFinance","TComplexEstimatedCost","general","TDesignerItem","TEngineeringSurveyAddress","TObject","TDeclarant","TFinances","TEstimatedCost","TClimateConditions","TDesigner","TEngineeringSurvey","project_description","VListItemIcon","lic","getProjectName","VTreeview","getItems","VTooltip","sendXml","extensions","transTree","tre","setItems","fol","getFiles","checkFile","getTags","project_id","interval","file_id","click","revokeObjectURL","remove","EditProject","ProjectDescription","ActionMenu","CreateXml","all_row","table_type_list","grid","newProject","aboutProject","company_id","box","getBoundingClientRect","year","month","day","hour","minute","toLocaleDateString","getSelectedProject","dataTransfer","isNaN","formData","FormData","TaskID","Status","getViewer","no_event","mouse_down","twice_width","compareMode","novisible","once","pdfWidth","pdfHeight","getVersionList","updatePdf","twice","optionParams","setOption","setSubOption","toolsbar","screen","getImageData","tools_width","tab","task_new","clearImageData","newTask","setTab","activeBtn","posActive","markerHover","markerLeave","removeMarker","addMarker","def","focus","focusInput","saveComment","clearComment","commentHover","commentLeave","nativeOn","viewMode","getAvatar","replyComment","clearReply","dateToStr","removeComment","cancelChange","toLocaleTimeString","clickOutside","directive","CommentItem","$el","offsetTop","Comment","ClickOutside","vers","focusComment","scrollToComment","clientX","clientY","userCheck","scrollTo","behavior","getElementById","overflow","refInFor","setActive","getMonth","getFullYear","HistoryComment","time","getHours","getMinutes","create_date","deadline_date","editTask","task_form","task","setTaskNew","statusList","selectStatus","computedDateFormatted","VDatePicker","no_image","sendTask","taskDay","deadline","substr","dscr","formatDate","picker","activePicker","delta","getTimezoneOffset","bd","abs","mbd","padStart","toISOString","TaskCreate","Comments","HistoryList","Tasks","tabs","getTaskList","socketOpen","socketClose","hidden","optionValue","divider","disabled","turnoff","sub","sub_name","sub_active","anno_style","anno","cmnt","button","dropBorderHelper","getBorder","styles","letElem","dirMove","init","border","borderW","borderH","posX","posY","pageX","pageY","move","resize","parentEl","draftInit","draftDrag","draftShow","draftTransform","parentElement","round","parseFloat","toFixed","parentBox","elBox","attr","relativeX","relativeY","relativeW","relativeH","dir","checkMove","setDraftAttr","checkResize","dy","offsetLeft","offsetWidth","offsetHeight","drag","endEvent","borderHelperPos","setPosition","dragBorderHelper","removeBorderHelper","isPDFDocumentLoadingTask","__PDFDocumentLoadingTask","createLoadingTask","source","TypeError","CMapReaderFactory","bcmap","cMapData","compressionType","CMapCompressionType","BINARY","loadingTask","getDocument","onPassword","onProgress","Tools","PanelOptions","default","FUrl","scale","btn_off","style_pdf","pdf","pdfViewer","internalSrc","loading","newScale","page","num_pages","rotate","posMouse","posCompare","compare_handler","zoomout","zoomin","printer","compare","pdfInfo","_pdfInfo","numPages","self","getPage","pdfPage","setPdfPage","draw","newRotate","contentWindow","print","setPDF","containerTwice","setCompareHandler","container","onCompareDown","wrap","clientHeight","getComputedStyle","paddingTop","classList","compare_down","onCompareUp","onMouseMove","drawScaled","block","pdfLinkService","annotationLayer","textLayer","pdfDocument","defaultViewport","getViewport","textLayerFactory","annotationLayerFactory","setViewer","padding","paddingRight","paddingLeft","paddingBottom","clientWidth","getWidthWrap","pageWidthScale","viewport","ratio","devicePixelRatio","wi","hi","imgData","canvas2","ctx2","putImageData","activeList","rect","fill","lineWidth","strokeStyle","stroke","arc","PI","widthText","measureText","toBlob","calculateScale","resizeLayers","scrollY","scrollX","scrollLeft","onMouseUp","pdfWrap","bbox","onMouseDown","compareForScroll","viewer","multy","hiddenList","selectedObjID","propertiesObj","classifierList","getStylePanelsLeft","onHideObject","onShowObject","resurs","postMessage","onObjectsHighlight","onShowObjectsOnly","onCreateSectionBoxForObjects","onRemoveSectionBox","filters","getStylePanels","onFilter","setFilters","dispatcher","levelsMap","onDispatcher","getJsonFile","deltaList","worker","ParamSearch","ParamSearchId","onSearch","rooms","onRoomVisibilityItem","onRoomVisibility","collision_settings","compute_ready","collisions_compiling","onComputeCollisions","onComputeParameters","onComputeRepeat","collision_reports","planes","onLoads","onCollisionsActive","onShowCollisionsOnly","onCreateSectionBoxForCollisions","work_list","selectedObjIDList","properties","onSetSelectionMode","onClearSelection","onSetColorForObjects","onSetColorsForObjects","onUnsetColorsForObjects","minimize","updateOption","getPercent","preloaderTitle","getPosCamera","setPosCamera","documentId","Comment3d","Array","emp","getStatus","setAccess","Comments3d","Access","Name","visibilityObject","checkArray","NominalValue","classifications","classifier","Properties","Parameters","isArray","PropertyGroupTitle","PropertySet","PropertyList","Title","Value","Units","Quantities","menuItem","checkDev","VSkeletonLoader","getList","onSelect","_t","Boolean","activeClsn","activeBox","turnActiveBox","turnActiveClsn","activeOnly","turnActiveOnly","IconBotton","deep","onActiveMode","PanelBtnModeTmpl","host","hostname","filterRun","cat","onVisibleAll","VCheckbox","selectMode","getLevels","load","tree_id","onActive","onVisibile","levels","visibleItem","getResource","Worker","origin","workerMessage","getFilters","urllist","buildtree","buildSelected","setVisibleAll","objectList","terminate","getObject","currentTarget","del","mod","units","getColor","ids","Id","listTreeView","onSelected","one","typeSearch","setFilter","two","three","four","VSubheader","VListItemGroup","selectedItem","ParametersAll","Category","levelNode","propsList","cname","every","setElements","elems","applyFilters","filterTypes","idList","filterType","filterList","applyFiltersCycle","st","Level","Items","GrouppedByCategories","Class","elementId","classification","Classification","tech","TechnicalSystem","Count","volume","Volume","VolumeUnit","area","Area","AreaUnit","Length","LengthUnit","Height","HeightUnits","levelId","LevelId","searchWord","choiceRegistr","choiceWholly","TypeSearch","SearchWord","checkGroups","checkRules","editItem","getGroups","temp","componentNames","elementParameters","updateTemp","saveMeta","hideDialog","setComponent","setParams","VRadioGroup","VRadio","parts","geom","repeat","groupAdd","ruleName","standartList","setStandart","standart","list_1_selected","elementAdd","removeElement","list_2_selected","verify","saveTemplate","back","saveRules","desc","std","temp_list","list_1","list_2","groupAll","templates","ruleId","groupId","selectParameter","equalList","equal","equalParameter","VSimpleCheckbox","onlyInteger","onlyFloat","valueParameter","parametersAdd","removeParameter","elementName","signList","values","element","onAll","getListOut","selectedOut","getListIn","submit","selectedIn","groupOut","groupIn","addItem","groupsDel","groupsUpd","ID","syn","ftype","prmslist","cnames","cn","enames","en","RulesTypes","RulesSettings","RulesSettingsRepeat","RulesSettingsParams","RulesElement","GroupAdd","GetParams","RulesSelect","pop","DialogView","compilingQueue","rule","bim","ksi","activeAutoCompiling","computeRule","getElementIdList","getReports","jsonToXlsx","checkSelected","pair","pairs","valueRule","activated","ru","reports","collisionId","first","second","elemId","report","elem","elemid","collisionList","auto","work","showMode","turnShowMode","VAlert","parent_id","schedule_id","transDate","cdate","edate","days","volume_actual","job_unit","removeAll","colorStatus","works","cubic_meter","ton","square_meter","piece","linear_meter","meter","percent","centimeter","millimeter","square_centimeter","cubic_centimeter","liter","milliliter","gram","kilogram_per_cubic_meter","gram_per_cubic_centimeter","megapascal","pascal","kilometer","hectare","kilogram","kit","bearer","schedule","buildTree","onAction","getElement","job","groupid","date_start","date_finish","date_interval_day","external_data","elemsid","workid","workname","propertyJson","onSetColorAuto","elemlist","getElemsId","id2color","VTabs","VTabsSlider","VTab","minimizeTabs","getXLSX","Components","propName","Elements","Zones","callSlider","Tools3d","PanelProperty","PanelDispatcher","PanelResurs","PanelHidden","PanelFilters","PanelDelta","PanelSearch","PanelRooms","PanelCollisionSettings","PanelCollisionReport","PanelWorkList","PanelTabs","indexModel","listModel","classifierJson","jsonLoad","selectionModeCount","collisions_version","right","front","axis","walkview","original","ifcxml","preloaderInit","step","amount","flag","downloadFile","getFileByVersion","collision_pairs","parameters","zip","filesList","async","setProperties","initFilters","names","arg","onPreloader","optionKeyList","hideOptions","loadFilters","json2","pr","epr","quantity","showOptions","fname","Source","json","initWorkerOptions","initModel","setCanvasSize","updateCanvasSize","frame","newEvent","Event","composed","which","bubbles","cancelable","dispatchEvent","onKeyup","onKeydown","onLoadApplyFilters","onLoadModel","onReadyModel","getRoomsColors","onGetHiddenObjects","saveCollisionReports","onRender","$parent","widthC","heightC","CanvasWidth","CanvasHeight","listSearch","listSearchId","msg","initWorkerParams","getObjectProperties","getParameters","getParamSearch","getPropertyJson","buildDispatcher","getRooms","wubviewerMessage","receiveMessage","hiddenOptionsBtn","preloaderTytle","ViewPdf","ViewObj","ViewDwg","ViewDxf","permittedTypes","checkInit","getModel","checkFolder","getHeaders","selectRow","sp333","setSP333Attr","checkLicense","getDct","expandSub","margin","cursor","convertationIFCXML","replaceItems","copyItems","renameitem","accessRights","versionJournal","errorIFCXML","onSpecificationXml","uploadF","getAccessSelected","removeSelectedFlag","copyItem","replaceItem","checkTypeFiles","setConsolidations","removeSelected","getReplaceItems","clearSelected","renameItem","remove_item","removeFolder","removeDct","versionjournal","error_ifcxml","SP333attr","SP333JSON","collisionsJSON","specification_xml","bytesToSize","getTotalSize","checkSize","dragging","over","mouseOver","mouseEnter","mouseLeave","removeFile","itemsNames","itemsSizes","unit","totalSize","maxTotalSize","successMsg","errorMsg","file_format","total","sizes","floor","pow","limitValue","fileOver","formDataList","uploadNoteList","statusIFCXML","getIFCXMLforMenu","selectNode","getSelected","currentPath","pathName","selectedNode","done","isDraggable","searchPath","selectedNodeId","countFolders","countFiles","groupFolders","in","copy","filename","createShortName","createCopyNameFile","folderIn","listFiles","listFolders","listFolderIn","createCopyName","newDoc","suf","newName","listPromisesFolders","listPromisesFiles","listPromisesGroups","countGroups","listGroups","groupName","listFoldersInGroup","getTitle","rename","temple","versions","checkVersion","setVersion","versionID","clueBox","VStepper","VStepperStep","VStepperContent","error_class","item_value","showClue","error_attr","composing","getTagError","getReport","checkErrorReady","clueInfo","getElem","clue","Number","headersCom","headersTeS","datatype","ClueSp333Attribute","errorJson","classerrorList","getErrorJson","getUpdateAttributes","attrerr","btype","getAttributes","init_value","meta_file","decodeHtmlCharCodes","rcls","req","resp","getError_","Guid","checkType","metaType","sections","selecttype","Type","setValue","DateXml","getMeta","TableGrid","UploadFiles","RemoveSelected","ReplaceItem","CopyItem","RenameItem","RemoveItem","VersionJournal","Version","ErrorIfcxml","SetSp333Attribute","Collisions","SpecificationXml","sublist","expandedlist","replace_items","foldersList","creator","updated","foldersListTemp","subs","tempDocs","replaced","ini","parentID","parentLength","parentFiles","listFilename","resultat","generateAsync","searchFolder","projectName","clearPath","getTasks","onDrop","onEnter","header_style","dname","checkOwner","getOwner","Container","Draggable","Task","removedIndex","addedIndex","setTasks","tasks111","grp","onRemove","getRemoved","onRestore","onRestoreSelected","onRemoveSelected","actionList","projectId","TrashFolder","trash_time","deleted_by","upload_date","removeAvatar","checkInput","getCountry","getRegion","genderList","checkSelect","getGender","gender","newpassword","changeUser","setAvatar","passRules","passRules2","passRules3","repeate_password","siteKey","newPassword","NewPassword","birth_day","requiredList","country_id","country","region_id","region","project_size","space","num_files","license","file_size","project_size_list","rte","idata","onComponent","checkLic","License","Size","onConfirm","setLicense","setNum","route","Plan","List","plan","setPlan","maxC","maxN","setSize","Confirm","minLic","maxLic","place","p20","p21","p22","p23","BigInt","cid","int","ControlDialog","removeLogo","innRules","kppRules","ogrnRules","setLogo","cmpny","list_","suborder","employee","savePremissions","listPermission","listIDChange","sourceP","addUser","employees","editUser","reconfirm","profession","widthEl","failure","sended","captchaVerify","captchaExpired","captchaError","checkReady","VueRecaptcha","recaptcha","permissionList","group_permissions","saveRole","stand","turn","router","base","routes","redirect","Layout","Callback","Dummy","Engineering","Workflow","WorkflowList","DctView","WorkflowProject","ManageTasks","RemovedFiles","beforeEnter","open","Invite","Administration","Statistics","Account","Payment","Control","Settings","SettingsList","Company","Employees","EmployeesList","EmployeesInvite","Rights","beforeEach","Ripple","iconfont","productionTip","$url","$urllocal","vuetify","App","$mount","webpackAsyncContext"],"mappings":"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D,uBAAwB,CACvB,OACA,iCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,gBAAiB,CAChB,OACA,0BAED,qBAAsB,CACrB,OACA,+BAED,qBAAsB,CACrB,OACA,+BAED,gBAAiB,CAChB,OACA,0BAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,0BAA2B,CAC1B,OACA,oCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,4BAA6B,CAC5B,OACA,sCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,4BAA6B,CAC5B,OACA,sCAED,eAAgB,CACf,OACA,yBAED,eAAgB,CACf,OACA,yBAED,iBAAkB,CACjB,OACA,2BAED,iBAAkB,CACjB,OACA,2BAED,oBAAqB,CACpB,OACA,8BAED,oBAAqB,CACpB,OACA,8BAED,iBAAkB,CACjB,OACA,2BAED,iBAAkB,CACjB,OACA,2BAED,iBAAkB,CACjB,OACA,2BAED,iBAAkB,CACjB,OACA,2BAED,oBAAqB,CACpB,OACA,8BAED,oBAAqB,CACpB,OACA,8BAED,oBAAqB,CACpB,OACA,8BAED,oBAAqB,CACpB,OACA,8BAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,gBAAiB,CAChB,OACA,0BAED,gBAAiB,CAChB,OACA,0BAED,gBAAiB,CAChB,OACA,0BAED,qBAAsB,CACrB,OACA,+BAED,qBAAsB,CACrB,OACA,+BAED,gBAAiB,CAChB,OACA,0BAED,mBAAoB,CACnB,OACA,6BAED,mBAAoB,CACnB,OACA,6BAED,eAAgB,CACf,OACA,yBAED,eAAgB,CACf,OACA,yBAED,oBAAqB,CACpB,OACA,8BAED,oBAAqB,CACpB,OACA,8BAED,kBAAmB,CAClB,OACA,4BAED,kBAAmB,CAClB,OACA,4BAED,qBAAsB,CACrB,OACA,+BAED,qBAAsB,CACrB,OACA,+BAED,oBAAqB,CACpB,OACA,8BAED,oBAAqB,CACpB,OACA,8BAED,gBAAiB,CAChB,OACA,0BAED,gBAAiB,CAChB,OACA,0BAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,qBAAsB,CACrB,OACA,+BAED,qBAAsB,CACrB,OACA,+BAED,YAAa,CACZ,OACA,sBAED,qBAAsB,CACrB,OACA,+BAED,qBAAsB,CACrB,OACA,+BAED,qBAAsB,CACrB,OACA,+BAED,qBAAsB,CACrB,OACA,+BAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,qBAAsB,CACrB,OACA,+BAED,qBAAsB,CACrB,OACA,+BAED,kBAAmB,CAClB,OACA,4BAED,mBAAoB,CACnB,OACA,6BAED,oBAAqB,CACpB,OACA,8BAED,oBAAqB,CACpB,OACA,8BAED,gBAAiB,CAChB,OACA,0BAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,gBAAiB,CAChB,OACA,0BAED,sBAAuB,CACtB,OACA,gCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,sBAAuB,CACtB,OACA,gCAED,mBAAoB,CACnB,OACA,6BAED,gBAAiB,CAChB,OACA,0BAED,gBAAiB,CAChB,OACA,0BAED,iBAAkB,CACjB,OACA,2BAED,iBAAkB,CACjB,OACA,2BAED,gBAAiB,CAChB,OACA,0BAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,wBAAyB,CACxB,OACA,kCAED,2BAA4B,CAC3B,OACA,qCAED,2BAA4B,CAC3B,OACA,qCAED,wBAAyB,CACxB,OACA,kCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,yBAA0B,CACzB,OACA,mCAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,6BAA8B,CAC7B,OACA,uCAED,6BAA8B,CAC7B,OACA,uCAED,6BAA8B,CAC7B,OACA,uCAED,6BAA8B,CAC7B,OACA,uCAED,4BAA6B,CAC5B,OACA,sCAED,4BAA6B,CAC5B,OACA,sCAED,8BAA+B,CAC9B,OACA,wCAED,2BAA4B,CAC3B,OACA,qCAED,2BAA4B,CAC3B,OACA,qCAED,8BAA+B,CAC9B,OACA,wCAED,8BAA+B,CAC9B,OACA,wCAED,kCAAmC,CAClC,OACA,4CAED,kCAAmC,CAClC,OACA,4CAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,wBAAyB,CACxB,OACA,kCAED,uBAAwB,CACvB,OACA,iCAED,uBAAwB,CACvB,OACA,iCAED,YAAa,CACZ,OACA,sBAED,oBAAqB,CACpB,OACA,+BAGF,SAASoyD,EAAoBxM,GAC5B,IAAI/wD,EAAoB+C,EAAEoI,EAAK4lD,GAC9B,OAAOnwD,QAAQC,UAAU8J,MAAK,WAC7B,IAAInK,EAAI,IAAIiB,MAAM,uBAAyBsvD,EAAM,KAEjD,MADAvwD,EAAEiL,KAAO,mBACHjL,KAIR,IAAIyzC,EAAM9oC,EAAI4lD,GAAMniD,EAAKqlC,EAAI,GAC7B,OAAOj0C,EAAoBQ,EAAEyzC,EAAI,IAAItpC,MAAK,WACzC,OAAO3K,EAAoB4O,MAG7B2uD,EAAoBtyD,KAAO,WAC1B,OAAOnM,OAAOmM,KAAKE,IAEpBoyD,EAAoB3uD,GAAK,OACzBtO,EAAOD,QAAUk9D,G,yDCprBjB,W,gFCAA,W,kCCAA,W,yDCAA,W,kCCAA,W,yDCAA,W,yDCAA,W,qBCAAj9D,EAAOD,QAAU,IAA0B,4B","file":"js/app.28e5f6da.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"noprefetch-78-EUC-H-bcmap\":\"noprefetch-78-EUC-H-bcmap\",\"noprefetch-78-EUC-V-bcmap\":\"noprefetch-78-EUC-V-bcmap\",\"noprefetch-78-H-bcmap\":\"noprefetch-78-H-bcmap\",\"noprefetch-78-RKSJ-H-bcmap\":\"noprefetch-78-RKSJ-H-bcmap\",\"noprefetch-78-RKSJ-V-bcmap\":\"noprefetch-78-RKSJ-V-bcmap\",\"noprefetch-78-V-bcmap\":\"noprefetch-78-V-bcmap\",\"noprefetch-78ms-RKSJ-H-bcmap\":\"noprefetch-78ms-RKSJ-H-bcmap\",\"noprefetch-78ms-RKSJ-V-bcmap\":\"noprefetch-78ms-RKSJ-V-bcmap\",\"noprefetch-83pv-RKSJ-H-bcmap\":\"noprefetch-83pv-RKSJ-H-bcmap\",\"noprefetch-90ms-RKSJ-H-bcmap\":\"noprefetch-90ms-RKSJ-H-bcmap\",\"noprefetch-90ms-RKSJ-V-bcmap\":\"noprefetch-90ms-RKSJ-V-bcmap\",\"noprefetch-90msp-RKSJ-H-bcmap\":\"noprefetch-90msp-RKSJ-H-bcmap\",\"noprefetch-90msp-RKSJ-V-bcmap\":\"noprefetch-90msp-RKSJ-V-bcmap\",\"noprefetch-90pv-RKSJ-H-bcmap\":\"noprefetch-90pv-RKSJ-H-bcmap\",\"noprefetch-90pv-RKSJ-V-bcmap\":\"noprefetch-90pv-RKSJ-V-bcmap\",\"noprefetch-Add-H-bcmap\":\"noprefetch-Add-H-bcmap\",\"noprefetch-Add-RKSJ-H-bcmap\":\"noprefetch-Add-RKSJ-H-bcmap\",\"noprefetch-Add-RKSJ-V-bcmap\":\"noprefetch-Add-RKSJ-V-bcmap\",\"noprefetch-Add-V-bcmap\":\"noprefetch-Add-V-bcmap\",\"noprefetch-Adobe-CNS1-0-bcmap\":\"noprefetch-Adobe-CNS1-0-bcmap\",\"noprefetch-Adobe-CNS1-1-bcmap\":\"noprefetch-Adobe-CNS1-1-bcmap\",\"noprefetch-Adobe-CNS1-2-bcmap\":\"noprefetch-Adobe-CNS1-2-bcmap\",\"noprefetch-Adobe-CNS1-3-bcmap\":\"noprefetch-Adobe-CNS1-3-bcmap\",\"noprefetch-Adobe-CNS1-4-bcmap\":\"noprefetch-Adobe-CNS1-4-bcmap\",\"noprefetch-Adobe-CNS1-5-bcmap\":\"noprefetch-Adobe-CNS1-5-bcmap\",\"noprefetch-Adobe-CNS1-6-bcmap\":\"noprefetch-Adobe-CNS1-6-bcmap\",\"noprefetch-Adobe-CNS1-UCS2-bcmap\":\"noprefetch-Adobe-CNS1-UCS2-bcmap\",\"noprefetch-Adobe-GB1-0-bcmap\":\"noprefetch-Adobe-GB1-0-bcmap\",\"noprefetch-Adobe-GB1-1-bcmap\":\"noprefetch-Adobe-GB1-1-bcmap\",\"noprefetch-Adobe-GB1-2-bcmap\":\"noprefetch-Adobe-GB1-2-bcmap\",\"noprefetch-Adobe-GB1-3-bcmap\":\"noprefetch-Adobe-GB1-3-bcmap\",\"noprefetch-Adobe-GB1-4-bcmap\":\"noprefetch-Adobe-GB1-4-bcmap\",\"noprefetch-Adobe-GB1-5-bcmap\":\"noprefetch-Adobe-GB1-5-bcmap\",\"noprefetch-Adobe-GB1-UCS2-bcmap\":\"noprefetch-Adobe-GB1-UCS2-bcmap\",\"noprefetch-Adobe-Japan1-0-bcmap\":\"noprefetch-Adobe-Japan1-0-bcmap\",\"noprefetch-Adobe-Japan1-1-bcmap\":\"noprefetch-Adobe-Japan1-1-bcmap\",\"noprefetch-Adobe-Japan1-2-bcmap\":\"noprefetch-Adobe-Japan1-2-bcmap\",\"noprefetch-Adobe-Japan1-3-bcmap\":\"noprefetch-Adobe-Japan1-3-bcmap\",\"noprefetch-Adobe-Japan1-4-bcmap\":\"noprefetch-Adobe-Japan1-4-bcmap\",\"noprefetch-Adobe-Japan1-5-bcmap\":\"noprefetch-Adobe-Japan1-5-bcmap\",\"noprefetch-Adobe-Japan1-6-bcmap\":\"noprefetch-Adobe-Japan1-6-bcmap\",\"noprefetch-Adobe-Japan1-UCS2-bcmap\":\"noprefetch-Adobe-Japan1-UCS2-bcmap\",\"noprefetch-Adobe-Korea1-0-bcmap\":\"noprefetch-Adobe-Korea1-0-bcmap\",\"noprefetch-Adobe-Korea1-1-bcmap\":\"noprefetch-Adobe-Korea1-1-bcmap\",\"noprefetch-Adobe-Korea1-2-bcmap\":\"noprefetch-Adobe-Korea1-2-bcmap\",\"noprefetch-Adobe-Korea1-UCS2-bcmap\":\"noprefetch-Adobe-Korea1-UCS2-bcmap\",\"noprefetch-B5-H-bcmap\":\"noprefetch-B5-H-bcmap\",\"noprefetch-B5-V-bcmap\":\"noprefetch-B5-V-bcmap\",\"noprefetch-B5pc-H-bcmap\":\"noprefetch-B5pc-H-bcmap\",\"noprefetch-B5pc-V-bcmap\":\"noprefetch-B5pc-V-bcmap\",\"noprefetch-CNS-EUC-H-bcmap\":\"noprefetch-CNS-EUC-H-bcmap\",\"noprefetch-CNS-EUC-V-bcmap\":\"noprefetch-CNS-EUC-V-bcmap\",\"noprefetch-CNS1-H-bcmap\":\"noprefetch-CNS1-H-bcmap\",\"noprefetch-CNS1-V-bcmap\":\"noprefetch-CNS1-V-bcmap\",\"noprefetch-CNS2-H-bcmap\":\"noprefetch-CNS2-H-bcmap\",\"noprefetch-CNS2-V-bcmap\":\"noprefetch-CNS2-V-bcmap\",\"noprefetch-ETHK-B5-H-bcmap\":\"noprefetch-ETHK-B5-H-bcmap\",\"noprefetch-ETHK-B5-V-bcmap\":\"noprefetch-ETHK-B5-V-bcmap\",\"noprefetch-ETen-B5-H-bcmap\":\"noprefetch-ETen-B5-H-bcmap\",\"noprefetch-ETen-B5-V-bcmap\":\"noprefetch-ETen-B5-V-bcmap\",\"noprefetch-ETenms-B5-H-bcmap\":\"noprefetch-ETenms-B5-H-bcmap\",\"noprefetch-ETenms-B5-V-bcmap\":\"noprefetch-ETenms-B5-V-bcmap\",\"noprefetch-EUC-H-bcmap\":\"noprefetch-EUC-H-bcmap\",\"noprefetch-EUC-V-bcmap\":\"noprefetch-EUC-V-bcmap\",\"noprefetch-Ext-H-bcmap\":\"noprefetch-Ext-H-bcmap\",\"noprefetch-Ext-RKSJ-H-bcmap\":\"noprefetch-Ext-RKSJ-H-bcmap\",\"noprefetch-Ext-RKSJ-V-bcmap\":\"noprefetch-Ext-RKSJ-V-bcmap\",\"noprefetch-Ext-V-bcmap\":\"noprefetch-Ext-V-bcmap\",\"noprefetch-GB-EUC-H-bcmap\":\"noprefetch-GB-EUC-H-bcmap\",\"noprefetch-GB-EUC-V-bcmap\":\"noprefetch-GB-EUC-V-bcmap\",\"noprefetch-GB-H-bcmap\":\"noprefetch-GB-H-bcmap\",\"noprefetch-GB-V-bcmap\":\"noprefetch-GB-V-bcmap\",\"noprefetch-GBK-EUC-H-bcmap\":\"noprefetch-GBK-EUC-H-bcmap\",\"noprefetch-GBK-EUC-V-bcmap\":\"noprefetch-GBK-EUC-V-bcmap\",\"noprefetch-GBK2K-H-bcmap\":\"noprefetch-GBK2K-H-bcmap\",\"noprefetch-GBK2K-V-bcmap\":\"noprefetch-GBK2K-V-bcmap\",\"noprefetch-GBKp-EUC-H-bcmap\":\"noprefetch-GBKp-EUC-H-bcmap\",\"noprefetch-GBKp-EUC-V-bcmap\":\"noprefetch-GBKp-EUC-V-bcmap\",\"noprefetch-GBT-EUC-H-bcmap\":\"noprefetch-GBT-EUC-H-bcmap\",\"noprefetch-GBT-EUC-V-bcmap\":\"noprefetch-GBT-EUC-V-bcmap\",\"noprefetch-GBT-H-bcmap\":\"noprefetch-GBT-H-bcmap\",\"noprefetch-GBT-V-bcmap\":\"noprefetch-GBT-V-bcmap\",\"noprefetch-GBTpc-EUC-H-bcmap\":\"noprefetch-GBTpc-EUC-H-bcmap\",\"noprefetch-GBTpc-EUC-V-bcmap\":\"noprefetch-GBTpc-EUC-V-bcmap\",\"noprefetch-GBpc-EUC-H-bcmap\":\"noprefetch-GBpc-EUC-H-bcmap\",\"noprefetch-GBpc-EUC-V-bcmap\":\"noprefetch-GBpc-EUC-V-bcmap\",\"noprefetch-H-bcmap\":\"noprefetch-H-bcmap\",\"noprefetch-HKdla-B5-H-bcmap\":\"noprefetch-HKdla-B5-H-bcmap\",\"noprefetch-HKdla-B5-V-bcmap\":\"noprefetch-HKdla-B5-V-bcmap\",\"noprefetch-HKdlb-B5-H-bcmap\":\"noprefetch-HKdlb-B5-H-bcmap\",\"noprefetch-HKdlb-B5-V-bcmap\":\"noprefetch-HKdlb-B5-V-bcmap\",\"noprefetch-HKgccs-B5-H-bcmap\":\"noprefetch-HKgccs-B5-H-bcmap\",\"noprefetch-HKgccs-B5-V-bcmap\":\"noprefetch-HKgccs-B5-V-bcmap\",\"noprefetch-HKm314-B5-H-bcmap\":\"noprefetch-HKm314-B5-H-bcmap\",\"noprefetch-HKm314-B5-V-bcmap\":\"noprefetch-HKm314-B5-V-bcmap\",\"noprefetch-HKm471-B5-H-bcmap\":\"noprefetch-HKm471-B5-H-bcmap\",\"noprefetch-HKm471-B5-V-bcmap\":\"noprefetch-HKm471-B5-V-bcmap\",\"noprefetch-HKscs-B5-H-bcmap\":\"noprefetch-HKscs-B5-H-bcmap\",\"noprefetch-HKscs-B5-V-bcmap\":\"noprefetch-HKscs-B5-V-bcmap\",\"noprefetch-Hankaku-bcmap\":\"noprefetch-Hankaku-bcmap\",\"noprefetch-Hiragana-bcmap\":\"noprefetch-Hiragana-bcmap\",\"noprefetch-KSC-EUC-H-bcmap\":\"noprefetch-KSC-EUC-H-bcmap\",\"noprefetch-KSC-EUC-V-bcmap\":\"noprefetch-KSC-EUC-V-bcmap\",\"noprefetch-KSC-H-bcmap\":\"noprefetch-KSC-H-bcmap\",\"noprefetch-KSC-Johab-H-bcmap\":\"noprefetch-KSC-Johab-H-bcmap\",\"noprefetch-KSC-Johab-V-bcmap\":\"noprefetch-KSC-Johab-V-bcmap\",\"noprefetch-KSC-V-bcmap\":\"noprefetch-KSC-V-bcmap\",\"noprefetch-KSCms-UHC-H-bcmap\":\"noprefetch-KSCms-UHC-H-bcmap\",\"noprefetch-KSCms-UHC-HW-H-bcmap\":\"noprefetch-KSCms-UHC-HW-H-bcmap\",\"noprefetch-KSCms-UHC-HW-V-bcmap\":\"noprefetch-KSCms-UHC-HW-V-bcmap\",\"noprefetch-KSCms-UHC-V-bcmap\":\"noprefetch-KSCms-UHC-V-bcmap\",\"noprefetch-KSCpc-EUC-H-bcmap\":\"noprefetch-KSCpc-EUC-H-bcmap\",\"noprefetch-KSCpc-EUC-V-bcmap\":\"noprefetch-KSCpc-EUC-V-bcmap\",\"noprefetch-Katakana-bcmap\":\"noprefetch-Katakana-bcmap\",\"noprefetch-NWP-H-bcmap\":\"noprefetch-NWP-H-bcmap\",\"noprefetch-NWP-V-bcmap\":\"noprefetch-NWP-V-bcmap\",\"noprefetch-RKSJ-H-bcmap\":\"noprefetch-RKSJ-H-bcmap\",\"noprefetch-RKSJ-V-bcmap\":\"noprefetch-RKSJ-V-bcmap\",\"noprefetch-Roman-bcmap\":\"noprefetch-Roman-bcmap\",\"noprefetch-UniCNS-UCS2-H-bcmap\":\"noprefetch-UniCNS-UCS2-H-bcmap\",\"noprefetch-UniCNS-UCS2-V-bcmap\":\"noprefetch-UniCNS-UCS2-V-bcmap\",\"noprefetch-UniCNS-UTF16-H-bcmap\":\"noprefetch-UniCNS-UTF16-H-bcmap\",\"noprefetch-UniCNS-UTF16-V-bcmap\":\"noprefetch-UniCNS-UTF16-V-bcmap\",\"noprefetch-UniCNS-UTF32-H-bcmap\":\"noprefetch-UniCNS-UTF32-H-bcmap\",\"noprefetch-UniCNS-UTF32-V-bcmap\":\"noprefetch-UniCNS-UTF32-V-bcmap\",\"noprefetch-UniCNS-UTF8-H-bcmap\":\"noprefetch-UniCNS-UTF8-H-bcmap\",\"noprefetch-UniCNS-UTF8-V-bcmap\":\"noprefetch-UniCNS-UTF8-V-bcmap\",\"noprefetch-UniGB-UCS2-H-bcmap\":\"noprefetch-UniGB-UCS2-H-bcmap\",\"noprefetch-UniGB-UCS2-V-bcmap\":\"noprefetch-UniGB-UCS2-V-bcmap\",\"noprefetch-UniGB-UTF16-H-bcmap\":\"noprefetch-UniGB-UTF16-H-bcmap\",\"noprefetch-UniGB-UTF16-V-bcmap\":\"noprefetch-UniGB-UTF16-V-bcmap\",\"noprefetch-UniGB-UTF32-H-bcmap\":\"noprefetch-UniGB-UTF32-H-bcmap\",\"noprefetch-UniGB-UTF32-V-bcmap\":\"noprefetch-UniGB-UTF32-V-bcmap\",\"noprefetch-UniGB-UTF8-H-bcmap\":\"noprefetch-UniGB-UTF8-H-bcmap\",\"noprefetch-UniGB-UTF8-V-bcmap\":\"noprefetch-UniGB-UTF8-V-bcmap\",\"noprefetch-UniJIS-UCS2-H-bcmap\":\"noprefetch-UniJIS-UCS2-H-bcmap\",\"noprefetch-UniJIS-UCS2-HW-H-bcmap\":\"noprefetch-UniJIS-UCS2-HW-H-bcmap\",\"noprefetch-UniJIS-UCS2-HW-V-bcmap\":\"noprefetch-UniJIS-UCS2-HW-V-bcmap\",\"noprefetch-UniJIS-UCS2-V-bcmap\":\"noprefetch-UniJIS-UCS2-V-bcmap\",\"noprefetch-UniJIS-UTF16-H-bcmap\":\"noprefetch-UniJIS-UTF16-H-bcmap\",\"noprefetch-UniJIS-UTF16-V-bcmap\":\"noprefetch-UniJIS-UTF16-V-bcmap\",\"noprefetch-UniJIS-UTF32-H-bcmap\":\"noprefetch-UniJIS-UTF32-H-bcmap\",\"noprefetch-UniJIS-UTF32-V-bcmap\":\"noprefetch-UniJIS-UTF32-V-bcmap\",\"noprefetch-UniJIS-UTF8-H-bcmap\":\"noprefetch-UniJIS-UTF8-H-bcmap\",\"noprefetch-UniJIS-UTF8-V-bcmap\":\"noprefetch-UniJIS-UTF8-V-bcmap\",\"noprefetch-UniJIS2004-UTF16-H-bcmap\":\"noprefetch-UniJIS2004-UTF16-H-bcmap\",\"noprefetch-UniJIS2004-UTF16-V-bcmap\":\"noprefetch-UniJIS2004-UTF16-V-bcmap\",\"noprefetch-UniJIS2004-UTF32-H-bcmap\":\"noprefetch-UniJIS2004-UTF32-H-bcmap\",\"noprefetch-UniJIS2004-UTF32-V-bcmap\":\"noprefetch-UniJIS2004-UTF32-V-bcmap\",\"noprefetch-UniJIS2004-UTF8-H-bcmap\":\"noprefetch-UniJIS2004-UTF8-H-bcmap\",\"noprefetch-UniJIS2004-UTF8-V-bcmap\":\"noprefetch-UniJIS2004-UTF8-V-bcmap\",\"noprefetch-UniJISPro-UCS2-HW-V-bcmap\":\"noprefetch-UniJISPro-UCS2-HW-V-bcmap\",\"noprefetch-UniJISPro-UCS2-V-bcmap\":\"noprefetch-UniJISPro-UCS2-V-bcmap\",\"noprefetch-UniJISPro-UTF8-V-bcmap\":\"noprefetch-UniJISPro-UTF8-V-bcmap\",\"noprefetch-UniJISX0213-UTF32-H-bcmap\":\"noprefetch-UniJISX0213-UTF32-H-bcmap\",\"noprefetch-UniJISX0213-UTF32-V-bcmap\":\"noprefetch-UniJISX0213-UTF32-V-bcmap\",\"noprefetch-UniJISX02132004-UTF32-H-bcmap\":\"noprefetch-UniJISX02132004-UTF32-H-bcmap\",\"noprefetch-UniJISX02132004-UTF32-V-bcmap\":\"noprefetch-UniJISX02132004-UTF32-V-bcmap\",\"noprefetch-UniKS-UCS2-H-bcmap\":\"noprefetch-UniKS-UCS2-H-bcmap\",\"noprefetch-UniKS-UCS2-V-bcmap\":\"noprefetch-UniKS-UCS2-V-bcmap\",\"noprefetch-UniKS-UTF16-H-bcmap\":\"noprefetch-UniKS-UTF16-H-bcmap\",\"noprefetch-UniKS-UTF16-V-bcmap\":\"noprefetch-UniKS-UTF16-V-bcmap\",\"noprefetch-UniKS-UTF32-H-bcmap\":\"noprefetch-UniKS-UTF32-H-bcmap\",\"noprefetch-UniKS-UTF32-V-bcmap\":\"noprefetch-UniKS-UTF32-V-bcmap\",\"noprefetch-UniKS-UTF8-H-bcmap\":\"noprefetch-UniKS-UTF8-H-bcmap\",\"noprefetch-UniKS-UTF8-V-bcmap\":\"noprefetch-UniKS-UTF8-V-bcmap\",\"noprefetch-V-bcmap\":\"noprefetch-V-bcmap\",\"noprefetch-WP-Symbol-bcmap\":\"noprefetch-WP-Symbol-bcmap\",\"pdfjsWorker\":\"pdfjsWorker\"}[chunkId]||chunkId) + \".\" + {\"noprefetch-78-EUC-H-bcmap\":\"533d9d8a\",\"noprefetch-78-EUC-V-bcmap\":\"009f613d\",\"noprefetch-78-H-bcmap\":\"b1ce8e70\",\"noprefetch-78-RKSJ-H-bcmap\":\"b43de06d\",\"noprefetch-78-RKSJ-V-bcmap\":\"df712317\",\"noprefetch-78-V-bcmap\":\"f57f8453\",\"noprefetch-78ms-RKSJ-H-bcmap\":\"424790e1\",\"noprefetch-78ms-RKSJ-V-bcmap\":\"32986144\",\"noprefetch-83pv-RKSJ-H-bcmap\":\"9b4e4b60\",\"noprefetch-90ms-RKSJ-H-bcmap\":\"613f9c4c\",\"noprefetch-90ms-RKSJ-V-bcmap\":\"b8f0b90b\",\"noprefetch-90msp-RKSJ-H-bcmap\":\"1e6851ba\",\"noprefetch-90msp-RKSJ-V-bcmap\":\"a38dd812\",\"noprefetch-90pv-RKSJ-H-bcmap\":\"3edd9f85\",\"noprefetch-90pv-RKSJ-V-bcmap\":\"d9824497\",\"noprefetch-Add-H-bcmap\":\"36bd5a29\",\"noprefetch-Add-RKSJ-H-bcmap\":\"2e6ac4ea\",\"noprefetch-Add-RKSJ-V-bcmap\":\"57ae082c\",\"noprefetch-Add-V-bcmap\":\"1ec238dc\",\"noprefetch-Adobe-CNS1-0-bcmap\":\"4737c943\",\"noprefetch-Adobe-CNS1-1-bcmap\":\"0b625a99\",\"noprefetch-Adobe-CNS1-2-bcmap\":\"dafa15a9\",\"noprefetch-Adobe-CNS1-3-bcmap\":\"fe2bed12\",\"noprefetch-Adobe-CNS1-4-bcmap\":\"fdb006f6\",\"noprefetch-Adobe-CNS1-5-bcmap\":\"57aa4c6d\",\"noprefetch-Adobe-CNS1-6-bcmap\":\"b52b6392\",\"noprefetch-Adobe-CNS1-UCS2-bcmap\":\"39765898\",\"noprefetch-Adobe-GB1-0-bcmap\":\"b471bf3b\",\"noprefetch-Adobe-GB1-1-bcmap\":\"eaa886ae\",\"noprefetch-Adobe-GB1-2-bcmap\":\"ec456f3e\",\"noprefetch-Adobe-GB1-3-bcmap\":\"afe85633\",\"noprefetch-Adobe-GB1-4-bcmap\":\"37a8a922\",\"noprefetch-Adobe-GB1-5-bcmap\":\"49da6a39\",\"noprefetch-Adobe-GB1-UCS2-bcmap\":\"bc4bf6c8\",\"noprefetch-Adobe-Japan1-0-bcmap\":\"30ba64a1\",\"noprefetch-Adobe-Japan1-1-bcmap\":\"ca95c1bf\",\"noprefetch-Adobe-Japan1-2-bcmap\":\"7a0c2141\",\"noprefetch-Adobe-Japan1-3-bcmap\":\"93685858\",\"noprefetch-Adobe-Japan1-4-bcmap\":\"4829da08\",\"noprefetch-Adobe-Japan1-5-bcmap\":\"c808b7bb\",\"noprefetch-Adobe-Japan1-6-bcmap\":\"52e38198\",\"noprefetch-Adobe-Japan1-UCS2-bcmap\":\"33558b1d\",\"noprefetch-Adobe-Korea1-0-bcmap\":\"ab8e3af0\",\"noprefetch-Adobe-Korea1-1-bcmap\":\"cb67904d\",\"noprefetch-Adobe-Korea1-2-bcmap\":\"cbc47f6f\",\"noprefetch-Adobe-Korea1-UCS2-bcmap\":\"8ed94fa9\",\"noprefetch-B5-H-bcmap\":\"5f41891e\",\"noprefetch-B5-V-bcmap\":\"7d6c466b\",\"noprefetch-B5pc-H-bcmap\":\"f760658c\",\"noprefetch-B5pc-V-bcmap\":\"07d404e6\",\"noprefetch-CNS-EUC-H-bcmap\":\"1279aad4\",\"noprefetch-CNS-EUC-V-bcmap\":\"52e4df97\",\"noprefetch-CNS1-H-bcmap\":\"c0707244\",\"noprefetch-CNS1-V-bcmap\":\"ae7fbc2d\",\"noprefetch-CNS2-H-bcmap\":\"89af631d\",\"noprefetch-CNS2-V-bcmap\":\"5c371bbe\",\"noprefetch-ETHK-B5-H-bcmap\":\"7f5f5ea2\",\"noprefetch-ETHK-B5-V-bcmap\":\"f2f94b61\",\"noprefetch-ETen-B5-H-bcmap\":\"4383e8da\",\"noprefetch-ETen-B5-V-bcmap\":\"eb71cae3\",\"noprefetch-ETenms-B5-H-bcmap\":\"c51230b6\",\"noprefetch-ETenms-B5-V-bcmap\":\"b4c01221\",\"noprefetch-EUC-H-bcmap\":\"09e56175\",\"noprefetch-EUC-V-bcmap\":\"f46aadd5\",\"noprefetch-Ext-H-bcmap\":\"a51a11fa\",\"noprefetch-Ext-RKSJ-H-bcmap\":\"3de69209\",\"noprefetch-Ext-RKSJ-V-bcmap\":\"e0b5c9ae\",\"noprefetch-Ext-V-bcmap\":\"9582ea0c\",\"noprefetch-GB-EUC-H-bcmap\":\"405228da\",\"noprefetch-GB-EUC-V-bcmap\":\"04aed0f1\",\"noprefetch-GB-H-bcmap\":\"575af2d1\",\"noprefetch-GB-V-bcmap\":\"5c7389b1\",\"noprefetch-GBK-EUC-H-bcmap\":\"ea8a0752\",\"noprefetch-GBK-EUC-V-bcmap\":\"abccd170\",\"noprefetch-GBK2K-H-bcmap\":\"1c4441d5\",\"noprefetch-GBK2K-V-bcmap\":\"f1277496\",\"noprefetch-GBKp-EUC-H-bcmap\":\"1ed1c72e\",\"noprefetch-GBKp-EUC-V-bcmap\":\"67d6dec0\",\"noprefetch-GBT-EUC-H-bcmap\":\"640f5262\",\"noprefetch-GBT-EUC-V-bcmap\":\"a09aeb1a\",\"noprefetch-GBT-H-bcmap\":\"e0820629\",\"noprefetch-GBT-V-bcmap\":\"57c46c88\",\"noprefetch-GBTpc-EUC-H-bcmap\":\"ddf2dc3d\",\"noprefetch-GBTpc-EUC-V-bcmap\":\"9ac0de69\",\"noprefetch-GBpc-EUC-H-bcmap\":\"0351cde5\",\"noprefetch-GBpc-EUC-V-bcmap\":\"c7aa5252\",\"noprefetch-H-bcmap\":\"239ef066\",\"noprefetch-HKdla-B5-H-bcmap\":\"80a798dd\",\"noprefetch-HKdla-B5-V-bcmap\":\"3bbb899c\",\"noprefetch-HKdlb-B5-H-bcmap\":\"b98c8e65\",\"noprefetch-HKdlb-B5-V-bcmap\":\"bd8a0ec9\",\"noprefetch-HKgccs-B5-H-bcmap\":\"e9951cc7\",\"noprefetch-HKgccs-B5-V-bcmap\":\"796b2f2e\",\"noprefetch-HKm314-B5-H-bcmap\":\"5ea194c8\",\"noprefetch-HKm314-B5-V-bcmap\":\"3f7009e5\",\"noprefetch-HKm471-B5-H-bcmap\":\"3d26c210\",\"noprefetch-HKm471-B5-V-bcmap\":\"3138d658\",\"noprefetch-HKscs-B5-H-bcmap\":\"f8a09c6c\",\"noprefetch-HKscs-B5-V-bcmap\":\"4aa9e8f3\",\"noprefetch-Hankaku-bcmap\":\"f7771e3d\",\"noprefetch-Hiragana-bcmap\":\"3dcbd026\",\"noprefetch-KSC-EUC-H-bcmap\":\"3fa3e023\",\"noprefetch-KSC-EUC-V-bcmap\":\"53026cad\",\"noprefetch-KSC-H-bcmap\":\"b07cc815\",\"noprefetch-KSC-Johab-H-bcmap\":\"ce23c8e7\",\"noprefetch-KSC-Johab-V-bcmap\":\"9ba4ed5f\",\"noprefetch-KSC-V-bcmap\":\"5d9d8b29\",\"noprefetch-KSCms-UHC-H-bcmap\":\"79afbd1d\",\"noprefetch-KSCms-UHC-HW-H-bcmap\":\"7a162e78\",\"noprefetch-KSCms-UHC-HW-V-bcmap\":\"2f16bcab\",\"noprefetch-KSCms-UHC-V-bcmap\":\"6b1e9e67\",\"noprefetch-KSCpc-EUC-H-bcmap\":\"ac56e118\",\"noprefetch-KSCpc-EUC-V-bcmap\":\"ff0ff4bd\",\"noprefetch-Katakana-bcmap\":\"ab1ffcef\",\"noprefetch-NWP-H-bcmap\":\"dfdde2a6\",\"noprefetch-NWP-V-bcmap\":\"5319e36c\",\"noprefetch-RKSJ-H-bcmap\":\"eac79ffd\",\"noprefetch-RKSJ-V-bcmap\":\"9048eaf6\",\"noprefetch-Roman-bcmap\":\"42468574\",\"noprefetch-UniCNS-UCS2-H-bcmap\":\"8fabc599\",\"noprefetch-UniCNS-UCS2-V-bcmap\":\"5aea7743\",\"noprefetch-UniCNS-UTF16-H-bcmap\":\"a9019bdb\",\"noprefetch-UniCNS-UTF16-V-bcmap\":\"5fe3eb3a\",\"noprefetch-UniCNS-UTF32-H-bcmap\":\"f0b2dec1\",\"noprefetch-UniCNS-UTF32-V-bcmap\":\"02acaf9f\",\"noprefetch-UniCNS-UTF8-H-bcmap\":\"523dec2e\",\"noprefetch-UniCNS-UTF8-V-bcmap\":\"edc54254\",\"noprefetch-UniGB-UCS2-H-bcmap\":\"a8b1cfe1\",\"noprefetch-UniGB-UCS2-V-bcmap\":\"7f9d5600\",\"noprefetch-UniGB-UTF16-H-bcmap\":\"9a2dc399\",\"noprefetch-UniGB-UTF16-V-bcmap\":\"c900e10b\",\"noprefetch-UniGB-UTF32-H-bcmap\":\"def0c3c2\",\"noprefetch-UniGB-UTF32-V-bcmap\":\"7fad9462\",\"noprefetch-UniGB-UTF8-H-bcmap\":\"14f85268\",\"noprefetch-UniGB-UTF8-V-bcmap\":\"ce970e15\",\"noprefetch-UniJIS-UCS2-H-bcmap\":\"6b92caf6\",\"noprefetch-UniJIS-UCS2-HW-H-bcmap\":\"7cc7bdfa\",\"noprefetch-UniJIS-UCS2-HW-V-bcmap\":\"fd57ede2\",\"noprefetch-UniJIS-UCS2-V-bcmap\":\"d807a37c\",\"noprefetch-UniJIS-UTF16-H-bcmap\":\"14f5d65e\",\"noprefetch-UniJIS-UTF16-V-bcmap\":\"39ead5b8\",\"noprefetch-UniJIS-UTF32-H-bcmap\":\"53697c32\",\"noprefetch-UniJIS-UTF32-V-bcmap\":\"258c4e81\",\"noprefetch-UniJIS-UTF8-H-bcmap\":\"f1c342ea\",\"noprefetch-UniJIS-UTF8-V-bcmap\":\"cef1ade2\",\"noprefetch-UniJIS2004-UTF16-H-bcmap\":\"dfbdfa54\",\"noprefetch-UniJIS2004-UTF16-V-bcmap\":\"9070cfe8\",\"noprefetch-UniJIS2004-UTF32-H-bcmap\":\"980b2d6f\",\"noprefetch-UniJIS2004-UTF32-V-bcmap\":\"2c59c604\",\"noprefetch-UniJIS2004-UTF8-H-bcmap\":\"f2ab1718\",\"noprefetch-UniJIS2004-UTF8-V-bcmap\":\"b8df6b3e\",\"noprefetch-UniJISPro-UCS2-HW-V-bcmap\":\"a77e3fd1\",\"noprefetch-UniJISPro-UCS2-V-bcmap\":\"71eb60a1\",\"noprefetch-UniJISPro-UTF8-V-bcmap\":\"d5654367\",\"noprefetch-UniJISX0213-UTF32-H-bcmap\":\"73d22369\",\"noprefetch-UniJISX0213-UTF32-V-bcmap\":\"73590147\",\"noprefetch-UniJISX02132004-UTF32-H-bcmap\":\"60939f5d\",\"noprefetch-UniJISX02132004-UTF32-V-bcmap\":\"29b6663b\",\"noprefetch-UniKS-UCS2-H-bcmap\":\"9a4647e2\",\"noprefetch-UniKS-UCS2-V-bcmap\":\"2702971a\",\"noprefetch-UniKS-UTF16-H-bcmap\":\"1ada049c\",\"noprefetch-UniKS-UTF16-V-bcmap\":\"e8642261\",\"noprefetch-UniKS-UTF32-H-bcmap\":\"b89228ce\",\"noprefetch-UniKS-UTF32-V-bcmap\":\"11bbaf4e\",\"noprefetch-UniKS-UTF8-H-bcmap\":\"b1fb3c26\",\"noprefetch-UniKS-UTF8-V-bcmap\":\"901bd04f\",\"noprefetch-V-bcmap\":\"a1f96034\",\"noprefetch-WP-Symbol-bcmap\":\"ef9f130d\",\"pdfjsWorker\":\"e7b41cc9\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSettingsParams.vue?vue&type=style&index=0&id=2a1fc30e&prod&lang=css&scoped=true\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDwg.vue?vue&type=style&index=0&id=27d946a1&prod&lang=css\"","function validate(binding) {\n  if (typeof binding.value !== 'function') {\n    console.warn('[Vue-click-outside:] provided expression', binding.expression, 'is not a function.')\n    return false\n  }\n\n  return true\n}\n\nfunction isPopup(popupItem, elements) {\n  if (!popupItem || !elements)\n    return false\n\n  for (var i = 0, len = elements.length; i < len; i++) {\n    try {\n      if (popupItem.contains(elements[i])) {\n        return true\n      }\n      if (elements[i].contains(popupItem)) {\n        return false\n      }\n    } catch(e) {\n      return false\n    }\n  }\n\n  return false\n}\n\nfunction isServer(vNode) {\n  return typeof vNode.componentInstance !== 'undefined' && vNode.componentInstance.$isServer\n}\n\nexports = module.exports = {\n  bind: function (el, binding, vNode) {\n    if (!validate(binding)) return\n\n    // Define Handler and cache it on the element\n    function handler(e) {\n      if (!vNode.context) return\n\n      // some components may have related popup item, on which we shall prevent the click outside event handler.\n      var elements = e.path || (e.composedPath && e.composedPath())\n      elements && elements.length > 0 && elements.unshift(e.target)\n      \n      if (el.contains(e.target) || isPopup(vNode.context.popupItem, elements)) return\n\n      el.__vueClickOutside__.callback(e)\n    }\n\n    // add Event Listeners\n    el.__vueClickOutside__ = {\n      handler: handler,\n      callback: binding.value\n    }\n    !isServer(vNode) && document.addEventListener('click', handler)\n  },\n\n  update: function (el, binding) {\n    if (validate(binding)) el.__vueClickOutside__.callback = binding.value\n  },\n  \n  unbind: function (el, binding, vNode) {\n    // Remove Event Listeners\n    !isServer(vNode) && document.removeEventListener('click', el.__vueClickOutside__.handler)\n    delete el.__vueClickOutside__\n  }\n}\n","module.exports = __webpack_public_path__ + \"img/gear.1dbb5970.gif\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDxf.vue?vue&type=style&index=0&id=b9af8e36&prod&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskCreate.vue?vue&type=style&index=0&id=4cd91767&prod&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelWorkList.vue?vue&type=style&index=0&id=3de18cf2&prod&scoped=true&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelSearch.vue?vue&type=style&index=0&id=78e4b966&prod&lang=less\"","module.exports = __webpack_public_path__ + \"img/screen.ae30335e.png\";","module.exports = __webpack_public_path__ + \"img/Logo_icon.432bd5d4.svg\";","module.exports = __webpack_public_path__ + \"img/arrows.410bf8d0.svg\";","module.exports = __webpack_public_path__ + \"img/download.1b568fa9.gif\";","import { VApp } from 'vuetify/lib/components/VApp';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VApp,{attrs:{\"id\":\"inspire\"}},[_c('router-view'),(!_vm.onLoadsCheck)?_c('div',{staticClass:\"m-back m-back--fixed\"},[_c('div',{staticClass:\"vm-progress\"},[_c('div',{staticClass:\"loader\"},[_c('svg',{staticClass:\"circular\",attrs:{\"viewBox\":\"25 25 50 50\"}},[_c('circle',{staticClass:\"path\",attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"20\",\"fill\":\"none\",\"stroke-width\":\"2\",\"stroke-miterlimit\":\"10\"}})])])])]):_vm._e(),_c('notifications',{attrs:{\"group\":\"note\",\"id\":\"notification\",\"classes\":\"vue-notification m-font--size14\",\"width\":\"300\",\"position\":\"top right\",\"duration\":5000},scopedSlots:_vm._u([{key:\"body\",fn:function(props){return [_c('div',{staticClass:\"vue-notification-template vue-notification m-font--size14\",class:props.item.type,on:{\"click\":props.close}},[_c('div',{staticClass:\"notification-title\"},[_c(VIcon,{attrs:{\"size\":\"28\",\"color\":\"#fff\"}},[_vm._v(_vm._s(_vm.notifyIcon(props.item.type)))])],1),_c('div',{staticClass:\"notification-content\",domProps:{\"innerHTML\":_vm._s(props.item.text)}})])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-app id=\"inspire\">\n        <router-view/>\n\n        <div\n            v-if=\"!onLoadsCheck\"\n            class=\"m-back m-back--fixed\"\n            >\n            <div class=\"vm-progress\">\n                <div class=\"loader\">\n                    <svg class=\"circular\" viewBox=\"25 25 50 50\">\n                        <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\n                    </svg>\n                </div>\n            </div>\n        </div>\n\n        <notifications\n            group=\"note\"\n            id=\"notification\"\n            classes=\"vue-notification m-font--size14\"\n            width='300'\n            position=\"top right\"\n            :duration=\"5000\">\n\n            <template slot=\"body\" slot-scope=\"props\">\n                <div\n                    class=\"vue-notification-template vue-notification m-font--size14\"\n                    :class=\"props.item.type\"\n                    @click=\"props.close\"\n                    >\n                    <div class=\"notification-title\">\n                        <v-icon size=\"28\" color=\"#fff\">{{notifyIcon(props.item.type)}}</v-icon>\n                    </div>\n                    <div class=\"notification-content\" v-html=\"props.item.text\">\n                    </div>\n                </div>\n            </template>\n        </notifications>\n    </v-app>\n</template>\n\n<script>\nexport default {\n    name: 'App',\n    methods: {\n        notifyIcon(i){\n            let icons = {\n                success: 'mdi-check-circle-outline',\n                error: 'mdi-alert-outline'\n            }\n            return icons[i]\n        },\n        checkToken(){\n            let localState = JSON.parse(localStorage.getItem('token')) || {expiry: false}\n            let expiry = this.$store.state.auth.expiry\n                        || localState.expiry\n            if(expiry){\n                let now = new Date()\n                let out = new Date((expiry * 1000))\n                let left = parseInt((out.getTime() - now.getTime()) / 1000 / 60)\n                if(left < 8){\n                    this.$store.dispatch('auth/refresh')\n                }\n            }\n            else{\n                this.$store.dispatch('auth/getCodeForToken')\n            }\n        },\n        onLoadsCheck(){\n            let check = false\n            let perms = this.$store.state.administration.groupPermissions\n            if(perms && perms.length){\n                check = true\n            }\n            return check\n        }\n    },\n    mounted(){\n        document.title = 'UnitBim'\n        let timerId = setInterval(this.checkToken, 600000)\n    }\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0991aa2e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const http__ = {\n    local: 'http://localhost:8080',\n    server: 'https://prodoc.unitbim.ru',\n    login: 'https://login.unitbim.ru',\n    //open_project: 'https://pm.unitbim.ru',\n    account: 'https://prodoc.unitbim.ru',\n    project: 'https://prodoc.unitbim.ru',\n    cloud: 'https://cloud.unitbim.ru',\n    tasks: 'https://prodoc.unitbim.ru',\n    socket_project: 'wss://prodoc.unitbim.ru',\n    socket_files: 'wss://cloud.unitbim.ru',\n    doc_xml: 'https://login.unitbim.ru'\n}\nexport const http = {\n    local: 'http://localhost:8080',\n    server: 'https://prodoc.ubdev.ru',\n    login: 'https://login.ubdev.ru',\n    account: 'https://account.ubdev.ru',\n    project: 'https://cloud.ubdev.ru',\n    cloud: 'https://cloud.ubdev.ru',\n    tasks: 'https://cloud.ubdev.ru',\n    socket_project: 'wss://cloud.ubdev.ru',\n    socket_files: 'wss://cloud.ubdev.ru',\n    doc_xml: 'https://prodoc.ubdev.ru',\n\n    api: 'https://api.dev.sakhalin.ladcloud.ru'\n}\n\nconst post = function(http, api, body, headers = {}, method = 'POST', signal = false, blob = null){\n    let requestOptions = {\n        method: method,\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: ''\n    }\n    requestOptions.headers = {...requestOptions.headers, ...headers}\n\n    let obj = {}\n    if(requestOptions.headers['content-type'] == 'application/json'){\n        obj = JSON.stringify(body)\n    }\n    else if(!requestOptions.headers['content-type']){\n        delete requestOptions.headers['content-type']\n        obj = body\n    }\n    else{\n        obj = body\n    }\n    requestOptions.body = obj\n\n    if(signal){\n        requestOptions = {\n            ...requestOptions,\n            signal\n        }\n    }\n\n    requestOptions.credentials = \"include\"\n    //console.log(requestOptions)\n    //let request = new Request(http + api, requestOptions)\n\n    if(blob === null){\n        return fetch(http + api, requestOptions)\n            .then(handleResponse)\n    }\n    else{\n        return fetch(http + api, requestOptions)\n            .then(handleResponseBlob)\n    }\n}\n\nconst get = function(http, api, body = {}, headers = {}, file = null, options = {}){\n    let arKeys = Object.keys(body)\n    let params = ''\n    if(arKeys.length){\n        params = '?'\n        params += arKeys.map(i => i + '=' + body[i]).join('&')\n    }\n    let requestOptions = {\n        method: 'GET',\n    }\n    arKeys = Object.keys(headers)\n    if(arKeys.length){\n        requestOptions.headers = {}\n        arKeys.map(i => {\n            requestOptions.headers[i] = headers[i]\n        })\n    }\n\n    if(options.signal){\n        requestOptions = {\n            ...requestOptions,\n            signal: options.signal\n        }\n    }\n    requestOptions.credentials = \"include\"\n\n    if(file){\n        if(file == 'url'){\n            return fetch(http + api + params, requestOptions)\n                .then(handleResponseFile)\n                .catch(er => er)\n        }\n        else{\n            return fetch(http + api + params, requestOptions)\n                .then(handleResponseBlob)\n        }\n    }\n    else{\n        return fetch(http + api + params, requestOptions)\n            .then(handleResponse)\n    }\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        let data = text// && JSON.parse(text)\n        if(data){\n            try{\n                data = JSON.parse(text || null)\n            }\n            catch(e){\n                data = {code: 1000, error: 'error: No JSON format'}\n            }\n        }\n        if (!response.ok) {\n            if (response.status === 401) {\n                //logout();\n                //location.reload(true)\n            }\n            const error = {\n                message: (data && data.message) || response.statusText,\n                status: response.status,\n                data: data\n            }\n            //console.log('error', error)\n            return Promise.reject(error)\n        }\n        return data\n    })\n}\nfunction handleResponseFile(response){\n    return response.blob().then(blob => {\n        if(response.ok){\n            let objectURL = ''\n\n            try{\n                objectURL = URL.createObjectURL(blob)\n            }\n            catch(e){\n                objectURL = {code: 1000, error: 'error: No Image'}\n            }\n            return objectURL\n        }\n        if(!response.ok){\n            if(response.status === 401){\n                //logout();\n                //location.reload(true)\n            }\n            const error = {\n                message: (data && data.message) || response.statusText,\n                status: response.status,\n                data: data,\n                ok: response.ok\n            }\n            //console.log('error', error)\n            return Promise.reject(error)\n        }\n    })\n}\nfunction handleResponseBlob(response){\n    return response.blob().then(blob => {\n        if(response.ok){\n            return blob\n        }\n        if(!response.ok){\n            if(response.status === 401){\n                console.log('status === 401')\n            }\n            const error = {\n                message: (data && data.message) || response.statusText,\n                status: response.status,\n                data: data\n            }\n            return Promise.reject(error)\n        }\n    })\n}\n\nexport const api = {\n    'pretoken': '/api/v1/oauth2/auth/json',\n    'token': '/api/v1/oauth2/token',\n    'refresh': '/api/v1/oauth2/refresh',\n    'logout__': '/api/v1/oauth2/logout',\n    'logout': '/oauth2/sessions/logout',\n    'logcheck': '/api/v1/auth/check',\n    'restore': '/api/v1/restore',\n    'password': '/api/v1/password',\n\n    'open_projects': '/api/v3/projects/',\n\n    'account_user': '/api/v1/store/user',\n    'account_company': '/api/v1/store/company',\n    'countries': '/api/v1/store/countries',\n    'regions': '/api/v1/store/country',\n    'invite': '/api/v1/store/company/invite',\n    'invite_confirm': '/api/v1/store/company/invite/confirm',\n    'invite_redirect': '/api/v1/oauth2/auth/json',\n    'invited': '/api/v1/store/company/invites',\n    'invited_user': '/api/v1/store/company/user',\n    'history_limit': '/api/v1/cloud/company/history_limit', //cloud\n\n    'projects': '/api/v1/cloud/',\n    'project_size': '/api/v1/agg/',//cloud\n    'socket_files': '/api/v1/files/socket/',\n\n    'getfile': '/api/v1/files/',\n    'upload': '/api/v1/files/upload',\n\n\n    'getLoginChallenge': '/api/v1/signin/unitbim',\n\n    'comments': '/api/v1/workflow/socket',\n    'messages': '/api/v1/workflow/request/messages',\n\n    'permission': '/api/v1/permission',\n\n    'json_to_xlsx': '/api/v1/json_to/xlsx',\n    'create_xml': '/api/v1/pkg/export',//'/api/v1/cloud/xml',\n    'upload_xml': '/api/v1/pkg/import',\n    'attr_error': '/api/v1/class/data/db',\n    'class_error': '/api/v1/class/data/db/info',  //data/classify',//cloud\n\n    'templates': '/api/v1/cloud/company/collision/templates',\n    'template': '/api/v1/cloud/company/collision/template',\n\n    'license': '/api/v1/license',\n\n    'getjobs': '/unitbim/schedule/list',\n    'setjob': '/unitbim/schedule/external/data/set',\n\n    post: post,\n    get: get\n}\n\n\n/**** for console ****/\n// fetch('https://cloud.ubdev.ru/api/v1/cloud/c/1/9a1c700f-8ec7-495a-b74c-a5912f68e4c6/tasks', {\n//         headers: {\n//           'content-type': 'application/json',\n//           'authorization': 'Bearer l1htaTRHl74gu-FLiBlT6Krz3oDCIcJ4-QYHC5sTsiA.SM-TmG1z48mSl60F0C-J2ckFjLUWu7KaHciX5oPufH8'\n//         }\n// })\n// .then((res) => {\n//     return res.text().then(r => { return r})\n// })\n// .then(res => {\n//   console.log(JSON.parse(res))\n// })\n\n//\n// fetch('https://cloud.ubdev.ru/api/v1/cloud/c/1/2a15cc70-583c-40db-be57-3c442d00e7cf/attachment/file/8990e21e-9ade-4ac9-a839-426eff1abe2a/task', {\n//         method: 'PUT',\n//         headers: {\n//           'content-type': 'application/json',\n//           'authorization': 'Bearer wUCalLJSJmhv0BHC2W8CfUUdWT_el0HQmG2sxn7wTM4.TF6tvrMOOTpKk6hLSM3AEftyngX9f1CQV0qq82WJHWM'\n//         },\n//         body: JSON.stringify([\n//   {\n//     \"elemsid\": ['1'\n//     ],\n//     \"name\": \"taskName 33333\",\n//     \"status\": 0,\n//     \"deadline\": \"2022-04-09T10:39:36.805982+03:00\",\n//     \"start\": \"2022-04-06T10:39:36.805982+03:00\",\n//     \"days\": 3,\n//     \"group\": \"group 33333\"\n//   }])\n// })\n// .then((res) => {\n//     return res.text().then(r => { return r})\n// })\n// .then(res => {\n//   console.log(JSON.parse(res))\n// })\n","import store from '@/store'\n\nexport const service = {\n    traverseTree,\n    createMap,\n    createTreeForSidebar,\n    getListPath\n}\n\nexport const createAvatarChar = function(v, size = 30, fontSize = 18){\n    let char = v.slice(0, 1)\n    char = char.toUpperCase()\n\n    let canvas = document.createElement('canvas')\n\n    canvas.width = size\n    canvas.height = size\n\n    let ctx = canvas.getContext('2d')\n\n    ctx.beginPath()\n    ctx.fillStyle = \"#e55d4a\"\n    ctx.fillRect(0, 0, size, size)\n    ctx.fillStyle = \"#ffffff\"\n    ctx.font = \"bold \" + (fontSize) + \"px Arial\"\n    ctx.textAlign = 'center'\n    ctx.fillText(char, size / 2, (size / 2) + ((fontSize * 0.70) / 2))\n\n    let avatar = canvas.toDataURL()\n\n    canvas = null\n    return avatar\n}\n\nexport const sortObj = function(ar, prop){\n    return ar.sort(function (a, b) {\n        if (a[prop] > b[prop]) {\n            return 1\n        }\n        if (a[prop] < b[prop]) {\n            return -1\n        }\n        return 0\n    })\n}\n\nfunction createTree(map){\n    let tree = createTreePart(map)\n    let groups = tree.filter(m => m.data.group)\n    let folders = tree.filter(m => !m.data.group)\n    return [...groups, ...folders]\n}\n\nfunction createTreeForSidebar(map, currentF = 0, stop = 2, options = {}){\n    let tree = createTreePart(map, currentF, stop, 0, 0, options)\n    let groups = tree.filter(m => m.data.group)\n    let folders = tree.filter(m => !m.data.group)\n    return [...groups, ...folders]\n}\n\nfunction createTreePart(map, currentF, stop, parent = 0, level = 0, options){\n    let tree = []\n    let list = map.filter(i => i.parent == parent)\n    list.map(m => {\n        if(m.parent == parent){\n            let item = {\n                title: m.name,\n                data: {\n                    ...m,\n                    parent: parent,\n                    group: !!m.group,\n                    list: !!m.group ? m.folders || [] : null\n                },\n                isExpanded: m.isExpanded,\n                isSelected: m.id == currentF ? true : false,\n                children: level == stop ? [] : createTreePart(map, currentF, stop, m.id, level + 1)\n            }\n            item = {...item, ...options}\n            tree.push(item)\n        }\n    })\n    return sortObj(tree, 'order')\n}\n\n\n\nfunction traverseTree(ar, parent = 0){\n    let list = []\n    ar.map(i => {\n        if(!i.is_deleted){\n            let key = 'folders'\n            let {[key]: folders, ...item} = i\n\n            item.parent = item.parent == item.id ? 0 : item.parent\n            item.group = false\n            item.toGroup = false\n            list.push(item)\n\n            if(folders && folders.length){\n                folders = traverseTree(folders, item.id)\n                list = [...list, ...folders]\n            }\n        }\n    })\n    return list\n}\n\nfunction createMap(tree){\n    let list = traverseTree(tree)\n    return list\n}\n\nfunction getListPath(map){\n    let groups = map.filter(m => m.group)\n    let folders = map.filter(m => !m.group)\n\n    groups = groups.map(g => {\n        return {\n            group: g.name,\n            folders: traverseMap(folders, g.id)\n        }\n    })\n    folders = traverseMap(folders)\n    return {\n            groups: groups,\n            folders: folders\n        }\n}\n\nfunction traverseMap(map, parent = 0, path = ''){\n    let list = []\n    map.map(m => {\n        if(m.parent == parent){\n            let fullPath = path + '/' + m.name\n            list.push(fullPath)\n            let next = traverseMap(map, m.id, fullPath)\n            list = [...list, ...next]\n        }\n    })\n    return list\n}\n\nexport const html2text = function(html){\n    let tag = document.createElement('div')\n    tag.innerHTML = html\n\n    return tag.innerText\n}\n\nexport const checklicense = function(prop){\n    if(prop === null){\n        return true\n    }\n    let currentLicense = store.state.administration.currentLicense\n    if(currentLicense === null){\n        return false\n    }\n    let config = store.state.administration.configLicense\n    if(!config[prop]){\n        return true\n    }\n    return (config[prop].code <= currentLicense.pcode)\n}\n\nexport const getAccess = function(i, power, ar){\n    let access = power == 'or' ? false : true\n    ar.map(a => {\n        if(power == 'or'){\n            access = access || ((i >> a) & 1)\n        }\n        if(power == 'and'){\n            access = access && ((i >> a) & 1)\n        }\n    })\n    return true //!!access\n}\n\nexport const setPermission = function(o){\n    let permission = 0\n        // | (o.can_create_project ? 1 : 0)\n        // | ((o.can_delete_project ? 1 : 0) << 1)\n        // | ((o.can_add_client ? 1 : 0) << 2)\n        // | ((o.can_add_subcontractor ? 1 : 0) << 3)\n        // | ((o.can_send_project ? 1 : 0) << 4)\n        // | ((o.can_manage_users ? 1 : 0) << 5)\n        // | ((o.can_manage_company ? 1 : 0) << 6)\n        // | ((o.can_manage_projects ? 1 : 0) << 7)\n        | 1//(o.can_create_project ? 1 : 0)\n        | (1 << 1)\n        | (1 << 2)\n        | (1 << 3)\n        | (1 << 4)\n        | (1 << 5)\n        | (1 << 6)\n        | (1 << 7)\n    return permission\n}\n\nexport const setAccessFolderFile = function(o){\n    let createrID = o.userID\n    let permission = 0\n    let perms = (o.perms || [])\n        .find(fu => fu.id + '' == o.itemID)\n    let users = perms\n        ? perms.users\n            ? JSON.parse(JSON.stringify(perms.users))\n            : []\n        : []\n    let user = users.find(u => u.id + '' == createrID)\n\n    if(!perms || !user){\n        let admin = false\n        let groups = o.adminPerms\n        groups.map(g => {\n            if(g.id == '1' || g.id == '2'){\n                if(g.users.some(s => s.id + '' == createrID)){\n                    admin = true\n                    permission = 15\n                }\n            }\n        })\n        if(!admin){\n            if(createrID == o.created_by){\n                permission = 15\n            }\n        }\n    }\n    else{\n        permission = 0\n            | (user.can_open ? 1 : 0)\n            | ((user.can_edit ? 1 : 0) << 1)\n            | ((user.can_download ? 1 : 0) << 2)\n            | ((user.can_comment ? 1 : 0) << 3)\n    }\n\n    return 15// permission\n}\n","import { http, api } from '@/utils/define'\nimport { sortObj } from '@/utils/services'\n\nconst state = {\n    countries: [],\n    regions: [],\n    uploadFileNames: [],//[{name: 'btwghw', uuid: 'vbgrwhgw'}],\n    uploadFileMap: {},\n    meta: {}\n}\n\nconst mutations = {\n    setCountries(state, payload){\n        state.countries = payload\n    },\n    setRegions(state, payload){\n        state.regions = payload\n    },\n    setUploadNote(state, list){\n        state.uploadFileNames = [...list]\n    },\n    setUploadMap(state, map){\n        state.uploadFileMap = map\n    },\n    setMeta(state, meta){\n        state.meta = meta\n    }\n}\nconst actions = {\n    getFileMeta({rootState, state, commit}, pld){\n        let token = rootState.auth.access_token\n        const uuid = rootState.workflow.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/' + pld.id + '/meta'\n        return new Promise((resolve) => {\n            api.get(http['cloud'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                let meta = JSON.parse(res)\n                if(meta){\n                    if(meta.collisions){\n                        commit('setMeta', meta)\n                    }\n                }\n                resolve(res)\n            },\n                er => {\n                    resolve({...er, error: true})\n                }\n            )\n            .catch(er => {\n                resolve({...er, error: true})\n            })\n        })\n    },\n    setFileMeta({rootState, state, commit}, pld){\n        let token = rootState.auth.access_token\n        const uuid = rootState.workflow.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/' + pld.id + '/meta'\n        return new Promise((resolve) => {\n            api.post(http['cloud'], api['projects'] + params, pld.body, {\n                authorization: 'Bearer ' + token,\n            }, 'PUT')\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    resolve({...er, error: true})\n                }\n            )\n            .catch(er => {\n                resolve({...er, error: true})\n            })\n        })\n    },\n    getJsonXml({rootState, commit}){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve, reject) => {\n            api.get(http['doc_xml'], '/public/doc.json', {}, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    reject(er)\n                }\n            )\n        })\n    },\n    getFileInfo({rootState, commit}, payload){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve, reject) => {\n            api.get(http['cloud'], api['getfile'] + payload.id, {}, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    reject(er)\n                }\n            )\n        })\n    },\n    getCountries({rootState, commit}){\n        let token = rootState.auth.access_token\n\n        api.get(http['account'], api['countries'], {}, {\n            authorization: 'Bearer ' + token\n        })\n        .then(res => {\n            commit('setCountries', sortObj(res, 'name'))\n        })\n    },\n    getRegions({rootState, commit}, payload){\n        if(!payload){\n            commit('setRegions', [])\n        }\n        else{\n            let token = rootState.auth.access_token\n            let path = '/' + payload.id + '/regions'\n\n            api.get(http['account'], api['regions'] + path, {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                commit('setRegions', sortObj(res, 'name'))\n            })\n        }\n    },\n    setUploadNote({state, commit}, fileList){\n        let list = JSON.parse(JSON.stringify(state.uploadFileNames))\n        let map = state.uploadFileMap\n\n        return new Promise((resolve) => {\n            fileList = fileList.map(l => {\n                if(l.pushin){\n                    list = [{\n                            name: l.name,\n                            uuid: l.uuid,\n                            action: l.action\n                        },\n                        ...list\n                    ]\n                    let c = new AbortController()\n                    map = {...map, [l.uuid]: c}\n                }\n                else{\n                    list = list.filter(n => n.uuid != l.uuid)\n                    map = Object.fromEntries((Object.entries(map)\n                        .filter(([k, v]) => k != l.uuid)))\n                }\n                return l\n            })\n            resolve(commit('setUploadNote', list), commit('setUploadMap', map))\n        })\n    },\n    abortFetch({state, dispatch}, {uuid}){\n        let map = state.uploadFileMap\n        map[uuid].abort()\n        dispatch('setUploadNote', [{\n            uuid: uuid,\n            pushin: false\n        }])\n    },\n    uploadFile({rootState, state, dispatch}, payload){\n        let token = rootState.auth.access_token\n        payload.append('company_id', rootState.administration.company.id)\n        let signal = state.uploadFileMap[payload.get('uuid')].signal\n\n        return api.post(http['cloud'], api['upload'], payload, {\n            authorization: 'Bearer ' + token,\n            'content-type': false\n        }, 'POST', signal)\n        .then(res => {\n            // dispatch('setUploadNote', {\n            //     uuid: payload.get('uuid'),\n            //     action: 'upload',\n            //     pushin: false\n            // })\n            return {...res, uuid: payload.get('uuid')}\n        })\n        .catch(err => {\n            // if(err.name === 'AbortError'){\n            //     dispatch('setUploadNote', {\n            //         uuid: payload.get('uuid'),\n            //         action: 'upload',\n            //         pushin: false\n            //     })\n            //     console.log('qqqqqqqqqqqqq', state.uploadFileNames)\n            // }\n            return {\n                name: payload.get('name'),\n                uuid: payload.get('uuid'),\n                error: err\n            }\n        })\n    },\n    importXml({rootState, state, dispatch}, payload){\n        let token = rootState.auth.access_token\n        payload.append('company_id', rootState.administration.company.id)\n        let signal = state.uploadFileMap[payload.get('uuid')].signal\n\n        return api.post(http['cloud'], api['upload_xml'], payload, {\n            authorization: 'Bearer ' + token,\n            'content-type': false\n        }, 'POST', signal)\n        .then(res => {\n            return {...res, uuid: payload.get('uuid')}\n        })\n        .catch(err => {\n            return {\n                name: payload.get('name'),\n                uuid: payload.get('uuid'),\n                error: err\n            }\n        })\n    },\n    checkImportXml({rootState, dispatch}, payload){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['cloud'], api['upload_xml'], {\n                id: payload.task_id\n            }, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    console.log('check create_xml er', er)\n                    resolve(er)\n                }\n            )\n        })\n    },\n    sendClassError({rootState, state, dispatch}, body){\n        let token = rootState.auth.access_token\n\n        return api.post(http['cloud'], api['class_error'], body, {\n            authorization: 'Bearer ' + token,\n        }, 'POST')\n        .then(res => {\n            return res\n        })\n        .catch(err => {\n            return err\n        })\n    },\n    getFile({rootState, dispatch, commit}, payload){\n        let token = rootState.auth.access_token\n        let typeBlob = payload.typeBlob || 'url'\n        let signal = payload.uuid\n            ? state.uploadFileMap[payload.uuid].signal\n            : false\n\n        return new Promise((resolve, reject) => {\n            api.get(http['cloud'], api['getfile'] + payload.id, {}, {\n                authorization: 'Bearer ' + token,\n            }, typeBlob, {signal})\n            .then(res => {\n                resolve({id: payload.id, file: res, uuid: payload.uuid})\n            })\n            .catch(err => {\n                if(err.name === 'AbortError'){\n                    dispatch('setUploadNote', {\n                        uuid: payload.uuid,\n                        action: 'download',\n                        pushin: false\n                    })\n                }\n                return {\n                    //name: payload.get('name'),\n                    uuid: payload.uuid,\n                    error: err\n                }\n            })\n        })\n    },\n}\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  mutations\n}\n","import router from '@/router'\nimport { http, api } from '@/utils/define'\n\nconst state = {\n    login: '',\n    error_login: false,\n    id_token: '',\n    framer: {\n        active: false,\n        src: ''\n    },\n    access_token: false,\n    admin_token: 'a81935fe0411eb630e6b7435a7ee5b2f40c1c85bd561eb76fc000967a08aa921',\n    invite: false,\n\n    token_state: '',\n    token: '',\n    expiry: '',\n    refresh_token: '',\n    token_type: '',\n    //initPath: {},\n    invite_code: false\n}\n\nconst mutations = {\n    errorLogin(state, payload){\n        state.error_login = payload.status\n    },\n    error(state, message) {\n        state.type = 'alert-danger'\n        state.message = message\n    },\n    setTokenId(state, payload){\n        state.id_token = payload.id_token\n        state.access_token = payload.access_token\n    },\n    framer(state, payload){\n        state.framer = {\n            active: true,\n            src: payload.src\n        }\n    },\n    setTokenState(state, payload){\n        state.token_state = payload.state\n    },\n    setToken(state, payload){\n        state.id_token = payload.id_token\n        state.token = payload.access_token\n        state.access_token = payload.access_token\n        state.expiry = payload.expiry\n        state.refresh_token = payload.refresh_token\n        state.token_type = payload.token_type\n    },\n    /*\n    rememberRouter(state, router){\n        state.initPath = router\n    },\n    */\n    setInviteCode(state, payload){\n        state.invite_code = payload\n    }\n}\n\nconst actions = {\n    getCodeForToken({commit, dispatch}){\n        return new Promise((resolve) => {\n            api.get(http['account'], api['pretoken'])\n            .then(res => {\n                localStorage.setItem('state', JSON.stringify({\n                    state: res.state,\n                    path: router.currentRoute.path,\n                    url: router.currentRoute.fullPath\n                }))\n\n                window.location.href = res.redirect_url\n                return true\n            })\n        })\n    },\n    logout({state, commit}){\n        localStorage.removeItem('token')\n        window.location.href = http['login'] + api['logout'] + '?id_token_hint=' + state.id_token\n    },\n\n    framer({commit}){\n        commit('framer', {src: 'https://prodoc.ubdev.ru/api/v1/oauth2/auth'})\n    },\n    setTokenId({state, dispatch, commit}, payload){\n        commit('setToken', payload)\n\n        return new Promise(resolve => {\n            dispatch('administration/getUser', null, { root: true })\n            .then(res => {\n                return dispatch('administration/getGroupPermissions', null, { root: true })\n            })\n            .then(res => {\n                if(!res || !res.length){\n                    const getPerms = () => {\n                        dispatch('administration/getGroupPermissions', null, { root: true })\n                        .then(res => {\n                            if(!res || !res.length){\n                                setTimeout(getPerms, 500)\n                            }\n                        })\n                    }\n                    getPerms()\n                }\n                let localState = JSON.parse(localStorage.getItem('state'))\n                router.push('/workflow')\n                //router.push(localState.path)\n                resolve(true)\n            })\n        })\n        /*\n        .then(() => {\n            let path = {path: state.initPath.path, query: state.initPath.query}\n            if(state.initPath.name == 'init'){\n                path = {path: '/main'}\n            }\n            router.push(path)\n        })\n        */\n    },\n    token({commit}, payload){\n        console.log('////  token')\n        return new Promise((resolve) => {\n            api.get(http['account'], api['token'], payload)\n            .then(res => {\n                localStorage.setItem('token', JSON.stringify({\n                        refresh_token: res.refresh_token\n                }))\n                commit('setToken', res)\n                resolve(res)\n            })\n        })\n    },\n    refresh({state, commit}, payload){\n        let tokenState = JSON.parse(localStorage.getItem('token')) || {refresh_token: false}\n        let refresh_token = state.refresh_token\n            || tokenState.refresh_token\n            || false\n\n        if(refresh_token){\n            return new Promise((resolve) => {\n                api.post(http['account'], api['refresh'], {\n                    refresh_token: refresh_token\n                })\n                .then(res => {\n                    localStorage.setItem('token', JSON.stringify(res))\n                    commit('setToken', res)\n                    resolve(res)\n                    },\n                    er => {\n                        console.log('error refresh_token_',er)\n                        resolve(false)\n                    }\n                )\n            })\n        }\n        else{\n            return false\n        }\n    },\n    checkInvite({rootState, commit, dispatch}, code){\n        let token = rootState.auth.access_token ? rootState.auth.access_token : ''\n        return new Promise((resolve, reject) => {\n\n            api.get(http['account'], api['invite'], {code: code.code}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                let status = res.status || false\n\n                if(status){\n                    if(status == -1){\n                        window.location.href = res.register_url\n                            + '&email=' + res.email\n                            + '&company=' + res.company.name\n                            + '&redirect_url=' + http['server'] +\n                                    code.redirect_url\n                    }\n                    else if(status == 200){\n                        //resolve(res)\n                        let params = {\n                            code: code.code,\n                            answer: 'allow'\n                        }\n                        //let user = rootState.administration.user || false\n                        //let email = user.email || false\n\n                        resolve(dispatch('confirmInvite', params))\n                    }\n                    else{\n                        console.log('Неизвестная ошибка.. [status]')\n                        resolve(false)\n                    }\n                }\n                else{\n                    console.log('Неизвестная ошибка.. [status = false]')\n                    resolve(false)\n                }\n            },\n                er => {\n                    return dispatch('toLoginAfterRegistration')\n            })\n        })\n    },\n    toLoginAfterRegistration({commit}){\n        api.get(http['account'], api['invite_redirect'])\n        .then(res => {\n    /*\n            localStorage.setItem('state', JSON.stringify({\n                state: res.state,\n                path: router.currentRoute.path,\n                url: router.currentRoute.fullPath\n            }))\n            */\n            window.location.href = res.redirect_url\n        })\n    },\n    confirmInvite({rootState, commit}, confirm){\n        let token = rootState.auth.access_token\n        return new Promise((resolve) => {\n            api.post(http['account'], api['invite_confirm'], confirm, {\n                authorization: 'Bearer ' + token\n            }, 'POST')\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    console.log('invite confirm error', er)\n            })\n        })\n    },\n    restore({commit}, payload){\n        let restore = {status: false, params: {}}\n        return new Promise((resolve) => {\n            api.post(http['login'], api['restore'], payload)\n            .then(() => {\n                restore.status = true\n                resolve(restore)\n            },\n            er => {\n                restore.params = Object.assign({}, er)\n                resolve(restore)\n            })\n        })\n    },\n    logcheck({rootState, state}){\n      return new Promise(resolve => {\n          resolve({status: state.authorized})\n      })\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    actions,\n    mutations\n}\n","export const packetTypeIn = {\n    '0x80': 'EMPTY',\n    '0x8A': 'PING',\n    '0x8B': 'PONG',\n    '0x81': 'OK',\n    '0x82': 'ERROR',\n    '0x83': 'CHECK',\n    '0x87': 'EVENT'\n}\nexport const packetTypeOut = {\n    'EMPTY': '0x00',\n    'PING': '0x0A',\n    'PONG': '0x0B',\n    'OK': '0x01',\n    'ERROR': '0x02',\n    'LOGIN': '0x03',\n    'EVENT': '0x07',\n}\n\nexport const eventTypeIn = {\n    '0x40000001': 'SUBSCRIBE',\n    '0x80000001': 'SOMEONE_SUBSCRIBED',\n    '0x40000002': 'UNSUBSCRIBE',\n    '0x80000002': 'SOMEONE_UNSUBSCRIBED',\n    '0x00000003': 'DISCONNECTED',\n    '0x80000003': 'SOMEONE_DISCONNECTED',\n    '0x40000004': 'MESSAGES',\n    '0x80000004': 'MESSAGE_LIST',\n    '0x40000005': 'MESSAGE',\n    '0x80000005': 'SOMEONE_MESSAGED',\n    '0x40000006': 'GET_SUBSCRIBE_LIST',\n    '0x80000006': 'SUBSCRIBE_LIST',\n    '0x4000000B': 'BORDERS',\n    '0x8000000B': 'BORDER_LIST',\n    '0x4000000A': 'BORDER',\n    '0x8000000A': 'SOMEONE_BORDERED'\n}\nexport const eventTypeOut = {\n    'SUBSCRIBE': '0x40000001',\n    'SOMEONE_SUBSCRIBED': '0x80000001',\n    'UNSUBSCRIBE': '0x40000002',\n    'SOMEONE_UNSUBSCRIBED': '0x80000002',\n    'DISCONNECTED': '0x00000003',\n    'SOMEONE_DISCONNECTED': '0x80000003',\n    'MESSAGES': '0x40000004',\n    'MESSAGE_LIST': '0x80000004',\n    'MESSAGE': '0x40000005',\n    'SOMEONE_MESSAGED': '0x80000005',\n    'GET_SUBSCRIBE_LIST': '0x40000006',\n    'SUBSCRIBE_LIST': '0x80000006',\n    'BORDERS': '0x4000000B',\n    'BORDER_LIST': '0x8000000B',\n    'BORDER': '0x4000000A',\n    'SOMEONE_BORDERED': '0x8000000A'\n}\n\nconst toHEX = (num) => {\n    if(typeof num !== 'number') return num\n    if(num === 0) return '0x00'\n    if(num > 15) return '0x' + num.toString(16).toUpperCase()\n    return '0x0' + num.toString(16).toUpperCase()\n}\nconst toDEC = (hex) => {\n    if(!hex) return 0\n    return parseInt(hex, 16)\n}\nconst strToBlob = (type, event, str) => {\n    let blob = new Blob([str2ab(type, event, str)])\n    return blob\n}\n\nconst str2ab = (type, event, str) => {\n    let array = [0,0,0,0]//buffer = new Uint8Array(len)\n    array[0] = 0//str.length + (event ? 4 : 0)\n    array[1] = 0\n    array[2] = 0\n    array[3] = 0\n\n    array[4] = type\n\n    if(event){\n        array[5] = event & 0xff\n        array[6] = (event>>>8) & 0xff\n        array[7] = (event>>>16) & 0xff\n        array[8] = (event>>>24) & 0xff\n    }\n\n    let bodyArray = encodeUTF8(str)//stringToUint(str)\n    array[0] = bodyArray.length + (event ? 4 : 0)\n    array = [...array, ...bodyArray]\n    let buffer = new Uint8Array(array)\n\n    let dx = 5 + (event ? 4 : 0)\n    return buffer\n}\n\nconst encodeUTF8 = (s) => {\n\tlet i = 0, bytes = new Uint8Array(s.length * 4)\n\tfor(let ci = 0; ci != s.length; ci++){\n\t\tlet c = s.charCodeAt(ci)\n\t\tif(c < 128){\n\t\t\tbytes[i++] = c\n\t\t\tcontinue\n\t\t}\n\t\tif(c < 2048){\n\t\t\tbytes[i++] = c >> 6 | 192\n\t\t}\n        else{\n\t\t\tif(c > 0xd7ff && c < 0xdc00){\n\t\t\t\tif(++ci >= s.length)\n\t\t\t\t\tthrow new Error('UTF-8 encode: incomplete surrogate pair')\n\t\t\t\tlet c2 = s.charCodeAt(ci)\n\t\t\t\tif(c2 < 0xdc00 || c2 > 0xdfff)\n\t\t\t\t\tthrow new Error('UTF-8 encode: second surrogate character 0x' + c2.toString(16) + ' at index ' + ci + ' out of range')\n\t\t\t\tc = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff)\n\t\t\t\tbytes[i++] = c >> 18 | 240\n\t\t\t\tbytes[i++] = c >> 12 & 63 | 128\n\t\t\t}\n            else bytes[i++] = c >> 12 | 224\n\t\t\tbytes[i++] = c >> 6 & 63 | 128\n\t\t}\n\t\tbytes[i++] = c & 63 | 128\n\t}\n\treturn bytes.subarray(0, i)\n}\n\nconst decodeUTF8 = (bytes) => {\n\tlet i = 0, s = ''\n\twhile(i < bytes.length){\n\t\tlet c = bytes[i++]\n\t\tif(c > 127){\n\t\t\tif(c > 191 && c < 224){\n\t\t\t\tif(i >= bytes.length)\n\t\t\t\t\tthrow new Error('UTF-8 decode: incomplete 2-byte sequence')\n\t\t\t\tc = (c & 31) << 6 | bytes[i++] & 63\n\t\t\t}\n            else if (c > 223 && c < 240){\n\t\t\t\tif(i + 1 >= bytes.length)\n\t\t\t\t\tthrow new Error('UTF-8 decode: incomplete 3-byte sequence')\n\t\t\t\tc = (c & 15) << 12 | (bytes[i++] & 63) << 6 | bytes[i++] & 63\n\t\t\t}\n            else if(c > 239 && c < 248){\n\t\t\t\tif(i + 2 >= bytes.length)\n\t\t\t\t\tthrow new Error('UTF-8 decode: incomplete 4-byte sequence')\n\t\t\t\tc = (c & 7) << 18 | (bytes[i++] & 63) << 12 | (bytes[i++] & 63) << 6 | bytes[i++] & 63\n\t\t\t}\n            else throw new Error('UTF-8 decode: unknown multibyte start 0x' + c.toString(16) + ' at index ' + (i - 1))\n\t\t}\n\t\tif(c <= 0xffff) s += String.fromCharCode(c)\n\t\telse if (c <= 0x10ffff){\n\t\t\tc -= 0x10000\n\t\t\ts += String.fromCharCode(c >> 10 | 0xd800)\n\t\t\ts += String.fromCharCode(c & 0x3FF | 0xdc00)\n\t\t}\n        else throw new Error('UTF-8 decode: code point 0x' + c.toString(16) + ' exceeds UTF-16 reach')\n\t}\n\treturn s\n}\n\nconst abToStr = (buffer, encoding) => {\n    return decodeUTF8(buffer)\n}\n\nconst blobToStr = (data) => {\n    return new Response(data).arrayBuffer()\n    .then(res => {\n        let view = new Uint8Array(res)\n        let packetType = packetIn(view[4])\n\n        return {\n            type: packetType,\n            buffer: view.slice(5)\n        }\n    })\n}\nexport const cout = (packet, event = null, body = '') => {\n    return strToBlob(packetOut(packet), eventOut(event), body)\n}\nexport const cin = (data, eventOut = false) => {\n    return new Promise(resolve => {\n        blobToStr(data)\n        .then(res => {\n            resolve(responseSwitch(res))\n        })\n    })\n}\n\nconst eventOut = v => {\n    let ar = null\n    if(v){\n        ar = toDEC(eventTypeOut[v])\n    }\n    return ar\n}\n\nconst packetOut = v => {\n    return toDEC(packetTypeOut[v])\n}\nconst packetIn = v => {\n    return packetTypeIn[toHEX(v)]\n}\nconst eventIn = v => {\n    let dec = 0\n    v.map((i, j) => {\n    \tlet dx = 8 * j\n        dec = (i<<dx) | dec\n    })\n    let hex = toHEX(dec>>>0)\n    return eventTypeIn[hex]\n}\n\nconst getEvent = v => {\n    let type = eventIn(v.slice(0, 4))\n    let body = abToStr(v.slice(4), 'UTF-8')\n\n    return {\n        type: type,\n        body: body\n    }\n}\n\nconst responseSwitch = (packetIn) => {\n    let res = {\n        packetType: packetIn.type,\n        eventType: '',\n        body: '',\n        action: ''\n    }\n    switch(packetIn.type){\n        case 'CHECK': {\n            res.action = 'login'\n            break\n        }\n        case 'OK': {\n            res.action = 'ok'\n            break\n        }\n        case 'ERROR': {\n            let event = abToStr(packetIn.buffer, 'UTF-8')\n            //res.eventType = event.type\n            res.body = event\n            res.action = 'errorq'\n            break\n        }\n        case 'EVENT': {\n            let event = getEvent(packetIn.buffer)\n            res.eventType = event.type\n            res.body = event.body\n            res.action = event.type ? event.type.toLowerCase() : ''\n            break\n        }\n    }\n    return res\n}\n","import { http, api } from '@/utils/define'\nimport { sortObj } from '@/utils/services'\nimport * as socket from '@/utils/socket'\n\nconst state = {\n    socket: '',\n    eventOut: '',\n    eventIn: '',\n    doc: '',\n    docId: '',\n    version: null,\n    check: false,\n    subscribe: false,\n    key: '',\n    comments: [],\n    activeComment: false,\n    user: '',\n    project: null,\n    timerId: '',\n\n    borders: [],\n    borderHelper: {\n        name: 0,\n        status: false\n    },\n    borderList: [],\n    borderStack: [],\n    borderEdit: false,\n    draft: false,\n    draftBbox: {\n        x: 0,\n        y: 0,\n        w: 0,\n        h: 0\n    },\n    draftList: [],\n    draftHover: '',\n}\n\nconst mutations = {\n    setSocket(state, payload){\n        state.socket = payload\n    },\n    setTimer(state, payload){\n        state.timerId = payload\n    },\n    setDocId(state, payload){\n        state.docId = payload\n    },\n    setDocCurrent(state, payload){\n        state.doc = payload\n    },\n    setDocVersion(state, payload){\n        state.version = payload\n    },\n    setUser(state, payload){\n        state.user = payload\n    },\n    setProject(state, payload){\n        state.project = payload\n    },\n    setEventOut(state, payload){\n        state.eventOut = payload\n    },\n    setSubscribe(state){\n        state.subscribe = true\n    },\n    setKey(state, key){\n        state.key = key\n    },\n    setMessages(state, list){\n        state.comments = list\n    },\n    setActiveComment(state, payload){\n        state.activeComment = payload\n    },\n    close(state){\n        state.socket = ''\n        state.subscribe = false\n    },\n//borders\n    setBorders(state, list){\n        state.borders = list\n    },\n    updateBorders(state, list){\n        state.borders = list\n    },\n    setBorderHelper(state, p){\n        state.borderHelper = p\n    },\n    addBorder(state, payload){\n        //state.borderStack = [...state.borderStack, payload]\n        state.borders = [...state.borders, payload]\n    },\n    clearBorderStack(state, payload){\n        state.borderStack = []\n    },\n    updateBorderStack(state, payload){\n        state.borderStack = payload\n    },\n    setBorderList(state, payload){\n        state.borderList = payload\n    },\n    editBorder(state, payload){\n        state.borderEdit = payload\n    },\n    /*\n    setDraft(state, payload){\n        state.draft = payload\n    },\n    */\n    setDraftBbox(state, payload){\n        state.draftBbox = {...state.draftBbox, ...payload}\n    },\n    setDraftHover(state, payload){\n        state.draftHover = payload\n    },\n}\nconst actions = {\n    setBorderHelper({state,commit}, p){\n        let borders = JSON.parse(JSON.stringify(state.borders))\n        borders = sortObj(borders, 'name')\n        let name = (!borders.length\n            ? 0\n            : borders[borders.length - 1].name) + 1\n        let marker = {\n            name: name,\n            status: false,\n            x: 0,\n            y: 0\n        }\n        marker = {...marker, ...p}\n        commit('setBorderHelper', marker)\n    },\n    addBorder({state, commit, dispatch}, p){\n        let count = state.borderHelper.name\n        let id = (new Date().getTime()).toString()\n        let brd = {\n            id: id,\n            uid: state.user.id,\n            x: p.x,\n            y: p.y,\n            w: 0,\n            h: 0,\n            vis: 1,\n            name: count\n        }\n        dispatch('setBorderHelper', {status: false})\n        commit('addBorder', brd)\n        dispatch('border', {\n            name: brd.name,\n            x: brd.x,\n            y: brd.y,\n            h: brd.h,\n            w: brd.w,\n            vis: 1,\n            act: 1\n        })\n    },\n    updateBorder({state, dispatch, commit}, p){\n        let list = state.borders\n\n        list = list.map(i => {\n            if(i.id == p.id){\n                let brd = {...i, ...p}\n                dispatch('border', {\n                    id: brd.id,\n                    uid: brd.uid,\n                    name: brd.name,\n                    x: brd.x,\n                    y: brd.y,\n                    h: brd.h,\n                    w: brd.w,\n                    act: 0\n                })\n                return brd\n            }\n            else{\n                return i\n            }\n        })\n        //commit('updateBorderStack', list)\n    },\n    setBorderList({state, commit}, list){\n        let borders = state.borders\n        let borderList = []\n        let borderStack = []\n        borders.map(b => {\n            if(list.some(i => i == b.id)){\n                borderList = [...borderList, b]\n            }\n            else{\n                borderStack = [...borderStack, b]\n            }\n        })\n        commit('setBorderList', borderList)\n        commit('updateBorderStack', borderStack)\n    },\n    removeBorderInStack({state, dispatch, commit}, payload){\n        dispatch('border', {\n            id: payload,\n            act: -1\n        })\n    },\n    renameBorderInStack({state, dispatch, commit}, payload){\n\t\tlet comments = JSON.parse(JSON.stringify(state.comments))\n\t\tlet borders = JSON.parse(JSON.stringify(state.borders))\n        borders = borders.filter(b => b.id != payload)\n        commit('updateBorders', borders)\n\n\t\tlet list = []\n\t\tcomments.map(c => {\n\t\t\tlist = [...list, ...c.borders]\n\t\t})\n\n        let borderList = []\n        comments.map(c => {\n            c.borders.map(b => {\n                borderList = [...borderList, ...borders.filter(i => i.id == b)]\n            })\n        })\n\n        let stack = []\n\t\tborders.map(b => {\n\t\t\tif(!list.some(s => s == b.id)){\n\t\t\t\tstack = [...stack, b]\n\t\t\t}\n\t\t})\n\n        if(stack.length){\n            let name = Math.max(...borderList.map(b => {\n                return b.name}), 0) + 1\n            let listValue = sortObj(stack, 'name')\n            stack = listValue.map((i, j) => ({...i, name: name + j}))\n            stack.map(b => {\n                if(state.user.id == b.uid){\n                    dispatch('updateBorder', b)\n                }\n            })\n        }\n    },\n\n\n\n    setSocket({state, dispatch, commit}, payload){\n        let doc = payload.did\n        let version = !doc.version ? doc.files[0].id : doc.version\n        commit('setDocId', doc.id)\n        commit('setDocCurrent', doc)\n        commit('setDocVersion', version)\n\n        let socketId = new WebSocket(http['socket_project'] + api['comments'])\n        commit('setSocket', socketId)\n        socketId.onmessage = (e) => {\n            socket.cin(e.data, state.eventOut)\n            .then(res => {\n                if(res.action == 'ok'){\n                    if(state.eventOut == \"LOGIN\" && !state.subscribe){\n                        dispatch('subscribe')\n                    }\n                    if(state.eventOut == \"SUBSCRIBE\"){\n                        //dispatch('messages')\n                    }\n                }\n                else{\n                    if(res.action){\n                        try{\n                            dispatch(res.action, res.body)\n                        }\n                        catch(e){\n                            console.log('ERROR: no action for event. param \"res.action = \"', res.action, '. er: ', e)\n                        }\n                    }\n                }\n            })\n        }\n        socketId.onopen = (e) => {\n            commit('setEventOut', 'LOGIN')\n        }\n        socketId.onclose = (e) => {\n            clearInterval(state.timerId)\n            commit('close')\n            commit('setBorders', [])\n        }\n    },\n    login({rootState, state, dispatch, commit}){\n        let token = rootState.auth.access_token\n        let user = rootState.administration.user//userAvatar\n        let avatar = rootState.administration.userAvatar\n        let project = rootState.workflow.activeProject\n        user.avatar = avatar\n        commit('setUser', user)\n        commit('setProject', project)\n        let login = socket.cout('LOGIN', null, token)\n\n        state.socket.send(login)\n    },\n    close({state}){\n        if(!state.socket){\n            return\n        }\n        state.socket.close()\n    },\n    ping({state}){\n        let login = socket.cout('PING')\n        state.socket.send(login)\n    },\n    errorq({state, commit}, body){\n        //body = JSON.parse(body)\n        console.log('---ERROR ',  ': ', body)\n    },\n    subscribe({state, commit, dispatch}){\n        commit('setSubscribe')\n        commit('setEventOut', 'SUBSCRIBE')\n\n        let subscribe = socket.cout('EVENT', 'SUBSCRIBE', JSON.stringify({\n            typ: 0,\n            id: state.user.company.toString(),\n            prj: state.project.id.toString(),\n            did: state.docId.toString(),\n            ver: parseInt(state.version)\n        }))\n        state.socket.send(subscribe)\n        state.timerId = setInterval(() => dispatch('ping'), 40000)\n    },\n    someone_subscribed({rootState, state, dispatch, commit}, body){\n        body = JSON.parse(body)\n        if(state.eventOut == 'SUBSCRIBE'){\n            commit('setEventOut', 'SOMEONE_SUBSCRIBED')\n            commit('setKey', body.key)\n            dispatch('messages')\n            dispatch('borders')\n        }\n        else{\n            let userList = rootState.administration.company.users\n            userList = userList(u => u.id)\n            if(!userList.some(u => u == body.uid)){\n                dispatch('administration/getCompany', null, {root: true})\n            }\n        }\n    },\n    borders({state, commit}){\n        commit('setEventOut', 'BORDERS')\n        let borAr = socket.cout('EVENT', 'BORDERS', JSON.stringify({\n            key: state.key\n        }))\n        state.socket.send(borAr)\n    },\n    border_list({state, commit}, body){\n        body = JSON.parse((body))\n        let list = body.brds || []\n\n        list = list.map(b => {\n            let brd = {\n                id: b.bid,\n                uid: b.uid,\n                name: parseInt(b.nam),\n                x: b.x,\n                y: b.y,\n                h: b.h,\n                w: b.w,\n                vis: b.vis\n            }\n            return brd\n        })\n        commit('setBorders', list)\n        //commit('setBorderList', list)\n    },\n    border({state, commit}, p){\n        let brd = {\n            key: state.key,\n            act: p.act\n        }\n        if(p.act == 1){\n            brd = {\n                ...brd,\n                nam: p.name.toString(),\n                x: p.x,\n                y: p.y,\n                h: p.h,\n                w: p.w,\n                vis: 1,\n            }\n        }\n        if(p.act == 0){\n            //let border = state.borderStack.filter(b => b.id == p.id)\n            brd = {\n                ...brd,\n                bid: p.id,\n                nam: p.name.toString(),//border[0].name.toString(),\n                x: p.x,\n                y: p.y,\n                h: p.h,\n                w: p.w,\n                vis: 1,\n            }\n        }\n        if(p.act == -1){\n            brd = {\n                ...brd,\n                bid: p.id\n            }\n        }\n\n        brd = socket.cout('EVENT', 'BORDER', JSON.stringify(brd))\n        state.socket.send(brd)\n    },\n    someone_bordered({state, dispatch, commit}, body){\n        body = JSON.parse((body))\n        let brd = {}\n        let list = [...state.borders]\n\n        if(body.act == 1){\n            if(body.uid == state.user.id){\n                list = list.map(b => b.name == body.nam ? {...b, id: body.bid} : b)\n                commit('updateBorders', list)\n            }\n            else{\n                brd.id = body.bid\n                brd.uid = body.uid\n                brd.name = parseInt(body.nam)\n                brd.x = body.x\n                brd.y = body.y\n                brd.h = body.h\n                brd.w = body.w\n                brd.vis = 0\n\n                commit('addBorder', brd)\n            }\n        }\n        if(body.act == 0){\n            //if(body.uid != state.user.id){\n                list = list.map(b => b.id == body.bid\n                        ? ({...b,\n                            name: parseInt(body.nam),\n                            x: body.x,\n                            y: body.y,\n                            h: body.h,\n                            w: body.w})\n                        : b\n                )\n                //commit('updateBorderStack', list)\n                commit('updateBorders', list)\n            //}\n        }\n        if(body.act == -1){\n            //if(body.uid != state.user.id){\n                //list = list.filter(b => b.id != body.bid)\n                //commit('updateBorders', list)\n                dispatch('renameBorderInStack', body.bid)\n                //commit('updateBorderStack', list)\n            //}\n        }\n    },\n    messages({state, commit}){\n        commit('setEventOut', 'MESSAGES')\n        let mesAr = socket.cout('EVENT', 'MESSAGES', JSON.stringify({\n            key: state.key,\n            frm: null,\n            siz: 100,\n            lid: null\n        }))\n        state.socket.send(mesAr)\n    },\n    message_list({rootState, state, dispatch, commit}, body){\n        body = JSON.parse((body))\n        let userList = rootState.administration.company.users\n        let list = body.msgs\n        let borderList = []\n\n        const createMsgs = (list) => {\n            list = list.map(m => {\n                let user = userList.filter(u => u.id == m.uid)\n                user = user.length ? user[0] : false\n                let mes = {\n                    id: m.mid,\n                    uid: m.uid,\n                    pid: m.pid,\n                    \"type\":\"comment\",\n                    \"avatar\": state.user.id == m.uid\n                                ? state.user.avatar.src\n                                : \"\",\n                    \"title\":\"Документ версии \",\n                    \"user\": state.user.id == m.uid\n                                ? state.user.first_name + ' ' + state.user.last_name\n                                : user\n                                    ? user.first_name\n                                        ? user.first_name + ' ' + state.user.last_name\n                                        : user.email\n                                    : user.email,\n                    \"text\": m.txt,\n                    date: m.tim,\n                    borders: m.brds || [],\n                    \"reply\": m.chld.length ? createMsgs(m.chld) : []\n                }\n\n                return mes\n            })\n            //dispatch('setBorderList', borderList)\n            return list.reverse()\n        }\n        commit('setMessages', createMsgs(list))\n    },\n    message({state, dispatch, commit}, payload){\n        let mes = {\n            key: state.key,\n            pid: payload.pid.toString(),\n            act: payload.action\n        }\n        if(payload.action == -1){\n            mes.mid = payload.id\n\n            payload.brds.map(b => {\n                dispatch('border', {\n                    id: b,\n                    act: -1\n                })\n            })\n        }\n        if(payload.action == 0){\n            mes.mid = payload.id\n            mes.txt = payload.text\n        }\n        if(payload.action == 1){\n            let borders = payload.borders//state.borderStack.map(b => b.id)\n            mes.brds = borders\n            mes.txt = payload.text\n            //dispatch('setBorderList', state.borderStack)\n            //commit('clearBorderStack')\n        }\n        mes = socket.cout('EVENT', 'MESSAGE', JSON.stringify(mes))\n        state.socket.send(mes)\n    },\n    someone_messaged({rootState, state, dispatch, commit}, body){\n        body = JSON.parse((body))\n        let userList = rootState.administration.company.users\n        let mes = {}\n        let list = [...state.comments]\n\n/*\nlet rem = state.borderList\nlet mess = state.comments\nmess.map(m => {\n    m.borders.map(i => {\n        rem = rem.filter(b => b.id != i)\n    })\n})\nrem.map(n => {\n    dispatch('border', {\n        id: n.id,\n        act: -1\n    })\n})\n*/\n\n        const searchMsgParent = (list, mes) => {\n            let parent = {}\n            list.map(m => {\n                if(m.id == mes.id){\n                    parent = m\n                }\n            })\n            return parent\n        }\n        if(body.act == 1){\n            let user = userList.filter(u => u.id == body.uid)\n            user = user.length ? user[0] : false\n\n            mes.id = body.mid,\n            mes.uid = body.uid,\n            mes.pid = body.pid\n            mes.type = \"comment\"\n            mes.avatar = state.user.id == body.uid\n                            ? state.user.avatar.src\n                            : \"\"\n            mes.title = \"Документ версии \"\n            mes.user = state.user.id == body.uid\n                        ? state.user.first_name + ' ' + state.user.last_name\n                        : user\n                            ? user.first_name\n                                ? user.first_name + ' ' + state.user.last_name\n                                : user.email\n                            : user.email,\n            mes.text = body.txt\n            mes.borders = body.brds || []\n            mes.date = body.tim\n            mes.reply = []\n\n            if(parseInt(body.pid)){\n                list = list.map(m => m.id == mes.pid\n                            ? ({...m, reply: [...m.reply, mes]})\n                            : m\n                )\n            }\n            else {\n                list = [...list, mes]\n            }\n        }\n        if(body.act == 0){\n            if(parseInt(body.pid)){\n                list = list.map(m => m.id == body.pid\n                            ? ({...m, reply: m.reply.map(r => r.id == body.mid\n                                ? ({...r, text: body.txt})\n                                : r\n                                )\n                            })\n                            : m\n                )\n            }\n            else{\n                list = list.map(l => l.id == body.mid\n                        ? ({...l, text: body.txt})\n                        : l\n                )\n            }\n        }\n        if(body.act == -1){\n            if(parseInt(body.pid)){\n                list = list.map(m => m.id == body.pid\n                            ? ({...m, reply: m.reply.filter(r => r.id != body.mid)})\n                            : m\n                )\n            }\n            else{\n                list = list.filter(l => l.id != body.mid)\n            }\n        }\n\n        commit('setMessages', list)\n        if(state.user.id == body.uid){\n            if(!parseInt(body.pid)){\n                commit('setActiveComment', body.mid)\n            }\n        }\n    },\n}\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  mutations\n}\n","import { http, api } from '@/utils/define'\nimport { service, setAccessFolderFile } from '@/utils/services'\nimport router from '@/router'\n\nconst state = {\n    workflow_project: '',\n    projects: [],\n    folders: [],\n    folderTree: [],\n    currentFolder: 0,\n    docs: [],\n    taskList: [],\n    groups: [],\n    foldersMap: [],\n    isExpandedList: [],\n\n    listDocs: [],\n    listSocket: [],\n    fileTypeConversion: ['ifc', 'rvt', 'zip', 'ifcxml'],\n    fileTypeList: ['ifc', 'rvt', 'zip', 'ifcxml', 'doc', 'consolidations', '3ds', 'bmp', 'csv', 'dae', 'docx', 'dwg', 'dxf', 'iges', 'jpg', 'pdf', 'png', 'step', 'stl', 'stp', 'tiff', 'xls'],\n\n    activeProject: null,\n    active: {},\n\n    commentList: [],\n    activeComment: false,\n    commentState: {\n        status: false,\n        markerStack: [],\n        commentActive: '',\n        commentInput: ''\n    },\n\n// part of marker\n    markerHelper: {\n        value: 0,\n        status: false\n    },\n    markerStack: [],\n    markerList: [],\n    markerEdit: false,\n\n\n\n    draft: false,\n    draftBbox: {\n        x: 0,\n        y: 0,\n        w: 0,\n        h: 0\n    },\n    draftList: [],\n    draftSelected: '',\n    draftHover: '',\n    pdfInit: false,\n\n    activeGroup: false,\n    activeFolder: false,\n    activeFolderName: '',\n    openFolder: 0,\n\n    templates_collision: []\n}\n\nconst mutations = {\n    openFolder(state, payload){\n        state.openFolder = payload\n    },\n    setTaskList(state, payload){\n        state.taskList = payload\n    },\n    setCurrentFolder(state, payload){\n        state.currentFolder = payload\n    },\n    setExpanded(state, payload){\n        state.isExpandedList = payload\n    },\n    setMarkerHelper(state, payload){\n        state.markerHelper = payload\n    },\n    addMarker(state, payload){\n        state.markerStack = [...state.markerStack, payload]\n    },\n    clearMarkerStack(state, payload){\n        state.markerStack = []\n    },\n    updateMarkerStack(state, payload){\n        state.markerStack = payload\n    },\n    setMarkerList(state, payload){\n        state.markerList = payload\n    },\n    editMarker(state, payload){\n        state.markerEdit = payload\n    },\n\n    setActiveProject(state, payload){\n        state.activeProject = payload\n    },\n    setActiveGroup(state, payload){\n        state.activeGroup = payload\n    },\n    setActiveFolder(state, payload){\n        state.activeFolder = payload.id\n        state.activeFolderName = payload.name\n    },\n    setActive(state, payload){\n        state.active = payload\n    },\n    saveChange(state, payload){\n        let projects = state.projects.map(item => item.id == payload.params.id ? Object.assign({}, payload.params) : item)\n        state.projects = projects\n    },\n    setComments(state, payload){\n        state.commentList = payload\n    },\n    addComment(state, payload){\n        state.commentList = payload\n    },\n    setActiveComment(state, payload){\n        state.activeComment = payload\n    },\n    saveCommentState(state, payload){\n        state.commentState = {...state.commentState, ...payload}\n    },\n    setDraft(state, payload){\n        state.draft = payload\n    },\n    setDraftBbox(state, payload){\n        state.draftBbox = {...state.draftBbox, ...payload}\n    },\n    setDraftSelected(state, payload){\n        state.draftSelected = payload\n    },\n    setDraftHover(state, payload){\n        state.draftHover = payload\n    },\n    setPdfInit(state, payload){\n        state.pdfInit = payload\n    },\n    updateComment(state, payload){\n        state.commentList = payload\n    },\n    setTableType(state, payload){\n        state[payload.name] = payload.value\n    },\n    addGroup(state, payload){\n        state.groups.push(payload)\n    },\n    updateGroup(state, payload){\n        state.groups = payload\n    },\n    setProjectItems(state, payload){\n        state.groups = payload\n    },\n\n\n    setProject(state, payload){\n        state.projects = payload\n    },\n    setGroups(state, payload){\n        state.groups = payload\n    },\n    setFolders(state, payload){\n        state.folders = payload\n    },\n    setFolderTree(state, payload){\n        state.folderTree = payload\n    },\n    setFoldersMap(state, payload){\n        state.foldersMap = payload\n    },\n    setDocs(state, payload){\n        state.docs = payload || []\n    },\n    setListSocket(state, payload){\n        state.listSocket = payload\n    },\n    setListDocs(state, payload){\n        state.listDocs = payload\n    },\n    setCollisionTemplates(state, payload){\n        state.templates_collision = payload\n    }\n}\n\nconst actions = {\n    createXml({rootState, commit}, body){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.post(http['cloud'], api['create_xml'], body, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    console.log('create_xml er', er)\n                    resolve(er)\n                }\n            )\n        })\n    },\n    checkCreateXml({rootState, dispatch, commit}, payload){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['cloud'], api['create_xml'], {\n                id: payload.task_id\n            }, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    console.log('check create_xml er', er)\n                    resolve(er)\n                }\n            )\n        })\n    },\n    getCollisionTemplates({rootState, commit}){\n        let token = rootState.auth.access_token\n\n        api.get(http['cloud'], api['templates'], {}, {\n            authorization: 'Bearer ' + token\n        })\n        .then(res => {\n            let tmpl = res || []\n            commit('setCollisionTemplates', tmpl)\n        },\n            er => {\n                console.log('get templates collisions error', er)\n            }\n        )\n    },\n    updateCollisionTemplates({rootState, dispatch, commit}, pld){\n        let token = rootState.auth.access_token\n\n        return api.post(http['cloud'], api['templates'], pld, {\n            authorization: 'Bearer ' + token\n        }, 'PUT')\n        .then(res => {\n            dispatch('getCollisionTemplates')\n            return true\n            // let tnpl = res || []\n            // commit('setCollisionTemplates', tmpl)\n        },\n            er => {\n                console.log('update templates collisions error', er)\n                return er\n            }\n        )\n    },\n    deleteCollisionTemplates({rootState, dispatch, commit}, pld){\n        let token = rootState.auth.access_token\n\n        return api.post(http['cloud'], api['template'] + '/' +  pld.id, {}, {\n            authorization: 'Bearer ' + token\n        }, 'DELETE')\n        .then(res => {\n            dispatch('getCollisionTemplates')\n            return true\n            // let tnpl = res || []\n            // commit('setCollisionTemplates', tmpl)\n        },\n            er => {\n                console.log('update templates collisions error', er)\n                return er\n            }\n        )\n    },\n    getHistory({rootState, commit}, payload){\n        let token = rootState.auth.access_token\n        let user = rootState.administration.user\n        let project = rootState.workflow.activeProject\n\n        return new Promise((resolve) => {\n            api.get(http['project'], api['messages'], {\n                typ: 0,\n                id: user.company.toString(),\n                prj: project.id.toString(),\n                did: payload.did.toString(),\n                ver: parseInt(payload.version),\n                frm: null,\n                siz: '100',\n                lid: null\n            }, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                resolve({\n                    version: parseInt(payload.version),\n                    created: payload.created,\n                    msgs: res.msgs\n                })\n            },\n                er => {\n                    console.log('get history er', er)\n                    resolve(er)\n                }\n            )\n        })\n    },\n    getProjects({rootState, dispatch, commit}, payload){\n        let token = rootState.auth.access_token\n        const {type_id, id} = payload\n\n        api.get(http['project'], api['projects'] + type_id + '/' + id, {}, {\n            authorization: 'Bearer ' + token\n        })\n        .then(res => {\n                let list = res || []\n                commit('setProject', list)\n            },\n            er => {\n                console.log('get projects er', er)\n                if(er.status == 401){\n                    // let lState = JSON.parse(localStorage.getItem('state'))\n                    // localStorage.setItem('state', JSON.stringify({\n                    //     ...lState.state,\n                    //     path: router.currentRoute.path,\n                    //     url: router.currentRoute.fullPath\n                    // }))\n                    dispatch('auth/refresh')\n                    .then(res => {\n                        dispatch('getProjects', payload)\n                    })\n                }\n            }\n        )\n    },\n    addProject({rootState, dispatch}, payload){\n        let token = rootState.auth.access_token\n        const {type_id, id, uuid, body} = payload\n        let params = type_id + '/' + id + '/' + uuid + '/'\n\n        api.post(http['project'], api['projects'] + params + 'info', body, {\n            authorization: 'Bearer ' + token\n        })\n        .then(() => {\n            dispatch('getProjects', {type_id, id})\n        })\n    },\n    updateProject({rootState, dispatch}, payload){\n        let token = rootState.auth.access_token\n        const {type_id, id, uuid, body} = payload\n        let params = type_id + '/' + id + '/' + uuid + '/'\n\n        api.post(http['project'], api['projects'] + params + 'info', body, {\n            authorization: 'Bearer ' + token\n        })\n        .then(() => {\n            dispatch('getProjects', {type_id, id})\n        })\n    },\n    removeProject({rootState, state, commit, dispatch}, payload){\n        let token = rootState.auth.access_token\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        const {uuid} = payload\n        let params = type_id + '/' + id + '/' + uuid\n\n        return new Promise((resolve) => {\n            resolve(api.post(http['project'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token\n            }, 'DELETE'))\n        })\n    },\n    getProjectSize({rootState, state, commit}, pld){\n        let token = rootState.auth.access_token\n        const id = rootState.administration.company.id\n        let params = id + '/' + pld.id\n\n        return new Promise((resolve) => {\n            resolve(api.get(http['cloud'], api['project_size'] + params, {}, {\n                authorization: 'Bearer ' + token\n            }))\n        })\n    },\n    getRemovedFiles({rootState, state, commit}){\n        let token = rootState.auth.access_token\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/trash'\n\n        return new Promise((resolve) => {\n            resolve(api.get(http['project'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token\n            }))\n        })\n    },\n    restoreFiles({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n\n        let params = type_id + '/'\n            + id + '/'\n            + payload.uuid\n            + '/attachment/trash/'\n            + payload.fileType + '/'\n            + payload.fileId\n\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(\n                res => {\n                    resolve({\n                        fileType: payload.fileType,\n                        name: payload.fileName,\n                        id: payload.fileId,\n                        status: 1\n                    })\n                },\n                er => {\n                    resolve({\n                        fileType: payload.fileType,\n                        name: payload.fileName,\n                        id: payload.fileId,\n                        status: 0,\n                        text: er.data.error\n                    })\n                }\n            )\n        })\n    },\n    addConsolidation({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        const uuid = state.activeProject.id\n\n        let params = type_id + '/'\n            + id + '/'\n            + uuid + '/'\n            + 'consolidation'\n\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, payload.body, {\n                authorization: 'Bearer ' + token\n            }, 'PUT')\n            .then(\n                res => {\n                    resolve(res)\n                },\n                er => {\n                    resolve({\n                        status: 0,\n                        text: er.data.error\n                    })\n                }\n            )\n        })\n    },\n    removeRemovedFiles({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n\n        let params = type_id + '/'\n            + id + '/'\n        switch(payload.action){\n            case 'trash': params += 'trash'\n                break\n            case 'project': params += payload.uuid + '/attachment/trash/'\n                break\n            case 'file': params += payload.uuid + '/attachment/trash/file/' + payload.fileId\n                break\n            case 'folder': params += payload.uuid + '/attachment/trash/folder/' + payload.fileId\n                break\n            default: params += payload.uuid + '/attachment/trash/file/' + payload.fileId\n        }\n\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token\n            }, 'DELETE')\n            .then(\n                res => {\n                    resolve({\n                        fileType: payload.fileType,\n                        name: payload.fileName,\n                        id: payload.fileId,\n                        status: 1\n                    })\n                },\n                er => {\n                    resolve({\n                        fileType: payload.fileType,\n                        name: payload.fileName,\n                        id: payload.fileId,\n                        status: 0,\n                        text: er.data.error\n                    })\n                }\n            )\n        })\n    },\n    setMarkerHelper({state,commit}, payload){\n        let value = (!state.markerStack.length ? !state.markerList.length ? 0 : state.markerList[state.markerList.length - 1].value : state.markerStack[state.markerStack.length - 1].value) + 1\n        let marker = {\n            value: value,\n            status: false,\n            x: 0,\n            y: 0\n        }\n        marker = {...marker, ...payload}\n        commit('setMarkerHelper', marker)\n    },\n    addMarker({state, commit, dispatch}, payload){\n        let count = state.markerHelper.value\n        let id = (new Date().getTime()).toString()\n        let marker = {\n            id: id,\n            x: payload.x,\n            y: payload.y,\n            w: 0,\n            h: 0,\n            value: count\n        }\n        dispatch('setMarkerHelper', {status: false})\n        commit('addMarker', marker)\n    },\n    updateMarker({state, commit}, payload){\n        let list = state.markerStack\n        list = list.map(i => i.id == payload.id ? {...i, ...payload} : i)\n        commit('updateMarkerStack', list)\n    },\n    setMarkerList({state, commit}, payload){\n        let list = [...state.markerList, ...payload]\n        commit('setMarkerList', list)\n    },\n    removeMarker({state, commit}, payload){\n        let list = state.markerStack\n        list = list.filter(i => i.id != payload)\n        if(list.length){\n            let value = state.markerList.length + 1\n            let listValue = list\n            list = listValue.map((i, j) => ({...i, value: value + j}))\n        }\n        commit('updateMarkerStack', list)\n    },\n\n    dropNode({state, commit}, payload){\n        let list = []\n        if(payload.drop){\n            list = payload.list.map(i => {\n                i.data.position = i.path[i.path.length - 1]\n                if(!(i.path.length - 1)){\n                    i.data.parent = 0\n                }\n                else{\n                    let str = '[' + i.path.slice(0, -1).join(',') + ']'\n                    i.data.parent = payload.list.filter(n => n.pathStr == str)[0].data.id\n                }\n                return i\n            })\n        }\n        else{\n            list = [...payload.list]\n        }\n        commit('updateGroup', list)\n    },\n    setExpanded({state, commit}, payload){\n        commit('setExpanded', payload)\n        let map = state.foldersMap.map(i => payload.filter(j => j == i.id).length ?\n                                        {...i, isExpanded: true} : {...i, isExpanded: false})\n\n        commit('setFoldersMap', map)\n    },\n    getFile({rootState, commit}, payload){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['cloud'], api['getfile'] + payload.id, {}, {\n                authorization: 'Bearer ' + token,\n            }, true)\n            .then(res => {\n                resolve({id: payload.id, file: res})\n            },\n                er => 'empty'\n            )\n        })\n    },\n\n    getGroups({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/'\n\n        return new Promise((resolve) => {\n            api.get(http['project'], api['projects'] + params + 'attachment/groups', {}, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                commit('setGroups', res)\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    getFolders({rootState, dispatch, commit}){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/'\n        return new Promise((resolve) => {\n            api.get(http['project'], api['projects'] + params + 'attachment', {}, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                commit('setFolders', res || [])\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    createFoldersMap({rootState, state, dispatch, commit}){\n        let folders = state.folders || []\n        let groups = state.groups || []\n        let user = rootState.administration.user\n        let adminPerms = rootState.administration.groupPermissions\n        let folderPerms = rootState.administration.folderPermissions\n        let filePerms = rootState.administration.filesPermissions\n\n        let map = service.createMap(folders)\n        groups = groups.map(g => {\n            g.id = 'group_' + g.name\n            g.parent = 0\n            g.group = g.id\n            g.toGroup = 'root'\n\n            if(g.folders && g.folders.length){\n                g.folders.map(l => {\n                    map = map.map(f => {\n                        if(f.id == l.folder){\n                            f.parent = g.id\n                            f.toGroup = g.id\n                        }\n                        return f\n                    })\n                })\n            }\n            return g\n        })\n\n        let listDocs = []\n        let listSocket = []\n        map.map(i => {\n            if(i.files){\n                i.files.map(f => {\n                    if(!f.is_deleted){\n                        let reg = /{.*}/\n                        let props = f.name.match(reg)\n                        let name = ''\n                        let name_short = ''\n                        let type = ''\n                        let inwork = false\n                        let url = ''\n\n                        let arName = f.name.split('.')\n                        name = f.name\n                        type = arName.splice(-1, 1)[0] || 'type'\n                        if(!state.fileTypeList.some(s => s == type)){\n                            type = 'unknown'\n                        }\n                        if(f.consolidations){\n                            type = 'consolidations'\n                        }\n\n                        name_short = arName.join('.')\n                        url = !f.version\n                            ? f.files && f.files.length\n                                ? f.files[0].url\n                                : 1\n                            : f.files.filter(v => v.id == f.version)[0].url\n\n                        inwork = state.fileTypeConversion.some(s => s == type) ? true : false\n                        // if(inwork){\n                        //     if(!state.listSocket.some(s => s.inworkId == f.id)){\n                        //         //console.log('ssososososososososos ', f.id, url)\n                        //         listSocket.push({\n                        //             inworkId: f.id,\n                        //             url: url,\n                        //             socketId: ''\n                        //         })\n                        //     }\n                        //     else{\n                        //         state.listSocket.map(s => {\n                        //             if(s.inworkId == f.id){\n                        //                 inwork = f.inwork\n                        //             }\n                        //         })\n                        //     }\n                        // }\n                        if(inwork){\n                            listSocket.push({\n                                inworkId: f.id,\n                                url: url,\n                                socketId: ''\n                            })\n                        }\n\n                        listDocs.push({\n                            ...f,\n                            inwork: false,//inwork,\n                            status_file: -1,\n                            tags: [],\n                            type: type,\n                            name_short: name_short,\n                            access: setAccessFolderFile({\n                                userID: user.id + '',\n                                itemID: f.id + '',\n                                created_by: f.created_by + '',\n                                adminPerms: adminPerms,\n                                perms: filePerms\n                            })\n                        })\n                    }\n                })\n            }\n        })\n        //listSocket = [...state.listSocket, ...listSocket]\n        map = [...groups, ...map]\n        map = map.map(i => {\n            return {\n                ...i,\n                isExpanded: state.isExpandedList.filter(j => j == i.id).length,\n                access: !i.group\n                    ? setAccessFolderFile({\n                        userID: user.id + '',\n                        itemID: i.id + '',\n                        created_by: i.created_by + '',\n                        adminPerms: adminPerms,\n                        perms: folderPerms\n                    })\n                    : 3\n            }\n        }).filter(f => f.access & 1)\n        Promise.all([\n            commit('setFoldersMap', map),\n            commit('setListDocs', listDocs),\n            commit('setListSocket', listSocket)\n        ])\n        .then(() => {\n            if(state.listSocket.length){\n                dispatch('onSocket')\n            }\n        })\n    },\n    onSocket({rootState, state, dispatch, commit}, payload){\n\n        //let token = new Blob([rootState.auth.access_token])\n        let token = rootState.auth.access_token\n        let list = []\n        state.listSocket.map(s => {\n            if(s.url && !s.socketId){\n                s.socketId = new WebSocket(http['socket_files']\n                        + api['socket_files']\n                        + s.url\n                )\n                s.socketId.onmessage = function(e){\n                    let response = JSON.parse(e.data)\n                    let close = false\n\n                    let listDocs = state.listDocs.map(i => {\n                        if(i.id == s.inworkId){\n\n                            if(i.inwork && response.tags){\n                                if(response.tags['next.version.json'] && response.tags['next.version.json'] == 1){\n                                    Promise.all([\n                                        dispatch('getFolders'),\n                                        dispatch('getGroups')\n                                    ])\n                                    .finally(res => {\n                                        dispatch('createFoldersMap')\n                                    })\n                                }\n                            }\n\n                            i.status_file = response.sts\n                            switch(response.sts){\n                                case -1:\n                                    i.inwork = false\n                                    i.tags = response.tags || {}\n                                    close = true\n                                    break\n                                case 0:\n                                    i.inwork = true\n                                    i.tags = response.tags || {}\n                                    break\n                                case 1:\n                                    i.inwork = false\n                                    i.tags = response.tags\n                                    close = true\n                                    break\n                                case 2:\n                                    i.inwork = true\n                                    i.tags = response.tags\n                                    break\n                                case 3:\n                                    i.inwork = false\n                                    close = true\n                                    i.tags = response.tags\n                                    break\n                                default: {\n                                    i.inwork = false\n                                    i.tags = response.tags || {}\n                                    close = true\n                                }\n                            }\n                        }\n                        return i\n                    })\n                    commit('setListDocs', listDocs)\n                    if(close){\n                        if(s.socketId.readyState != 2 || s.socketId.readyState != 3){\n                            s.socketId.close()\n                        }\n                    }\n                }\n                s.socketId.onopen = function(e){\n                    s.socketId.send(token)\n                }\n                s.socketId.onclose = function(e){\n                    dispatch('socketClose', s.inworkId)\n                }\n            }\n        })\n    },\n    socketClose({state, commit}, id){\n        let list = state.listSocket.map(s => {\n            if(s.inworkId == id){\n                s.socketId = ''\n            }\n            return s\n        })\n        //list = list.filter(s => s.inworkId != id)\n        commit('setListSocket', list)\n    },\n    convertationTag({rootState, commit}, pld){\n        let token = rootState.auth.access_token\n        const uuid = pld.uuid\n        const tag = pld.tag\n        let params = uuid + '/' + tag\n        let attachment = pld.force ? '?force=true' : ''\n        let body = pld.body || {}//pld.force ? {force: true} : {}\n        return new Promise((resolve) => {\n            api.post(http['cloud'], api['getfile'] + params + attachment, body, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    resolve(er)\n                }\n            )\n        })\n    },\n    fixModel({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/file/' + payload.id + '/fix'\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    getClue({rootState, state, commit}, body){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve, reject) => {\n            api.post(http['project'], api['class_error'], body, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    reject(null)\n                }\n            )\n        })\n    },\n    getAttributes({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        // let params = '/' + payload.class + '/' + payload.name\n        let params = payload\n        return new Promise((resolve, reject) => {\n            // api.get(http['project'], api['attr_error'] + params, {}, {\n            api.get(http['project'], api['attr_error'], params, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    reject(null)\n                }\n            )\n        })\n    },\n    getParameters({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        let params = payload // '/' + payload.name\n        return new Promise((resolve, reject) => {\n            // api.get(http['project'], api['attr_error'] + params, {}, {\n            api.get(http['project'], api['attr_error'], params, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    reject(null)\n                }\n            )\n        })\n    },\n    getDelta({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/file/' + payload.id + '/delta'\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    createTree({state, commit}, ar){\n        //ar = ar || state.folders\n        let folders = ar || state.folders\n        //let result = []\n        //let level = {result}\n        let expanded = state.currentFolder\n        let selected = state.currentFolder\n\n        expanded = expanded.split('/').slice(1)\n        let expandedList = []\n        expanded.map(i => {\n            let str = expandedList.join('') + '/' + i\n            expandedList.push(str)\n        })\n\n        let id = 1\n\n        const createTree = (a, g = false) => {\n            let group = g || false\n            let result = []\n            let level = {result}\n            a.map(path => {\n                let arPath = path.split('/').slice(1, 3)\n                let opened = expandedList.filter(i => i == path).length ? true : false\n\n                arPath.reduce((r, title, i, arPath) => {\n                    if(!r[title]){// && i < 2){\n                        r[title] = {result: []}\n                        r.result.push({\n                            title,\n                            data: {\n                                id: id++,\n                                path: path,\n                                group: false,\n                                toGroup: group\n                            },\n                            //isLeaf: i ? true : false,\n                            isExpanded: opened,\n                            isSelected: selected == path ? true : false,\n                            children: r[title].result\n                        })\n                    }\n\n                    return r[title]\n                }, level)\n            })\n            return result\n        }\n\n        let groups = state.groups.map(i => {\n            let group = {\n                title: i.group,\n                data: {\n                    id: id++,\n                    path: '/' + i.group,\n                    group: true,\n                    toGroup: i.group\n                },\n                //isLeaf: i ? true : false,\n                isExpanded: true,\n                isSelected: selected == '/' + i.group ? true : false,\n                children: createTree(i.folders, i.group)\n            }\n            i.folders.map(i => {\n                folders = folders.filter(f => f != i)\n            })\n            return group\n        })\n        /*\n        ar.map(path => {\n            let a = path.split('/').slice(1)\n            let opened = expandedList.filter(i => i == path).length ? true : false\n\n            a.reduce((r, title, i, a) => {\n                if(!r[title]){\n                    r[title] = {result: []}\n                    r.result.push({\n                        title,\n                        data: {\n                            path: path,\n                            group: false,\n                            insideGroup: false\n                        },\n                        //isLeaf: i ? true : false,\n                        isExpanded: opened,\n                        isSelected: selected == path ? true : false,\n                        children: r[title].result\n                    })\n                }\n\n                return r[title]\n            }, level)\n        })\n        */\n        let folderList = createTree(folders)\n        let tree = [...groups, ...folderList]\n        let map = service.createMap(tree)\n        commit('setFolderTree', tree)\n        commit('setFoldersMap', map)\n    },\n    getDocs({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/'\n\n        return new Promise((resolve) => {\n            api.get(http['project'], api['projects'] + params + 'attachment/files', {}, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                commit('setDocs', res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    addDoc({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/file'\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, payload, {\n                authorization: 'Bearer ' + token,\n            }, 'PUT')\n            .then(res => {\n                resolve(res)\n            },\n                er => {\n                    resolve({...er, error: true})\n                }\n            )\n            .catch(er => {\n                resolve({...er, error: true})\n            })\n        })\n    },\n    updateDocInState({state, commit}, doc){\n        let list = state.listDocs.map(d => d.id == doc.id ? {...d, ...doc} : d)\n        let foldersMap = state.foldersMap.map(i => {\n            if(i.id == doc.folder){\n                i.files = i.files.map(f => f.id == doc.id\n                                                            ? {...f, ...doc}\n                                                            : f)\n            }\n            return i\n        })\n        commit('setFoldersMap', foldersMap)\n        commit('setListDocs', list)\n    },\n    removeDoc({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/file/' + payload.id\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token,\n            }, 'DELETE')\n            .then(res => {\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    addGroup({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/group'\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, payload, {\n                authorization: 'Bearer ' + token,\n            }, 'PUT')\n            .then(res => {\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    addFolder({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/folder'\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, payload, {\n                authorization: 'Bearer ' + token,\n            }, 'PUT')\n            .then(res => {\n                res.notify = 1\n                resolve(res)\n            },\n                er => {\n                    er.notify = 0\n                    resolve(er)\n                }\n            )\n        })\n    },\n    removeGroup({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/group'\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, payload, {\n                authorization: 'Bearer ' + token,\n            }, 'DELETE')\n            .then(res => {\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    removeFolder({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/folder/' + payload.uuid\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token,\n            }, 'DELETE')\n            .then(res => {\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    updateNode({state, commit}, payload){\n        let list = payload.nodes.map(n => n.data.id == payload.id ? {...n, title: payload.props.name} : n)\n        commit('updateGroup', list)\n    },\n    updateGroups({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/'\n        let body = payload\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params + 'attachment/groups', body, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                resolve(res)\n            },\n                er => 'er'\n            )\n        })\n    },\n    updateFolders({rootState, state, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/'\n        return new Promise((resolve) => {\n            api.post(http['project'], api['projects'] + params + 'attachment/folders', {\n                pathes: payload.paths\n            }, {\n                authorization: 'Bearer ' + token,\n            })\n            .then(res => {\n                //commit('setFolders', res.pathes)\n                let parent = payload.parent || false\n                if(parent){\n                    commit('setCurrentFolder', parent)\n                }\n                resolve(res.pathes)\n            },\n                er => 'er'\n            )\n        })\n    },\n    setActiveProject({state, commit}, payload){\n        let project = state.projects.filter(item => item.id == payload.id)\n        project = project.length ? Object.assign({}, project[0]) : null\n        commit('setActiveProject', project)\n    },\n    setActiveGroup({state, commit}, payload){\n        commit('setActiveGroup', {\n            id: payload.id\n        })\n        if(payload.hasOwnProperty('value')){\n            let groups = [...state.groups]\n            groups = groups.map(i => i.id == payload.id ? {...i, active: payload.value} : i)\n            commit('updateGroup', groups)\n        }\n    },\n    saveChange({commit}, payload){\n        commit('saveChange', payload)\n    },\n    setCommentsHistory({state, commit}){\n        new Promise((resolve) => {\n            resolve(state.historyList)\n        })\n        .then(historyList => {\n            commit('setComments', historyList)\n            return historyList\n        })\n        .then(historyList => {\n            let anno_list = []\n            historyList.map(i => {\n                anno_list = [...anno_list, ...i.annotation]\n            })\n            commit('setMarkerList', anno_list)\n        })\n    },\n    // setComments({state, commit}, payload){\n    //     new Promise((resolve) => {\n    //         let list = comments.filter(i => i.documentId == payload.id)\n    //         resolve(list)\n    //     })\n    //     .then(list => {\n    //         commit('setComments', list)\n    //         return list\n    //     })\n    //     .then(list => {\n    //         if(payload.type == '2d'){\n    //             let anno_list = []\n    //             list.map(i => {\n    //                 anno_list = [...anno_list, ...i.annotation]\n    //             })\n    //             commit('setMarkerList', anno_list)\n    //         }\n    //     })\n    // },\n    addComment({state, commit, dispatch}, payload){\n        if(payload.doc == '2d'){\n            let comment = Object.assign({}, payload)\n            comment.id = new Date().getTime()\n            comment.annotation = [...state.markerStack]\n            comment.annotation = comment.annotation.map(i => ({...i, comment: comment.id}))\n            let list = [...state.commentList]\n            list = [...list, comment]\n            dispatch('setMarkerList', comment.annotation)\n            commit('addComment', list)\n            commit('clearMarkerStack')\n            commit('setActiveComment', comment.id)\n        }\n        if(payload.doc == '3d'){\n            let comment = Object.assign({}, payload)\n            comment.id = new Date().getTime()\n            comment.position = {\n                x: payload.position.x,\n                y: payload.position.y,\n                z: payload.position.z\n            }\n            let list = [...state.commentList]\n            list = [...list, comment]\n            commit('addComment', list)\n            commit('setActiveComment', comment.id)\n        }\n    },\n    updateComment({state, commit}, payload){\n        let list = state.commentList.map(item => item.id == payload.id ? Object.assign({}, item, {text: payload.text}) : item)\n        commit('updateComment', list)\n    },\n    removeComment({state, commit}, payload){\n        let list = state.commentList.filter(item => item.id != payload.id)\n        let markerList = []\n        list.map(i => {\n            markerList = [...markerList, ...i.annotation]\n        })\n        if(state.markerStack.length){\n            let value = !markerList.length ? 0 : markerList[markerList.length - 1].value\n            let markerStack = [...state.markerStack]\n            markerStack = markerStack.map((i, j) => ({...i, value: value + j + 1}))\n            commit('updateMarkerStack', markerStack)\n        }\n        commit('setMarkerList', markerList)\n        commit('updateComment', list)\n    },\n    saveCommentState({state, commit}, payload){\n        let commentState = {\n            status: true,\n            markerStack: state.markerStack,\n            commentActive: state.activeComment,\n            commentInput: payload.input\n        }\n        commit('saveCommentState', commentState)\n    },\n    addReply({state, commit}, payload){\n        let comment = state.commentList.filter(item => item.id == payload.id)[0]\n\n        payload.reply.id = new Date().getTime()\n        comment.reply.push(payload.reply)\n        let list = state.commentList.map(item => item.id == payload.id ? comment : item)\n        commit('updateComment', list)\n    },\n    updateReply({state, commit}, payload){\n        let comment = state.commentList.filter(item => item.id == payload.comment_id)[0]\n        let replyList = comment.reply\n        replyList = replyList.map(item => item.id == payload.id ? Object.assign({}, item, {text: payload.text}) : item)\n        comment.reply = replyList\n\n        let list = state.commentList.map(item => item.id == payload.comment_id ? Object.assign({}, item, {reply: replyList}) : item)\n\n        commit('updateComment', list)\n    },\n    removeReply({state, commit}, payload){\n        let comment = state.commentList.filter(item => item.id == payload.comment_id)[0]\n        let replyList = comment.reply\n        replyList = replyList.filter(item => item.id != payload.id)\n        let list = state.commentList.map(item => item.id == payload.comment_id ? Object.assign({}, item, {reply: replyList}) : item)\n        commit('updateComment', list)\n    },\n    getTaskProject({rootState, commit}, payload){\n        let token = rootState.auth.access_token\n        const {type_id, id, project_uuid, filter} = payload\n        let user = rootState.administration.user.id\n        api.get(http['tasks'], api['projects'] + type_id + '/' + id + '/' + project_uuid + '/tasks', filter, {\n            authorization: 'Bearer ' + token\n        })\n        .then(res => {\n            let list = res || []\n            commit('setTaskList', list)\n        })\n        .catch(er => {\n            console.log('get tasks er', er)\n        })\n    },\n    getTaskList({rootState, dispatch, commit}, payload){\n        let token = rootState.auth.access_token\n        const {type_id, id, project_uuid, filter} = payload\n        let user = rootState.administration.user.id\n        let userList = []\n        rootState.administration.groupPermissions\n            .filter(f => f.id == '1' || f.id == '2')\n            .map(p => {\n                userList = [...userList, ...p.users.map(u => {return u.id})]\n            })\n        let params = type_id + '/' + id + (project_uuid ? '/' + project_uuid : '') + '/tasks'\n\n        api.get(http['tasks'], api['projects'] + params, filter, {\n            authorization: 'Bearer ' + token\n        })\n        .then(res => {\n            let list = res || []\n            let plist = []\n            list = list.filter(f => userList.some(s => s == user) || f.user == user || f.owner == user)\n            list.map(l => {\n                    if(l.file && l.file != 'fff'){\n                        plist.push(dispatch('common/getFile', {id: l.file}, {root: true}))\n                    }\n                })\n            Promise.allSettled(plist)\n            .then(res => {\n                list = list.map(l => {\n                    let item = res.find(f => f.value.id == l.file)\n                    l.src = item\n                        ? item.value\n                            ? item.value.file\n                            : ''\n                        : ''\n                    l.task_id = parseInt(l.task_id)\n                    return l\n                })\n                commit('setTaskList', list)\n            })\n            .catch(er => {\n                console.log('get tasks er, get screen er', er)\n            })\n        })\n        .catch(er => {\n            console.log('get tasks er', er)\n        })\n    },\n    updateTask({rootState, dispatch}, payload){\n        let token = rootState.auth.access_token\n        const {type_id, id, project_uuid, body, docid, filter} = payload\n        let task_id = payload.task_id ? '/' + payload.task_id : ''\n\n        api.post(http['tasks'], api['projects'] + type_id + '/' + id + '/' + project_uuid + '/task' + task_id, body, {\n            authorization: 'Bearer ' + token,\n            'content-type': false\n        })\n        .then(res => {\n            dispatch('getTaskList', {\n                type_id: type_id,\n                id: id,\n                project_uuid: project_uuid,\n                filter: filter\n            })\n        })\n        .catch(er => {\n            console.log('get tasks er', er)\n        })\n    },\n    getWorkList({rootState, commit}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/file/'\n            + payload.file + '/task'\n        return new Promise((resolve, reject) => {\n            api.get(http['cloud'], api['projects'] + params, {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                resolve(res)\n            })\n            .catch(er => {\n                reject(er)\n            })\n        })\n    },\n    setWorkList({rootState}, payload){\n        let token = rootState.auth.access_token\n        const uuid = state.activeProject.id\n        const type_id = 'c'\n        const id = rootState.administration.company.id\n        let params = type_id + '/' + id + '/' + uuid + '/attachment/file/'\n            + payload.file + '/task'\n\n        let body = payload.body\n\n        return new Promise((resolve) => {\n            api.post(http['cloud'], api['projects'] + params, body, {\n                authorization: 'Bearer ' + token,\n            }, 'PUT')\n            .then(res => {\n                resolve(res)\n            })\n            .catch(er => {\n                console.log('set tasks er', er)\n                resolve(er)\n            })\n        })\n    },\n    getWorkList_({rootState, commit}, payload){\n        // let token = rootState.common.bearer\n\n        return new Promise((resolve, reject) => {\n            api.post(http['api'], api['getjobs'], {unitbim_file_id: '2016e938998b-2135-439d-bc8a-8574aea89003'}, {\n                authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uX2lkIjo1Njc5LCJpYXQiOjE2NTI3ODYzMjV9.iH1kovseBbTsYPFpYBwuw0mUZ-z-owph63KSx4eoIXU'\n            })\n            .then(res => {\n                resolve(res)\n            })\n            .catch(er => {\n                console.log('get job er', er)\n                reject(er)\n            })\n        })\n    },\n    setWorkList_({rootState}, payload){\n        // let token = rootState.common.bearer\n        let body = payload.body\n\n        return new Promise((resolve, reject) => {\n            api.post(http['api'], api['setjob'], body, {\n                authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uX2lkIjo1Njc5LCJpYXQiOjE2NTI3ODYzMjV9.iH1kovseBbTsYPFpYBwuw0mUZ-z-owph63KSx4eoIXU'\n            })\n            .then(res => {\n                resolve(res)\n            })\n            .catch(er => {\n                console.log('set job er', er)\n                reject(er)\n            })\n        })\n    },\n    jsonToXlsx({rootState}, payload){\n        let token = rootState.auth.access_token\n        return new Promise((resolve) => {\n            api.post(http['cloud'], api['json_to_xlsx'], payload, {\n                authorization: 'Bearer ' + token,\n            }, 'POST', false, true)\n            .then(res => {\n                resolve({file: res})\n            })\n            .catch(er => {\n                console.log('json_to_xlsx er', er)\n                reject({error: er})\n            })\n        })\n    },\n}\n\nexport default {\n    namespaced: true,\n    state,\n    actions,\n    mutations\n}\n","import { http, api } from '@/utils/define'\nimport { createAvatarChar, setPermission } from '@/utils/services'\n\nconst state = {\n    configLicense: {\n        collisions: {code: 23, type: 'RouteUserInt'},\n        size2000: {code: 23, type: 'RouteUserInt'},\n        errorKSI: {code: 23, type: 'RouteUserInt'},\n        size2000: {code: 22, type: 'RouteUserPro'},\n        consolidation: {code: 22, type: 'RouteUserPro'},\n        commentsPDF: {code: 21, type: 'RouteUserBase'},\n        tasksPDF: {code: 21, type: 'RouteUserBase'},\n        size2000: {code: 21, type: 'RouteUserBase'},\n        editRVT: {code: 21, type: 'RouteUserBase'},\n        size20: {code: 20, type: 'RouteUserStart'},\n    },\n    licenseList: [],\n    currentLicense: null,\n    userAvatar: {\n        type: 'default',\n        src: '',\n        avatar: ''\n    },\n    companyLogo: {\n        type: 'default',\n        src: '',\n        avatar: ''\n    },\n    existUser: false,\n    groupPermissions: [],\n    folderPermissions: [],\n    filesPermissions: [],\n    user: {\n        \"id\": 0,\n        \"company\": 0,\n        \"role\": '0',\n        \"type_id\": '',\n        \"country_id\": null,\n        \"region_id\": null,\n        \"city\": \"\",\n        \"address\": \"\",\n        \"post_code\": \"\",\n        \"profession\": \"\",\n        \"position\": \"\",\n        \"department\": \"\",\n        \"university\": \"\",\n        \"avatar\": \"\",\n        \"is_deleted\": 0,\n        \"type\": \"\",\n        \"country\": \"\",\n        \"region\": \"\",\n        \"email\": \"\",\n        \"first_name\": \"\",\n        \"middle_name\": \"\",\n        \"last_name\": \"\",\n        \"gender\": \"\",\n        \"birth_day\": 0,\n        \"status\": 0\n    },\n    company: {\n        \"id\": 0,\n        \"name\": \"\",\n        \"official_name\": \"\",\n        \"inn\": \"\",\n        \"kpp\": \"\",\n        \"ogrn\": \"\",\n        \"country_id\": null,\n        \"region_id\": null,\n        \"city\": \"\",\n        \"address\": \"\",\n        \"post_code\": \"\",\n        \"logo\": \"\",\n        \"is_deleted\": 0,\n        \"owner\": 0,\n        \"country\": \"\",\n        \"region\": \"\"\n    },\n    history_limit: 3,\n    invited: []\n}\n\nconst mutations = {\n    setConfig(state, payload){\n        state.configLicense = payload\n    },\n    setLicense(state, payload){\n        state.licenseList = payload\n    },\n    setCurrentLicense(state, payload){\n        state.currentLicense = payload\n    },\n    setGroupPermissions(state, payload){\n        let groups = JSON.parse(JSON.stringify(payload))\n        state.groupPermissions = groups\n    },\n    setFolderPermissions(state, payload){\n        let groups = JSON.parse(JSON.stringify(payload))\n        state.folderPermissions = groups\n    },\n    setFilesPermissions(state, payload){\n        let groups = JSON.parse(JSON.stringify(payload))\n        state.filesPermissions = groups\n    },\n    existUser(state, payload){\n        state.existUser = payload\n    },\n    setUser(state, payload){\n        let user = JSON.parse(JSON.stringify(payload))\n        state.user = {...state.user, ...user}\n    },\n    setCompany(state, payload){\n        let c = JSON.parse(JSON.stringify(payload))\n        state.company = {...state.company, ...c}\n    },\n    setAvatar(state, payload){\n        state[payload.name].type = payload.type\n        state[payload.name].src = payload.value\n        state[payload.name].avatar = payload.avatar\n    },\n    invited(state, list){\n        state.invited = list\n    },\n    setHistoryLimit(state, limit){\n        state.history_limit = limit\n    },\n}\n\nconst actions = {\n    getGroupPermissions({rootState, state, dispatch, commit}, params = null){\n        let token = rootState.auth.access_token\ndispatch('getConfig')\ndispatch('getLicense')\n        return new Promise((resolve) => {\n            api.get(http['account'], api['permission'] + '/company/groups', {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                    res = res || []\n                    res = res.map(r => {\n                        let users = r.users ? r.users : []\n                        if(params){\n                            if(users.some(u => u.id + '' == params.id + '')){\n                                commit('setUser', {\n                                    role: r.id,\n                                    permission: setPermission(r)\n                                })\n                            }\n                        }\n                        else{\n                            if(users.some(u => u.id + '' == state.user.id + '')){\n                                commit('setUser', {\n                                    role: r.id,\n                                    permission: setPermission(r)\n                                })\n                            }\n                        }\n                        return {\n                            ...r,\n                            users: users\n                        }\n                    })\n                    commit('setGroupPermissions', res)\n\n                    resolve(res)\n                },\n                er => {\n                    console.log('er',er)\n                    resolve(false)\n            })\n        })\n    },\n    getFoldersPermissions({rootState, commit}, params = null){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['account'], api['permission'] + '/company/folders', {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                    commit('setFolderPermissions', res)\n\n                    resolve(res)\n                },\n                er => {\n                    console.log('er',er)\n                    resolve(false)\n            })\n        })\n    },\n    getFilesPermissions({rootState, commit}, params = null){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['account'], api['permission'] + '/company/files', {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                    commit('setFilesPermissions', res)\n\n                    resolve(res)\n                },\n                er => {\n                    console.log('er',er)\n                    resolve(false)\n            })\n        })\n    },\n    setUserPermissions({rootState, commit}, params){\n        let token = rootState.auth.access_token\n        return new Promise((resolve) => {\n            api.post(http['account'], api['permission']\n                + '/company/group/'\n                + params.id\n                + '/user', params.body, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                    resolve(res)\n                },\n                er => {\n                    console.log('er',er)\n                    resolve(false)\n            })\n        })\n    },\n    setGroupPermissions({rootState, commit}, params){\n        let token = rootState.auth.access_token\n        return new Promise((resolve) => {\n            api.post(http['account'], api['permission']\n                + '/company/group/'\n                + params.id\n                + '/permissions', params.body, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                    resolve(res)\n                },\n                er => {\n                    console.log('er',er)\n                    resolve(false)\n            })\n        })\n    },\n    setFolderPermissions({rootState, commit}, params){\n        let token = rootState.auth.access_token\n        return new Promise((resolve) => {\n            api.post(http['account'], api['permission']\n                + '/company/folder/'\n                + params.id, params.body, {\n                authorization: 'Bearer ' + token\n            }, \"PUT\")\n            .then(res => {\n                    resolve(res)\n                },\n                er => {\n                    console.log('er',er)\n                    resolve(false)\n            })\n        })\n    },\n    setFilesPermissions({rootState, commit}, params){\n        let token = rootState.auth.access_token\n        return new Promise((resolve) => {\n            api.post(http['account'], api['permission']\n                + '/company/file/'\n                + params.id, params.body, {\n                authorization: 'Bearer ' + token\n            }, \"PUT\")\n            .then(res => {\n                    resolve(res)\n                },\n                er => {\n                    console.log('er',er)\n                    resolve(false)\n            })\n        })\n    },\n    getHistoryLimit({rootState, commit}){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['project'], api['history_limit'], {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                commit('setHistoryLimit', res.history_limit)\n                resolve(res.history_limit)\n            })\n        })\n    },\n    setHistoryLimit({rootState, commit}, limit){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.post(http['project'], api['history_limit'], {history_limit: limit}, {\n                authorization: 'Bearer ' + token\n            }, 'PUT')\n            .then(res => {\n                commit('setHistoryLimit', res.history_limit)\n                resolve(res.history_limit)\n            })\n        })\n    },\n    defaultAvatar({commit}, payload){\n        let char = payload.str ? payload.str.charAt(0) : \"U\"\n        let size = 150\n        let fontSize = 90\n        let avatar = createAvatarChar(char, size, fontSize)\n        let avatarSmall = createAvatarChar(char)\n\n        commit('setAvatar', {name: payload.name, type: 'default', value: avatar, avatar: avatarSmall})\n    },\n    addUser({rootState, commit, dispatch}){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['account_user'], {}, {\n                authorization: 'Bearer ' + token\n            }, 'PUT')\n            .then(res => {\n                commit('setUser', res)\n                dispatch('defaultAvatar', {name: 'userAvatar', str: res.first_name})\n                return dispatch('getGroupPermissions', null)\n            })\n            .then(res => {\n                return dispatch('setCompany', res)\n            })\n            .then(res => {\n                resolve(res)\n            })\n        })\n    },\n    getUser({rootState, commit, dispatch, state}){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['account'], api['account_user'], {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                res.id = res.id + ''\n                state.groupPermissions.map(r => {\n                    let users = r.users ? r.users : []\n                    if(res.id){\n                        if(users.some(u => u.id == res.id)){\n                            res.role = r.id\n                        }\n                    }\n                })\n                commit('setUser', res)\n\n                let avatar = res.avatar || false\n\n                //dispatch('defaultAvatar', {name: 'userAvatar', str: res.first_name})\n\n                if(avatar && (avatar.indexOf('data') == -1) && avatar.indexOf('blob') == -1){\n                    dispatch('common/getFile', {id: avatar}, {root: true})\n                    .then(res => {\n                        commit('setAvatar', {name: 'userAvatar', type: 'file', value: res.file, avatar: res.file})\n                    },\n                        er => {\n                            console.log(er)\n                        }\n                    )\n                }\n                else{\n                    dispatch('defaultAvatar', {name: 'userAvatar', str: res.first_name})\n                }\n\n                dispatch('getCompany')\n                .then(res => {\n                    resolve(res)\n                })\n            },\n                er => {\n                    console.log('er',er)\n                    if(er.status == 404){\n                        dispatch('addUser')\n                        .then(res => {\n                            resolve(res)\n                        })\n                    }\n            })\n        })\n    },\n    setCompany({rootState, commit, dispatch}, payload){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['account_company'], {}, {\n                authorization: 'Bearer ' + token\n            }, 'PUT')\n            .then(res => {\n                commit('setCompany', res)\n                dispatch('defaultAvatar', {name: 'companyLogo', str: ''})\n                commit('existUser', true)\n\n                resolve(res)\n            })\n        })\n    },\n    getCompany({rootState, state, commit, dispatch}){\n        let token = rootState.auth.access_token\n        return new Promise((resolve) => {\n            api.get(http['account'], api['account_company'], {with_users: true}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                let logo = res.logo || false\n\n                    //dispatch('defaultAvatar', {name: 'companyLogo', str: res.name})\n\n                if(logo && (logo.indexOf('data') == -1) && logo.indexOf('blob') == -1){\n                    dispatch('common/getFile', {id: logo}, {root: true})\n                    .then(res => {\n                        commit('setAvatar', {name: 'companyLogo', type: 'file', value: res.file, avatar: res.file})\n                    })\n                    .catch(e => {\n                        dispatch('defaultAvatar', {name: 'companyLogo', str: res.name})\n                    })\n                }\n                else{\n                    dispatch('defaultAvatar', {name: 'companyLogo', str: res.name})\n                }\n\n                commit('setCompany', res)\n                return res\n            })\n            .then(res => {\n                let promisesList = []\n                res.users.map(u => {\n                    if(u.avatar && (u.avatar.indexOf('data') == -1) && u.avatar.indexOf('blob') == -1){\n                        promisesList.push(dispatch('common/getFile', {id: u.avatar}, {root: true}))\n                    }\n                })\n                return Promise.all(promisesList)\n            })\n            .then(res => {\n                let company = JSON.parse(JSON.stringify(state.company))\n                company.users = company.users.map(u => {\n                    //\n\n                    // let name = u.first_name || u.email\n                    // return {\n                    //     ...u,\n                    //     id: u.id + '',\n                    //     avatar: createAvatarChar(name),\n                    //     avatarFull: createAvatarChar(name, 150, 90)\n                    // }\n\n                    if(u.avatar && (u.avatar.indexOf('data') == -1 && u.avatar.indexOf('blob') == -1)){\n                        let src = res.filter(l => l.id == u.avatar)[0]\n                        return {...u, avatarSrc: src.file, id: u.id + ''}\n                    }\n                    else{\n                        let name = u.first_name || u.email\n                        return {\n                            ...u,\n                            id: u.id + '',\n                            avatarSrc: createAvatarChar(name),\n                            avatarFull: createAvatarChar(name, 150, 90)\n                        }\n                    }\n                })\n                return company\n            })\n            .then(res => {\n                commit('setCompany', res)\n                commit('existUser', true)\n\n                resolve(res)\n            })\n        })\n    },\n    updateCompany({rootState, state, commit, dispatch}, company){\n        let token = rootState.auth.access_token\n        let props = Object.keys(company)\n        let body = {...state.company, ...company}\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['account_company'], body, {\n                authorization: 'Bearer ' + token\n            }, 'PUT')\n            .then(res => {\n                commit('setCompany', res)\n\n                let logo = res.logo || false\n\n                let alert = {\n                    status: 'success',\n                    text: 'Данные успешно обновлены.'\n                }\n                if(logo && (logo.indexOf('data') == -1 && logo.indexOf('blob') == -1)){\n                    dispatch('common/getFile', {id: logo}, {root: true})\n                    .then(res => {\n                        commit('setAvatar', {name: 'companyLogo', type: 'file', value: res.file, avatar: res.file})\n\n                        resolve(alert)\n                    })\n                }\n                else{\n                    dispatch('defaultAvatar', {name: 'companyLogo', str: res.name})\n\n                    resolve(alert)\n                }\n            },\n            er => {\n                let alert = {\n                    status: 'error',\n                    text: er.message\n                }\n                resolve(alert)\n            })\n        })\n    },\n    updateUser({rootState, state, commit, dispatch}, user){\n        let token = rootState.auth.access_token\n        let body = {...state.user, ...user}\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['account_user'], body, {\n                authorization: 'Bearer ' + token\n            }, 'PUT')\n            .then(res => {\n                commit('setUser', res)\n\n                let avatar = res.avatar || false\n\n                let alert = {\n                    status: 'success',\n                    text: 'Данные успешно обновлены.'\n                }\n                if(avatar && (avatar.indexOf('data') == -1) && avatar.indexOf('blob') == -1){\n                    dispatch('common/getFile', {id: avatar}, {root: true})\n                    .then(res => {\n                        commit('setAvatar', {name: 'userAvatar', type: 'file', value: res.file, avatar: res.file})\n\n                        resolve(alert)\n                    })\n                }\n                else{\n                    dispatch('defaultAvatar', {name: 'userAvatar', str: res.first_name})\n\n                    resolve(alert)\n                }\n            },\n            er => {\n                let alert = {\n                    status: 'error',\n                    text: er.message\n                }\n                resolve(alert)\n            })\n        })\n    },\n    updateEmployee({rootState, state, commit, dispatch}, user){\n        let token = rootState.auth.access_token\n        let body = user\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['account_user'], body, {\n                authorization: 'Bearer ' + token\n            }, 'PUT')\n            .then(res => {\n                commit('setUser', res)\n\n                let avatar = res.avatar || false\n\n                let alert = {\n                    status: 'success',\n                    text: 'Данные успешно обновлены.'\n                }\n                if(avatar && (avatar.indexOf('data') == -1) && avatar.indexOf('blob') == -1){\n                    dispatch('common/getFile', {id: avatar}, {root: true})\n                    .then(res => {\n                        commit('setAvatar', {name: 'userAvatar', type: 'file', value: res.file, avatar: res.file})\n\n                        resolve(alert)\n                    })\n                }\n                else{\n                    dispatch('defaultAvatar', {name: 'userAvatar', str: res.first_name})\n\n                    resolve(alert)\n                }\n            },\n            er => {\n                let alert = {\n                    status: 'error',\n                    text: er.message\n                }\n                resolve(alert)\n            })\n        })\n    },\n    inviteUser({rootState}, invite){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['invite'], invite, {\n                authorization: 'Bearer ' + token\n            }, 'POST')\n            .then(res => {\n                resolve(res)\n            },\n            er => {\n                let alert = {\n                    status: 'error',\n                    text: er.message\n                }\n                resolve(alert)\n            })\n        })\n    },\n    noregistredRemove({rootState, state, commit}, email){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['invite'] + '?email=' + email, {}, {\n                authorization: 'Bearer ' + token\n            }, 'DELETE')\n            .then(res => {\n                resolve(res)\n            },\n            er => {\n                let alert = {\n                    status: 'error',\n                    text: er.message\n                }\n                resolve(alert)\n            })\n        })\n    },\n    invitedRemove({rootState, state, commit}, id){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['invited_user'] + '/' + id, {}, {\n                authorization: 'Bearer ' + token\n            }, 'DELETE')\n            .then(res => {\n                resolve(res)\n            },\n            er => {\n                let alert = {\n                    status: 'error',\n                    text: er.message\n                }\n                resolve(alert)\n            })\n        })\n    },\n    invitedList({rootState, commit}){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['account'], api['invited'], {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                commit('invited', res)\n            })\n        })\n    },\n    newpass({state, commit}, pass){\n        let id = state.user.id\n        return new Promise((resolve) => {\n            api.post(http['login'], api['password'], {\n                old_password: pass.old_password,\n                new_password: pass.new_password,\n                user_id: id\n            }, {}, 'PUT')\n            .then(() => {\n                resolve({\n                    status: 'success',\n                    text: 'Вы успешно сменили пароль.'\n                })\n            },\n            er => {\n                let alert = {\n                    status: 'error',\n                    text: er.data.error\n                }\n                resolve(alert)\n            })\n        })\n    },\n    getConfig({rootState, commit}){\n        return new Promise((resolve) => {\n            api.get('', '/config/config.json', {}, {})\n            .then(res => {\n                commit('setConfig', res.configLicense)\n            })\n        })\n    },\n    getLicense({rootState, commit}){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.get(http['account'], api['license'] + '/order', {}, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                commit('setCurrentLicense', res)\n            })\n            .catch(er => {\n                commit('setCurrentLicense', null)\n            })\n        })\n    },\n    setLicense({rootState, commit}, payload){\n        let token = rootState.auth.access_token\n\n        return new Promise((resolve) => {\n            api.post(http['account'], api['license'] + '/order', payload, {\n                authorization: 'Bearer ' + token\n            })\n            .then(res => {\n                // console.log('setLicense', res)\n            })\n        })\n    },\n}\n\nexport default {\n    namespaced: true,\n    state,\n    actions,\n    mutations\n}\n","const state = {\n    title: '',\n    dct_name: '',\n    dct_status: ''\n}\n\nconst mutations = {\n    setTitle(state, payload){\n        state.title = payload\n    },\n    setDctView(state, payload){\n        state.dct_name = payload.name\n        state.dct_status = payload.status\n    }\n}\n\nconst  actions = {\n}\n\nexport default {\n    namespaced: true,\n    state,\n    actions,\n    mutations\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport common from './modules/common'\nimport auth from './modules/auth'\nimport comments from './modules/comments'\nimport workflow from './modules/workflow'\nimport administration from './modules/administration'\nimport toolbar from './modules/toolbar'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    modules: {\n        common,\n        auth,\n        comments,\n        workflow,\n        administration,\n        toolbar\n    }\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-back\",style:(_vm.style)},[_c('div',{staticClass:\"vm-progress\"},[_c('div',{staticClass:\"loader\"},[_c('svg',{staticClass:\"circular\",attrs:{\"viewBox\":\"25 25 50 50\"}},[_c('circle',{staticClass:\"path\",attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"20\",\"fill\":\"none\",\"stroke-width\":\"2\",\"stroke-miterlimit\":\"10\"}})])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div\n        class=\"m-back\"\n        :style=\"style\"\n        >\n        <div class=\"vm-progress\">\n            <div class=\"loader\">\n                <svg class=\"circular\" viewBox=\"25 25 50 50\">\n                    <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\n                </svg>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Init',\n    data: () => ({\n        width: 0,\n        height: 0,\n    }),\n    computed: {\n        style(){\n            return{\n                width: this.width + 'px',\n                height: this.height + 'px'\n            }\n        }\n    },\n    methods: {\n        getSize(){\n            this.width = window.innerWidth\n            this.height = window.innerHeight\n        },\n    },\n    mounted(){\n        this.getSize()\n    },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Init.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Init.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Init.vue?vue&type=template&id=6a0502c8\"\nimport script from \"./Init.vue?vue&type=script&lang=js\"\nexport * from \"./Init.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VLayout,{attrs:{\"app\":\"\"}},[_c('app-bar',{attrs:{\"part\":_vm.part}}),_c('sidebar',{attrs:{\"part\":_vm.part}}),_c('core-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Карта навигации в сайдбаре\n * @param {Object} main Объект формирующий сайдбар слева (РАЗДЕЛ), ссылку обратно, название сайдбара, * название страницы (в toolbar)\n *  @param {String} title Название сайдбара. В зависимости от типа: ссылка на изображение,  *  строка, шаблон\n *  @param {String} title_type Тип Назваия сайдбара. {img} - ссылка на изображение, {text} -\n *  название, {template} - компонент для формирования\n *  @param {String} parentLink ссылка назад. Значения параметров заменяются маской\n *   с назваеием параметра вида {parameter}\n *  @param {Boolean} drawer показать/скрыть сайдбар\n *  @param {String} type тип сайдбара {nav} - список страниц, {folders} - список групп папок\n *  @param {String} clone копирует все поля указанного раздела, заменяя объявленными\n *  @param {Array} list список ссылок на страницы для типа {nav}. Для других типов\n *      служебная информация для названия страницы\n *      @param {String} name имя страницы (соответсвует имени в роутере). Пустое, если это\n *      ссылка на раздел\n *      @param {String} title название ссылки на страницу (используется как название\n *       для конечной страницы)\n *      @param {String} link ссылка на страницу\n **/\n\nexport default {\n    main: {\n        title: require('@/assets/images/Logo_text.svg'),\n        title_type: 'img',\n        parentLink: '',\n        drawer: true,\n        type: 'nav',\n        list: [\n            {\n                name: 'main-page',\n                title: 'Главная страница',\n                link: '/main',\n                access_list: []\n            },\n            // {\n            //     name: '',\n            //     title: 'Проектирование',\n            //     link: '/engineering'\n            // },{\n            //     name: '',\n            //     title: 'Облако',\n            //     link: '/cloud'\n            // },\n            {\n                name: 'workflow',\n                title: 'Документооборот',\n                link: '/workflow',\n                access_list: []\n            },\n            {\n                name: '',\n                title: 'Администрирование',\n                link: '/administration',\n                access_list: []\n            }\n        ]\n    },\n    engineering: {\n        title: 'Проектирование',\n        title_type: 'text',\n        parentLink: '/main',\n        drawer: true,\n        type: 'nav',\n        list: [\n            {\n                name: 'moduls',\n                title: 'Модули',\n                link: '/engineering/moduls',\n                access_list: []\n            },{\n                name: 'teamwork',\n                title: 'Совместная работа',\n                link: '/engineering/teamwork',\n                access_list: []\n            },{\n                name: 'callback',\n                title: 'Обратная связь',\n                link: '/engineering/callback',\n                access_list: []\n            },{\n                name: 'reference',\n                title: 'Справка',\n                link: '/engineering/reference',\n                access_list: []\n            }\n        ]\n    },\n    workflow: {\n        title: 'Документооборот',\n        title_type: 'text',\n        parentLink: '/main',\n        drawer: true,\n        type: 'nav',\n        list: [\n            {\n                name: 'projects',\n                title: 'Проекты',\n                link: '/workflow/projects',\n                access_list: []\n            },{\n                name: 'managetasks',\n                title: 'Управление задачами',\n                link: '/workflow/managetasks',\n                access_list: []\n            },{\n                name: 'deleted',\n                title: 'Удаленные файлы',\n                link: '/workflow/deleted',\n                access_list: []\n            },\n            // {\n            //     name: 'sharing',\n            //     title: 'Общий доступ',\n            //     link: '/workflow/sharing'\n            // },{\n            //     name: 'archive',\n            //     title: 'Архив',\n            //     link: '/workflow/archive'\n            // },{\n            //     name: 'callback',\n            //     title: 'Обратная связь',\n            //     link: '/workflow/callback'\n            // },\n            {\n                name: 'reference',\n                title: 'Справка',\n                link: '/workflow/reference',\n                access_list: [],\n                icon: 'trd-external-link'\n            }\n        ]\n    },\n    cloud: {\n        title: 'Облако',\n        title_type: 'text',\n        parentLink: '/main',\n        drawer: true,\n        type: 'nav',\n        list: [\n            {\n                name: 'projects',\n                title: 'Проекты',\n                link: '/cloud/projects',\n                access_list: []\n            },{\n                name: 'common-access',\n                title: 'Общий доступ',\n                link: '/cloud/common_access',\n                access_list: []\n            },{\n                name: 'basket',\n                title: 'Корзина',\n                link: '/cloud/basket',\n                access_list: []\n            }\n        ]\n    },\n    'project-item': {\n        clone: 'cloud',\n        parentLink: '/cloud/projects'\n    },\n    'workflow-project': {\n        title: 'Logo_text.svg',\n        title_type: 'img',\n        parentLink: '/workflow',\n        drawer: true,\n        type: 'folders',\n        list: [{\n            name: 'workflow',\n            title: 'Документооборот',\n            link: '/workflow',\n            access_list: []\n        }]\n    },\n    'workflow-view': {\n        title: '',\n        title_type: 'template',\n        parentLink: '/workflow/{id}/list',\n        drawer: false,\n        type: 'none',\n        list: [{\n            name: 'workflow',\n            title: '',\n            link: '/workflow',\n            access_list: []\n        }]\n    },\n    'model-view': {\n        title: 'Logo_text.svg',\n        title_type: 'img',\n        parentLink: '/main',\n        drawer: false,\n        type: 'none',\n        list: []\n    },\n    administration: {\n        title: 'Администрирование',\n        title_type: 'text',\n        parentLink: '/main',\n        drawer: true,\n        type: 'nav',\n        list: [\n            {\n                name: 'statistics',\n                title: 'Статистика',\n                link: '/administration/statistics',\n                access_list: ['1', '2']\n            },{\n                name: 'account',\n                title: 'Учетная запись',\n                link: '/administration/account',\n                access_list: []\n            },{\n                name: 'payment',\n                title: 'Оплата',\n                link: '/administration/payment',\n                access_list: ['1', '2']\n            },{\n                name: 'settings',\n                title: 'Настройки',\n                link: '/administration/settings',\n                access_list: ['1', '2']\n            }\n        ]\n    }\n}\n","import { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VAppBar,{staticClass:\"m-toolbar\",attrs:{\"color\":_vm.bg_color,\"clipped-left\":\"\",\"clipped-right\":\"\",\"app\":\"\",\"flat\":true}},[_c('promise'),_c('logobar',{attrs:{\"part\":_vm.part}}),_c(VToolbarTitle,{staticClass:\"pl-4\"},_vm._l((_vm.title),function(link,i){return _c('span',[_c('router-link',{class:['m-title-link', {'m-title-link--disabled': _vm.title.length == i + 1}],attrs:{\"to\":link.path}},[_vm._v(_vm._s(link.title))]),_vm._v(\"\\n            \"+_vm._s(_vm.title.length != i + 1 ? '/' : '')+\"\\n        \")],1)}),0),_c('div',{staticClass:\"flex-grow-1\"}),_c('Profile'),_c('Menu')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListItem,{staticClass:\"m-logo\"},[_c(VListItemContent,{staticClass:\"m-overflow-visible\"},[_c(VListItemTitle,{staticClass:\"m-title\"},[_c('div',[_c('div',{staticClass:\"m-inline m-cell-1\"},[_c('router-link',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.part.parentLink !== ''),expression:\"part.parentLink !== ''\"}],style:({color: 'transparent'}),attrs:{\"to\":{path: _vm.parentLink()}}},[_c(VIcon,{attrs:{\"size\":\"25\",\"color\":\"#6e6e6e\"}},[_vm._v(\"keyboard_arrow_left\")])],1)],1),_c('div',{staticClass:\"m-inline mr-3\"},[_c(VImg,{attrs:{\"width\":\"35\",\"src\":_vm.logo}})],1),_c('div',{staticClass:\"m-inline\"},[_c(VImg,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.part.title_type == 'img'),expression:\"part.title_type == 'img'\"}],staticClass:\"m-inline-b\",attrs:{\"src\":_vm.logo_text}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.part.title_type == 'text'),expression:\"part.title_type == 'text'\"}]},[_c('span',{staticClass:\"title-page\"},[_vm._v(_vm._s(_vm.part.title))])])],1),(_vm.part.title_type == 'template')?_c('div',{staticClass:\"m-inline\"},[_c('div',{staticClass:\"m-dct-name\"},[_vm._v(_vm._s(_vm.dct_props.name))]),_c('div',{staticClass:\"m-dct-status\"},[_vm._v(_vm._s(_vm.dct_props.status))])]):_vm._e()])]),_c(VListItemSubtitle)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-list-item class=\"m-logo\">\n        <v-list-item-content class=\"m-overflow-visible\">\n            <v-list-item-title class=\"m-title\">\n                <div>\n                    <div class=\"m-inline m-cell-1\">\n                        <router-link\n                            v-show=\"part.parentLink !== ''\"\n                            :style=\"{color: 'transparent'}\"\n                            :to=\"{path: parentLink()}\">\n                            <v-icon size=\"25\" color=\"#6e6e6e\">keyboard_arrow_left</v-icon>\n                        </router-link>\n                    </div>\n                    <div class=\"m-inline mr-3\">\n                        <v-img width=\"35\" :src=\"logo\"></v-img>\n                    </div>\n                    <div class=\"m-inline\">\n                        <v-img\n                            v-show=\"part.title_type == 'img'\"\n                            :src=\"logo_text\"\n                            class=\"m-inline-b\"></v-img>\n                        <span\n                            v-show=\"part.title_type == 'text'\">\n                            <span class=\"title-page\">{{part.title}}</span>\n                        </span>\n                    </div>\n                    <div class=\"m-inline\" v-if=\"part.title_type == 'template'\">\n                        <div class=\"m-dct-name\">{{dct_props.name}}</div>\n                        <div class=\"m-dct-status\">{{dct_props.status}}</div>\n                    </div>\n                </div>\n            </v-list-item-title>\n            <v-list-item-subtitle>\n            <!--subtext-->\n            </v-list-item-subtitle>\n        </v-list-item-content>\n    </v-list-item>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"\n\nexport default {\n    name: 'Logobar',\n    props: ['part'],\n    data () {\n        return {\n            backLink: null,\n            title: '',\n            logo: require('@/assets/images/Logo_icon.svg'),\n            logo_text: require('@/assets/images/Logo_text.svg'),\n            dct_view: false\n        }\n    },\n    computed: mapState({\n        dct_props: function(state) {\n            return {\n                name: state.toolbar.dct_name,\n                status: state.toolbar.dct_status\n            }\n        }\n    }),\n    methods:{\n        logoImg(){\n            let logo = this.part.title\n            return logo\n        },\n        parentLink(){\n            let link = this.part.parentLink\n            let reg = /[^{}]+(?=})/g\n            let params = link.match(reg)\n            if(params != null){\n                for(let i = 0, len = params.length, param = ''; i < len; i++){\n                    param = '{' + params[i] + '}'\n                    link = link.replace(param, this.$route.params[params[i]])\n                }\n            }\n\n            return link\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logobar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logobar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Logobar.vue?vue&type=template&id=a1d10a78\"\nimport script from \"./Logobar.vue?vue&type=script&lang=js\"\nexport * from \"./Logobar.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ attrs, on }){return [_c(VBtn,_vm._g(_vm._b({attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"}},'v-btn',attrs,false),on),[_c(VIcon,{attrs:{\"size\":\"30\"}},[_vm._v(\"menu\")])],1)]}}])},[_c(VCard,[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.notes),function(note,i){return _c(VListItem,{key:i,staticClass:\"m-custom--list__item--width220\",attrs:{\"href\":note.link,\"target\":\"_blank\"},on:{\"click\":_vm.onClick}},[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(note.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n      bottom\n      left\n      offset-y\n      transition=\"slide-y-transition\"\n    >\n        <template v-slot:activator=\"{ attrs, on }\">\n            <v-btn\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                text\n                icon\n                color=\"#7f7f7f\">\n                <v-icon size=\"30\">menu</v-icon>\n            </v-btn>\n        </template>\n        <v-card>\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(note, i) in notes\"\n                    :key=\"i\"\n                    class=\"m-custom--list__item--width220\"\n                    :href=\"note.link\"\n                    target=\"_blank\"\n                    @click=\"onClick\"\n                    >\n                    <v-list-item-title v-text=\"note.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\n    export default {\n        data: () => ({\n            notes: [{\n                    title: 'UnitBIM',\n                    link: 'https://ubapp.ru/'\n                },{\n                    title: 'Разработчикам',\n                    link: 'https://ubapp.ru/develop/'\n                },{\n                    title: 'Справочник',\n                    link: 'https://doc.unitbim.ru/'\n                },{\n                    title: 'Политика',\n                    link: 'https://policy.unitbim.ru/politika-obrabotki-dannykh'\n                },{\n                    title: 'Контакты',\n                    link: 'https://ubapp.ru/contacts/'\n            }],\n        }),\n        methods: {\n            onClick(){\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=5a86dbe3\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ attrs, on }){return [_c(VBtn,_vm._g(_vm._b({staticClass:\"toolbar-items\",attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{staticClass:\"m-card--avatar-wrap_img\",attrs:{\"src\":_vm.avatar.avatar,\"alt\":\"avatar\"}})])],1)]}}])},[_c(VCard,[_c(VListItem,{staticClass:\"grow\"},[_c(VListItemAvatar,{attrs:{\"size\":\"30\"}},[_c(VImg,{staticClass:\"m-card--avatar-wrap_img\",attrs:{\"src\":_vm.avatar.avatar}})],1),_c(VListItemContent,[_c(VListItemTitle,{staticClass:\"m-text--size14 py-1\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.user.first_name + ' ' + _vm.user.last_name)+\"\\n                \")]),_c(VListItemSubtitle,{staticClass:\"m-text--size12\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.user.email)+\"\\n                \")])],1)],1),_c(VDivider),_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.createMenu()),function(note,i){return _c(VListItem,{key:i,on:{\"click\":function($event){$event.preventDefault();return _vm.onClick(note.link)}}},[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(note.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n        bottom\n        left\n        offset-y\n        transition=\"slide-y-transition\"\n        >\n        <template v-slot:activator=\"{ attrs, on }\">\n            <v-btn\n                class=\"toolbar-items\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                icon\n            >\n                <v-avatar\n                    size=\"30\"\n                    >\n                    <img\n                        class=\"m-card--avatar-wrap_img\"\n                        :src=\"avatar.avatar\"\n                        alt=\"avatar\"\n                    >\n                </v-avatar>\n            </v-btn>\n        </template>\n        <v-card>\n            <v-list-item class=\"grow\">\n                <v-list-item-avatar size=\"30\">\n                    <v-img\n                        class=\"m-card--avatar-wrap_img\"\n                        :src=\"avatar.avatar\"\n                    ></v-img>\n                </v-list-item-avatar>\n                <v-list-item-content>\n                    <v-list-item-title class=\"m-text--size14 py-1\">\n                        {{user.first_name + ' ' + user.last_name}}\n                    </v-list-item-title>\n                    <v-list-item-subtitle class=\"m-text--size12\">\n                        {{user.email}}\n                    </v-list-item-subtitle>\n                </v-list-item-content>\n            </v-list-item>\n            <v-divider></v-divider>\n\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(note, i) in createMenu()\"\n                    :key=\"i\"\n                    @click.prevent=\"onClick(note.link)\"\n                    >\n                    <v-list-item-title v-text=\"note.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\n    export default {\n        data: () => ({\n            notes: [{\n                    title: 'Профиль',\n                    link: '/administration/account',\n                    access: []\n                },\n                {\n                    title: 'Настройки',\n                    link: '/administration/settings',\n                    access: ['1', '2']\n                },\n                {\n                    title: 'Выход',\n                    link: 'logout',\n                    access: []\n                }\n            ],\n        }),\n        computed: {\n            avatar(){\n                return this.$store.state.administration.userAvatar\n            },\n            user(){\n                return this.$store.state.administration.user\n            },\n        },\n        methods: {\n            createMenu(){\n                let list = this.notes.filter(n => !n.access.length\n                    || n.access.some(s => s == this.user.role))\n                return list\n            },\n            onClick(link){\n                if(link == 'logout'){\n                    this.$store.dispatch('auth/logout')\n                }\n                else if(this.$route.path == link){\n                    return\n                }\n                else{\n                    this.$router.push(link)\n                }\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=4b417c13\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"min-width\":\"100%\",\"offset-y\":\"\",\"value\":_vm.note.length,\"transition\":\"slide-y-transition\",\"close-on-click\":false,\"close-on-content-click\":false,\"attach\":\"#ddd\",\"auto\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ attrs}){return [_c('div',_vm._b({staticClass:\"m-promise-event\",attrs:{\"role\":'list',\"id\":\"ddd\"}},'div',attrs,false))]}}])},[_c(VCard,_vm._l((_vm.note),function(i,j){return _c(VListItem,{key:j + 'file'},[_c(VListItemAvatar,{attrs:{\"size\":\"25\"}},[_c(VImg,{attrs:{\"src\":_vm.promise[i.action].src}})],1),_c(VListItemContent,{staticClass:\"m-text--size12\"},[_vm._v(\"\\n                \"+_vm._s((_vm.promise[i.action].text) + i.name)+\"\\n            \")]),_c(VListItemAction,[_c(VBtn,{attrs:{\"icon\":\"\",\"width\":24,\"height\":24},on:{\"click\":function($event){return _vm.abortFetch({uuid: i.uuid})}}},[_c(VIcon,{attrs:{\"size\":18}},[_vm._v(\"\\n                      mdi-close\\n                    \")])],1)],1)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n        min-width=\"100%\"\n        offset-y\n        :value=\"note.length\"\n        transition=\"slide-y-transition\"\n        :close-on-click=\"false\"\n        :close-on-content-click=\"false\"\n        attach=\"#ddd\"\n        auto\n        >\n        <template v-slot:activator=\"{ attrs}\">\n            <div\n                class=\"m-promise-event\"\n                v-bind=\"attrs\"\n                :role=\"'list'\"\n                id=\"ddd\"\n            >\n            </div>\n        </template>\n        <v-card>\n            <v-list-item\n                v-for=\"(i, j) in note\"\n                :key=\"j + 'file'\"\n            >\n                <v-list-item-avatar size=\"25\">\n                    <v-img :src=\"promise[i.action].src\"></v-img>\n                </v-list-item-avatar>\n                <v-list-item-content class=\"m-text--size12\">\n                    {{(promise[i.action].text) + i.name}}\n                </v-list-item-content>\n                <v-list-item-action>\n                    <v-btn\n                        icon\n                        :width=\"24\"\n                        :height=\"24\"\n                        @click=\"abortFetch({uuid: i.uuid})\">\n                        <v-icon\n                          :size=\"18\"\n                        >\n                          mdi-close\n                        </v-icon>\n                    </v-btn>\n                </v-list-item-action>\n            </v-list-item>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\nexport default {\n    name: 'Promise',\n    data(){\n        return {\n            promise: {\n                upload: {\n                    src: require('@/assets/images/arrows.svg'),\n                    text: 'Загрузка файла '\n                },\n                download: {\n                    src: require('@/assets/images/download.gif'),\n                    text: 'Скачивание файла '\n                },\n                createxml: {\n                    src: require('@/assets/images/arrows.svg'),\n                    text: 'Генерация xml '\n                }\n            }\n        }\n    },\n    computed: {\n        note(){\n            let list = this.$store.state.common.uploadFileNames\n            return list\n        }\n    },\n    methods: {\n        abortFetch({uuid, action}){\n            this.$store.dispatch('common/abortFetch', {uuid})\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Promise.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Promise.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Promise.vue?vue&type=template&id=2ad72937\"\nimport script from \"./Promise.vue?vue&type=script&lang=js\"\nexport * from \"./Promise.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-app-bar\n        :color=\"bg_color\"\n        clipped-left\n        clipped-right\n        app\n        class=\"m-toolbar\"\n        :flat=\"true\">\n        \n        <promise/>\n\n        <logobar :part=\"part\"/>\n\n        <v-toolbar-title class=\"pl-4\">\n            <span\n                v-for=\"(link, i) in title\">\n                <router-link\n                    :class=\"['m-title-link', {'m-title-link--disabled': title.length == i + 1}]\"\n                    :to=\"link.path\">{{link.title}}</router-link>\n                {{title.length != i + 1 ? '/' : ''}}\n            </span>\n        </v-toolbar-title>\n\n        <div class=\"flex-grow-1\"></div>\n\n        <Profile/>\n\n        <Menu/>\n    </v-app-bar>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"\nimport Logobar from '@/components/core/Logobar'\nimport Menu from '@/components/core/appbar/Menu'\nimport Profile from '@/components/core/appbar/Profile'\nimport Promise from '@/components/core/appbar/Promise'\n\nexport default {\n    name: 'AppBar',\n    props: ['part'],\n    components: {\n        Logobar,\n        Promise,\n        Menu,\n        Profile\n    },\n    data(){\n        return{\n            bg_color: '#fbfbfb',\n            bg_color_list: {\n                normal: '#fbfbfb',\n                white: '#fff'\n            },\n            logo: require('@/assets/images/Logo_icon.svg'),\n            logo_text: require('@/assets/images/Logo_text.svg'),\n            titlePage: '',\n            backLink: null,\n        }\n    },\n    watch: {\n        '$route' (to, from) {\n            this.setBG()\n        }\n    },\n    computed: mapState({\n        title(state){\n            return state.toolbar.title\n        }\n    }),\n    created(){\n        this.setBG()\n    },\n    methods: {\n        setBG(){\n            if(this.$route.name == 'workflow-view'){\n                this.bg_color = this.bg_color_list.white\n            }\n            else{\n                this.bg_color = this.bg_color_list.normal\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=7c6479d5\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VNavigationDrawer,{staticClass:\"m-navigator\",attrs:{\"value\":_vm.part.drawer,\"stateless\":\"\",\"disable-resize-watcher\":\"\",\"clipped\":\"\",\"width\":\"225\",\"app\":\"\",\"floating\":\"\"}},[(_vm.part.type=='nav')?_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.part.list),function(item,index){return _c(VListItem,{key:index,attrs:{\"to\":item.link}},[_c(VListItemContent,[_c(VListItemTitle,[_vm._v(_vm._s(item.title))])],1),_c(VListItemAction,[_c(VIcon,{attrs:{\"size\":\"14\"}},[_vm._v(_vm._s(item.icon))])],1)],1)}),1):_vm._e(),(_vm.part.type=='folders')?_c('sidebar-folders'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pt-3\"},[_c('sl-vue-tree',{ref:\"tree\",attrs:{\"allow-multiselect\":true},on:{\"select\":_vm.nodeSelected,\"toggle\":_vm.expand,\"drop\":_vm.dropNode,\"beforedrop\":_vm.beforeDrop,\"nodeclick\":_vm.getDocs},scopedSlots:_vm._u([{key:\"title\",fn:function({ node }){return [_vm._l((node.level - 1),function(i){return (node.level > 1)?_c('span',{staticClass:\"level-gap\"}):_vm._e()}),(!node.data.group)?_c('span',{staticClass:\"leaf-icon pl-1\",class:['level-' + node.level]},[_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"icon-folder\")])],1):_vm._e(),_c('span',{staticClass:\"sl-vue-tree-title--name\",class:[{'sl-group': node.data.group}, 'level-' + node.level],on:{\"click\":function($event){return _vm.expandGroup(node)}}},[_vm._v(\"\\n                \"+_vm._s(node.title)+\"\\n            \")])]}},{key:\"toggle\",fn:function({ node }){return [(node.data.group || (node.level != 3 && node.children.length))?_c('span',{class:[{expanded: node.isExpanded}, 'level-' + node.level]},[_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-chevron-down\")])],1):_vm._e(),(node.level == 2 && !node.children.length)?_c('span'):_vm._e()]}},{key:\"sidebar\",fn:function({ node }){return (node.data.access)?[_c('edit-menu',{attrs:{\"node\":node,\"editNode\":_vm.editNode,\"creatingBranchId\":_vm.creatingBranchId,\"isFile\":_vm.isFile},on:{\"update:editNode\":function($event){_vm.editNode=$event},\"update:edit-node\":function($event){_vm.editNode=$event},\"update:creatingBranchId\":function($event){_vm.creatingBranchId=$event},\"update:creating-branch-id\":function($event){_vm.creatingBranchId=$event},\"update:isFile\":function($event){_vm.isFile=$event},\"update:is-file\":function($event){_vm.isFile=$event},\"newFolderAction\":_vm.newFolderAction,\"editFolderAction\":_vm.editFolderAction,\"removeFolderAction\":_vm.removeFolderAction,\"accessFolderAction\":_vm.accessFolderAction}})]:undefined}}],null,true),model:{value:(_vm.folderslist),callback:function ($$v) {_vm.folderslist=$$v},expression:\"folderslist\"}},[_c('template',{slot:\"draginfo\"},[_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(_vm._s(_vm.nodeSelectedEl.icon))]),_c('span',[_vm._v(\"\\n\\n                \"+_vm._s(_vm.nodeSelectedEl.title)+\"\\n            \")])],1)],2),_c(VFooter,{staticClass:\"m-nav-footer pa-0 pr-2\",attrs:{\"fixed\":\"\"}},[_c('create-menu',{attrs:{\"node\":0,\"editNode\":_vm.editNode,\"creatingBranchId\":_vm.creatingBranchId,\"isFile\":_vm.isFile,\"newGroup\":_vm.newGroup,\"newFolder\":_vm.newFolder},on:{\"update:editNode\":function($event){_vm.editNode=$event},\"update:edit-node\":function($event){_vm.editNode=$event},\"update:creatingBranchId\":function($event){_vm.creatingBranchId=$event},\"update:creating-branch-id\":function($event){_vm.creatingBranchId=$event},\"update:isFile\":function($event){_vm.isFile=$event},\"update:is-file\":function($event){_vm.isFile=$event},\"update:newGroup\":function($event){_vm.newGroup=$event},\"update:new-group\":function($event){_vm.newGroup=$event},\"update:newFolder\":function($event){_vm.newFolder=$event},\"update:new-folder\":function($event){_vm.newFolder=$event}}})],1),_c('create-group',{attrs:{\"newGroup\":_vm.newGroup},on:{\"update:newGroup\":function($event){_vm.newGroup=$event},\"update:new-group\":function($event){_vm.newGroup=$event},\"createGroup\":_vm.createGroup}}),_c('create-folder',{attrs:{\"newFolder\":_vm.newFolder},on:{\"update:newFolder\":function($event){_vm.newFolder=$event},\"update:new-folder\":function($event){_vm.newFolder=$event},\"createFolder\":_vm.createFolder}}),_c('edit-folder',{attrs:{\"editFolder\":_vm.editFolder,\"node\":_vm.editNode},on:{\"update:editFolder\":function($event){_vm.editFolder=$event},\"update:edit-folder\":function($event){_vm.editFolder=$event},\"renameNode\":_vm.renameNode}}),_c('remove-folder',{attrs:{\"removeFolderFlag\":_vm.removeFolderFlag,\"node\":_vm.editNode},on:{\"update:removeFolderFlag\":function($event){_vm.removeFolderFlag=$event},\"update:remove-folder-flag\":function($event){_vm.removeFolderFlag=$event},\"removeNode\":_vm.removeNode}}),_c('access-rights',{attrs:{\"accessrights\":_vm.accessrights,\"item\":_vm.editNode},on:{\"update:accessrights\":function($event){_vm.accessrights=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"top\":\"\",\"right\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('div',_vm._g({staticClass:\"flex m-create-menu\"},on),[_c(VIcon,[_vm._v(\"\\n                mdi-plus\\n            \")]),_c('span',[_vm._v(\"Создать\")])],1)]}}])},[_c(VCard,[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.notes),function(note,i){return _c(VListItem,{key:i,on:{\"click\":function($event){return _vm.create(note.value)}}},[_c(VListItemTitle,{staticClass:\"m-menu-title\",domProps:{\"textContent\":_vm._s(note.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n      top\n      right\n      offset-y\n      transition=\"slide-y-transition\"\n    >\n        <template v-slot:activator=\"{ on }\">\n            <div\n                class=\"flex m-create-menu\"\n                v-on=\"on\">\n                <v-icon>\n                    mdi-plus\n                </v-icon>\n                <span>Создать</span>\n            </div>\n        </template>\n        <v-card>\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(note, i) in notes\"\n                    :key=\"i\"\n                    @click=\"create(note.value)\"\n                    >\n                    <v-list-item-title\n                        class=\"m-menu-title\"\n                        v-text=\"note.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\n    export default {\n        props: ['node'],\n        data: () => ({\n            notes: [{\n                    title: 'Группу',\n                    value: 'group'\n                },\n                {\n                    title: 'Папку',\n                    value: 'folder'\n            }],\n        }),\n        methods: {\n            create(v){\n                let isFile = {\n                    parent: 0,\n                    file: false,\n                    group: false,\n                    lvl: 1\n                }\n                this.$emit('update:editNode', 0)\n\n                if(v == 'group'){\n                    isFile.group = true\n                    this.$emit('update:newGroup', true)\n                }\n                else{\n                    isFile.group = false\n                    this.$emit('update:newFolder', true)\n                }\n\n                this.$emit('update:isFile', isFile)\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CreateMenu.vue?vue&type=template&id=05a7e060\"\nimport script from \"./CreateMenu.vue?vue&type=script&lang=js\"\nexport * from \"./CreateMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.newGroup,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Новая группа\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5\",staticStyle:{\"background-color\":\"#fbfbfb\",\"min-height\":\"120px\"}},[_c(VTextField,{attrs:{\"label\":\"Название группы\",\"autocomplete\":'off'},model:{value:(_vm.group_name),callback:function ($$v) {_vm.group_name=$$v},expression:\"group_name\"}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":_vm.checkChange()},on:{\"click\":_vm.createGroup}},[_vm._v(\"Создать\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"newGroup\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Новая группа\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; min-height: 120px;\" class=\"pt-5\">\n                <v-text-field\n                    label=\"Название группы\"\n                    v-model=\"group_name\"\n                    :autocomplete=\"'off'\"\n                ></v-text-field>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    :disabled=\"checkChange()\"\n                    @click=\"createGroup\">Создать</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\n    export default {\n        props: ['newGroup'],\n        name: 'CreateGroup',\n            data () {\n                return {\n                    group_name: ''\n            }\n        },\n        watch: {\n            newGroup(v){\n                if(v){\n                    document.addEventListener('keyup', this.enter, false)\n                }\n                else{\n                    document.removeEventListener('keyup', this.enter, false)\n                }\n            }\n        },\n        methods: {\n            checkChange(){\n                return !this.group_name\n            },\n            cancel(){\n                this.group_name = ''\n                this.$emit('update:newGroup', false)\n            },\n            createGroup(){\n                this.$emit('createGroup', {name: this.group_name})\n                this.cancel()\n            },\n            enter(e){\n                if(e.keyCode === 13){\n                    e.preventDefault()\n                    this.createGroup()\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateGroup.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateGroup.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CreateGroup.vue?vue&type=template&id=d84d05fe\"\nimport script from \"./CreateGroup.vue?vue&type=script&lang=js\"\nexport * from \"./CreateGroup.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.newFolder,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Новая папка\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5\",staticStyle:{\"background-color\":\"#fbfbfb\",\"min-height\":\"120px\"}},[_c(VTextField,{attrs:{\"label\":\"Название папки\",\"autocomplete\":'off'},model:{value:(_vm.folder_name),callback:function ($$v) {_vm.folder_name=$$v},expression:\"folder_name\"}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":_vm.checkChange()},on:{\"click\":_vm.createFolder}},[_vm._v(\"Создать\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"newFolder\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Новая папка\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; min-height: 120px;\" class=\"pt-5\">\n                <v-text-field\n                    label=\"Название папки\"\n                    v-model=\"folder_name\"\n                    :autocomplete=\"'off'\"\n                ></v-text-field>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    :disabled=\"checkChange()\"\n                    @click=\"createFolder\">Создать</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    props: ['newFolder'],\n    name: 'CreateFolder',\n        data () {\n            return {\n                folder_name: ''\n        }\n    },\n    watch: {\n        newFolder(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        checkChange(){\n            return !this.folder_name\n        },\n        cancel(){\n            this.folder_name = ''\n            this.$emit('update:newFolder', false)\n        },\n        createFolder(){\n            this.$emit('createFolder', {name: this.folder_name})\n            this.cancel()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.createFolder()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFolder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFolder.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CreateFolder.vue?vue&type=template&id=7e4e7fb6\"\nimport script from \"./CreateFolder.vue?vue&type=script&lang=js\"\nexport * from \"./CreateFolder.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"top\":\"\",\"right\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"m-folder-btn\",attrs:{\"text\":\"\",\"icon\":\"\",\"size\":\"20\"},on:{\"mousedown\":function($event){$event.stopPropagation();}}},on),[_vm._v(\"\\n            mdi-dots-horizontal\\n        \")])]}}])},[_c(VCard,[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.createMenu()),function(note,i){return _c(VListItem,{key:i,on:{\"click\":function($event){return _vm.action(note)}}},[_c(VListItemTitle,{staticClass:\"m-menu-title\",domProps:{\"textContent\":_vm._s(note.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n      top\n      right\n      offset-y\n      transition=\"slide-y-transition\"\n    >\n        <template v-slot:activator=\"{ on }\">\n            <v-icon\n                v-on=\"on\"\n                text\n                icon\n                class=\"m-folder-btn\"\n                @mousedown.stop=\"\"\n                size=\"20\">\n                mdi-dots-horizontal\n            </v-icon>\n        </template>\n        <v-card>\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(note, i) in createMenu()\"\n                    :key=\"i\"\n                    @click=\"action(note)\"\n                    >\n                    <v-list-item-title\n                        class=\"m-menu-title\"\n                        v-text=\"note.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\n    export default {\n        props: ['node', 'editNode'],\n        data: () => ({\n            notes: [{\n                title: 'Переименовать',\n                value: 'rename',\n                action: 'editFolderAction',\n                access: 1\n            },{\n                title: 'Удалить',\n                value: 'remove',\n                action: 'removeFolderAction',\n                access: 1\n            },{\n                title: 'Создать папку',\n                value: 'folder',\n                action: 'newFolderAction',\n                access: 0\n            },{\n                title: 'Права доступа',\n                value: 'access',\n                action: 'accessFolderAction',\n                access: 1\n            },]\n        }),\n        methods: {\n            action(v){\n                let isFile = {\n                    parent: 0,\n                    file: false,\n                    group: false,\n                    lvl: 1\n                }\n                this.$emit('update:editNode', this.node)\n                this.$emit(v.action, true)\n            },\n            getAccess(a){\n                return (this.node.data.access >> a) & 1\n            },\n            createMenu(){\n                return this.notes.filter(f => this.getAccess(f.access)\n                    && (f.value == 'access' ? !this.node.data.group : true))\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditMenu.vue?vue&type=template&id=e9d205b4\"\nimport script from \"./EditMenu.vue?vue&type=script&lang=js\"\nexport * from \"./EditMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.editFolder,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Новая имя папки\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5\",staticStyle:{\"background-color\":\"#fbfbfb\",\"min-height\":\"120px\"}},[_c(VTextField,{attrs:{\"label\":\"Название папки\",\"value\":_vm.node.title,\"autocomplete\":'off'},on:{\"input\":_vm.editName}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":_vm.checkChange()},on:{\"click\":_vm.updateNode}},[_vm._v(\"Переименовать\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"editFolder\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Новая имя папки\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; min-height: 120px;\" class=\"pt-5\">\n                <v-text-field\n                    label=\"Название папки\"\n                    :value=\"node.title\"\n                    @input=\"editName\"\n                    :autocomplete=\"'off'\"\n                ></v-text-field>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    :disabled=\"checkChange()\"\n                    @click=\"updateNode\">Переименовать</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\n    export default {\n        props: ['editFolder', 'node'],\n        name: 'EditFolder',\n            data () {\n                return {\n                    folder_name: ''\n            }\n        },\n        watch: {\n            editFolder(v){\n                if(v){\n                    document.addEventListener('keyup', this.enter, false)\n                }\n                else{\n                    document.removeEventListener('keyup', this.enter, false)\n                }\n            }\n        },\n        methods: {\n            checkChange(){\n                if(!this.node){\n                    return\n                }\n                let check = !this.folder_name || this.folder_name == this.node.title\n                let list = []\n                if(this.getType()){\n                    list = this.$store.state.workflow.foldersMap.filter(i => !!i.group)\n                }\n                else{\n                    let parent = this.node.data.parent\n                    list = this.$store.state.workflow.foldersMap.filter(i => i.parent == parent && !i.group)\n                }\n                list.map(i => {\n                    if(i.name == this.folder_name){\n                        check = true\n                    }\n                })\n                return check\n            },\n            cancel(){\n                this.folder_name = ''\n                this.$emit('update:editFolder', false)\n            },\n            editName(v){\n                this.folder_name = v\n            },\n            getType(){\n                return this.node && !!this.node.data.group\n            },\n            updateNode(){\n                this.$emit('renameNode', this.folder_name)\n                this.cancel()\n            },\n            enter(e){\n                if(e.keyCode === 13){\n                    e.preventDefault()\n                    this.updateNode()\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditFolder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditFolder.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditFolder.vue?vue&type=template&id=2291ed38\"\nimport script from \"./EditFolder.vue?vue&type=script&lang=js\"\nexport * from \"./EditFolder.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.removeFolderFlag,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Удалить \"+_vm._s(_vm.node.isLeaf ? 'папку' : 'папку')+\" \"+_vm._s(_vm.node.title)+\"?\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.removeNode}},[_vm._v(\"Удалить\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"removeFolderFlag\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Удалить {{node.isLeaf ? 'папку' : 'папку'}} {{node.title}}?\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"removeNode\">Удалить</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\n    export default {\n        props: ['removeFolderFlag', 'node'],\n        name: 'RemoveFolder',\n        watch: {\n            removeFolderFlag(v){\n                if(v){\n                    document.addEventListener('keyup', this.enter, false)\n                }\n                else{\n                    document.removeEventListener('keyup', this.enter, false)\n                }\n            }\n        },\n        methods: {\n            cancel(){\n                this.$emit('update:removeFolderFlag', false)\n            },\n            removeNode(){\n                this.$emit('removeNode')\n                this.cancel()\n            },\n            enter(e){\n                if(e.keyCode === 13){\n                    e.preventDefault()\n                    this.removeNode()\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveFolder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveFolder.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RemoveFolder.vue?vue&type=template&id=38553786\"\nimport script from \"./RemoveFolder.vue?vue&type=script&lang=js\"\nexport * from \"./RemoveFolder.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.accessrights,\"scrollable\":\"\",\"max-width\":\"914px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"Права доступа: \"+_vm._s(_vm.workItem.name)+\"\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-4\"},[_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VAutocomplete,{ref:\"managers\",attrs:{\"label\":\"Добавить пользователя\",\"placeholder\":\" \",\"items\":_vm.managers,\"disabled\":!_vm.managers.length,\"chips\":\"\",\"hide-selected\":\"\",\"return-object\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"multiple\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c(VChip,_vm._b({attrs:{\"dark\":\"\",\"input-value\":data.selected,\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeChips(data.item)}}},'v-chip',data.attrs,false),[_c(VAvatar,{attrs:{\"left\":\"\"}},[_c(VImg,{attrs:{\"src\":data.item.avatar}})],1),_vm._v(\"\\n                                \"+_vm._s(data.item.name)+\"\\n                            \")],1)]}},{key:\"item\",fn:function(data){return [_c(VListItemAvatar,[_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":data.item.avatar}})])],1),_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"innerHTML\":_vm._s(data.item.name)}}),_c(VListItemSubtitle,{domProps:{\"innerHTML\":_vm._s(data.item.role)}})],1)]}},{key:\"append-outer\",fn:function(){return [_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.managerList.length},on:{\"click\":_vm.addUsers}},[_vm._v(\"Добавить\")])]},proxy:true}]),model:{value:(_vm.managerList),callback:function ($$v) {_vm.managerList=$$v},expression:\"managerList\"}})],1)],1),_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VDataTable,{staticClass:\"m-table-custom\",attrs:{\"headers\":_vm.headers,\"items\":_vm.users,\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\"\\n                            \"+_vm._s(_vm.noData)+\"\\n                        \")]},proxy:true},{key:\"item.src\",fn:function({ item }){return [_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{staticClass:\"m-card--avatar-wrap_img\",attrs:{\"src\":item.avatar,\"alt\":\"avatar\"}})])]}},{key:\"item.action\",fn:function({ item }){return [(item.level)?_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){return _vm.removeUser(item)}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1):_vm._e()]}},{key:\"item.read\",fn:function({ item }){return [_c(VSwitch,{attrs:{\"color\":\"success\",\"inset\":\"\",\"disabled\":!item.level},model:{value:(item.permissions.can_open),callback:function ($$v) {_vm.$set(item.permissions, \"can_open\", $$v)},expression:\"item.permissions.can_open\"}})]}},{key:\"item.edit\",fn:function({ item }){return [_vm._v(\"\\n                            \"+_vm._s(item.can_edit)+\"\\n                            \"),_c(VSwitch,{attrs:{\"color\":\"success\",\"inset\":\"\",\"disabled\":!item.level},model:{value:(item.permissions.can_edit),callback:function ($$v) {_vm.$set(item.permissions, \"can_edit\", $$v)},expression:\"item.permissions.can_edit\"}})]}},{key:\"item.download\",fn:function({ item }){return [_c(VSwitch,{attrs:{\"color\":\"success\",\"inset\":\"\",\"disabled\":!item.level},model:{value:(item.permissions.can_download),callback:function ($$v) {_vm.$set(item.permissions, \"can_download\", $$v)},expression:\"item.permissions.can_download\"}})]}},{key:\"item.comment\",fn:function({ item }){return [_c(VSwitch,{attrs:{\"color\":\"success\",\"inset\":\"\",\"disabled\":!item.level},model:{value:(item.permissions.can_comment),callback:function ($$v) {_vm.$set(item.permissions, \"can_comment\", $$v)},expression:\"item.permissions.can_comment\"}})]}}])})],1)],1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.check.change},on:{\"click\":_vm.save}},[_vm._v(\"Подтвердить\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"accessrights\" scrollable max-width=\"914px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-0 pl-4 m-modal--title\">Права доступа: {{workItem.name}}\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text class=\"pt-5 px-4\">\n                <v-row>\n                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                        <v-autocomplete\n                            label=\"Добавить пользователя\"\n                            placeholder=\" \"\n                            :items=\"managers\"\n                            v-model=\"managerList\"\n                            :disabled=\"!managers.length\"\n                            chips\n                            hide-selected\n                            return-object\n                            ref=\"managers\"\n                            item-text=\"name\"\n                            item-value=\"id\"\n                            multiple\n                            >\n                            <template v-slot:selection=\"data\">\n                                <v-chip\n                                    dark\n                                    v-bind=\"data.attrs\"\n                                    :input-value=\"data.selected\"\n                                    close\n                                    @click:close=\"removeChips(data.item)\"\n                                >\n                                    <v-avatar\n                                        left\n                                    >\n                                        <v-img :src=\"data.item.avatar\"></v-img>\n                                    </v-avatar>\n                                    {{ data.item.name }}\n                                </v-chip>\n                            </template>\n\n                            <template v-slot:item=\"data\">\n                                <v-list-item-avatar>\n                                    <v-avatar\n                                        size=\"30\"\n                                    >\n                                        <img :src=\"data.item.avatar\">\n                                    </v-avatar>\n                                </v-list-item-avatar>\n                                <v-list-item-content>\n                                    <v-list-item-title v-html=\"data.item.name\"></v-list-item-title>\n                                    <v-list-item-subtitle v-html=\"data.item.role\"></v-list-item-subtitle>\n                                </v-list-item-content>\n                            </template>\n\n                            <template v-slot:append-outer>\n                                <v-btn\n                                    outlined\n                                    color=\"primary\"\n                                    class=\"m-btn\"\n                                    :disabled=\"!managerList.length\"\n                                    @click=\"addUsers\">Добавить</v-btn>\n                            </template>\n                        </v-autocomplete>\n                    </v-col>\n                </v-row>\n\n                <v-row>\n                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                        <v-data-table\n                            :headers=\"headers\"\n                            :items=\"users\"\n                            disable-pagination\n                            hide-default-footer\n                            class=\"m-table-custom\"\n                        >\n                            <template v-slot:no-data>\n                                {{noData}}\n                            </template>\n                            <template v-slot:item.src=\"{ item }\">\n                                <v-avatar\n                                    size=\"30\"\n                                    >\n                                    <img\n                                        class=\"m-card--avatar-wrap_img\"\n                                        :src=\"item.avatar\"\n                                        alt=\"avatar\"\n                                    >\n                                </v-avatar>\n                            </template>\n\n                            <template v-slot:item.action=\"{ item }\">\n                                <v-btn\n                                    v-if=\"item.level\"\n                                    text\n                                    icon\n                                    @click=\"removeUser(item)\"\n                                    color=\"#7f7f7f\">\n                                    <v-icon size=\"20\">close</v-icon>\n                                </v-btn>\n                            </template>\n\n                            <template v-slot:item.read=\"{ item }\">\n                                <v-switch\n                                    v-model=\"item.permissions.can_open\"\n                                    color=\"success\"\n                                    inset\n                                    :disabled=\"!item.level\"\n                                ></v-switch>\n                            </template>\n                            <template v-slot:item.edit=\"{ item }\">\n                                {{item.can_edit}}\n                                <v-switch\n                                    v-model=\"item.permissions.can_edit\"\n                                    color=\"success\"\n                                    inset\n                                    :disabled=\"!item.level\"\n                                ></v-switch>\n                            </template>\n                            <template v-slot:item.download=\"{ item }\">\n                                <v-switch\n                                    v-model=\"item.permissions.can_download\"\n                                    color=\"success\"\n                                    inset\n                                    :disabled=\"!item.level\"\n                                ></v-switch>\n                            </template>\n                            <template v-slot:item.comment=\"{ item }\">\n                                <v-switch\n                                    v-model=\"item.permissions.can_comment\"\n                                    color=\"success\"\n                                    inset\n                                    :disabled=\"!item.level\"\n                                ></v-switch>\n                            </template>\n                        </v-data-table>\n\n                    </v-col>\n                </v-row>\n\n            </v-card-text>\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5 px-4\">\n                <v-spacer></v-spacer>\n                <v-btn outlined color=\"primary\" class=\"m-btn\" :disabled=\"!check.change\" @click=\"save\">Подтвердить</v-btn>\n                <v-btn outlined color=\"normal\" class=\"m-btn\" @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    name: 'AccessRights',\n    props: ['accessrights', 'item'],\n    data(){\n        return {\n            managerList: [],\n            users: [],\n            addedUserList: [],\n            removedUserList: [],\n            changedPermissionUserList: [],\n            headers: [{\n                    text: '',align: 'center',\n                    sortable: false,\n                    value: 'src',\n                },\n                { text: 'Имя', value: 'name' },\n                { text: 'Просматривать', value: 'read' },\n                { text: 'Редактировать', value: 'edit' },\n                { text: 'Может скачивать', value: 'download' },\n                { text: 'Комментировать', value: 'comment' },\n                { text: '', value: 'action', sortable: false },\n            ],\n            noData: 'Нет данных',\n        }\n    },\n    computed: {\n        managers(){\n            let users = this.$store.state.administration.company.users || []\n            users = users\n                .filter(f => !this.users.some(s => s.permissions.id == f.id + ''))\n                .map(u => ({\n                    id: u.id + '',\n                    avatar: u.avatarSrc,\n                    email: u.email,\n                    name: u.first_name + ' ' + u.last_name,\n            }))\n            return users\n        },\n        workItem(){\n            let name = this.item ? this.item.name : ''\n            let id = this.item ? this.item.id : ''\n            let type = this.item ? this.item.type : null\n            return {\n                name,\n                id,\n                type\n            }\n        },\n        userList(){\n            return [...this.admins, ...this.users]\n        },\n        check(){\n            let check = {\n                change: false,\n                changedUsers: [],\n                addedUsers: [],\n                removedUsers: []\n            }\n            let type = this.workItem.type\n            if(type){\n                type = type == 'folder'\n                    ? 'folderPermissions'\n                    : 'filesPermissions'\n\n                let perms = this.$store.state.administration[type] || []\n\n                perms = perms.find(fu => fu.id == this.workItem.id)\n                if(perms && !perms.users){\n                    perms.users = []\n                }\n                // if(!perms && !this.users.length){\n                //     // check.change = false\n                //     // return check\n                // }\n                // else if(!perms && this.users.length){\n                //     // check.change = true\n                //     // return check\n                // }\n                if(!perms){\n                    perms = {users: []}\n                }\n                let admins = []\n                this.$store.state.administration.groupPermissions.map(p => {\n                    if(p.id == '1' || p.id == '2'){\n                        admins = [...admins, ...p.users]\n                    }\n                })\n                perms.users = [...perms.users, ...admins.filter(f => !perms.users.some(s => s.id == f.id))]\n\n                let addedUsers = this.users.filter(f => !perms.users.some(s => s.id == f.permissions.id))\n                let removedUsers = perms.users.filter(f => !this.users.some(s => f.id == s.permissions.id))\n                if(addedUsers.length || removedUsers.length){\n                    check.change = true\n                    check.addedUsers = addedUsers.map(a => a.permissions)\n                    check.removedUsers = removedUsers\n                }\n\n                let list = []\n                this.users\n                    .filter(f => perms.users.some(s => s.id == f.permissions.id))\n                    .map(m => {\n                        let item = perms.users.find(p => p.id == m.permissions.id)\n\n                        Object.entries(item).map(([k, v]) => {\n                            let str1 = v\n                            let str2 = m.permissions[k]\n\n                            // if(typeof v == \"string\"){\n                            //     str1 = v.trim()\n                            //     str2 = m.permissions[k].trim()\n                            // }\n                            if(typeof v == \"boolean\"){\n                                if(str2 != str1){\n                                    check.change = true\n                                    check.changedUsers.push(m.permissions)\n                                }\n                            }\n\n                        })\n                    })\n            }\n\n            return check\n        }\n    },\n    watch: {\n        accessrights(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n\n                let type = this.workItem.type\n                if(type){\n                    type = type == 'folder'\n                        ? 'folderPermissions'\n                        : 'filesPermissions'\n                    let perms = (this.$store.state.administration[type] || [])\n                        .find(fu => fu.id == this.workItem.id)\n                    let admins = []\n                    this.$store.state.administration.groupPermissions.map(p => {\n                        if(p.id == '1' || p.id == '2'){\n                            admins = [...admins, ...p.users]\n                        }\n                    })\n                    let users = perms\n                        ? perms.users\n                            ? JSON.parse(JSON.stringify(perms.users))\n                            : []\n                        : []\n                    let companyUsers = this.$store.state.administration.company.users || []\n                    let list = []\n                    admins.map(a => {\n                        let admin = companyUsers.find(c => c.id == a.id)\n                        list.push({\n                            permissions: {\n                                can_comment: true,\n                                can_download: true,\n                                can_edit: true,\n                                can_open: true,\n                                email: admin.email,\n                                full_name: admin.first_name + ' ' + admin.last_name,\n                                id: admin.id,\n                            },\n                            id: admin.id + '',\n                            avatar: admin.avatarSrc,\n                            email: admin.email,\n                            name: admin.first_name + ' ' + admin.last_name,\n                            level: 0\n                        })\n                    })\n                    list = [...list, ...companyUsers\n                        .filter(c => users.some(u => u.id == c.id) && !admins.some(a => a.id == c.id))\n                        .map(m => {\n                            let user = users.find(l => l.id == m.id)\n                            return {\n                                permissions: {...user},\n                                id: m.id + '',\n                                avatar: m.avatarSrc,\n                                email: m.email,\n                                name: user.full_name.trim(),\n                                level: 1\n                            }\n                        })\n                    ]\n\n                    this.users = list\n                }\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        checkRole(id){\n            let level = 1\n            if(this.$store.state.administration.user.id == id){\n                level = 0\n            }\n\n            let permissions = this.$store.state.administration.groupPermissions\n\n            let managers = []\n            permissions.map(p => {\n                if(p.id == '1' || p.id == '2'){\n                    if(p.users.some(s => s.id == id)){\n                        level = 0\n                    }\n                }\n            })\n            return level\n        },\n        cancel(){\n            this.$emit('update:accessrights', false)\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.save()\n            }\n        },\n        save(){\n            let type = this.workItem.type\n            type = type == 'folder'\n                ? 'folderPermissions'\n                : 'filesPermissions'\n            let promiseList = []\n            let permissionFolders = this.$store.state.administration['folderPermissions']\n            let permissionFiles = this.$store.state.administration['filesPermissions']\n            let perms = this.$store.state.administration[type]\n            let groupPerms = this.$store.state.administration.groupPermissions\n            let itemPerms = perms\n                ? perms.find(fu => fu.id == this.workItem.id)\n                : false\n            if(!perms || !itemPerms){\n                perms = {\n                    id: this.workItem.id, \"groups\": groupPerms\n                }\n            }\n            else{\n                perms = itemPerms\n            }\n            let action = type == 'folderPermissions'\n                ? 'FolderPermissions'\n                : 'FilesPermissions'\n\n            promiseList.push(this.$store.dispatch('administration/set' + action, {\n                id: this.workItem.id,\n                body: {\n                    ...perms,\n                    users: this.users.map(u => {\n                        return u.permissions\n                    })\n                }\n            }))\n            // let removedUsers = perms.users.filter(p => !this.users.some(s => s.id == p.id))\n            // let addedUsers = this.users.filter(u => !perms.users.some(s => s.id == u.id))\n\n            let list = {}\n            if(this.check.addedUsers.length){\n                list = this.traversUp({\n                    type: this.item.type,\n                    folder: this.item.type == 'folder'\n                        ? this.item.id\n                        : this.item.folder\n                })\n                permissionFolders\n                    .filter(p => list.folders.some(s => s == p.id))\n                    .map(m => {\n                        let users = [...m.users,\n                             ...this.check.addedUsers\n                                .filter(f => !m.users.some(s => s.id == f.id))\n                                .map(a => ({\n                                    ...a,\n                                    can_open: true,\n                                    can_edit: false,\n                                    can_download: false,\n                                    can_comment: false\n                                }))\n                        ]\n                        promiseList\n                            .push(this.$store.dispatch('administration/setFolderPermissions', {\n                                id: m.id,\n                                body: {\n                                    ...m,\n                                    users: users\n                                }\n                            }))\n                    })\n            }\n\n            list = this.traversDown(this.workItem.id)\n            permissionFolders\n                .filter(p => list.folders.some(s => s == p.id))\n                .map(m => {\n                    let users = !m.users ? [] : m.users.map(u => {\n                        if(this.check.changedUsers.some(s => s.id == u.id)){\n                            return this.check.changedUsers.find(c => c.id == u.id) || u\n                        }\n                        else{\n                            return u\n                        }\n                    })\n                    users = users.filter(u => !this.check.removedUsers.some(s => s.id == u.id))\n                    users = [\n                        ...users.filter(f => !this.check.addedUsers.some(s => s.id == f.id)),\n                        ...this.check.addedUsers\n                    ]\n                    promiseList\n                        .push(this.$store.dispatch('administration/setFolderPermissions', {\n                            id: m.id,\n                            body: {\n                                ...m,\n                                users: users\n                            }\n                        }))\n                })\n            permissionFiles\n                .filter(p => list.files.some(s => s == p.id))\n                .map(m => {\n                    let users = !m.users ? [] : m.users.map(u => {\n                        if(this.check.changedUsers.some(s => s.id == u.id)){\n                            return this.check.changedUsers.find(c => c.id == u.id) || u\n                        }\n                        else{\n                            return u\n                        }\n                    })\n                    users = users.filter(u => !this.check.removedUsers.some(s => s.id == u.id))\n                    users = [\n                        ...users.filter(f => !this.check.addedUsers.some(s => s.id == f.id)),\n                        ...this.check.addedUsers\n                    ]\n                    promiseList\n                        .push(this.$store.dispatch('administration/setFilesPermissions', {\n                            id: m.id,\n                            body: {\n                                ...m,\n                                users: users\n                            }\n                        }))\n                })\n\n    // return\n    //         this.$store.dispatch('administration/set' + action, {\n    //             id: this.workItem.id,\n    //             body: {\n    //                 ...perms,\n    //                 users: this.users.map(u => {\n    //                     return u.permissions\n    //                 })\n    //             }\n    //         })\n            Promise.all(promiseList)\n            .then(res => {\n                this.$store.dispatch('administration/getFoldersPermissions')\n                this.$store.dispatch('administration/getFilesPermissions')\n            })\n            this.cancel()\n        },\n        traversDown(id){\n            let foldersMap = this.$store.state.workflow.foldersMap\n            let folder = foldersMap.find(f => f.id == id)\n            let list = {\n                folders: [],\n                files: []\n            }\n            if(folder && folder.files){\n                list.files = folder.files.map(f => f.id)\n            }\n            foldersMap.filter(f => f.parent == id)\n                .map(m => {\n                    list.folders.push(m.id)\n\n                    let stack = this.traversDown(m.id)\n                    list.folders = [...list.folders, ...stack.folders]\n                    list.files = [...list.files, ...stack.files]\n                })\n            return list\n        },\n        traversUp(item){\n            let foldersMap = this.$store.state.workflow.foldersMap\n            let folder = null\n            let parent = null\n            if(item.type == 'folder'){\n                folder = foldersMap.find(f => f.id == item.folder)\n                parent = foldersMap.find(f => f.id == folder.parent)\n            }\n            else{\n                parent = foldersMap.find(f => f.id == item.folder)\n            }\n            let list = {\n                folders: [],\n                files: []\n            }\n            if(parent){\n                if(!parent.group){\n                    let stack = this.traversUp({\n                        type: 'folder',\n                        folder: parent.id\n                    })\n                    list.folders = [parent.id, ...stack.folders]\n                }\n            }\n\n            return list\n        },\n        getAvatar(i){\n            return i ? i.avatar : ''\n        },\n        removeUser(i){\n            this.users = this.users.filter(u => u.permissions.id != i.permissions.id)\n            this.addedUserList = this.addedUserList.filter(u => u.permissions.id != i.permissions.id)\n        },\n        removeChips(i){\n            this.managerList = this.managerList.filter(m => m.id != i.id)\n        },\n        addUsers(){\n            let managerList = this.managerList.map(m => ({\n                ...m,\n                level: this.checkRole(m.id),\n                permissions:{\n                    id: m.id,\n                    email: m.email,\n                    full_name: m.name.trim(),\n                    can_comment: false,\n                    can_download: false,\n                    can_edit: false,\n                    can_open: false\n                }\n            }))\n            this.addedUserList = [\n                ...this.addedUserList,\n                ...managerList\n            ]\n            this.users = [\n                ...this.users,\n                ...managerList\n            ]\n            this.managerList = []\n            this.$refs.managers.blur()\n        }\n    },\n    created(){\n        this.users = []\n        this.managerList = []\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccessRights.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccessRights.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AccessRights.vue?vue&type=template&id=770adf2c\"\nimport script from \"./AccessRights.vue?vue&type=script&lang=js\"\nexport * from \"./AccessRights.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"top\":\"\",\"right\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VBtn,_vm._g({staticClass:\"m-btn-back--white\",attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"mousedown\":function($event){$event.stopPropagation();}}},on),[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-dots-horizontal\")])],1)]}}])},[_c(VCard,[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.notes),function(note,i){return _c(VListItem,{key:i,on:{\"click\":function($event){return _vm.action(note.action)}}},[_c(VListItemTitle,{staticClass:\"m-menu-title\",domProps:{\"textContent\":_vm._s(note.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n      top\n      right\n      offset-y\n      transition=\"slide-y-transition\"\n    >\n        <template v-slot:activator=\"{ on }\">\n            <v-btn\n                v-on=\"on\"\n                text\n                icon\n                @mousedown.stop=\"\"\n                class=\"m-btn-back--white\"\n                color=\"#7f7f7f\">\n                <v-icon\n                    size=\"20\">mdi-dots-horizontal</v-icon>\n            </v-btn>\n        </template>\n        <v-card>\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(note, i) in notes\"\n                    :key=\"i\"\n                    @click=\"action(note.action)\"\n                    >\n                    <v-list-item-title\n                        class=\"m-menu-title\"\n                        v-text=\"note.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\n    export default {\n        data: () => ({\n            notes: [{\n                title: 'Сохранить как шаблон',\n                value: 'saveTemplate',\n                action: 'saveTemplate'\n            },{\n                title: 'Выбрать шаблон',\n                value: 'choiceTemplate',\n                action: 'choiceTemplate'\n            },{\n                title: 'Удалить',\n                value: 'remove',\n                action: 'remove'\n            },{\n                title: 'Права доступа',\n                value: 'access',\n                action: 'accessFolder'\n            },]\n        }),\n        methods: {\n            action(v){\n                this.$emit('update:' + v, true)\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMain.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMain.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditMain.vue?vue&type=template&id=119dc5f2\"\nimport script from \"./EditMain.vue?vue&type=script&lang=js\"\nexport * from \"./EditMain.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"pt-3\">\n        <sl-vue-tree\n            ref=\"tree\"\n            :allow-multiselect=\"true\"\n            v-model=\"folderslist\"\n            @select=\"nodeSelected\"\n            @toggle=\"expand\"\n            @drop=\"dropNode\"\n            @beforedrop=\"beforeDrop\"\n            @nodeclick=\"getDocs\">\n\n            <template slot=\"title\" slot-scope=\"{ node }\">\n                <span\n                    v-if=\"node.level > 1\"\n                    class=\"level-gap\" v-for=\"i in node.level - 1\"\n                    >\n                </span>\n                <span\n                    class=\"leaf-icon pl-1\"\n                    :class=\"['level-' + node.level]\"\n                    v-if=\"!node.data.group\">\n                    <v-icon size=\"18\">icon-folder</v-icon>\n                </span>\n                <span\n                    class=\"sl-vue-tree-title--name\"\n                    :class=\"[{'sl-group': node.data.group}, 'level-' + node.level]\"\n                    @click=\"expandGroup(node)\"\n                    >\n                    {{ node.title }}\n                </span>\n            </template>\n\n            <template\n                slot=\"toggle\"\n                slot-scope=\"{ node }\">\n                <span\n                    v-if=\"node.data.group || (node.level != 3 && node.children.length)\"\n                    :class=\"[{expanded: node.isExpanded}, 'level-' + node.level]\">\n                    <v-icon size=\"18\">mdi-chevron-down</v-icon>\n                </span>\n                <span\n                    v-if=\"node.level == 2 && !node.children.length\">\n                </span>\n            </template>\n\n            <template\n                v-if=\"node.data.access\"\n                slot=\"sidebar\"\n                slot-scope=\"{ node }\">\n                <edit-menu\n                    :node=\"node\"\n                    :editNode.sync=\"editNode\"\n                    :creatingBranchId.sync=\"creatingBranchId\"\n                    :isFile.sync=\"isFile\"\n                    @newFolderAction=\"newFolderAction\"\n                    @editFolderAction=\"editFolderAction\"\n                    @removeFolderAction=\"removeFolderAction\"\n                    @accessFolderAction=\"accessFolderAction\"\n                    />\n            </template>\n\n            <template\n                slot=\"draginfo\">\n                <v-icon size=\"18\">{{nodeSelectedEl.icon}}</v-icon>\n                <span>\n\n                    {{nodeSelectedEl.title}}\n                </span>\n            </template>\n\n        </sl-vue-tree>\n\n        <v-footer class=\"m-nav-footer pa-0 pr-2\" fixed>\n            <create-menu\n                :node=\"0\"\n                :editNode.sync=\"editNode\"\n                :creatingBranchId.sync=\"creatingBranchId\"\n                :isFile.sync=\"isFile\"\n                :newGroup.sync=\"newGroup\"\n                :newFolder.sync=\"newFolder\"/>\n            <!--\n            <edit-main\n                :newFolder.sync=\"newFolder\"\n                :editFolder.sync=\"editFolder\"\n                :removeFolderFlag.sync=\"removeFolderFlag\"\n                />\n            -->\n        </v-footer>\n        <create-group\n            :newGroup.sync=\"newGroup\"\n            @createGroup=\"createGroup\"\n            />\n        <create-folder\n            :newFolder.sync=\"newFolder\"\n            @createFolder=\"createFolder\"\n            />\n        <edit-folder\n            :editFolder.sync=\"editFolder\"\n            :node=\"editNode\"\n            @renameNode=\"renameNode\"\n            />\n        <remove-folder\n            :removeFolderFlag.sync=\"removeFolderFlag\"\n            :node=\"editNode\"\n            @removeNode=\"removeNode\"\n            />\n        <access-rights\n            :accessrights.sync=\"accessrights\"\n            :item=\"editNode\"\n            />\n    </div>\n</template>\n\n<script>\nimport SlVueTree from 'sl-vue-tree'\nimport { service, sortObj } from '@/utils/services'\nimport { v4 as uuidv4 } from 'uuid'\n\nimport { mapState } from \"vuex\"\nimport CreateMenu from './CreateMenu'\nimport CreateGroup from './CreateGroup'\nimport CreateFolder from './CreateFolder'\nimport EditMenu from './EditMenu'\nimport EditFolder from './EditFolder'\nimport RemoveFolder from './RemoveFolder'\nimport AccessRights from './AccessRights'\nimport EditMain from './EditMain'\n\n    export default {\n        name: 'SidebarFolders',\n        components: {\n            SlVueTree,\n            CreateMenu,\n            CreateGroup,\n            CreateFolder,\n            EditMenu,\n            EditFolder,\n            RemoveFolder,\n            AccessRights,\n            EditMain\n        },\n        data () {\n            return {\n                folderActive: null,\n\n                search: '',\n                editNode: 0,\n                nodeSelectedEl: {\n                    id: '',\n                    title: '',\n                    icon: ''\n                },\n                creatingBranchId: false,\n                isFile: {\n                    parent: 0,\n                    file: false,\n                    group: false,\n                    lvl: 0\n                },\n                newGroup: false,\n                newFolder: false,\n                editFolder: null,\n                removeFolderFlag: false,\n                accessrights: false,\n                drop: false,\n                curentNodeId: '',\n                stackTree: []\n            }\n        },\n        computed: {\n            folderslist: {\n                get(){\n                    let map = this.$store.state.workflow.foldersMap\n                    let perms = (this.$store.state.administration.folderPermissions || [])\n                    let groupPerms = this.$store.state.administration.groupPermissions\n                    let curF = this.$store.state.workflow.currentFolder\n                    let tree = service.createTreeForSidebar(map, curF)\n                    return tree\n                },\n                set(v){\n                }\n            },\n            getCurFol(){\n                return this.$store.state.workflow.currentFolder\n            }\n        },\n        methods: {\n            getAccess(i, ar){\n                let access = true\n                ar.map(a => {\n                    access = access && ((i >> a) & 1)\n                })\n                return !!access\n            },\n            expand(n){\n                let list = this.getNodes()\n                list = list.filter(i => i.isExpanded)\n                list = list.map(i => i.data.id)\n\n                this.$store.dispatch('workflow/setExpanded', list)\n            },\n            nodeSelected(n){\n                let el = n[0]\n                this.folderActive = el\n\n                if(this.getAccess(el.data.access, [0])){\n                    this.$store.commit('workflow/setCurrentFolder', el.data.id)\n                }\n\n                this.nodeSelectedEl.id = el.data.id\n                this.nodeSelectedEl.title = el.title\n                this.nodeSelectedEl.icon = el.isLeaf ? 'icon-folder' : 'mdi-chevron-down'\n            },\n            getDocs(i){\n                //console.log(i)\n                // return\n                // this.curentNodeId = i.data.id\n                // this.$store.commit('workflow/setActiveFolder', {\n                //     id: i.data.id,\n                //     name: i.title\n                // })\n            },\n            beforeDrop(node, pos){\n                this.stack = JSON.parse(JSON.stringify(this.$store.state.workflow.foldersMap))\n                node = node[0]\n                if(!((node.data.access >> 1) & 1)){\n                    return\n                }\n                if((node.data.group && pos.placement == 'inside') ||\n                    (node.data.group && pos.placement != 'inside' && pos.node.level > 1)){\n                        this.drop = false\n                }\n                else{\n                    this.drop = true\n                }\n            },\n            dropNode(node, pos){\n                if(this.drop){\n                    let listPromises = []\n                    let body = {\n                        id: node[0].data.id,\n                        name: node[0].title\n                    }\n                    let map = JSON.parse(JSON.stringify(this.$store.state.workflow.foldersMap))\n\n                    if(pos.placement == 'inside'){\n                        let list = map.filter(i => i.parent == pos.node.data.id && !!i.group == !!node[0].data.group)\n                        body.order = list.length\n                        body.parent = !!pos.node.data.group ? node[0].data.id : pos.node.data.id\n\n                        listPromises.push(this.$store.dispatch('workflow/addFolder', body))\n\n                        if(!!pos.node.data.group){\n                            let group = map.filter(i => i.id === pos.node.data.id)[0]\n                            group.folders = group.folders || []\n                            group.folders.push({\n                                folder: body.id,\n                                order: body.order\n                            })\n                            listPromises.push(this.$store.dispatch('workflow/addGroup', {\n                                name: group.name,\n                                order: group.order,\n                                folders: group.folders\n                            }))\n                        }\n\n                        list = map.filter(i => i.parent == node[0].data.parent && i.id != node[0].data.id && !i.group)\n                        list = sortObj(list, 'order')\n\n                        list = list.map((i, j) => {\n                            listPromises.push(this.$store.dispatch('workflow/addFolder', {\n                                id: i.id,\n                                name: i.name,\n                                parent: !!i.toGroup ? i.id : i.parent ? i.parent : i.id,\n                                order: j\n                            }))\n                            return {...i, order: j}\n                        })\n                        if(!!node[0].data.toGroup){\n                            let group = map.filter(i => i.id === node[0].data.toGroup)[0]\n\n                            listPromises.push(this.$store.dispatch('workflow/addGroup', {\n                                name: group.name,\n                                order: group.order,\n                                folders: list.map(i => {\n                                    return {\n                                        folder: i.id,\n                                        order: i.order\n                                    }\n                                })\n                            }))\n                        }\n                    }\n                    else{\n                        if(!!node[0].data.group){\n                            let listGroup = map.filter(i => !!i.group && i.id != node[0].data.id)\n                            listGroup = sortObj(listGroup, 'order')\n                            let group = map.filter(i => i.id == node[0].data.id)[0]\n                            let indexIn = 0\n\n                            if(listGroup.length > 0){\n                                if(!pos.node.data.group){\n                                    listGroup.push(group)\n                                    listGroup.map((i, j) => {\n                                        listPromises.push(this.$store.dispatch('workflow/addGroup', {\n                                            name: i.name,\n                                            order: j,\n                                            folders: i.folders\n                                        }))\n                                    })\n                                }\n                                else{\n                                    listGroup.map((i, j) => {\n                                        if(i.id == pos.node.data.id){\n                                            indexIn = j\n                                        }\n                                    })\n                                    if(pos.placement == 'before'){\n                                        listGroup.splice(indexIn, 0, group)\n                                    }\n                                    else{\n                                        listGroup.splice(indexIn + 1, 0, group)\n                                    }\n                                    listGroup.map((i, j) => {\n                                        listPromises.push(this.$store.dispatch('workflow/addGroup', {\n                                            name: i.name,\n                                            order: j,\n                                            folders: i.folders\n                                        }))\n                                    })\n                                }\n                            }\n                        }\n                        else{\n                            let folder = map.filter(i => i.id == node[0].data.id)[0]\n                            let indexIn = 0\n\n                            let listFoldersIn = map.filter(i => !i.group  &&\n                                            i.parent == pos.node.data.parent   &&\n                                            i.id != folder.id)\n                            listFoldersIn = sortObj(listFoldersIn, 'order')\n                            listFoldersIn.map((i, j) => {\n                                if(i.id == pos.node.data.id){\n                                    indexIn = j\n                                }\n                            })\n\n                            if(pos.node.data.toGroup == 'root'){\n                                listFoldersIn.splice(0, 0, folder)\n                            }\n                            else{\n                                if(pos.placement == 'before'){\n                                    listFoldersIn.splice(indexIn, 0, folder)\n                                }\n                                else{\n                                    listFoldersIn.splice(indexIn + 1, 0, folder)\n                                }\n                            }\n\n                            let listIn = listFoldersIn.map((i, j) => {\n                                listPromises.push(this.$store.dispatch('workflow/addFolder', {\n                                    id: i.id,\n                                    name: i.name,\n                                    parent: !!i.toGroup ? i.id : i.parent ? i.parent : i.id,\n                                    order: j\n                                }))\n                                return {...i, order: j}\n                            })\n                            if(pos.node.data.toGroup && pos.node.data.toGroup != 'root'){\n                                let group = map.filter(i => i.id == pos.node.data.toGroup)[0]\n\n                                listPromises.push(this.$store.dispatch('workflow/addGroup', {\n                                    name: group.name,\n                                    order: group.order,\n                                    folders: listIn.map(j => {\n                                        return {\n                                            folder: j.id,\n                                            order: j.order\n                                        }\n                                    })\n                                }))\n                            }\n\n                            if(node[0].data.parent != pos.node.data.parent){\n                                let listOut = map.filter(i => !i.group &&\n                                                i.parent == node[0].data.parent &&\n                                                i.id != node[0].data.id)\n                                listOut = sortObj(listOut, 'order')\n                                listOut = listOut.map((i, j) => {\n                                    listPromises.push(this.$store.dispatch('workflow/addFolder', {\n                                        id: i.id,\n                                        name: i.name,\n                                        parent: !!i.toGroup ? i.id : i.parent ? i.parent : i.id,\n                                        order: j\n                                    }))\n                                    return {...i, order: j}\n                                })\n\n                                if(node[0].data.toGroup){\n                                    let group = map.filter(i => i.id == node[0].data.toGroup)[0]\n\n                                    listPromises.push(this.$store.dispatch('workflow/addGroup', {\n                                        name: group.name,\n                                        order: group.order,\n                                        folders: listOut.map(j => {\n                                            return {\n                                                folder: j.id,\n                                                order: j.order\n                                            }\n                                        })\n                                    }))\n                                }\n                            }\n                        }\n                    }\n\n                    Promise.all(listPromises)\n                    .then(() => {\n                        return this.$store.dispatch('workflow/getFolders')\n                    })\n                    .then(() => {\n                        return this.$store.dispatch('workflow/getGroups')\n                    })\n                    .then(res => {\n                        this.$store.dispatch('workflow/createFoldersMap')\n                    })\n                }\n                else{\n                    this.$store.commit('workflow/setFoldersMap', [])\n                    this.$store.commit('workflow/setFoldersMap', this.stack)\n                }\n            },\n            expandGroup(node){\n                return\n                const slVueTree = this.$refs.tree\n                !node.isExpanded ? this.setGroup(node.data.id) : this.setGroup(null)\n                !node.isExpanded && slVueTree.updateNode(node.path, {isExpanded: !node.isExpanded})\n            },\n        renameNode(v){\n            let currentF = JSON.parse(JSON.stringify(this.folderActive))\n\n            let currentFolderId = ''\n            let listPromises = []\n            let body = {}\n            if(!currentF.data.group){\n                body = {\n                    id: currentF.data.id,\n                    name: v,\n                    parent: currentF.data.parent == currentF.data.toGroup ? currentF.data.id : currentF.data.parent,\n                    order: currentF.data.order\n                }\n                currentFolderId = currentF.data.id\n                listPromises.push(this.$store.dispatch('workflow/addFolder', body))\n            }\n            else{\n                let group = this.$store.state.workflow.foldersMap.filter(i => i.id == currentF.data.id)[0]\n                body = {\n                    name: group.name,\n                    order: currentF.data.order,\n                    created_at: group.created_at,\n                    created_by: group.created_by,\n                    updated_at: group.updated_at,\n                    updated_by: group.updated_by,\n                    folders: currentF.data.list || null\n                }\n                listPromises.push(this.$store.dispatch('workflow/removeGroup', body))\n                body = {\n                    name: v,\n                    order: currentF.data.order,\n                    folders: currentF.data.list || null\n                }\n                currentFolderId = 'group_' + v\n                listPromises.push(this.$store.dispatch('workflow/addGroup', body))\n            }\n\n            Promise.all(listPromises)\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                return new Promise((resolve) => {\n                    resolve(this.$store.dispatch('workflow/createFoldersMap'))\n                })\n            })\n            .then(() => {\n                this.$store.commit('workflow/setCurrentFolder', currentFolderId)\n            })\n        },\n        removeFolderAction(v){\n            this.removeFolderFlag = v\n        },\n        editFolderAction(v){\n            this.editFolder = v\n        },\n        newFolderAction(v){\n            this.newFolder = v\n        },\n        accessFolderAction(v){\n            Promise.resolve(\n                this.editNode = {\n                    ...this.editNode,\n                    id: this.editNode.data.id,\n                    type: 'folder',\n                    name: this.editNode.title\n                }\n            )\n            .then(() => {\n                this.accessrights = true\n            })\n        },\n        removeNode(){\n            let currentF = JSON.parse(JSON.stringify(this.folderActive))\n            let listPromises = []\n            listPromises.push(this.$store.commit('workflow/setCurrentFolder', currentF.data.parent))\n\n            if(!!currentF.data.group){\n                let group = this.$store.state.workflow.foldersMap.filter(i => i.id == currentF.data.id)[0]\n                let list = group.folders || []\n                list.map((f, i) => {\n                    listPromises.push(this.$store.dispatch('workflow/removeFolder', {uuid: f.folder}))\n                })\n                let g_model = {\n                    name: group.name,\n                    order: group.order,\n                    created_at: group.created_at,\n                    created_by: group.created_by,\n                    updated_at: group.updated_at,\n                    updated_by: group.updated_by,\n                    folders: group.folders\n                }\n                group = g_model\n\n                listPromises.push(this.$store.dispatch('workflow/removeGroup', group))\n            }\n            else{\n                listPromises.push(this.$store.dispatch('workflow/removeFolder', {uuid: currentF.data.id}))\n            }\n\n            Promise.all(listPromises)\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                return this.$store.dispatch('workflow/createFoldersMap')\n            })\n            .then(() => {\n                let parent = currentF.data.parent\n                this.$store.commit('workflow/setCurrentFolder', 0)\n                this.$store.commit('workflow/setCurrentFolder', parent)\n            })\n        },\n        createGroup(v){\n            let list = this.$store.state.workflow.foldersMap.filter(i => !!i.group)\n            let group = {\n                name: this.checkTween(list, v.name),\n                order: list.length\n            }\n\n            this.$store.dispatch('workflow/addGroup', group)\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                this.$store.dispatch('workflow/createFoldersMap')\n            })\n        },\n\n        createFolder(v){\n            let currentF = JSON.parse(JSON.stringify(this.editNode)) || 0\n            let parent = currentF ? currentF.data.id : 0\n            let list = this.$store.state.workflow.foldersMap.filter(i => i.parent == parent && !i.group)\n\n            let id = uuidv4()\n            let folder = {\n                id: id,\n                parent: currentF ? currentF.data.group ? id : currentF.data.id : id,\n                name: this.checkTween(list, v.name),\n                order: list.length\n            }\n\n            let group = false\n            if(currentF && currentF.data.group){\n                group = this.$store.state.workflow.foldersMap.filter(i => i.id == currentF.data.id)[0]\n\n                let g_model = {\n                    name: group.name,\n                    order: group.order,\n                    created_at: group.created_at,\n                    created_by: group.created_by,\n                    updated_at: group.updated_at,\n                    updated_by: group.updated_by,\n                    folders: group.folders || []\n                }\n                group = g_model\n            }\n\n            this.$store.dispatch('workflow/addFolder', folder)\n            .then(res => {\n                let listPromises = []\n                if(group){\n                    group.folders.push({folder: res.id, order: 0})\n                    listPromises.push(this.$store.dispatch('workflow/addGroup', group))\n                }\n                let perms = this.$store.state.administration.folderPermissions\n                                .find(f => f.id == parent)\n                if(!perms){\n                    let getUser = this.$store.state.administration.user\n                    perms = {\n                        users: [{\n                            id: getUser.id + '',\n                            email: getUser.email,\n                            full_name: getUser.first_name + ' ' + getUser.last_name,\n                            can_open: true,\n                            can_edit: true,\n                            can_download: true,\n                            can_comment: true\n                        }]\n                    }\n                }\n                listPromises.push(this.$store.dispatch('administration/setFolderPermissions', {\n                    id: res.id,\n                    body: {\n                        id: res.id,\n                        users: perms.users,\n                        groups: this.$store.state.administration.groupPermissions.map(p => {\n                            return {\n                                id: p.id,\n                                name: p.name,\n                                can_open: true,\n                                can_edit: true,\n                                can_download: true,\n                                can_comment: true\n                            }\n                        }),\n                    }\n                }))\n                return Promise.all(listPromises)\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                this.$store.dispatch('workflow/createFoldersMap')\n            })\n            .then(() => {\n                return this.$store.dispatch('administration/getFoldersPermissions')\n            })\n        },\n        checkTween(ar, v){\n            let name = v\n            ar.map(i => {\n                if(i.name == name){\n                    name += '0'\n                }\n            })\n            return name\n        },\n            getGroupsFolders(v){\n                let groups = JSON.parse(JSON.stringify(this.$store.state.workflow.groups))\n                let folders = JSON.parse(JSON.stringify(this.$store.state.workflow.folders))\n\n                Promise.all([\n                    this.$store.dispatch('workflow/updateFolders', {\n                        paths: folders,\n                        parent: v.currentFolder\n                    }),\n                    this.$store.dispatch('workflow/updateGroups', groups)\n                ])\n                .finally(() => {\n                    this.$store.dispatch('workflow/createTree')\n                })\n            },\n            traverseTree(ar, list = [], map = [], parent = ''){\n                ar.map(i => {\n                    let path = parent + '/' + i.title\n                    list.push(path)\n                    map.push({\n                        id: i.data.id,\n                        prevPath: i.data.path,\n                        nextPath: path\n                    })\n                    if(i.children.length){\n                        this.traverseTree(i.children, list, map, path)\n                    }\n                })\n                return {list, map}\n            },\n            getGroupsFoldersFromTree(){\n                let currentF = JSON.parse(JSON.stringify(this.folderActive))\n                let tree = this.$store.state.workflow.folderTree\n                let groups = tree.filter(i => i.data.group)\n                let folders = []\n                let map = []\n\n                let groupList = groups.map(i => {\n                    folders = [...folders, ...i.children]\n                    let traverse = this.traverseTree(i.children)\n                    let group = {\n                        group: i.title,\n                        folders: traverse.list\n                    }\n                    map.push({\n                        id: i.data.id,\n                        prevPath: i.data.path,\n                        nextPath: i.data.path\n                    })\n                    map = [...map, ...traverse.map]\n                    return group\n                })\n                let dontGroupList = tree.filter(i => !i.data.group)\n                folders = [...folders, ...dontGroupList]\n                let traverse = this.traverseTree(folders)\n                let folderList = traverse.list\n                map = [...map, ...traverse.map]\n\n                let selectF = '/'\n                map.map(i => {\n                    if(i.id == currentF.data.id){\n                        selectF = i.nextPath\n                    }\n                })\n\n                Promise.all([\n                    this.$store.dispatch('workflow/updateFolders', {\n                        paths: folderList,\n                        //parent: selectF\n                    }),\n                    this.$store.dispatch('workflow/updateGroups', groupList)\n                ])\n                .finally(() => {\n                    this.$store.dispatch('workflow/createTree')\n                })\n            },\n            getNodes(){\n                let list = []\n                const slVueTree = this.$refs.tree\n                slVueTree.traverse(function(o){\n                    list.push(Object.assign({}, o))\n                })\n                return list\n            },\n        },\n        mounted(){\n            this.unwatch = this.$store.watch((state) => state.workflow.openFolder, n => {\n                let o = {\n                    data: n,\n                    title: n.name\n                }\n                let nodePath = []\n                this.getNodes().map(i => {\n                    if(i.data.path == n.path){\n                        nodePath = i.path\n                    }\n                })\n                const slVueTree = this.$refs.tree\n                slVueTree.select(nodePath)\n                //this.getDocs(o)\n            })\n        },\n        beforeDestroy(){\n            this.unwatch()\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidebarFolders.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidebarFolders.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SidebarFolders.vue?vue&type=template&id=dd329266\"\nimport script from \"./SidebarFolders.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarFolders.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-navigation-drawer\n        :value=\"part.drawer\"\n        stateless\n        disable-resize-watcher\n        clipped\n        width=\"225\"\n        class=\"m-navigator\"\n        app\n        floating>\n        <v-list\n            v-if=\"part.type=='nav'\"\n            dense\n        >\n            <v-list-item\n                v-for=\"(item, index) in part.list\"\n                :key=\"index\"\n                :to=\"item.link\"\n            >\n                <v-list-item-content>\n                    <v-list-item-title>{{ item.title }}</v-list-item-title>\n                </v-list-item-content>\n                <v-list-item-action>\n                    <v-icon size=\"14\">{{item.icon}}</v-icon>\n                </v-list-item-action>\n            </v-list-item>\n        </v-list>\n\n\n        <!--<v-btn\n          icon\n          @click.stop=\"mini = !mini\"\n        >\n          <v-icon>mdi-chevron-left</v-icon>\n      </v-btn>-->\n\n        <sidebar-folders\n            v-if=\"part.type=='folders'\"\n        />\n    </v-navigation-drawer>\n</template>\n\n<script>\nimport SidebarFolders from '@/components/pages/workflow/workflow_project/SidebarFolders'\n\nexport default {\n    name: 'Sidebar',\n    props: ['part'],\n    components: {\n        SidebarFolders\n    },\n    data(){\n        return {\n            mini: true\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=0cd50b44\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContent } from 'vuetify/lib/components/VContent';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContent,{staticClass:\"light lighten-3\"},[_c('div',{style:({height:'100%'}),attrs:{\"id\":\"core-view\"}},[_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-content class=\"light lighten-3\">\n        <div id=\"core-view\" :style=\"{height:'100%'}\">\n            <router-view />\n        </div>\n    </v-content>\n</template>\n\n<script>\n    export default {\n        name: 'CoreView',\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CoreView.vue?vue&type=template&id=b1f25a70\"\nimport script from \"./CoreView.vue?vue&type=script&lang=js\"\nexport * from \"./CoreView.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-layout app>\n        <app-bar :part=\"part\"/>\n        <sidebar :part=\"part\"/>\n        <core-view/>\n    <!--\n        <v-fab-transition>\n            <v-btn\n                v-scroll=\"onScroll\"\n                v-show=\"fab\"\n                 transition=\"fade-transition\"\n                fab\n                fixed\n                bottom\n                right\n                color=\"primary\"\n                @click=\"toTop\"\n                >\n                <v-icon>keyboard_arrow_up</v-icon>\n            </v-btn>\n        </v-fab-transition>\n    -->\n    </v-layout>\n</template>\n\n<script>\nimport sidebar from \"./sidebar/sidebar.js\"\nimport AppBar from '@/components/core/AppBar'\nimport Sidebar from '@/components/core/Sidebar'\nimport CoreView from '@/components/core/CoreView'\n\n    export default {\n        name: 'Layout',\n        data: () => ({\n            fab: false,\n            part: {}\n        }),\n        watch: {\n            '$route' (to, from){\n                this.part = this.createNav()\n            }\n        },\n        components: {\n            AppBar,\n            Sidebar,\n            CoreView\n        },\n        computed: {\n            getRole(){\n                return this.$store.state.administration.user.role\n            }\n        },\n        created(){\n            this.part = this.createNav()\n        },\n        methods: {\n            onScroll (e) {\n                if (typeof window === 'undefined') return\n                const top = window.pageYOffset ||   e.target.scrollTop || 0\n                this.fab = top > 20\n            },\n            toTop () {\n                this.$vuetify.goTo(0)\n            },\n            createNav: function(){\n                let part = Object.assign({}, sidebar[this.$route.meta.part])\n\n                let keys = Object.keys(part)\n\n                if(keys.includes('clone')){\n                    let clone = Object.assign({}, sidebar[part.clone])\n                    keys.map(i => {\n                        clone[i] = part[i]\n                    })\n                    part = Object.assign({}, clone)\n                }\n\n                part.list = part.list.filter(l => !l.access_list.length\n                        || l.access_list.some(s => this.getRole == s)\n                )\n\n                let crumbs = []\n\n                this.$route.matched.map(m => {\n                    if(Object.prototype.hasOwnProperty.call(m.meta, 'crumbs')){\n                        crumbs.push({\n                            title: m.meta.crumbs,\n                            path: m.path\n                        })\n                    }\n                })\n                //let title = crumbs.join(' / ')\n\n                this.$store.commit('toolbar/setTitle', crumbs)\n\n                return part\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Layout.vue?vue&type=template&id=7afcd965\"\nimport script from \"./Layout.vue?vue&type=script&lang=js\"\nexport * from \"./Layout.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c(VLayout,{attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('div',{staticClass:\"m-dummy--wrap mb-5\"},[_c('img',{attrs:{\"width\":\"100%\",\"src\":require(\"@/assets/images/in_work.svg\")}})]),_c('div',{staticClass:\"m-dummy--title\"},[_vm._v(\"Раздел в разработке\")]),_c('div',{staticClass:\"m-dummy--desc\"},[_vm._v(\"Мы скоро завершим работы!\")])])],1)],1),_c('core-footer')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.visible)?_c(VFooter,{staticClass:\"pb-2\",attrs:{\"id\":\"core-footer\",\"absolute\":\"\"}},[_c('span',[_vm._v(\"\\n        ©\\n        UnitBIM 2018. Все права защищены.\\n    \")]),_c(VSpacer),_vm._l((_vm.links),function(i,j){return _c('span',{key:i.name},[_c('a',{staticClass:\"m-footer-link\",attrs:{\"href\":i.link}},[_vm._v(_vm._s(i.value))]),_vm._v(\"\\n        \"+_vm._s(j != _vm.links.length - 1 ? ' / ' : '')+\"\\n    \")])})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-footer\n        v-if=\"visible\"\n        id=\"core-footer\"\n        absolute\n        class=\"pb-2\"\n    >\n        <span>\n            &copy;\n            UnitBIM 2018. Все права защищены.\n        </span>\n        <v-spacer />\n        <span\n            v-for=\"(i, j) in links\"\n            :key=\"i.name\">\n            <a\n                class=\"m-footer-link\"\n                :href=\"i.link\"\n            >{{i.value}}</a>\n            {{j != links.length - 1 ? '&nbsp;/&nbsp;' : ''}}\n        </span>\n    </v-footer>\n</template>\n\n<script>\n    export default {\n        data: () => ({\n            visible: true,\n            links: [{\n                name: 'term',\n                value: 'Соглашение об использовании сайта',\n                link: 'https://unitbim.ru/account/#/modules/term'\n            },{\n                name: 'privacy',\n                value: 'Политика обработки персональных данных',\n                link: 'https://unitbim.ru/account/#/modules/privacy'\n            },{\n                name: 'cookies',\n                value: 'Файлы cookie',\n                link: 'https://unitbim.ru/account/#/modules/cookies'\n            }]\n        }),\n        watch: {\n            '$route' (to, from) {\n                this.display()\n            }\n        },\n        methods:{\n            display: function(){\n                if(this.$route.name == 'workflow-view'){\n                    this.visible = false\n                }\n                else{\n                    this.visible = true\n                }\n            }\n        },\n        created(){\n            this.display()\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreFooter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreFooter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CoreFooter.vue?vue&type=template&id=1cc001a1\"\nimport script from \"./CoreFooter.vue?vue&type=script&lang=js\"\nexport * from \"./CoreFooter.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-container fluid fill-height text-xs-center class=\"m-container pb-10 pt-0\">\n        <v-layout wrap>\n            <v-flex xs12>\n                <v-layout\n                    fluid\n                    fill-height\n                    column\n                    align-center\n                    justify-center\n                    >\n                    <div class=\"m-dummy--wrap mb-5\">\n                        <img\n                            width=\"100%\"\n                            src=\"@/assets/images/in_work.svg\"/>\n                    </div>\n                    <div class=\"m-dummy--title\">Раздел в разработке</div>\n                    <div class=\"m-dummy--desc\">Мы скоро завершим работы!</div>\n                </v-layout>\n            </v-flex>\n        </v-layout>\n\n        <core-footer/>\n    </v-container>\n</template>\n\n\n<script>\nimport CoreFooter from '@/components/core/CoreFooter'\n\nexport default {\n    name: 'Dummy',\n    components: {\n        CoreFooter\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dummy.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dummy.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Dummy.vue?vue&type=template&id=d86ccaf6\"\nimport script from \"./Dummy.vue?vue&type=script&lang=js\"\nexport * from \"./Dummy.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c(VLayout,{attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('div',[_vm._v(\"Callback\")])])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid fill-height text-xs-center class=\"m-container pb-10 pt-0\">\n        <v-layout wrap>\n            <v-flex xs12>\n                <v-layout\n                    fluid\n                    fill-height\n                    column\n                    align-center\n                    justify-center\n                    >\n                    <div>Callback</div>\n                </v-layout>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n\n<script>\nexport default {\n    name: 'Callback',\n    render: () => null,\n    data: () => ({\n    }),\n    methods: {\n    },\n    mounted(){\n        let query = this.$route.query\n        let code = Object.prototype.hasOwnProperty.call(query, 'code')\n\n        if(code){\n            let state = query.state\n            code = query.code\n\n            this.$store.dispatch('auth/token', {code: code, state: state})\n            .then(res => {\n                let stateInit = JSON.parse(localStorage.getItem('state'))\n                \n                if(stateInit.path == '/invite'){\n                    this.$store.commit('auth/setToken', res)\n                    this.$router.push(stateInit.url)\n                }\n                else{\n                    this.$store.dispatch('auth/setTokenId', res)\n                    .then(() => {\n                        this.$router.push(stateInit.url)\n                    })\n                }\n            })\n        }\n        else{\n            console.log('Callback no code')\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Callback.vue?vue&type=template&id=3146623e\"\nimport script from \"./Callback.vue?vue&type=script&lang=js\"\nexport * from \"./Callback.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"grid-list-md\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c(VFlex,{staticClass:\"pa-0\",attrs:{\"xs12\":\"\"}})],1),_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_vm._v(\"\\n        В разработке\\n    \")]),_c('core-footer')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container grid-list-md text-xs-center class=\"m-container\">\n        <v-layout row wrap>\n            <v-flex xs12 class=\"pa-0\">\n            </v-flex>\n        </v-layout>\n        <v-layout row wrap>\n            В разработке\n        </v-layout>\n\n        <core-footer/>\n    </v-container>\n</template>\n\n<script>\nimport CoreFooter from '@/components/core/CoreFooter'\n\nexport default {\n    name: 'Main',\n    components: {\n        CoreFooter\n    },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=71bd8080\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c(VLayout,{attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('div',[_vm._v(\"Модули\")])])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid fill-height text-xs-center class=\"m-container pb-10 pt-0\">\n        <v-layout wrap>\n            <v-flex xs12>\n                <v-layout\n                    fluid\n                    fill-height\n                    column\n                    align-center\n                    justify-center\n                    >\n                    <div>Модули</div>\n                </v-layout>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n\n<script>\nexport default {\n    name: 'Moduls',\n    components: {\n    },\n    data: () => ({\n    }),\n    methods: {\n    },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moduls.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moduls.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Moduls.vue?vue&type=template&id=4d740cc6\"\nimport script from \"./Moduls.vue?vue&type=script&lang=js\"\nexport * from \"./Moduls.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c('router-view')],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fill-height fluid text-xs-center class=\"m-container pb-10 pt-0\">\n        <v-layout row wrap>\n            <v-flex xs12>\n                <router-view/>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\n    export default {\n        name: 'Engineering',\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Engineering.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Engineering.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Engineering.vue?vue&type=template&id=00043d62\"\nimport script from \"./Engineering.vue?vue&type=script&lang=js\"\nexport * from \"./Engineering.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c(VContainer,{ref:\"wrap\",staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pb-10\":\"\",\"pt-0\":\"\"}},[_c(VCard,{staticClass:\"m-card pa-0 pt-0\",attrs:{\"outlined\":\"\",\"max-width\":\"1200\"}},[_c(VCardText,{staticClass:\"m-text--2c\"},[_vm._v(\"Подтверждение приглашения\")]),_c(VDivider),_c(VCardText,[_vm._v(\"\\n                    Приглашение от компании \"+_vm._s(_vm.company.name)+\"\\n            \")]),(!_vm.confirmed)?_c(VCardActions,{staticClass:\"px-4\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.confirm('allow')}}},[_vm._v(\"Подтвердить\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.confirm('disallow')}}},[_vm._v(\"Отклонить\")])],1):_c(VCardText,[_vm._v(\"\\n                    Приглашение \"+_vm._s(_vm.answer == 'allow' ? 'принято' : 'отклонено')+\".\\n            \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-container fluid fill-height text-xs-center class=\"m-container pb-10 pt-0\">\n<v-layout row wrap>\n<v-flex xs12>\n    <v-container fluid px-3 pb-10 pt-0 class=\"m-container\" ref=\"wrap\">\n        <v-card outlined max-width=\"1200\" class=\"m-card pa-0 pt-0\">\n            <v-card-text class=\"m-text--2c\">Подтверждение приглашения</v-card-text>\n            <v-divider></v-divider>\n            <v-card-text>\n                    Приглашение от компании {{company.name}}\n            </v-card-text>\n            <v-card-actions\n                v-if=\"!confirmed\"\n                class=\"px-4\"\n            >\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    @click=\"confirm('allow')\"\n                    class=\"m-btn\">Подтвердить</v-btn>\n\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    @click=\"confirm('disallow')\"\n                    class=\"m-btn\">Отклонить</v-btn>\n            </v-card-actions>\n            <v-card-text v-else>\n                    Приглашение {{answer == 'allow' ? 'принято' : 'отклонено'}}.\n            </v-card-text>\n        </v-card>\n    </v-container>\n</v-flex>\n</v-layout>\n</v-container>\n</template>\n\n<script>\nimport CoreFooter from '@/components/core/CoreFooter'\n\nexport default {\n    name: 'Invite',\n    components: {\n        CoreFooter\n    },\n    data(){\n        return {\n            code: '',\n            company: {},\n            confirmed: false,\n            answer: ''\n        }\n    },\n    methods: {\n        confirm(a){\n            /*\n            let params = {\n                code: this.code,\n                answer: a\n            }\n            this.answer = a\n            this.$store.dispatch('auth/confirmInvite', params)\n            .then(res => {\n                this.confirmed = true\n                if(a == 'allow'){\n                    this.$store.dispatch('administration/getUser')\n                }\n            },\n                er => {\n                    console.log('eerroorr', er)\n                }\n            )\n            */\n        }\n    },\n    created(){\n        //let query = this.$route.query\n        //let code = Object.prototype.hasOwnProperty.call(query, 'code')\n        /*\n        if(code){\n            this.code = query.code\n            this.$store.dispatch('auth/checkInvite', {\n                code: query.code\n            })\n            .then(res => {\n                this.company = res.company\n            })\n        }\n        */\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invite.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Invite.vue?vue&type=template&id=16bd63f4\"\nimport script from \"./Invite.vue?vue&type=script&lang=js\"\nexport * from \"./Invite.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c('router-view')],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fill-height fluid text-xs-center class=\"m-container pb-10 pt-0\">\n        <v-layout row wrap>\n            <v-flex xs12>\n                <router-view/>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\n    export default {\n        name: 'Administration',\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Administration.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Administration.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Administration.vue?vue&type=template&id=d2efc372\"\nimport script from \"./Administration.vue?vue&type=script&lang=js\"\nexport * from \"./Administration.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-view')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <router-view/>\n</template>\n\n<script>\n    export default {\n        name: 'Workflow',\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workflow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workflow.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Workflow.vue?vue&type=template&id=56eaf7e3\"\nimport script from \"./Workflow.vue?vue&type=script&lang=js\"\nexport * from \"./Workflow.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c(VContainer,{ref:\"wrap\",attrs:{\"fluid\":\"\",\"fill-height\":!_vm.projectList.length,\"px-3\":\"\",\"pt-0\":\"\",\"pb-10\":\"\"}},[(!_vm.projectList.length)?_c(VLayout,{attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[(_vm.getAccess(_vm.getPermission, 'and', [0]))?[_c('div',{staticClass:\"m-dummy--title-2\"},[_vm._v(\"У вас пока нет проектов, создайте его!\")]),_c('div',{staticClass:\"py-3\"},[_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getAccess(_vm.getPermission, 'and', [0])),expression:\"getAccess(getPermission, 'and', [0])\"}],staticClass:\"m-btn--text_icon mr-4\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onProject(false)}}},[_c(VIcon,{attrs:{\"size\":\"16\",\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\"Создать проект\\n                    \")],1),(_vm.checklicense('uploadProject'))?_c('span',[_vm._v(\"или\")]):_vm._e(),(_vm.getAccess(_vm.getPermission, 'and', [0]) && _vm.checklicense('uploadProject'))?_c(VBtn,{staticClass:\"ma-0 m-btn--text_icon\",attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.inputFiles.apply(null, arguments)}}},[_c(VIcon,{attrs:{\"size\":\"16\",\"left\":\"\"}},[_vm._v(\"icon-upload\")]),_vm._v(\"Загрузить проект\\n                    \")],1):_vm._e()],1),_c('div',{staticClass:\"m-dummy--link-info mt-2\"},[_vm._v(\"Как создать проект?\")])]:[_c('div',{staticClass:\"m-dummy--title-2\"},[_vm._v(\"У вас нет прав для создания проектов.\")])]],2):_vm._e(),(_vm.projectList.length)?_c(VToolbar,{staticClass:\"m-table-toolbar\",attrs:{\"flat\":\"\",\"height\":\"auto\"}},[_c(VTextField,{staticClass:\"m-table-toolbar--search ml-2\",attrs:{\"prepend-icon\":\"search\",\"placeholder\":\"Поиск...\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c(VSpacer),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"input-files\",attrs:{\"type\":\"file\",\"name\":\"fileXml\",\"required\":\"\"},on:{\"change\":_vm.onImportXml}}),(_vm.getAccess(_vm.getPermission, 'and', [0]) && _vm.checklicense('uploadProject'))?_c(VBtn,{staticClass:\"ma-0 m-btn--text_icon\",attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.inputFiles.apply(null, arguments)}}},[_c(VIcon,{attrs:{\"size\":\"16\",\"left\":\"\"}},[_vm._v(\"icon-upload\")]),_vm._v(\"Загрузить проект\\n            \")],1):_vm._e(),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getAccess(_vm.getPermission, 'and', [0])),expression:\"getAccess(getPermission, 'and', [0])\"}],staticClass:\"ma-0 m-btn--text_icon ml-2\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onProject(false)}}},[_c(VIcon,{attrs:{\"size\":\"16\",\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\"Создать проект\\n            \")],1)],1):_vm._e(),(_vm.projectList.length)?_c(VDataTable,{staticClass:\"m-table-custom\",attrs:{\"headers\":_vm.headers,\"items\":_vm.projectList,\"fixed-headerw\":\"\",\"heightq\":\"200\",\"show-select\":_vm.getAccess(_vm.getPermission, 'or', [1, 7]),\"search\":_vm.search,\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.name\",fn:function({ item }){return [_c('span',{staticClass:\"m-text--hover\",on:{\"click\":function($event){return _vm.getProject(item)}}},[_vm._v(_vm._s(item.info.name)+\"\\n                \")])]}},{key:\"item.manager\",fn:function({ item }){return [_vm._v(\"\\n                \"+_vm._s(item.info.in_charge_name)+\"\\n            \")]}},{key:\"item.client\",fn:function({ item }){return [_vm._v(\"\\n                \"+_vm._s(item.info.client)+\"\\n            \")]}},{key:\"item.date\",fn:function({ item }){return [_vm._v(\"\\n                \"+_vm._s(_vm.getDate(item.info.created_at))+\"\\n            \")]}},{key:\"item.count_files\",fn:function({ item }){return [_vm._v(\"\\n                \"+_vm._s(item.info.number_of_files)+\"\\n            \")]}},{key:\"item.action\",fn:function({ item }){return [(!_vm.isSelected(item.id) && _vm.getAccess(_vm.getPermission, 'or', [1, 7]))?_c('action-menu',{attrs:{\"permission\":_vm.getPermission,\"item\":item},on:{\"onProject\":function($event){return _vm.onProject(item)},\"onProjectDescription\":_vm.onProjectDescription,\"onCreateXml\":_vm.onCreateXml,\"getProject\":_vm.getProject,\"removeProject\":_vm.removeProject}}):_c('div',{style:({width: '34px'})})]}},{key:\"pageText\",fn:function(props){return [_vm._v(\"\\n                \"+_vm._s(props.pageStart)+\" - \"+_vm._s(props.pageStop)+\" из \"+_vm._s(props.itemsLength)+\"\\n            \")]}}],null,false,1224835638),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}):_vm._e(),_c('edit-project',{attrs:{\"editProject\":_vm.editProject,\"item\":_vm.itemCurrent},on:{\"update:editProject\":function($event){_vm.editProject=$event},\"update:edit-project\":function($event){_vm.editProject=$event}}}),_c('project-description',{attrs:{\"projectDescription\":_vm.projectDescription},on:{\"update:projectDescription\":function($event){_vm.projectDescription=$event},\"update:project-description\":function($event){_vm.projectDescription=$event}}}),_c('create-xml',{attrs:{\"create_xml\":_vm.create_xml,\"item\":_vm.itemCurrent},on:{\"update:create_xml\":function($event){_vm.create_xml=$event},\"createXml\":_vm.createXml}}),_c(VCard,{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.selected.length == 1 && _vm.getAccess(_vm.getPermission, 'and', [7]))\n                || (_vm.selected.length && _vm.getAccess(_vm.getPermission, 'and', [1]))),expression:\"(selected.length == 1 && getAccess(getPermission, 'and', [7]))\\n                || (selected.length && getAccess(getPermission, 'and', [1]))\"}],staticClass:\"m-table-custom--action\",style:(_vm.cardActionStyle)},[_c(VCardActions,[(_vm.selected.length == 1 && _vm.getAccess(_vm.getPermission, 'and', [7]))?_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.onProject(false)}}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-information-outline\")]),_vm._v(\"О проекте\")],1):_vm._e(),(_vm.getAccess(_vm.getPermission, 'and', [1]))?_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.removeProjectSelected}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-trash-can-outline\")]),_vm._v(\"\\n                    Удалить\\n                \")],1):_vm._e()],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VDialog } from 'vuetify/lib/components/VDialog';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.editProject,\"scrollable\":\"\",\"max-width\":\"700px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(_vm.component,{tag:\"component\",attrs:{\"component\":_vm.component,\"addition\":_vm.addition,\"additionID\":_vm.additionID,\"project\":_vm.item,\"open\":_vm.editProject,\"storeage\":_vm.storeage},on:{\"update:component\":function($event){_vm.component=$event},\"update:addition\":function($event){_vm.addition=$event},\"update:additionID\":function($event){_vm.additionID=$event},\"update:addition-i-d\":function($event){_vm.additionID=$event},\"update:storeage\":function($event){_vm.storeage=$event},\"cancel\":_vm.cancel}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"Добавление параметров проекта\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-4\",staticStyle:{\"background-color\":\"#fbfbfb\",\"min-height\":\"120px\"}},[_c(VTextField,{attrs:{\"label\":\"Название параметра\",\"autocomplete\":'off'},model:{value:(_vm.custom_name),callback:function ($$v) {_vm.custom_name=$$v},expression:\"custom_name\"}}),_c(VSelect,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.additionID),expression:\"!additionID\"}],attrs:{\"items\":_vm.types,\"item-text\":\"name\",\"item-value\":\"value\",\"persistent-hint\":\"\",\"label\":\"Тип\"},model:{value:(_vm.custom_type),callback:function ($$v) {_vm.custom_type=$$v},expression:\"custom_type\"}}),(_vm.custom_type && _vm.custom_type == 'string')?_c(VTextField,{attrs:{\"label\":\"Значение\",\"autocomplete\":'off'},model:{value:(_vm.custom_value),callback:function ($$v) {_vm.custom_value=$$v},expression:\"custom_value\"}}):(_vm.custom_type && _vm.custom_type == 'number')?_c(VTextField,{attrs:{\"label\":\"Значение\",\"autocomplete\":'off'},on:{\"input\":function($event){return _vm.onlyNumber($event)}},model:{value:(_vm.custom_value),callback:function ($$v) {_vm.custom_value=$$v},expression:\"custom_value\"}}):(_vm.custom_type && _vm.custom_type == 'list')?_c(VCombobox,{attrs:{\"filter\":_vm.filter,\"hide-no-data\":!_vm.search,\"items\":_vm.items,\"search-input\":_vm.search,\"autocomplete\":'off',\"hide-selected\":\"\",\"label\":\"Список значений\",\"multiple\":\"\",\"small-chips\":\"\"},on:{\"update:searchInput\":function($event){_vm.search=$event},\"update:search-input\":function($event){_vm.search=$event}},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_c(VListItem,[_c('span',{staticClass:\"subheading\"},[_vm._v(\"Создайте и нажмите ввод\")]),_c(VChip,{attrs:{\"color\":`${_vm.colors[_vm.nonce - 1]} lighten-3`,\"label\":\"\",\"small\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.search)+\"\\n                    \")])],1)]},proxy:true},{key:\"selection\",fn:function({ attrs, item, parent, selected }){return [(item === Object(item))?_c(VChip,_vm._b({attrs:{\"color\":`${item.color} lighten-3`,\"input-value\":selected,\"label\":\"\",\"small\":\"\"}},'v-chip',attrs,false),[_c('span',{staticClass:\"pr-2\"},[_vm._v(\"\\n                        \"+_vm._s(item.text)+\"\\n                    \")]),_c(VIcon,{attrs:{\"small\":\"\"},on:{\"click\":function($event){return parent.selectItem(item)}}},[_vm._v(\"close\")])],1):_vm._e()]}},{key:\"item\",fn:function({ index, item }){return [(_vm.editing === item)?_c(VTextField,{attrs:{\"autofocus\":\"\",\"flat\":\"\",\"background-color\":\"transparent\",\"hide-details\":\"\",\"solo\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.edit(index, item)}},model:{value:(_vm.editing.text),callback:function ($$v) {_vm.$set(_vm.editing, \"text\", $$v)},expression:\"editing.text\"}}):_c(VChip,{attrs:{\"color\":`${item.color} lighten-3`,\"dark\":\"\",\"label\":\"\",\"small\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(item.text)+\"\\n                \")]),_c('div',{staticClass:\"flex-grow-1\"}),_c(VListItemAction,{on:{\"click\":function($event){$event.stopPropagation();}}},[_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.edit(index, item)}}},[_c(VIcon,[_vm._v(_vm._s(_vm.editing !== item ? 'mdi-pencil' : 'mdi-check'))])],1)],1)]}}]),model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}}):_vm._e()],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[(_vm.additionID)?_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.removeCustom}},[_vm._v(\"Удалить\")]):_vm._e(),_c(VSpacer),(!_vm.additionID)?_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":_vm.checkChange()},on:{\"click\":_vm.addCustom}},[_vm._v(\"Добавить\")]):_vm._e(),(_vm.additionID)?_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":_vm.checkEditChange()},on:{\"click\":_vm.addCustom}},[_vm._v(\"Изменить\")]):_vm._e(),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card>\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">Добавление параметров проекта\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n        <v-card-text style=\"background-color: #fbfbfb; min-height: 120px;\" class=\"pt-5 px-4\">\n            <v-text-field\n                label=\"Название параметра\"\n                v-model=\"custom_name\"\n                :autocomplete=\"'off'\"\n            ></v-text-field>\n            <v-select\n                v-show=\"!additionID\"\n                v-model=\"custom_type\"\n                :items=\"types\"\n                item-text=\"name\"\n                item-value=\"value\"\n                persistent-hint\n                label=\"Тип\"\n            ></v-select>\n\n            <v-text-field\n                v-if=\"custom_type && custom_type == 'string'\"\n                label=\"Значение\"\n                v-model=\"custom_value\"\n                :autocomplete=\"'off'\"\n            ></v-text-field>\n            <v-text-field\n                v-else-if=\"custom_type && custom_type == 'number'\"\n                label=\"Значение\"\n                v-model=\"custom_value\"\n                @input=\"onlyNumber($event)\"\n                :autocomplete=\"'off'\"\n            ></v-text-field>\n            <v-combobox\n                v-else-if=\"custom_type && custom_type == 'list'\"\n                v-model=\"model\"\n                :filter=\"filter\"\n                :hide-no-data=\"!search\"\n                :items=\"items\"\n                :search-input.sync=\"search\"\n                :autocomplete=\"'off'\"\n                hide-selected\n                label=\"Список значений\"\n                multiple\n                small-chips\n            >\n                <template v-slot:no-data>\n                    <v-list-item>\n                        <span class=\"subheading\">Создайте и нажмите ввод</span>\n                        <v-chip\n                            :color=\"`${colors[nonce - 1]} lighten-3`\"\n                            label\n                            small\n                        >\n                        {{ search }}\n                        </v-chip>\n                    </v-list-item>\n                </template>\n                <template v-slot:selection=\"{ attrs, item, parent, selected }\">\n                    <v-chip\n                        v-if=\"item === Object(item)\"\n                        v-bind=\"attrs\"\n                        :color=\"`${item.color} lighten-3`\"\n                        :input-value=\"selected\"\n                        label\n                        small\n                    >\n                        <span class=\"pr-2\">\n                            {{ item.text }}\n                        </span>\n                        <v-icon\n                            small\n                            @click=\"parent.selectItem(item)\"\n                        >close</v-icon>\n                    </v-chip>\n                </template>\n                <template v-slot:item=\"{ index, item }\">\n                    <v-text-field\n                        v-if=\"editing === item\"\n                        v-model=\"editing.text\"\n                        autofocus\n                        flat\n                        background-color=\"transparent\"\n                        hide-details\n                        solo\n                        @keyup.enter=\"edit(index, item)\"\n                    ></v-text-field>\n                    <v-chip\n                        v-else\n                        :color=\"`${item.color} lighten-3`\"\n                        dark\n                        label\n                        small\n                    >\n                        {{ item.text }}\n                    </v-chip>\n                    <div class=\"flex-grow-1\"></div>\n                    <v-list-item-action @click.stop>\n                        <v-btn\n                            icon\n                            @click.stop.prevent=\"edit(index, item)\"\n                        >\n                            <v-icon>{{ editing !== item ? 'mdi-pencil' : 'mdi-check' }}</v-icon>\n                        </v-btn>\n                    </v-list-item-action>\n                </template>\n            </v-combobox>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-btn\n                outlined\n                color=\"primary\"\n                class=\"m-btn\"\n                v-if=\"additionID\"\n                @click=\"removeCustom\">Удалить</v-btn>\n            <v-spacer></v-spacer>\n            <v-btn\n                v-if=\"!additionID\"\n                outlined\n                color=\"primary\"\n                class=\"m-btn\"\n                :disabled=\"checkChange()\"\n                @click=\"addCustom\">Добавить</v-btn>\n            <v-btn\n                v-if=\"additionID\"\n                outlined\n                color=\"primary\"\n                class=\"m-btn\"\n                :disabled=\"checkEditChange()\"\n                @click=\"addCustom\">Изменить</v-btn>\n            <v-btn outlined color=\"#2c2c2c\" class=\"m-btn m-btn-normal\" @click=\"cancel\">Отмена</v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\nexport default {\n    props: ['addition', 'additionID'],\n    name: 'Custom',\n        data () {\n            return {\n                custom_name: '',\n                custom_value: '',\n                custom_type: null,\n\n                types: [{\n                    value: 'string',\n                    name: 'Текст'\n                },{\n                    value: 'number',\n                    name: 'Число'\n                },{\n                    value: 'list',\n                    name: 'Список'\n                }],\n\n                colors: [],\n                editing: null,\n                index: -1,\n                items: [\n                    {header: 'Выберите или создайте новое'},\n                ],\n                nonce: 1,\n                menu: false,\n                model: [],\n                x: 0,\n                search: null,\n                y: 0,\n        }\n    },\n    watch: {\n        model(val, prev){\n            if (val.length === prev.length) return\n\n            this.model = val.map(v => {\n                if (typeof v === 'string') {\n                    v = {\n                        text: v,\n                        color: this.colors[this.nonce - 1],\n                    }\n                    this.items.push(v)\n                    this.nonce++\n                }\n\n            return v\n            })\n        },\n    },\n    methods: {\n        onlyNumber(e){\n            this.$nextTick(() => {\n                this.custom_value = this.custom_value.replace(/[^0-9]/g, '')\n            })\n        },\n        checkChange(){\n            if(this.custom_type == 'string' || this.custom_type == 'number'){\n                return !(this.custom_type && this.custom_name && this.custom_value)\n            }\n            else if(this.custom_type == 'list'){\n                return !(this.custom_type && this.custom_name && this.model.length)\n            }\n            else{\n                return true\n            }\n        },\n        checkEditChange(){\n            let item = this.addition.find(a => a.id == this.additionID)\n            if(this.custom_type == 'string' || this.custom_type == 'number'){\n                return !((this.custom_name != item.name)\n                    || (this.custom_value != item.value))\n            }\n            else if(this.custom_type == 'list'){\n                if(this.model.length != item.params.list.length){\n                    return false\n                }\n                else{\n                    for(let i = 0, len = this.model.length; i < len; i++){\n                        if(this.model[i].text != item.params.list[i].name){\n                            return false\n                        }\n                    }\n                    return true\n                }\n            }\n            else{\n                return true\n            }\n        },\n        edit(index, item){\n            if(!this.editing){\n                this.editing = item\n                this.index = index\n            }\n            else{\n                this.editing = null\n                this.index = -1\n            }\n        },\n        filter(item, queryText, itemText){\n            if (item.header) return false\n\n            const hasValue = val => val != null ? val : ''\n\n            const text = hasValue(itemText)\n            const query = hasValue(queryText)\n\n            return text.toString()\n                .toLowerCase()\n                .indexOf(query.toString().toLowerCase()) > -1\n        },\n        removeCustom(){\n            let addition = this.addition.filter(a => a.id != this.additionID)\n            this.$emit('update:addition', addition)\n            this.cancel()\n        },\n        addCustom(){\n            let custom = {}\n\n            if(this.custom_type == 'string' || this.custom_type == 'number'){\n                custom.name = this.custom_name\n                custom.value = this.custom_value\n                custom.type = this.custom_type\n            }\n            else if(this.custom_type == 'list'){\n                custom.name = this.custom_name\n                custom.type = this.custom_type\n                custom.params = {}\n                custom.params.value = '0'\n                custom.params.list = []\n\n                for( let i = 0, len = this.model.length; i < len; i++){\n                    custom.params.list.push({\n                        name: this.model[i].text,\n                        value: '' + i\n                    })\n                }\n            }\n            if(this.additionID){\n                this.$emit('update:addition', this.addition.map(a => a.id == this.additionID\n                                                    ? {...a, ...custom, id: this.additionID}\n                                                    : a))\n            }\n            else{\n                custom.id = '' + this.addition.length\n                this.$emit('update:addition', [...this.addition, {...custom, id: 'f-' + this.addition.length}])\n            }\n            this.cancel()\n        },\n        editMode(){\n            let val = this.addition.find(a => a.id == this.additionID)\n            this.custom_name = val.name\n            this.custom_type = val.type\n            if(val.type == 'string' || val.type == 'number'){\n                this.custom_value = val.value\n            }\n            else if(val.type == 'list'){\n                for(let i =0, len = val.params.list.length; i < len; i++){\n                    this.model.push({text: val.params.list[i].name})\n                    this.items.push({text: val.params.list[i].name})\n                }\n            }\n        },\n        cancel(){\n            this.custom_name = ''\n            this.custom_value = ''\n            this.custom_type = null\n            this.model = []\n            this.items.splice(1)\n            this.$emit('update:component', 'edit')\n        },\n    },\n    created(){\n        if(this.additionID){\n            this.editMode()\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Custom.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Custom.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Custom.vue?vue&type=template&id=69b7a702\"\nimport script from \"./Custom.vue?vue&type=script&lang=js\"\nexport * from \"./Custom.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.project ? 'Информация о проекте' : 'Создание нового проекта')+\"\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{ref:\"body\",staticClass:\"pt-5 px-4\"},[_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VForm,{ref:\"form\"},[_c(VTextField,{attrs:{\"label\":\"Название проекта\",\"placeholder\":\" \",\"required\":\"\",\"rules\":_vm.check},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Название проекта\\n                            \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Заказчик\",\"placeholder\":\" \"},model:{value:(_vm.client),callback:function ($$v) {_vm.client=$$v},expression:\"client\"}})],1)],1),_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VAutocomplete,{attrs:{\"label\":\"Ответственный за проект\",\"placeholder\":\" \",\"items\":_vm.managers,\"chips\":\"\",\"item-text\":\"name\",\"item-value\":\"id\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c(VChip,_vm._b({attrs:{\"dark\":\"\",\"input-value\":data.selected,\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeChips()}}},'v-chip',data.attrs,false),[_c(VAvatar,{attrs:{\"left\":\"\"}},[_c(VImg,{attrs:{\"src\":data.item.avatar}})],1),_vm._v(\"\\n                            \"+_vm._s(data.item.name)+\"\\n                        \")],1)]}},{key:\"item\",fn:function(data){return [_c(VListItemAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":data.item.avatar}})]),_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"innerHTML\":_vm._s(data.item.name)}}),_c(VListItemSubtitle,{domProps:{\"innerHTML\":_vm._s(data.item.role)}})],1)]}}]),model:{value:(_vm.manager),callback:function ($$v) {_vm.manager=$$v},expression:\"manager\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Номер проекта\",\"placeholder\":\" \",\"height\":\"42\"},model:{value:(_vm.number),callback:function ($$v) {_vm.number=$$v},expression:\"number\"}})],1)],1),_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VTextarea,{attrs:{\"label\":\"Описание\",\"placeholder\":\" \",\"multi-line\":\"\",\"rows\":\"3\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)],1),_c(VRow,_vm._l((_vm.addition),function(i,j){return _c(VCol,{key:j,attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[(i.type == 'string')?_c(VTextField,{attrs:{\"placeholder\":\" \",\"label\":i.name},model:{value:(i.value),callback:function ($$v) {_vm.$set(i, \"value\", $$v)},expression:\"i.value\"}},[_c('template',{slot:\"append-outer\"},[_c(VIcon,{on:{\"click\":function($event){return _vm.editCustom(i.id)}}},[_vm._v(\"edit\")])],1)],2):(i.type == 'number')?_c(VTextField,{attrs:{\"placeholder\":\" \",\"label\":i.name},on:{\"input\":function($event){return _vm.onlyNumber($event, i)}},model:{value:(i.value),callback:function ($$v) {_vm.$set(i, \"value\", $$v)},expression:\"i.value\"}},[_c('template',{slot:\"append-outer\"},[_c(VIcon,{on:{\"click\":function($event){return _vm.editCustom(i.id)}}},[_vm._v(\"edit\")])],1)],2):(i.type == 'list')?_c(VAutocomplete,{attrs:{\"items\":i.params.list,\"item-text\":\"name\",\"item-value\":\"value\",\"label\":i.name,\"placeholder\":\" \",\"clearable\":\"\",\"persistent-hint\":\"\"},model:{value:(i.params.value),callback:function ($$v) {_vm.$set(i.params, \"value\", $$v)},expression:\"i.params.value\"}},[_c('template',{slot:\"append-outer\"},[_c(VIcon,{on:{\"click\":function($event){return _vm.editCustom(i.id)}}},[_vm._v(\"edit\")])],1)],2):_vm._e()],1)}),1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editCustom(null)}}},[_vm._v(\"Добавить параметр\")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.validate}},[_vm._v(\"\\n            \"+_vm._s(_vm.project ? 'Сохранить' : 'Создать')+\"\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card>\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            {{project ? 'Информация о проекте' : 'Создание нового проекта'}}\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n        <v-card-text class=\"pt-5 px-4\" ref=\"body\">\n            <v-row>\n                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-form ref=\"form\">\n                        <v-text-field\n                            label=\"Название проекта\"\n                            placeholder=\" \"\n                            v-model=\"name\"\n                            required\n                            :rules=\"check\"\n                        >\n                            <template #label>Название проекта\n                                <span class=\"red--text\"><strong>* </strong></span>\n                            </template>\n                        </v-text-field>\n                    </v-form>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-text-field\n                        label=\"Заказчик\"\n                        placeholder=\" \"\n                        v-model=\"client\"\n                    ></v-text-field>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-autocomplete\n                        label=\"Ответственный за проект\"\n                        placeholder=\" \"\n                        :items=\"managers\"\n                        v-model=\"manager\"\n                        chips\n                        item-text=\"name\"\n                        item-value=\"id\"\n                        >\n                        <template v-slot:selection=\"data\">\n                            <v-chip\n                                dark\n                                v-bind=\"data.attrs\"\n                                :input-value=\"data.selected\"\n                                close\n                                @click:close=\"removeChips()\"\n                            >\n                                <v-avatar\n                                    left\n                                >\n                                    <v-img :src=\"data.item.avatar\"></v-img>\n                                </v-avatar>\n                                {{ data.item.name }}\n                            </v-chip>\n                        </template>\n\n                        <template v-slot:item=\"data\">\n                            <v-list-item-avatar size=\"30\">\n                                <img :src=\"data.item.avatar\">\n                            </v-list-item-avatar>\n                            <v-list-item-content>\n                                <v-list-item-title v-html=\"data.item.name\"></v-list-item-title>\n                                <v-list-item-subtitle v-html=\"data.item.role\"></v-list-item-subtitle>\n                            </v-list-item-content>\n                        </template>\n                    </v-autocomplete>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-text-field\n                        label=\"Номер проекта\"\n                        placeholder=\" \"\n                        v-model=\"number\"\n                        height=\"42\"\n                    ></v-text-field>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                    <v-textarea\n                        label=\"Описание\"\n                        placeholder=\" \"\n                        v-model=\"description\"\n                        multi-line\n                        rows=\"3\">\n                    </v-textarea>\n                </v-col>\n            </v-row>\n\n            <v-row >\n                <v-col cols=\"12\" sm=\"6\" md=\"6\"\n                    v-for=\"(i, j) in addition\"\n                    :key=\"j\"\n                >\n                    <v-text-field\n                        v-if=\"i.type == 'string'\"\n                        placeholder=\" \"\n                        :label=\"i.name\"\n                        v-model=\"i.value\"\n                    >\n                        <template slot=\"append-outer\">\n                            <v-icon @click=\"editCustom(i.id)\">edit</v-icon>\n                        </template>\n                    </v-text-field>\n                    <v-text-field\n                        v-else-if=\"i.type == 'number'\"\n                        placeholder=\" \"\n                        :label=\"i.name\"\n                        v-model=\"i.value\"\n                        @input=\"onlyNumber($event, i)\"\n                    >\n                        <template slot=\"append-outer\">\n                            <v-icon @click=\"editCustom(i.id)\">edit</v-icon>\n                        </template>\n                    </v-text-field>\n                    <v-autocomplete\n                        v-else-if=\"i.type == 'list'\"\n                        v-model=\"i.params.value\"\n                        :items=\"i.params.list\"\n                        item-text=\"name\"\n                        item-value=\"value\"\n                        :label=\"i.name\"\n                        placeholder=\" \"\n                        clearable\n                        persistent-hint\n                    >\n                        <template slot=\"append-outer\">\n                            <v-icon @click=\"editCustom(i.id)\">edit</v-icon>\n                        </template></v-autocomplete>\n                </v-col>\n            </v-row>\n\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"editCustom(null)\">Добавить параметр</v-btn>\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"validate\">\n                {{project ? 'Сохранить' : 'Создать'}}\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\n\nexport default {\n    name: 'Edit',\n    props: ['component', 'addition', 'additionID', 'project', 'open', 'storeage'],\n    data () {\n        return {\n            check: [v => !!v || 'Необходимое поле'],\n            name: '',\n            client: '',\n            manager: null,\n            description: '',\n            number: '',\n            disabledSave: true,\n            selectCountry: null,\n            selectRegion: null,\n            selectCity: null,\n            menu: false\n        }\n    },\n    computed: {\n        readySave(){\n            let ready = false\n            let name = this.name || false\n            if(name){\n                ready = true\n            }\n            return ready\n        },\n        managers(){\n            let users = this.$store.state.administration.company.users || []\n            let list = users.map(u => ({\n                id: u.id,\n                avatar: u.avatarSrc,\n                name: u.first_name + ' ' + u.last_name,\n                role: ''\n            }))\n            return list\n        }\n    },\n    watch: {\n        open(v){\n            this.$refs['body'].scrollTop = 0\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        },\n    },\n    methods: {\n        cancel(){\n            this.disabledSave = true\n            this.name = ''\n            this.client = ''\n            this.manager = null\n            this.description = ''\n            this.number = ''\n            this.$emit('cancel')\n        },\n        removeChips(){\n            this.manager = null\n        },\n        saveChange(){\n            let body = {\n                name: this.name,\n                description: this.description,\n                number: this.number,\n                client: this.client,\n                in_charge_id: this.manager ? this.manager + '' : this.manager,\n                addition: this.addition.map(a => ({\n                    name: a.name,\n                    // value: JSON.stringify(a)\n                    value: a.type == 'string'\n                        ? a.value\n                        : a.type == 'number'\n                            ? parseInt(a.value)\n                            : {\n                                value: a.params.list.find(f => f.value == a.params.value).name,\n                                list: a.params.list.map(p => p.name)\n                            }\n                })) || null\n            }\n            let type_id = 'c'\n            let id = this.$store.state.administration.company.id\n            if(this.project){\n                let uuid = this.project.id\n                this.$store.dispatch('workflow/updateProject', {type_id, id, uuid, body})\n                .then(() => {\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Проект ' + body.name + ' изменен.'\n                    })\n                })\n            }\n            else{\n                let uuid = uuidv4()\n                this.$store.dispatch('workflow/addProject', {type_id, id, uuid, body})\n                .then(() => {\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Создан проект ' + body.name\n                    })\n                })\n            }\n            this.cancel()\n        },\n        validate(){\n            if(this.$refs.form.validate()){\n                this.saveChange()\n            }\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.validate()\n            }\n        },\n        onlyNumber(e, o){\n            this.$nextTick(() => {\n                o.value = o.value.replace(/[^0-9]/g, '')\n            })\n        },\n        editCustom(id){\n            let keys = Object.keys(this.$data).filter(k => k != 'check')\n            let storeage = {}\n            keys.map(k => {\n                storeage[k] = this[k]\n            })\n            this.$emit('update:storeage', storeage)\n            this.$emit('update:component','custom')\n            this.$emit('update:additionID', id)\n        }\n    },\n    created(){\n        if(this.storeage){\n            let keys = Object.keys(this.storeage)\n            keys.map(k => {\n                this[k] = this.storeage[k]\n            })\n        }\n        else if(this.project){\n            let params = JSON.parse(JSON.stringify(this.project))\n            this.name = params.info.name\n            this.client = params.info.client\n            this.number = params.info.number\n            this.description = params.info.description\n            this.manager = params.info.in_charge_id\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=258077ad\"\nimport script from \"./Edit.vue?vue&type=script&lang=js\"\nexport * from \"./Edit.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-dialog :value=\"editProject\" scrollable max-width=\"700px\" @input=\"v => v || cancel()\">\n        <component\n            :is=\"component\"\n            :component.sync=\"component\"\n            :addition.sync=\"addition\"\n            :additionID.sync=\"additionID\"\n            :project=\"item\"\n            :open=\"editProject\"\n            :storeage.sync=\"storeage\"\n            @cancel=\"cancel\"\n        />\n    </v-dialog>\n</template>\n\n<script>\nimport Custom from './Custom'\nimport Edit from './Edit'\n\nexport default {\n    name: 'EditProject',\n    components: {\n        Edit,\n        Custom\n    },\n    props: ['editProject', 'item'],\n    data(){\n        return {\n            component: null,\n            addition: [],\n            additionID: null,\n            storeage: null\n        }\n    },\n    watch: {\n        editProject(v){\n            if(v){\n                this.component = 'edit'\n                this.addition = this.getAddition()\n            }\n        }\n    },\n    methods: {\n        decodeHtmlCharCodes(str){\n            return str.replace(/(&#(\\d+);)/g, (match, capture, charCode) =>\n                String.fromCharCode(charCode)\n            )\n        },\n        getAddition(){\n            let addition = this.item\n                ? this.item.info.addition || []\n                : []\n            let list = []\n            addition.map((a, ind) => {\n                    // let field = JSON.parse(this.decodeHtmlCharCodes(a.value))\n                    // if(field.hasOwnProperty('value') || field.hasOwnProperty('params')){\n                    //     list.push(field)\n                    // }\n                if(typeof a.value === 'object' && a.value.list){\n                    list.push({\n                        id: 'f-' + ind,\n                        name: a.name,\n                        type: 'list',\n                        params: {\n                            value: a.value.list.indexOf(a.value.value).toString(),\n                            list: a.value.list.map((l, i) => ({name: l, value: '' + i}))\n                        }\n                    })\n                }\n                else{\n                    list.push({\n                        id: 'f-' + ind,\n                        name: a.name,\n                        type: typeof a.value == 'number'\n                            ? 'number'\n                            : 'string',\n                        value: a.value\n                    })\n                }\n            })\n            return list\n        },\n        cancel(){\n            this.addition = []\n            this.component = null\n            this.additionID = null\n            this.storeage = null\n            this.$emit('update:editProject', false)\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProject.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProject.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditProject.vue?vue&type=template&id=88e04ff8\"\nimport script from \"./EditProject.vue?vue&type=script&lang=js\"\nexport * from \"./EditProject.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.projectDescription,\"scrollable\":\"\",\"max-width\":\"700px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n            Описание проекта\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-0\"},[_c(VList,{attrs:{\"dense\":\"\"}},[_c('t-object'),_c('t-declarant',{attrs:{\"name\":'declarant',\"title\":'Кто подает'}}),_c('t-declarant',{attrs:{\"name\":'developer',\"title\":'Кто разработал'}}),_c('t-technical-customer'),_c('t-finances'),_c('t-estimated-cost'),_c('t-climate-conditions'),_c('t-designer'),_c('t-engineering-survey')],1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){}}},[_vm._v(\"\\n                Сохранить\\n            \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListGroup,{attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(_vm.item.title)}})],1)]},proxy:true}]),model:{value:(_vm.item.active),callback:function ($$v) {_vm.$set(_vm.item, \"active\", $$v)},expression:\"item.active\"}},[_c(VDivider),_c(VListItem,{staticClass:\"px-1\"},[_c(VListItemContent,_vm._l((_vm.item.items),function(item){return _c(item.component,{tag:\"component\",attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})}),1)],1),_c(VDivider)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":_vm.item.type == 'text' ? '12' : _vm.size,\"md\":_vm.item.type == 'text' ? '12' : _vm.size}},[(_vm.item.type == 'string')?_c(VTextField,{attrs:{\"label\":_vm.item.title,\"placeholder\":\" \",\"required\":_vm.item.required,\"rules\":_vm.item.rules},on:{\"change\":_vm.onChange},model:{value:(_vm.item.value),callback:function ($$v) {_vm.$set(_vm.item, \"value\", $$v)},expression:\"item.value\"}}):(_vm.item.type == 'list')?_c(VAutocomplete,{attrs:{\"label\":_vm.item.title,\"placeholder\":\" \",\"items\":_vm.item.list},model:{value:(_vm.item.value),callback:function ($$v) {_vm.$set(_vm.item, \"value\", $$v)},expression:\"item.value\"}}):(_vm.item.type == 'select')?_c(VSelect,{attrs:{\"label\":_vm.item.title,\"placeholder\":\" \",\"items\":_vm.item.list,\"multiple\":_vm.item.multiple},model:{value:(_vm.item.value),callback:function ($$v) {_vm.$set(_vm.item, \"value\", $$v)},expression:\"item.value\"}}):(_vm.item.type == 'text')?_c(VTextarea,{attrs:{\"label\":_vm.item.title,\"placeholder\":\" \",\"multi-line\":\"\",\"rows\":\"1\"},model:{value:(_vm.item.value),callback:function ($$v) {_vm.$set(_vm.item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" :sm=\"item.type == 'text' ? '12' : size\" :md=\"item.type == 'text' ? '12' : size\" class=\"pb-0\">\n        <v-text-field\n            v-if=\"item.type == 'string'\"\n            :label=\"item.title\"\n            placeholder=\" \"\n            v-model=\"item.value\"\n            :required=\"item.required\"\n            :rules=\"item.rules\"\n            @change=\"onChange\"\n        >\n        </v-text-field>\n        <v-autocomplete\n            v-else-if=\"item.type == 'list'\"\n            :label=\"item.title\"\n            placeholder=\" \"\n            :items=\"item.list\"\n            v-model=\"item.value\"\n            >\n        </v-autocomplete>\n        <v-select\n            v-else-if=\"item.type == 'select'\"\n            :label=\"item.title\"\n            placeholder=\" \"\n            :items=\"item.list\"\n            v-model=\"item.value\"\n            :multiple=\"item.multiple\"\n            >\n        </v-select>\n        <v-textarea\n            v-else-if=\"item.type == 'text'\"\n            :label=\"item.title\"\n            v-model=\"item.value\"\n            placeholder=\" \"\n            multi-line\n            rows=\"1\">\n        </v-textarea>\n    </v-col>\n</template>\n\n<script>\nexport default {\n    name: 'Fields',\n    props: ['item', 'size'],\n    data(){\n        return {\n        }\n    },\n    methods: {\n        onChange(v){\n            this.$emit('onChange')\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fields.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fields.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Fields.vue?vue&type=template&id=4fe712d7\"\nimport script from \"./Fields.vue?vue&type=script&lang=js\"\nexport * from \"./Fields.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_c('div',{staticClass:\"d-flex flex-wrap\"},_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item,\"size\":'6'},on:{\"onChange\":_vm.onChange,\"update:item\":function($event){item=$event}}})}),1),(_vm.item.multiple)?_c(VBtn,{staticClass:\"m-btn mb-3\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"\\n        Добавить адрес\\n    \")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n    <div class=\"d-flex flex-wrap\">\n        <fields @onChange=\"onChange\" :item.sync=\"item\" v-for=\"item in items\" :size=\"'6'\"/>\n    </div>\n\n        <v-btn v-if=\"item.multiple\" outlined color=\"primary\" class=\"m-btn mb-3\" @click=\"add\">\n            Добавить адрес\n        </v-btn>\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\n\nexport default {\n    name: 'TAddress',\n    props: ['item'],\n    components: {\n        Fields\n    },\n    data(){\n        return {\n            items: [{\n                name: 'сountry',\n                title: 'Страна',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'region',\n                title: 'Регион',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'post_index',\n                title: 'Почтовый индекс',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'district',\n                title: 'Район',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'city',\n                title: 'Город',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'settlement',\n                title: 'Населенный пункт',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'street',\n                title: 'Улица',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'building',\n                title: 'Дом',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'room',\n                title: 'Квартира',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'note',\n                title: 'замечания по адресу',\n                type: 'text',\n                value: '',\n                number: 0\n            }]\n        }\n    },\n    methods: {\n        add(){\n            let item = JSON.parse(JSON.stringify(this.items.filter(f => f.number == 0)))\n            this.items = [...this.items, ...item.map((i, k, a) => {\n                return {\n                    ...i,\n                    number: this.item.length / a.length,\n                    value: ''\n                }\n            })]\n        },\n        onChange(){\n            this.item.value = this.items\n        },\n    },\n    created(){\n        this.onChange()\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TAddress.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TAddress.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TAddress.vue?vue&type=template&id=d654da1c\"\nimport script from \"./TAddress.vue?vue&type=script&lang=js\"\nexport * from \"./TAddress.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})}),(_vm.item.multiple)?_c(VBtn,{staticClass:\"m-btn mb-3\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"\\n        Добавить показатель\\n    \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n        <fields :item.sync=\"item\" v-for=\"item in items\"/>\n\n        <v-btn v-if=\"item.multiple\" outlined color=\"primary\" class=\"m-btn mb-3\" @click=\"add\">\n            Добавить показатель\n        </v-btn>\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\n\nexport default {\n    name: 'TTei',\n    props: ['item'],\n    components: {\n        Fields\n    },\n    data(){\n        return {\n            items: [{\n                name: 'name',\n                title: 'Название',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'measure',\n                title: 'Единица измерения показателя',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'value',\n                title: 'Значение',\n                type: 'string',\n                value: '',\n                number: 0\n            }]\n        }\n    },\n    methods: {\n        add(){\n            let item = JSON.parse(JSON.stringify(this.items.filter(f => f.number == 0)))\n            this.items = [...this.items, ...item.map((i, k, a) => {\n                return {\n                    ...i,\n                    number: this.item.length / a.length,\n                    value: ''\n                }\n            })]\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TTei.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TTei.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TTei.vue?vue&type=template&id=18f9c320\"\nimport script from \"./TTei.vue?vue&type=script&lang=js\"\nexport * from \"./TTei.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_vm._l((_vm.numberList),function(item){return [(item.type == 'string')?_c(VTextField,{attrs:{\"label\":item.title,\"placeholder\":\" \"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e()]}),(_vm.item.multiple)?_c(VBtn,{staticClass:\"m-btn mb-3\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"\\n        Добавить кадастровый номер\\n    \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <template v-for=\"item in numberList\">\n            <v-text-field\n                v-if=\"item.type == 'string'\"\n                :label=\"item.title\"\n                placeholder=\" \"\n                v-model=\"item.value\"\n            >\n            </v-text-field>\n        </template>\n        <v-btn v-if=\"item.multiple\" outlined color=\"primary\" class=\"m-btn mb-3\" @click=\"add\">\n            Добавить кадастровый номер\n        </v-btn>\n    </v-col>\n</template>\n\n<script>\nexport default {\n    name: 'TCadastralNumber',\n    props: ['item'],\n    data(){\n        return {\n            numberList: [{...this.item, number: 0}]\n        }\n    },\n    methods: {\n        add(){\n            let item = JSON.parse(JSON.stringify(this.numberList.filter(f => f.number == 0)))\n            this.numberList = [...this.numberList, ...item.map((i, k, a) => {\n                return {\n                    ...i,\n                    number: this.numberList.length / a.length,\n                    value: ''\n                }\n            })]\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TCadastralNumber.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TCadastralNumber.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TCadastralNumber.vue?vue&type=template&id=be1bf96a\"\nimport script from \"./TCadastralNumber.vue?vue&type=script&lang=js\"\nexport * from \"./TCadastralNumber.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_vm._l((_vm.items),function(item){return _c(item.component,{tag:\"component\",attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})}),(_vm.item.multiple)?_c(VBtn,{staticClass:\"m-btn mb-3\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"\\n        Добавить описание объекта\\n    \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n        <component\n            v-for=\"item in items\"\n            :is=\"item.component\"\n            :item.sync=\"item\" />\n\n        <v-btn v-if=\"item.multiple\" outlined color=\"primary\" class=\"m-btn mb-3\" @click=\"add\">\n            Добавить описание объекта\n        </v-btn>\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TAddress from \"./TAddress\"\nimport TTei from \"./TTei\"\n\nexport default {\n    name: 'TObjectPart',\n    props: ['item'],\n    components: {\n        Fields,\n        TAddress,\n        TTei,\n    },\n    data(){\n        return {\n            items: [{\n                name: 'name',\n                title: 'Наименование объекта',\n                type: 'string',\n                component: 'Fields',\n                value: '',\n                number: 0\n            },{\n                name: 'addresses',\n                title: 'Адреса объекта строительства',\n                type: 'combo',\n                component: 'TAddress',\n                value: '',\n                multiple: true,\n                number: 0\n            },{\n                name: 'functions',\n                title: 'Функциональное назначение (или код классификатора)',\n                type: 'string',\n                component: 'Fields',\n                value: '',\n                number: 0\n            },{\n                name: 'teis',\n                title: 'Технико-экономические показатели объекта капитального строительства',\n                type: 'combo',\n                component: 'TTei',\n                value: '',\n                multiple: true,\n                number: 0\n            }]\n        }\n    },\n    methods: {\n        add(){\n            let item = JSON.parse(JSON.stringify(this.items.filter(f => f.number == 0)))\n            this.items = [...this.items, ...item.map((i, k, a) => {\n                return {\n                    ...i,\n                    number: this.item.length / a.length,\n                    value: ''\n                }\n            })]\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TObjectPart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TObjectPart.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TObjectPart.vue?vue&type=template&id=6398050b\"\nimport script from \"./TObjectPart.vue?vue&type=script&lang=js\"\nexport * from \"./TObjectPart.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-list-group\n        v-model=\"item.active\"\n        no-action\n    >\n        <v-divider></v-divider>\n        <template v-slot:activator>\n            <v-list-item-content>\n                <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n            </v-list-item-content>\n        </template>\n\n        <v-list-item class=\"px-1\">\n            <v-list-item-content>\n\n                <component\n                    v-for=\"item in item.items\"\n                    :is=\"item.component\"\n                    :item.sync=\"item\" />\n            </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n    </v-list-group>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TAddress from \"./TAddress\"\nimport TTei from \"./TTei\"\nimport TCadastralNumber from \"./TCadastralNumber\"\nimport TObjectPart from \"./TObjectPart\"\n\nexport default {\n    name: 'TObject',\n    props: ['items'],\n    components: {\n        Fields,\n        TAddress,\n        TTei,\n        TCadastralNumber,\n        TObjectPart\n    },\n    data(){\n        return {\n            item: {\n                name: 'object',\n                title: 'Описание объекта строительства',\n                active: false,\n                items: [{\n                    name: 'name',\n                    title: 'Наименования объекта строительства',\n                    type: 'string',\n                    component: 'Fields',\n                    value: ''\n                },{\n                    name: 'addresses',\n                    title: 'Адреса объекта строительства',\n                    type: 'combo',\n                    component: 'TAddress',\n                    value: '',\n                    multiple: true\n                },{\n                    name: 'type',\n                    title: 'Тип объекта',\n                    type: 'list',\n                    component: 'Fields',\n                    value: '0',\n                    list: ['Объект производственного назначения', 'Объект непроизводственного назначения', 'Линейный объект']\n                },{\n                    name: 'functions',\n                    title: 'Функциональное назначение (или код классификатора)',\n                    type: 'string',\n                    component: 'Fields',\n                    value: ''\n                },{\n                    name: 'teis',\n                    title: 'Технико-экономические показатели объекта капитального строительства',\n                    type: 'combo',\n                    component: 'TTei',\n                    value: '',\n                    multiple: true\n                },{\n                    name: 'cadastral_numbers',\n                    title: 'Кадастровые номера земельных участков',\n                    type: 'string',\n                    component: 'TCadastralNumber',\n                    value: '',\n                    multiple: true\n                },{\n                    name: 'parts',\n                    title: 'Описание частей объекта строительства',\n                    type: 'combo',\n                    component: 'TObjectPart',\n                    value: '',\n                    multiple: true\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TObject.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TObject.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TObject.vue?vue&type=template&id=f64c332e\"\nimport script from \"./TObject.vue?vue&type=script&lang=js\"\nexport * from \"./TObject.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListGroup,{attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(_vm.item.title)}})],1)]},proxy:true}]),model:{value:(_vm.item.active),callback:function ($$v) {_vm.$set(_vm.item, \"active\", $$v)},expression:\"item.active\"}},[_c(VDivider),_c(VListItem,{staticClass:\"px-1\"},[_c(VListItemContent,[_c('t-declarant-item')],1)],1),_c(VDivider)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCol } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VAutocomplete,{attrs:{\"label\":_vm.item.title,\"placeholder\":\" \",\"items\":_vm.item.items,\"return-object\":\"\",\"item-text\":\"title\",\"item-value\":\"name\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c(_vm.selected.component,{tag:\"component\",attrs:{\"item\":_vm.selected},on:{\"update:item\":function($event){_vm.selected=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n        <fields :item.sync=\"item\" v-for=\"item in items\"/>\n\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TAddress from \"./TAddress\"\n\nexport default {\n    name: 'TOrganization',\n    props: ['item'],\n    components: {\n        Fields,\n        TAddress\n    },\n    data(){\n        return {\n            items: [{\n                name: 'name',\n                title: 'Полное наименование юридического лица',\n                type: 'string',\n                value: ''\n            },{\n                name: 'ogrn',\n                title: 'Основной государственный регистрационный номер юридического лица',\n                type: 'string',\n                value: ''\n            },{\n                name: 'inn',\n                title: 'Индивидуальный номер налогоплательщика - юридического лица',\n                type: 'string',\n                value: ''\n            },{\n                name: 'kpp',\n                title: 'Код причины постановки на учет юридического лица',\n                type: 'string',\n                value: ''\n            },{\n                name: 'addresses',\n                title: 'Адрес (местонахождение) юридического лица',\n                type: 'combo',\n                component: 'TAddress',\n                value: ''\n            },{\n                name: 'email',\n                title: 'Адрес электронной почты юридического лица',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v)) || 'Неверный email'\n                ]\n            }]\n        }\n    },\n    methods: {\n\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TOrganization.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TOrganization.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TOrganization.vue?vue&type=template&id=1540f27c\"\nimport script from \"./TOrganization.vue?vue&type=script&lang=js\"\nexport * from \"./TOrganization.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n        <fields :item.sync=\"item\" v-for=\"item in items\"/>\n\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TAddress from \"./TAddress\"\n\nexport default {\n    name: 'TForeignOrganization',\n    props: ['item'],\n    components: {\n        Fields,\n        TAddress\n    },\n    data(){\n        return {\n            items: [{\n                name: 'name',\n                title: 'Полное наименование юридического лица',\n                type: 'string',\n                value: ''\n            },{\n                name: 'inn',\n                title: 'Индивидуальный номер налогоплательщика - юридического лица',\n                type: 'string',\n                value: ''\n            },{\n                name: 'kpp',\n                title: 'Код причины постановки на учет юридического лица',\n                type: 'string',\n                value: ''\n            },{\n                name: 'addresses',\n                title: 'Адрес (местонахождение) юридического лица',\n                type: 'combo',\n                component: 'TAddress',\n                value: ''\n            },{\n                name: 'email',\n                title: 'Адрес электронной почты юридического лица',\n                type: 'string',\n                value: '',\n                required: true,\n                emailRules: [\n                    v => (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v)) || 'Неверный email'\n                ]\n            }]\n        }\n    },\n    methods: {\n\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TForeignOrganization.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TForeignOrganization.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TForeignOrganization.vue?vue&type=template&id=11e4de38\"\nimport script from \"./TForeignOrganization.vue?vue&type=script&lang=js\"\nexport * from \"./TForeignOrganization.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n        <fields :item.sync=\"item\" v-for=\"item in items\"/>\n\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TAddress from \"./TAddress\"\n\nexport default {\n    name: 'TIP',\n    props: ['item'],\n    components: {\n        Fields,\n        TAddress\n    },\n    data(){\n        return {\n            items: [{\n                name: 'last_name',\n                title: 'Фамилия',\n                type: 'string',\n                value: ''\n            },{\n                name: 'first_name',\n                title: 'Имя',\n                type: 'string',\n                value: ''\n            },{\n                name: 'second_name',\n                title: 'Отчество',\n                type: 'string',\n                value: ''\n            },{\n                name: 'ogrn',\n                title: 'Основной государственный регистрационный номер юридического лица',\n                type: 'string',\n                value: ''\n            },{\n                name: 'addresses',\n                title: 'Адрес (местонахождение) юридического лица',\n                type: 'combo',\n                component: 'TAddress',\n                value: ''\n            },{\n                name: 'email',\n                title: 'Адрес электронной почты юридического лица',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v)) || 'Неверный email'\n                ]\n            }]\n        }\n    },\n    methods: {\n\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TIP.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TIP.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TIP.vue?vue&type=template&id=2ca9f5db\"\nimport script from \"./TIP.vue?vue&type=script&lang=js\"\nexport * from \"./TIP.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n        <fields :item.sync=\"item\" v-for=\"item in items\"/>\n\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TAddress from \"./TAddress\"\n\nexport default {\n    name: 'TPerson',\n    props: ['item'],\n    components: {\n        Fields,\n        TAddress\n    },\n    data(){\n        return {\n            items: [{\n                name: 'last_name',\n                title: 'Фамилия',\n                type: 'string',\n                value: ''\n            },{\n                name: 'first_name',\n                title: 'Имя',\n                type: 'string',\n                value: ''\n            },{\n                name: 'second_name',\n                title: 'Отчество',\n                type: 'string',\n                value: ''\n            },{\n                name: 'snils',\n                title: 'СНИЛС',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/[0-9]{3}-[0-9]{3}-[0-9]{3} [0-9]{2}/.test(v)) || 'Неверный номер'\n                ]\n            },{\n                name: 'addresses',\n                title: 'Адрес (местонахождение) юридического лица',\n                type: 'combo',\n                component: 'TAddress',\n                value: ''\n            },{\n                name: 'email',\n                title: 'Адрес электронной почты юридического лица',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v)) || 'Неверный email'\n                ]\n            }]\n        }\n    },\n    methods: {\n\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TPerson.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TPerson.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TPerson.vue?vue&type=template&id=744814c7\"\nimport script from \"./TPerson.vue?vue&type=script&lang=js\"\nexport * from \"./TPerson.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-autocomplete\n            :label=\"item.title\"\n            placeholder=\" \"\n            :items=\"item.items\"\n            v-model=\"selected\"\n            return-object\n            item-text=\"title\"\n            item-value=\"name\"\n            >\n        </v-autocomplete>\n\n        <component\n            :is=\"selected.component\"\n            :item.sync=\"selected\" />\n    </v-col>\n</template>\n\n<script>\nimport TOrganization from \"./TOrganization\"\nimport TForeignOrganization from \"./TForeignOrganization\"\nimport TIP from \"./TIP\"\nimport TPerson from \"./TPerson\"\n\nexport default {\n    name: 'TDeclarantItem',\n    components: {\n        TOrganization,\n        TForeignOrganization,\n        TIP,\n        TPerson\n    },\n    data(){\n        return {\n            selected: '',\n            item: {\n                title: 'Тип определяющий лицо, участвующее в процессе подготовки документации, РИИ И ПД и подачи на экспертизу',\n                active: false,\n                items: [{\n                    name: 'organization',\n                    title: 'Юридическое лицо',\n                    type: 'combo',\n                    component: 'TOrganization',\n                    value: ''\n                },{\n                    name: 'foreign_organization',\n                    title: 'Иностранное юридическое лицо (филиал, представительство)',\n                    type: 'combo',\n                    component: 'TForeignOrganization',\n                    value: ''\n                },{\n                    name: 'ip',\n                    title: 'Индивидуальный предприниматель',\n                    type: 'combo',\n                    component: 'TIP',\n                    value: ''\n                },{\n                    name: 'person',\n                    title: 'Физическое лицо',\n                    type: 'combo',\n                    component: 'TPerson',\n                    value: ''\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TDeclarantItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TDeclarantItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TDeclarantItem.vue?vue&type=template&id=6a2936c0\"\nimport script from \"./TDeclarantItem.vue?vue&type=script&lang=js\"\nexport * from \"./TDeclarantItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-list-group\n        v-model=\"item.active\"\n        no-action\n    >\n        <v-divider></v-divider>\n        <template v-slot:activator>\n            <v-list-item-content>\n                <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n            </v-list-item-content>\n        </template>\n\n        <v-list-item class=\"px-1\">\n            <v-list-item-content>\n\n                <t-declarant-item />\n            </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n    </v-list-group>\n</template>\n\n<script>\nimport TDeclarantItem from \"./TDeclarantItem\"\n\nexport default {\n    name: 'TDeclarant',\n    components: {\n        TDeclarantItem\n    },\n    props: ['name', 'title'],\n    data(){\n        return {\n            selected: '',\n            item: {\n                name: this.name || 'declarant',\n                title: this.title || 'Кто подает',\n                active: false,\n                value: '',\n                items: [{\n                    number: 1,\n                    params: {}\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TDeclarant.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TDeclarant.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TDeclarant.vue?vue&type=template&id=da927122\"\nimport script from \"./TDeclarant.vue?vue&type=script&lang=js\"\nexport * from \"./TDeclarant.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListGroup,{attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(_vm.item.title)}})],1)]},proxy:true}]),model:{value:(_vm.item.active),callback:function ($$v) {_vm.$set(_vm.item, \"active\", $$v)},expression:\"item.active\"}},[_c(VDivider),_c(VListItem,{staticClass:\"px-1\"},[_c(VListItemContent,[_c('t-technical-customer-item')],1)],1),_c(VDivider)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCol } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VAutocomplete,{attrs:{\"label\":_vm.item.title,\"placeholder\":\" \",\"items\":_vm.item.items,\"return-object\":\"\",\"item-text\":\"title\",\"item-value\":\"name\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c(_vm.selected.component,{tag:\"component\",attrs:{\"item\":_vm.selected},on:{\"update:item\":function($event){_vm.selected=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-autocomplete\n            :label=\"item.title\"\n            placeholder=\" \"\n            :items=\"item.items\"\n            v-model=\"selected\"\n            return-object\n            item-text=\"title\"\n            item-value=\"name\"\n            >\n        </v-autocomplete>\n\n        <component\n            :is=\"selected.component\"\n            :item.sync=\"selected\" />\n    </v-col>\n</template>\n\n<script>\nimport TOrganization from \"./TOrganization\"\nimport TForeignOrganization from \"./TForeignOrganization\"\n\nexport default {\n    name: 'TTechnicalCustomerItem',\n    components: {\n        TOrganization,\n        TForeignOrganization\n    },\n    data(){\n        return {\n            selected: '',\n            item: {\n                name: 'customer',\n                title: 'Технический заказчик',\n                active: false,\n                items: [{\n                    name: 'organization',\n                    title: 'Юридическое лицо',\n                    type: 'combo',\n                    component: 'TOrganization',\n                    value: ''\n                },{\n                    name: 'foreign_organization',\n                    title: 'Иностранное юридическое лицо (филиал, представительство)',\n                    type: 'combo',\n                    component: 'TForeignOrganization',\n                    value: ''\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TTechnicalCustomerItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TTechnicalCustomerItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TTechnicalCustomerItem.vue?vue&type=template&id=bb5c4b92\"\nimport script from \"./TTechnicalCustomerItem.vue?vue&type=script&lang=js\"\nexport * from \"./TTechnicalCustomerItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-list-group\n        v-model=\"item.active\"\n        no-action\n    >\n        <v-divider></v-divider>\n        <template v-slot:activator>\n            <v-list-item-content>\n                <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n            </v-list-item-content>\n        </template>\n\n        <v-list-item class=\"px-1\">\n            <v-list-item-content>\n\n                <t-technical-customer-item />\n            </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n    </v-list-group>\n</template>\n\n<script>\nimport TTechnicalCustomerItem from \"./TTechnicalCustomerItem\"\n\nexport default {\n    name: 'TDeclarant',\n    components: {\n        TTechnicalCustomerItem\n    },\n    data(){\n        return {\n            selected: '',\n            item: {\n                name: 'customer',\n                title: 'Кто заказал',\n                active: false,\n                value: '',\n                items: [{\n                    number: 1,\n                    params: {}\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TTechnicalCustomer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TTechnicalCustomer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TTechnicalCustomer.vue?vue&type=template&id=207f96e6\"\nimport script from \"./TTechnicalCustomer.vue?vue&type=script&lang=js\"\nexport * from \"./TTechnicalCustomer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListGroup,{attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(_vm.item.title)}})],1)]},proxy:true}]),model:{value:(_vm.item.active),callback:function ($$v) {_vm.$set(_vm.item, \"active\", $$v)},expression:\"item.active\"}},[_c(VDivider),_c(VListItem,{staticClass:\"px-1\"},[_c(VListItemContent,_vm._l((_vm.item.items),function(item){return _c(item.component,{tag:\"component\",attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})}),1)],1),_c(VDivider)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})}),(_vm.item.multiple)?_c(VBtn,{staticClass:\"m-btn mb-3\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"\\n        Добавить источник\\n    \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n        <fields :item.sync=\"item\" v-for=\"item in items\"/>\n\n        <v-btn v-if=\"item.multiple\" outlined color=\"primary\" class=\"m-btn mb-3\" @click=\"add\">\n            Добавить источник\n        </v-btn>\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TTechnicalCustomer from \"./TTechnicalCustomer\"\n\nexport default {\n    name: 'TFinance',\n    props: ['item'],\n    components: {\n        Fields,\n        TTechnicalCustomer\n    },\n    data(){\n        return {\n            items: [{\n                name: 'finance_type',\n                title: 'Вид источника финансирования',\n                type: 'select',\n                list: [1,2,3],\n                value: '',\n                number: 0\n            },{\n                name: 'budget_type',\n                title: 'Уровень бюджета (в случае бюджетного финансирования)',\n                type: 'select',\n                list: [1,2,3,4,5],\n                value: '',\n                number: 0\n            },{\n                name: 'size',\n                title: 'Размер финансирования (в % от общей суммы)',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'owner',\n                title: 'Сведения о юридическом лице – источнике финансирование',\n                type: 'combo',\n                component: 'TTechnicalCustomer',\n                value: '',\n                number: 0\n            },{\n                name: 'commentary',\n                title: 'Замечания по источнику',\n                type: 'text',\n                value: '',\n                number: 0\n            }]\n        }\n    },\n    methods: {\n        add(){\n            let item = JSON.parse(JSON.stringify(this.items.filter(f => f.number == 0)))\n            this.items = [...this.items, ...item.map((i, k, a) => {\n                return {\n                    ...i,\n                    number: this.item.length / a.length,\n                    value: ''\n                }\n            })]\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TFinance.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TFinance.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TFinance.vue?vue&type=template&id=7dbecf44\"\nimport script from \"./TFinance.vue?vue&type=script&lang=js\"\nexport * from \"./TFinance.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-list-group\n        v-model=\"item.active\"\n        no-action\n    >\n        <v-divider></v-divider>\n        <template v-slot:activator>\n            <v-list-item-content>\n                <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n            </v-list-item-content>\n        </template>\n\n        <v-list-item class=\"px-1\">\n            <v-list-item-content>\n\n                <component\n                    v-for=\"item in item.items\"\n                    :is=\"item.component\"\n                    :item.sync=\"item\" />\n            </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n    </v-list-group>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TFinance from \"./TFinance\"\n\nexport default {\n    name: 'TFinances',\n    components: {\n        Fields,\n        TFinance\n    },\n    props: ['name'],\n    data(){\n        return {\n            item: {\n                name: 'finances',\n                title: 'Описание источников финансирования',\n                active: false,\n                items: [{\n                    name: 'sources',\n                    title: 'Источник финансирования',\n                    type: 'combo',\n                    component: 'TFinance',\n                    value: '',\n                    multiple: true\n                },{\n                    name: 'commentary',\n                    title: 'Замечания по источникам финансирования',\n                    type: 'text',\n                    value: ''\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TFinances.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TFinances.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TFinances.vue?vue&type=template&id=8569c582\"\nimport script from \"./TFinances.vue?vue&type=script&lang=js\"\nexport * from \"./TFinances.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListGroup,{attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(_vm.item.title)}})],1)]},proxy:true}]),model:{value:(_vm.item.active),callback:function ($$v) {_vm.$set(_vm.item, \"active\", $$v)},expression:\"item.active\"}},[_c(VDivider),_c(VListItem,{staticClass:\"px-1\"},[_c(VListItemContent,[_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VAutocomplete,{attrs:{\"label\":_vm.item.title,\"placeholder\":\" \",\"items\":_vm.item.items,\"return-object\":\"\",\"item-text\":\"title\",\"item-value\":\"name\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c(_vm.selected.component,{tag:\"component\",attrs:{\"item\":_vm.selected},on:{\"update:item\":function($event){_vm.selected=$event}}})],1)],1)],1),_c(VDivider)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n        <fields :item.sync=\"item\" v-for=\"item in items\"/>\n\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\n\nexport default {\n    name: 'TComplexEstimatedCost',\n    props: ['item'],\n    components: {\n        Fields\n    },\n    data(){\n        return {\n            items: [{\n                name: 'cost_basic',\n                title: 'Сметная стоимость в базисном уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'works_cost_basic',\n                title: 'Сметная стоимость строительно-монтажных работ в базисном уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'hardware_cost_basic',\n                title: 'Сметная стоимость оборудования в базисном уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'other_cost_basic',\n                title: 'Сметная стоимость прочих затрат в базисном уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'project_works_cost_basic',\n                title: 'Сметная стоимость проектно-изыскательских работ в базисном уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'back_sum_cost_basic',\n                title: 'Возвратные суммы в базисном уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'cost',\n                title: 'Сметная стоимость в текущем уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'works_cost',\n                title: 'Сметная стоимость строительно-монтажных работ в текущем уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'hardware_cost',\n                title: 'Сметная стоимость оборудования в текущем уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'other_cost',\n                title: 'Сметная стоимость прочих затрат в текущем уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'project_works_cost',\n                title: 'Сметная стоимость проектно-изыскательских работ в текущем уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'nds_cost',\n                title: 'Сумма налога на добавленную стоимость (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'back_sum_cost',\n                title: 'Возвратные суммы в текущем уровне цен (в тысячах рублей)',\n                type: 'string',\n                value: '',\n                required: true,\n                rules: [\n                    v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                ]\n            },{\n                name: 'cost_basic_comment',\n                title: 'Комментарий к сметной стоимости в базисном уровне цен',\n                type: 'text',\n                value: ''\n            },{\n                name: 'cost_comment',\n                title: 'Комментарий к сметной стоимости в текущем уровне цен',\n                type: 'text',\n                value: ''\n            }]\n        }\n    },\n    methods: {\n\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TComplexEstimatedCost.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TComplexEstimatedCost.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TComplexEstimatedCost.vue?vue&type=template&id=021eae18\"\nimport script from \"./TComplexEstimatedCost.vue?vue&type=script&lang=js\"\nexport * from \"./TComplexEstimatedCost.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-list-group\n        v-model=\"item.active\"\n        no-action\n    >\n        <v-divider></v-divider>\n        <template v-slot:activator>\n            <v-list-item-content>\n                <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n            </v-list-item-content>\n        </template>\n\n        <v-list-item class=\"px-1\">\n            <v-list-item-content>\n\n                <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n                    <v-autocomplete\n                        :label=\"item.title\"\n                        placeholder=\" \"\n                        :items=\"item.items\"\n                        v-model=\"selected\"\n                        return-object\n                        item-text=\"title\"\n                        item-value=\"name\"\n                        >\n                    </v-autocomplete>\n\n                    <component\n                        :is=\"selected.component\"\n                        :item.sync=\"selected\" />\n                </v-col>\n            </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n    </v-list-group>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TComplexEstimatedCost from \"./TComplexEstimatedCost\"\n\nexport default {\n    name: 'TEstimatedCost',\n    components: {\n        Fields,\n        TComplexEstimatedCost,\n    },\n    data(){\n        return {\n            selected: '',\n            item: {\n                name: 'cost',\n                title: 'Сведения о сметной стоимости',\n                active: false,\n                items: [{\n                    name: 'sum',\n                    title: 'Описание сумм при указании сметной стоимости',\n                    type: 'string',\n                    component: 'Fields',\n                    value: '',\n                    required: true,\n                    rules: [\n                        v => (/(Не требуется)|(Отсутствует)|(-{0,1}\\d*\\.{0,1}\\d*)/.test(v)) || 'Неверный ввод'\n                    ]\n                },{\n                    name: 'detail',\n                    title: 'Сметная стоимость (расшифровка по составляющим)',\n                    type: 'combo',\n                    component: 'TComplexEstimatedCost',\n                    value: ''\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TEstimatedCost.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TEstimatedCost.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TEstimatedCost.vue?vue&type=template&id=302bbc58\"\nimport script from \"./TEstimatedCost.vue?vue&type=script&lang=js\"\nexport * from \"./TEstimatedCost.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListGroup,{attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(_vm.item.title)}})],1)]},proxy:true}]),model:{value:(_vm.item.active),callback:function ($$v) {_vm.$set(_vm.item, \"active\", $$v)},expression:\"item.active\"}},[_c(VDivider),_c(VListItem,{staticClass:\"px-1\"},[_c(VListItemContent,_vm._l((_vm.item.items),function(item){return _c(item.component,{tag:\"component\",attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})}),1)],1),_c(VDivider)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-list-group\n        v-model=\"item.active\"\n        no-action\n    >\n        <v-divider></v-divider>\n        <template v-slot:activator>\n            <v-list-item-content>\n                <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n            </v-list-item-content>\n        </template>\n\n        <v-list-item class=\"px-1\">\n            <v-list-item-content>\n\n                <component\n                    v-for=\"item in item.items\"\n                    :is=\"item.component\"\n                    :item.sync=\"item\" />\n            </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n    </v-list-group>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\n\nexport default {\n    name: 'TClimateConditions',\n    props: ['items'],\n    components: {\n        Fields\n    },\n    data(){\n        return {\n            item: {\n                name: 'climate_conditions',\n                title: 'Климатические условия',\n                active: false,\n                items: [{\n                    name: 'climate_district',\n                    title: 'Климатический район, подрайон',\n                    type: 'select',\n                    component: 'Fields',\n                    list: ['I', 'IА', 'IБ', 'IВ', 'IГ', 'IД', 'II', 'IIА', 'IIБ', 'IIВ', 'IIГ', 'III', 'IIIА', 'IIIБ', 'IIIВ', 'IV', 'IVА', 'IVБ', 'IVВ', 'IVГ'\n                    ],\n                    multiple: true,\n                    value: ''\n                },{\n                    name: 'geological_conditions',\n                    title: 'Категория сложности инженерно-геологических(геокриологических) условий',\n                    type: 'select',\n                    component: 'Fields',\n                    list: ['I', 'II', 'III'],\n                    multiple: true,\n                    value: ''\n                },{\n                    name: 'wind_district',\n                    title: 'Ветровой район',\n                    type: 'select',\n                    component: 'Fields',\n                    list: ['Iа', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII'],\n                    multiple: true,\n                    value: ''\n                },{\n                    name: 'snow_district',\n                    title: 'Снеговой район',\n                    type: 'select',\n                    component: 'Fields',\n                    list: ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII'],\n                    multiple: true,\n                    value: ''\n                },{\n                    name: 'seismic_activity',\n                    title: 'Интенсивность сейсмических воздействий',\n                    type: 'select',\n                    component: 'Fields',\n                    list: [5, 6, 7, 8, 9, 10],\n                    multiple: true,\n                    value: ''\n                },{\n                    name: 'climate_conditions_note',\n                    title: 'Дополнительные сведения о природных и техногенных условиях территории, на которой планируется осуществлять строительство, реконструкцию, капитальный ремонт объекта капитального строительства',\n                    type: 'text',\n                    component: 'Fields',\n                    value: ''\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TClimateConditions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TClimateConditions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TClimateConditions.vue?vue&type=template&id=bb13c69a\"\nimport script from \"./TClimateConditions.vue?vue&type=script&lang=js\"\nexport * from \"./TClimateConditions.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListGroup,{attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(_vm.item.title)}})],1)]},proxy:true}]),model:{value:(_vm.item.active),callback:function ($$v) {_vm.$set(_vm.item, \"active\", $$v)},expression:\"item.active\"}},[_c(VDivider),_c(VListItem,{staticClass:\"px-1\"},[_c(VListItemContent,[_vm._l((_vm.item.items),function(item){return _c('t-designer-item',{attrs:{\"params\":item}})}),_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VBtn,{staticClass:\"m-btn mb-3\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"\\n                    Добавить\\n                \")])],1)],2)],1),_c(VDivider)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCol } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VAutocomplete,{attrs:{\"label\":_vm.item.title,\"placeholder\":\" \",\"items\":_vm.item.items,\"return-object\":\"\",\"item-text\":\"title\",\"item-value\":\"name\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c(_vm.selected.component,{tag:\"component\",attrs:{\"item\":_vm.selected},on:{\"update:item\":function($event){_vm.selected=$event}}})],1),_c('fields',{attrs:{\"item\":_vm.general,\"size\":'5'},on:{\"update:item\":function($event){_vm.general=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n            <v-autocomplete\n                :label=\"item.title\"\n                placeholder=\" \"\n                :items=\"item.items\"\n                v-model=\"selected\"\n                return-object\n                item-text=\"title\"\n                item-value=\"name\"\n                >\n            </v-autocomplete>\n\n            <component\n                :is=\"selected.component\"\n                :item.sync=\"selected\" />\n\n        </v-col>\n        <fields :item.sync=\"general\" :size=\"'5'\"/>\n    </div>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\nimport TOrganization from \"./TOrganization\"\nimport TForeignOrganization from \"./TForeignOrganization\"\nimport TIP from \"./TIP\"\n\nexport default {\n    name: 'TDesignerItem',\n    components: {\n        Fields,\n        TOrganization,\n        TForeignOrganization,\n        TIP\n    },\n    props: ['params'],\n    data(){\n        return {\n            selected: '',\n            general: {\n                name: 'general',\n                title: 'Отметка о роли генерального проектировщика',\n                type: 'select',\n                list: ['да', 'нет'],\n                value: ''\n            },\n            item: {\n                name: 'designers',\n                title: 'Сведения о лицах, подготовивших проектную документацию',\n                active: false,\n                items: [{\n                    name: 'organization',\n                    title: 'Юридическое лицо',\n                    type: 'combo',\n                    component: 'TOrganization',\n                    value: ''\n                },{\n                    name: 'foreign_organization',\n                    title: 'Иностранное юридическое лицо (филиал, представительство)',\n                    type: 'combo',\n                    component: 'TForeignOrganization',\n                    value: ''\n                },{\n                    name: 'ip',\n                    title: 'Индивидуальный предприниматель',\n                    type: 'combo',\n                    component: 'TIP',\n                    value: ''\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TDesignerItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TDesignerItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TDesignerItem.vue?vue&type=template&id=5669498a\"\nimport script from \"./TDesignerItem.vue?vue&type=script&lang=js\"\nexport * from \"./TDesignerItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-list-group\n        v-model=\"item.active\"\n        no-action\n    >\n        <v-divider></v-divider>\n        <template v-slot:activator>\n            <v-list-item-content>\n                <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n            </v-list-item-content>\n        </template>\n\n        <v-list-item class=\"px-1\">\n            <v-list-item-content>\n\n                <t-designer-item\n                    v-for=\"item in item.items\"\n                    :params=\"item\"\n                />\n\n                <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n                    <v-btn outlined color=\"primary\" class=\"m-btn mb-3\" @click=\"add\">\n                        Добавить\n                    </v-btn>\n                </v-col>\n\n            </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n    </v-list-group>\n</template>\n\n<script>\nimport TDesignerItem from \"./TDesignerItem\"\n\nexport default {\n    name: 'TDesigner',\n    components: {\n        TDesignerItem\n    },\n    data(){\n        return {\n            item: {\n                name: 'designers',\n                title: 'Сведения о тех, кто принимал участие',\n                active: false,\n                items: [{\n                    number: 1,\n                    params: {}\n                }]\n            }\n        }\n    },\n    methods: {\n        add(){\n            this.item.items = [...this.item.items, {\n                number: this.item.items.length + 1,\n                params: {}\n            }]\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TDesigner.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TDesigner.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TDesigner.vue?vue&type=template&id=7c0a3a8e\"\nimport script from \"./TDesigner.vue?vue&type=script&lang=js\"\nexport * from \"./TDesigner.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VListGroup,{attrs:{\"no-action\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(_vm.item.title)}})],1)]},proxy:true}]),model:{value:(_vm.item.active),callback:function ($$v) {_vm.$set(_vm.item, \"active\", $$v)},expression:\"item.active\"}},[_c(VDivider),_c(VListItem,{staticClass:\"px-1\"},[_c(VListItemContent,_vm._l((_vm.item.items),function(item){return _c(item.component,{tag:\"component\",attrs:{\"item\":item},on:{\"update:item\":function($event){item=$event}}})}),1)],1),_c(VDivider)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VListItemTitle,{attrs:{\"slot\":\"combo\"},domProps:{\"textContent\":_vm._s(_vm.item.title)},slot:\"combo\"}),_c('div',{staticClass:\"d-flex flex-wrap\"},_vm._l((_vm.items),function(item){return _c('fields',{attrs:{\"item\":item,\"size\":'6'},on:{\"update:item\":function($event){item=$event}}})}),1),(_vm.item.multiple)?_c(VBtn,{staticClass:\"m-btn mb-3\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"\\n        Добавить адрес\\n    \")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"pb-0\">\n        <v-list-item-title slot=\"combo\" v-text=\"item.title\"></v-list-item-title>\n\n    <div class=\"d-flex flex-wrap\">\n        <fields :item.sync=\"item\" v-for=\"item in items\" :size=\"'6'\"/>\n    </div>\n\n        <v-btn v-if=\"item.multiple\" outlined color=\"primary\" class=\"m-btn mb-3\" @click=\"add\">\n            Добавить адрес\n        </v-btn>\n    </v-col>\n</template>\n\n<script>\nimport Fields from \"./Fields\"\n\nexport default {\n    name: 'TEngineeringSurveyAddress',\n    props: ['item'],\n    components: {\n        Fields\n    },\n    data(){\n        return {\n            items: [{\n                name: 'region',\n                title: 'Код субъекта Российской Федерации',\n                type: 'string',\n                value: '',\n                number: 0\n            },{\n                name: 'district',\n                title: 'Описание района изысканий (Наименование муниципального района, в случае проведения изысканий на территории Российской Федерации)',\n                type: 'text',\n                value: '',\n                number: 0\n            }]\n        }\n    },\n    methods: {\n        add(){\n            let item = JSON.parse(JSON.stringify(this.items.filter(f => f.number == 0)))\n            this.items = [...this.items, ...item.map((i, k, a) => {\n                return {\n                    ...i,\n                    number: this.item.length / a.length,\n                    value: ''\n                }\n            })]\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TEngineeringSurveyAddress.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TEngineeringSurveyAddress.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TEngineeringSurveyAddress.vue?vue&type=template&id=77c23366\"\nimport script from \"./TEngineeringSurveyAddress.vue?vue&type=script&lang=js\"\nexport * from \"./TEngineeringSurveyAddress.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-list-group\n        v-model=\"item.active\"\n        no-action\n    >\n        <v-divider></v-divider>\n        <template v-slot:activator>\n            <v-list-item-content>\n                <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n            </v-list-item-content>\n        </template>\n\n        <v-list-item class=\"px-1\">\n            <v-list-item-content>\n\n                <component\n                    v-for=\"item in item.items\"\n                    :is=\"item.component\"\n                    :item.sync=\"item\" />\n            </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n    </v-list-group>\n</template>\n\n<script>\nimport TEngineeringSurveyAddress from \"./TEngineeringSurveyAddress\"\nimport TDeclarantItem from \"./TDeclarantItem\"\nimport TTechnicalCustomerItem from \"./TTechnicalCustomerItem\"\n\nexport default {\n    name: 'TEngineeringSurvey',\n    props: ['items'],\n    components: {\n        TEngineeringSurveyAddress,\n        TDeclarantItem,\n        TTechnicalCustomerItem\n    },\n    data(){\n        return {\n            item: {\n                name: 'object',\n                title: 'Описание объекта строительства',\n                active: false,\n                items: [{\n                    name: 'address',\n                    title: 'Местоположение района (площадки, трассы) проведения инженерных изысканий',\n                    type: 'combo',\n                    component: 'TEngineeringSurveyAddress',\n                    value: '',\n                    multiple: true\n                },{\n                    name: 'developer',\n                    title: 'Застройщик, обеспечивший проведение инженерных изысканий',\n                    type: 'combo',\n                    component: 'TDeclarantItem',\n                    value: ''\n                },{\n                    name: 'customer',\n                    title: 'Технический заказчик, обеспечивший проведение инженерных изысканий',\n                    type: 'combo',\n                    component: 'TTechnicalCustomerItem',\n                    value: ''\n                }]\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TEngineeringSurvey.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TEngineeringSurvey.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TEngineeringSurvey.vue?vue&type=template&id=d0c215b8\"\nimport script from \"./TEngineeringSurvey.vue?vue&type=script&lang=js\"\nexport * from \"./TEngineeringSurvey.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-dialog :value=\"projectDescription\" scrollable max-width=\"700px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n                Описание проекта\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text class=\"pt-5 px-0\">\n\n                <v-list dense>\n                    <t-object />\n                    <t-declarant\n                        :name=\"'declarant'\"\n                        :title=\"'Кто подает'\"/>\n                    <t-declarant\n                        :name=\"'developer'\"\n                        :title=\"'Кто разработал'\"/>\n                    <t-technical-customer />\n                    <t-finances />\n                    <t-estimated-cost />\n                    <t-climate-conditions />\n                    <t-designer />\n                    <t-engineering-survey />\n\n                </v-list>\n\n            </v-card-text>\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5 px-4\">\n                <v-spacer></v-spacer>\n                <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"\">\n                    Сохранить\n                </v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nimport TObject from \"./project_description/TObject\"\nimport TDeclarant from \"./project_description/TDeclarant\"\nimport TTechnicalCustomer from \"./project_description/TTechnicalCustomer\"\nimport TFinances from \"./project_description/TFinances\"\nimport TEstimatedCost from \"./project_description/TEstimatedCost\"\nimport TClimateConditions from \"./project_description/TClimateConditions\"\nimport TDesigner from \"./project_description/TDesigner\"\nimport TEngineeringSurvey from \"./project_description/TEngineeringSurvey\"\n\nexport default {\n    name: 'ProjectDescription',\n    components: {\n        TObject,\n        TDeclarant,\n        TTechnicalCustomer,\n        TFinances,\n        TEstimatedCost,\n        TClimateConditions,\n        TDesigner,\n        TEngineeringSurvey\n    },\n    props: ['projectDescription'],\n    data(){\n        return {\n            project_description: {}\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('update:projectDescription', false)\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDescription.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDescription.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProjectDescription.vue?vue&type=template&id=8edf299c\"\nimport script from \"./ProjectDescription.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectDescription.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"top\":\"\",\"right\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"m-icon-border\",attrs:{\"text\":\"\",\"icon\":\"\",\"size\":\"20\"},on:{\"mousedown\":function($event){$event.stopPropagation();}}},on),[_vm._v(\"\\n            mdi-dots-horizontal\\n        \")])]}}])},[_c(VCard,[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.createMenu),function(note,i){return _c(VListItem,{key:i,on:{\"click\":function($event){return _vm.action(note)}}},[_c(VListItemIcon,{staticClass:\"mr-1\"},[_c(VIcon,{attrs:{\"color\":\"#0070e0\",\"size\":\"20\"}},[_vm._v(_vm._s(note.icon))])],1),_c(VListItemTitle,{staticClass:\"m-menu-title\",domProps:{\"textContent\":_vm._s(note.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n      top\n      right\n      offset-y\n      transition=\"slide-y-transition\"\n    >\n        <template v-slot:activator=\"{ on }\">\n            <v-icon\n                v-on=\"on\"\n                text\n                icon\n                class=\"m-icon-border\"\n                @mousedown.stop=\"\"\n                size=\"20\">\n                mdi-dots-horizontal\n            </v-icon>\n        </template>\n        <v-card>\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(note, i) in createMenu\"\n                    :key=\"i\"\n                    @click=\"action(note)\"\n                    >\n                  <v-list-item-icon class=\"mr-1\">\n                    <v-icon color=\"#0070e0\" size=\"20\">{{note.icon}}</v-icon>\n                </v-list-item-icon>\n                    <v-list-item-title\n                        class=\"m-menu-title\"\n                        v-text=\"note.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\nimport { getAccess, checklicense } from '@/utils/services'\n\nexport default {\n    props: ['item', 'permission'],\n    data: () => ({\n        notes: [{\n            title: 'О проекте',\n            value: 'about',\n            action: 'about',\n            access: 7,\n            icon: 'trd-info',\n            lic: null\n        },{\n            title: 'Эксертиза',\n            value: 'struct',\n            action: 'struct',\n            access: 7,\n            icon: 'trd-info',\n            lic: 'licStruct'\n        },{\n            title: 'Создать XML-схему',\n            value: 'createxml',\n            action: 'createxml',\n            access: 7,\n            icon: 'trd-xml',\n            lic: 'licCreatexml'\n        },{\n            title: 'Удалить',\n            value: 'remove',\n            action: 'remove',\n            access: 1,\n            icon: 'trd-trash',\n            lic: null\n        }]\n    }),\n    computed: {\n        createMenu(){\n            return this.notes.filter(f => getAccess(this.permission, 'and', [f.access]) && checklicense(f.lic))\n        }\n    },\n    methods: {\n        action(v){\n            switch(v.action){\n                case 'about':\n                    this.$emit('onProject', this.item)\n                    break\n                case 'struct':\n                    this.$emit('onProjectDescription')\n                    break\n                case 'createxml':\n                    this.$emit('onCreateXml', this.item)\n                    break\n                case 'remove':\n                    this.$emit('removeProject', this.item)\n                    break\n                default:\n                    this.$emit('getProject', this.item)\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActionMenu.vue?vue&type=template&id=58fc9aee\"\nimport script from \"./ActionMenu.vue?vue&type=script&lang=js\"\nexport * from \"./ActionMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.create_xml,\"scrollable\":\"\",\"max-width\":\"700px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n            Создать xml файл проекта\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"px-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"py-4\"},[_vm._v(\"Структура проектной документации\")]),_c('div',{staticClass:\"m-custom--card\"},[_c('div',{staticClass:\"m-custom--list__item\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.getProjectName)+\"\\n                \")]),_c(VDivider),_c(VTreeview,{attrs:{\"dense\":\"\",\"selectable\":\"\",\"hoverable\":\"\",\"transition\":\"\",\"item-key\":\"id\",\"selected-color\":\"primary\",\"expand-icon\":\"mdi-chevron-down\",\"return-object\":\"\",\"items\":_vm.getItems},scopedSlots:_vm._u([{key:\"label\",fn:function({ item }){return [_c('div',{staticClass:\"v-treeview-node__label\"},[_vm._v(\"\\n                            \"+_vm._s(item.name)+\"\\n\\n                            \"),(item.error === -1)?_c(VTooltip,{attrs:{\"top\":\"\",\"right\":\"\",\"color\":\"#fff\",\"max-width\":\"250px\",\"content-class\":\"m-tooltip--info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"mr-1 m-info--file\",attrs:{\"size\":\"20\",\"color\":\"#ff0000\"}},on),[_vm._v(\"mdi-alert-outline\\n                                    \")])]}},{key:\"default\",fn:function(){return [_c('span',{},[_vm._v(\"Согласно Постановлению Правительства № 1431 от 15 сентября 2020 года, трехмерная Информационная Модель проекта должна быть предоставлена в xml-схеме. Для это нужно конвертировать исходный файл Информационная Модель.\")])]},proxy:true}],null,true)}):_vm._e()],1)]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)]),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cancel.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.sendXml}},[_vm._v(\"Создать\\n            \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-dialog :value=\"create_xml\" scrollable max-width=\"700px\" @input=\"v => v || cancel()\">\n    <v-card>\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Создать xml файл проекта\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"px-4\" style=\"background-color: #fbfbfb;\">\n            <div class=\"py-4\">Структура проектной документации</div>\n            <div class=\"m-custom--card\">\n                <div class=\"m-custom--list__item\">\n                    {{getProjectName}}\n                </div>\n                <v-divider></v-divider>\n                <v-treeview\n                    dense\n                    selectable\n                    hoverable\n                    transition\n                    item-key=\"id\"\n                    selected-color=\"primary\"\n                    expand-icon=\"mdi-chevron-down\"\n                    return-object\n                    :items=\"getItems\"\n                    v-model=\"selected\"\n\n                >\n                    <template slot=\"label\" slot-scope=\"{ item }\">\n                        <div class=\"v-treeview-node__label\">\n                            {{item.name}}\n\n                            <v-tooltip\n                                v-if=\"item.error === -1\"\n                                top\n                                right\n                                color=\"#fff\"\n                                max-width=\"250px\"\n                                content-class=\"m-tooltip--info\">\n                                <template v-slot:activator=\"{ on }\">\n                                    <v-icon\n                                        size=\"20\"\n                                        v-on=\"on\"\n                                        class=\"mr-1 m-info--file\"\n                                        color=\"#ff0000\">mdi-alert-outline\n                                    </v-icon>\n                                </template>\n                                <template v-slot:default>\n                                    <span class=\"\">Согласно Постановлению Правительства № 1431 от 15 сентября 2020 года, трехмерная Информационная Модель проекта должна быть предоставлена в xml-схеме. Для это нужно конвертировать исходный файл Информационная Модель.</span>\n                                </template>\n                            </v-tooltip>\n                        </div>\n                    </template>\n                </v-treeview>\n            </div>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"cancel\">Отмена</v-btn>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"sendXml\">Создать\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</v-dialog>\n</template>\n\n<script>\nimport { http, api } from '@/utils/define'\nimport { v4 as uuidv4 } from 'uuid'\nimport { setAccessFolderFile, getAccess } from '@/utils/services'\nexport default {\n    name: 'CreateXml',\n    props: ['create_xml', 'item'],\n    data(){\n        return {\n            getProjectName: '',\n            selected: [],\n            items: [],\n            extensions: ['rvt', 'ifc', 'pdf']\n        }\n    },\n    computed: {\n        getItems(){\n            const transTree = (tree) => {\n                return tree.map(tre => {\n                    if(tre.type == 'file'){\n                        if(tre.tags && tre.tags.hasOwnProperty('ifcxml.zip')){\n                            tre.error = tre.tags['ifcxml.zip']\n                        }\n                    }\n                    else{\n                        tre.children = transTree(tre.children)\n                    }\n                    return tre\n                }).filter(f => f.sts != 2)\n            }\n            let list = transTree(this.items)\n            return list\n        }\n    },\n    watch: {\n        create_xml(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n                this.getProjectName = this.item.info.name\n                this.setItems(this.item)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n                this.items = []\n                this.getProjectName = ''\n            }\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('update:create_xml', false)\n        },\n        setItems(project){\n             Promise.all([\n                this.$store.commit('workflow/setActiveProject', project),\n                this.$store.dispatch('workflow/getFolders')\n            ])\n            .then(() => {\n                this.items = this.createTree(this.$store.state.workflow.folders)\n            })\n        },\n        createTree(folders, path = []){\n            let list = []\n            if(folders){\n                folders.map(fol => {\n                    list.push({\n                        ...fol,\n                        sts: 1,\n                        tags: null,\n                        type: 'folder',\n                        error: null,\n                        children: [\n                            ...this.createTree(fol.folders, [...path, fol.name]),\n                            ...this.getFiles(fol.files, [...path, fol.name])\n                        ]\n                    })\n                })\n            }\n            return list\n        },\n        getFiles(files, path){\n            let list = []\n            if(files){\n                list = files.map(f => {\n                    return this.checkFile(f)\n                })\n                .filter(f => f != null)\n                .map(m => {\n                    return {\n                        ...m,\n                        path: path.join('/') + '/'\n                    }\n                })\n            }\n            return list\n        },\n        checkFile(f){\n            let file = null\n            let type = f.name.split('.').splice(-1, 1)[0] || null\n            if(this.extensions.some(s => s == type) && f.consolidations == null){\n                file = {\n                    ...f,\n                    type: 'file',\n                    sts: 1,\n                    tags: null,\n                    error: null\n                }\n            }\n            file = this.getTags(file, type)\n            this.selected.push(file)\n            return file\n        },\n        getTags(file, type){\n            if(type != 'pdf' && file != null){\n                file.sts = null\n                let token = this.$store.state.auth.access_token\n                file.socket = new WebSocket(http['socket_files']\n                        + api['socket_files']\n                        + file.files[0].url\n                )\n                file.socket.onmessage = (e) => {\n                    let response = JSON.parse(e.data)\n                    this.items = this.transTree(this.items, file, response.sts, response.tags)\n                }\n                file.socket.onopen = function(e){\n                    file.socket.send(token)\n                }\n            }\n            return file\n        },\n        transTree(list, file, sts, tags){\n            list = list.map(l => {\n                if(l.type == 'folder'){\n                    l.children = this.transTree(l.children, file, sts, tags)\n                }\n                else{\n                    if(l.id == file.id){\n                        l.sts = sts\n                        l.tags = tags\n                    }\n                }\n                return l\n            })\n            return list\n        },\n        sendXml(){\n            let item = JSON.parse(JSON.stringify(this.item))\n            this.cancel()\n            let body = {\n                project_id: item.id,\n                folders: (() => {\n                    let map = {}\n                    this.selected.map(s => {\n                        let tags = ''\n                        let type = s.name.split('.').splice(-1, 1)[0] || null\n                        if(type == 'rvt'){\n                            if(s.tags && s.tags['ifcxml.zip'] == 1){\n                                tags = 'ifcxml.zip'\n                            }\n                        }\n                        return {[s.path]: {id: [s.id], tags: tags}}\n                    })\n                    .map(i => {\n                        Object.entries(i).map(([k, v]) => {\n                            map[k] = map[k]\n                                ? {...map[k], [v.id]: v.tags}\n                                : {[v.id]: v.tags}\n                        })\n                    })\n                    return map\n                })()\n            }\n            let uuid = uuidv4()\n            this.$store.dispatch('common/setUploadNote', [{\n                    name: item.info.name,\n                    uuid: uuid,\n                    action: 'createxml',\n                    pushin: true\n            }])\n            .then(() => {\n                return this.$store.dispatch('workflow/createXml', body)\n            })\n            .then(task_id => {\n                return new Promise(resolve => {\n                    const interval = setInterval(() => {\n                        this.$store.dispatch('workflow/checkCreateXml', task_id)\n                        .then(res => {\n                            if(res.sts != 0){\n                                clearInterval(interval)\n                                resolve(res)\n                            }\n                        })\n                    }, 5000)\n                })\n            })\n            .then(res => {\n                this.$store.dispatch('common/setUploadNote', [{\n                    uuid: uuid,\n                    pushin: false\n                },{\n                    name: item.info.name + '.xml',\n                    uuid: uuid = uuidv4(),\n                    action: 'download',\n                    pushin: true\n                }])\n                this.$store.dispatch('common/getFile', {\n                    id: res.file_id,\n                    uuid: uuid,\n                    typeBlob: 'blob'\n                })\n                .then(res => {\n                    this.$store.dispatch('common/setUploadNote', [{\n                        uuid: uuid,\n                        action: 'download',\n                        pushin: false\n                    }])\n                    if(!res.error){\n                        let a = document.createElement(\"a\")\n                        let objectURL = URL.createObjectURL(res.file)\n                        a.href = objectURL\n                        a.download = item.info.name + '.zip'\n                        document.body.appendChild(a)\n                        a.click()\n                        URL.revokeObjectURL(objectURL)\n                        a.remove()\n                    }\n                    else{\n                        console.log('download xml error', err)\n                    }\n                })\n                .catch(err => {\n                    console.log('downloadFile xml', err)\n                })\n            })\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.sendXml()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateXml.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateXml.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CreateXml.vue?vue&type=template&id=ffade2f4\"\nimport script from \"./CreateXml.vue?vue&type=script&lang=js\"\nexport * from \"./CreateXml.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-container fluid fill-height text-xs-center class=\"m-container pb-10 pt-0\">\n<v-layout row wrap>\n<v-flex xs12>\n\n    <v-container\n        ref=\"wrap\"\n        fluid\n        :fill-height=\"!projectList.length\"\n        px-3\n        pt-0\n        pb-10>\n        <v-layout\n            v-if=\"!projectList.length\"\n            fluid\n            fill-height\n            column\n            align-center\n            justify-center\n            >\n            <template v-if=\"getAccess(getPermission, 'and', [0])\">\n                <div class=\"m-dummy--title-2\">У вас пока нет проектов, создайте его!</div>\n                <div class=\"py-3\">\n                    <v-btn\n                        v-show=\"getAccess(getPermission, 'and', [0])\"\n                        outlined\n                        color=\"primary\"\n                        @click.stop=\"onProject(false)\"\n                        class=\" m-btn--text_icon mr-4\">\n                        <v-icon\n                            size=\"16\"\n                            left>mdi-plus-circle-outline</v-icon>Создать проект\n                    </v-btn>\n                    <span v-if=\"checklicense('uploadProject')\">или</span>\n                    <v-btn\n                        v-if=\"getAccess(getPermission, 'and', [0]) && checklicense('uploadProject')\"\n                        text\n                        @click.stop=\"inputFiles\"\n                        class=\"ma-0 m-btn--text_icon\">\n                        <v-icon\n                            size=\"16\"\n                            left>icon-upload</v-icon>Загрузить проект\n                    </v-btn>\n                </div>\n                <div class=\"m-dummy--link-info mt-2\">Как создать проект?</div>\n            </template>\n            <template v-else>\n                <div class=\"m-dummy--title-2\">У вас нет прав для создания проектов.</div>\n            </template>\n        </v-layout>\n\n        <v-toolbar\n            v-if=\"projectList.length\"\n            flat\n            height=\"auto\"\n            class=\"m-table-toolbar\">\n            <v-text-field\n                v-model=\"search\"\n                prepend-icon=\"search\"\n                placeholder=\"Поиск...\"\n                single-line\n                hide-details\n                class=\"m-table-toolbar--search ml-2\"\n                ></v-text-field>\n\n            <v-spacer></v-spacer>\n            <input\n                type=\"file\"\n                v-show=\"false\"\n                ref=\"input-files\"\n                name=\"fileXml\"\n                required\n                @change=\"onImportXml\">\n            <v-btn\n                v-if=\"getAccess(getPermission, 'and', [0]) && checklicense('uploadProject')\"\n                text\n                @click.stop=\"inputFiles\"\n                class=\"ma-0 m-btn--text_icon\">\n                <v-icon\n                    size=\"16\"\n                    left>icon-upload</v-icon>Загрузить проект\n            </v-btn>\n            <v-btn\n                v-show=\"getAccess(getPermission, 'and', [0])\"\n                outlined\n                color=\"primary\"\n                @click.stop=\"onProject(false)\"\n                class=\"ma-0 m-btn--text_icon ml-2\">\n                <v-icon\n                    size=\"16\"\n                    left>mdi-plus-circle-outline</v-icon>Создать проект\n            </v-btn>\n        </v-toolbar>\n\n        <v-data-table\n            v-if=\"projectList.length\"\n            :headers=\"headers\"\n            :items=\"projectList\"\n            fixed-headerw\n            heightq=\"200\"\n            :show-select=\"getAccess(getPermission, 'or', [1, 7])\"\n            v-model=\"selected\"\n            :search=\"search\"\n            disable-pagination\n            hide-default-footer\n            class=\"m-table-custom\"\n        >\n\n            <template v-slot:item.name=\"{ item }\">\n                <span\n                    class=\"m-text--hover\"\n                    @click=\"getProject(item)\"\n                    >{{item.info.name}}\n                </span>\n            </template>\n\n            <template v-slot:item.manager=\"{ item }\">\n                {{item.info.in_charge_name}}\n            </template>\n\n            <template v-slot:item.client=\"{ item }\">\n                {{item.info.client}}\n            </template>\n\n            <template v-slot:item.date=\"{ item }\">\n                {{getDate(item.info.created_at)}}\n            </template>\n\n            <template v-slot:item.count_files=\"{ item }\">\n                {{item.info.number_of_files}}\n            </template>\n\n            <template v-slot:item.action=\"{ item }\">\n                <action-menu\n                    v-if=\"!isSelected(item.id) && getAccess(getPermission, 'or', [1, 7])\"\n                    @onProject=\"onProject(item)\"\n                    @onProjectDescription=\"onProjectDescription\"\n                    @onCreateXml=\"onCreateXml\"\n                    @getProject=\"getProject\"\n                    @removeProject=\"removeProject\"\n                    :permission=\"getPermission\"\n                    :item=\"item\"\n                />\n                <div\n                    v-else\n                    :style=\"{width: '34px'}\">\n                </div>\n            </template>\n            <template\n                slot=\"pageText\"\n                slot-scope=\"props\"\n                >\n                {{ props.pageStart }} - {{ props.pageStop }} из {{ props.itemsLength }}\n            </template>\n        </v-data-table>\n\n        <edit-project\n            :editProject.sync=\"editProject\"\n            :item=\"itemCurrent\"\n            />\n        <project-description\n            :projectDescription.sync=\"projectDescription\"\n            />\n        <create-xml\n            :create_xml.sync=\"create_xml\"\n            :item=\"itemCurrent\"\n            @createXml=\"createXml\"\n            />\n\n        <v-card\n            class=\"m-table-custom--action\"\n            :style=\"cardActionStyle\"\n            v-show=\"(selected.length == 1 && getAccess(getPermission, 'and', [7]))\n                || (selected.length && getAccess(getPermission, 'and', [1]))\"\n            >\n            <v-card-actions>\n                <v-btn\n                    v-if=\"selected.length == 1 && getAccess(getPermission, 'and', [7])\"\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"onProject(false)\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-information-outline</v-icon>О проекте</v-btn>\n                <v-btn\n                    v-if=\"getAccess(getPermission, 'and', [1])\"\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"removeProjectSelected\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-trash-can-outline</v-icon>\n                    Удалить\n                </v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-container>\n</v-flex>\n</v-layout>\n</v-container>\n</template>\n\n<script>\nimport { getAccess, checklicense } from '@/utils/services'\nimport EditProject from \"./workflow_list/EditProject\"\nimport ProjectDescription from \"./workflow_list/ProjectDescription\"\nimport ActionMenu from \"./workflow_list/ActionMenu\"\nimport CreateXml from './workflow_list/CreateXml'\nimport { v4 as uuidv4 } from 'uuid'\n\nexport default {\n    name: 'WorkflowList',\n    components: {\n        EditProject,\n        ProjectDescription,\n        ActionMenu,\n        CreateXml\n    },\n    data(){\n        return {\n            search: '',\n            all_row: false,\n            table_type_list: [{\n                name: 'list',\n                icon: 'mdi-format-list-bulleted'\n            },{\n                name: 'grid',\n                icon: 'mdi-view-grid'\n            }],\n            headers: [\n                { text: 'Название проекта', value: 'name', grid: false },\n                { text: 'Ответственный за проект', value: 'manager', grid: true },\n                { text: 'Заказчик', value: 'client', grid: true },\n                { text: 'Дата создания', value: 'date', align: 'left', grid: true },\n                { text: 'Кол. файлов', value: 'count_files', grid: true, align: 'center'},\n                { text: '', value: 'action', sortable: false, grid: false },\n                ],\n            projects: [],\n            selected: [],\n            newProject: false,\n            aboutProject: false,\n            editProject: false,\n            itemCurrent: null,\n            type_id: '',\n            company_id: '',\n            create_xml: false,\n            projectDescription: false\n        }\n    },\n    computed: {\n        filteredProjects(){\n            const s = this.search.toLowerCase()\n            return this.projectList.filter(n => n.name.toString().toLowerCase().includes(s))\n        },\n        projectList(){\n            let list = this.$store.state.workflow.projects\n            return list\n        },\n        cardActionStyle(){\n            let width = 0\n            let left = 0\n            if(this.selected.length){\n                let box = this.$refs['wrap'].getBoundingClientRect()\n                width = box.width\n                left = box.x\n            }\n            return {width: width + 'px', left: left + 'px'}\n        },\n        getPermission(){\n            let user = this.$store.state.administration.user\n            return user.permission\n        }\n    },\n    methods: {\n        checklicense(v){\n            return checklicense(v)\n        },\n        getAccess(a, b, c){\n            return getAccess(a, b, c)\n        },\n        getAccessSelected(power, ar){\n            if(!this.selected.length){\n                return true\n            }\n            else{\n                return !!getAccess(this.getPermission, power, ar)\n            }\n        },\n        onCreateXml(i){\n            console.log('open create xml')\n            this.itemCurrent = i\n            this.create_xml = true\n        },\n        onProjectDescription(){\n            this.projectDescription = true\n        },\n        createXml(i){\n            console.log('create xml')\n        },\n        getDate(d){\n            let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n            return (new Date(parseInt(d) * 1000)).toLocaleDateString(\"ru-RU\", options)\n        },\n        isSelected(id){\n            let i = this.selected.filter(i => id == i.id)\n            return i.length ? true : false\n        },\n        addProject(){\n            this.newProject = true\n        },\n        onProject(i){\n            if(!i){\n                this.itemCurrent = this.getSelectedProject()\n            }\n            else{\n                this.itemCurrent = i\n            }\n            this.editProject = true\n        },\n        getSelectedProject(){\n            if(this.selected.length == 1){\n                let item = this.projectList.filter(i => i.id == this.selected[0].id)[0]\n                return item\n            }\n            else{\n                return null\n            }\n        },\n        getProject: function(i){\n            this.$store.commit('workflow/setActiveGroup', false)\n            this.$store.commit('workflow/setActiveFolder', false)\n            this.$router.push('/workflow/' + i.id + '/list')\n        },\n        // selectItem(item){\n        //     let exist = false\n        //     let index = 0\n        //     this.selected.map((i, j) => {\n        //         if(i.id == item.id){\n        //             exist = true\n        //             index = j\n        //         }\n        //     })\n        //\n        //     if(!exist){\n        //         this.selected.push(item)\n        //     }\n        //     else{\n        //         this.selected.splice(index, 1)\n        //     }\n        // },\n        removeProject: function(i){\n            this.$store.dispatch('workflow/removeProject', {uuid: i.id})\n            .then(() => {\n                this.$store.dispatch('workflow/getProjects', {\n                        type_id: this.type_id,\n                        id: this.company_id\n                    })\n            })\n            .then(() => {\n                this.$notify({\n                    group: 'note',\n                    type: 'success',\n                    text: 'Проект ' + i.info.name + ' удален.'\n                })\n            })\n        },\n        removeProjectSelected: function(){\n            let list = this.selected\n            let listPromises = []\n            list.map(i => {\n                listPromises.push(this.$store.dispatch('workflow/removeProject', {uuid: i.id})\n                .then(() => {\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Проект ' + i.info.name + ' удален.'\n                    })\n                }))\n            })\n            Promise.all(listPromises)\n            .then(() => {\n                this.$store.dispatch('workflow/getProjects', {\n                        type_id: this.type_id,\n                        id: this.company_id\n                    })\n                this.selected = []\n            })\n        },\n        inputFiles(){\n            this.$refs['input-files'].click()\n        },\n        onImportXml(e){\n            let files = e.target.files || e.dataTransfer.files\n            let item\n            for(let x in files){\n                if(!isNaN(x)){\n                    // let file = {\n                    //     id: new Date().getTime(),\n                    //     selected: false,\n                    //     item: files[x]\n                    // }\n                    item = files[x]\n                }\n            }\n\n            let formData = new FormData()\n            let uuid = uuidv4()\n            formData.append('file', item)\n            formData.append('name', item.name)\n            // formData.append('project_id', this.project_id)\n            formData.append('is_attachment', true)\n            formData.append('uuid', uuid)\n\n            this.$store.dispatch('common/setUploadNote', [{\n                    name: item.name,\n                    uuid: uuid,\n                    action: 'upload',\n                    pushin: true}]\n            )\n            .then(() => {\n                return this.$store.dispatch('common/importXml', formData)\n            })\n            .then(res => {\n                return new Promise(resolve => {\n                    const interval = setInterval(() => {\n                        this.$store.dispatch('common/checkImportXml', {task_id: res.TaskID})\n                        .then(res => {\n                            if(res.Status != 1){\n                                clearInterval(interval)\n                                resolve(res)\n                            }\n                        })\n                    }, 2000)\n                })\n            })\n            .then(res => {\n                console.log(res)\n                this.$store.dispatch('common/setUploadNote', [{\n                        uuid: uuid,\n                        action: 'upload',\n                        pushin: false}]\n                )\n            })\n            .then(() => {\n                this.$store.dispatch('workflow/getProjects', {\n                    type_id: this.type_id,\n                    id: this.company_id\n                })\n            })\n\n        },\n    },\n    created(){\n        this.type_id = 'c'\n        this.company_id = this.$store.state.administration.company.id\n        this.$store.dispatch('administration/getGroupPermissions', null)\n        .then(() => {\n            this.$store.dispatch('workflow/getProjects', {\n                type_id: this.type_id,\n                id: this.company_id\n            })\n        })\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./WorkflowList.vue?vue&type=template&id=0b9d9958\"\nimport script from \"./WorkflowList.vue?vue&type=script&lang=js\"\nexport * from \"./WorkflowList.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(_vm.getViewer,{tag:\"component\",attrs:{\"model\":_vm.model,\"list\":_vm.list,\"doc\":_vm.doc,\"project_id\":_vm.id}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\",\"pa-0\":\"\"}},[_c(VLayout,{ref:\"wrap\",attrs:{\"wrap\":\"\",\"ma-0\":\"\"}},[_c('div',{ref:\"pdf-wrap\",staticClass:\"m-pdf-wrap\",class:{'no-event': _vm.no_event},style:(_vm.style_pdf)},[_c('div',{ref:\"pdf\",staticClass:\"m-zoom\",class:{'pdf-move': _vm.mouse_down}},[_c('div',{ref:\"container\",staticClass:\"pdf-container\",attrs:{\"id\":\"viewerContainer\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compareMode),expression:\"compareMode\"}],ref:\"compare-wrap\",staticClass:\"pdf-container pdf-container--twice__wrap\",style:({width: _vm.twice_width + '%'})},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.model.files.length < 2),expression:\"model.files.length < 2\"}],staticClass:\"pdf-container--twice__wrap--desc\"},[_vm._v(\"Нужно как минимум две версии файла. Загрузите еще одну версию.\")]),_c('div',{ref:\"containerTwice\",staticClass:\"pdf-container pdf-container--twice\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.compareMode),expression:\"!compareMode\"}],ref:\"stack\",staticClass:\"m-anno-view--stack\",class:{novisible: !_vm.pdfInit}},_vm._l((_vm.anno_list),function(i,j){return _c('anno',{key:'stack' + j,attrs:{\"anno\":i}})}),1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.compareMode),expression:\"!compareMode\"}],ref:\"view\",staticClass:\"m-anno-view\",class:{novisible: !_vm.pdfInit}},_vm._l((_vm.anno_list),function(i,j){return _c('anno',{key:j,attrs:{\"anno\":i}})}),1),_c('border-stack',{attrs:{\"width\":_vm.version.once.pdfWidth,\"height\":_vm.version.once.pdfHeight}}),_c('border-helper',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.compareMode),expression:\"!compareMode\"}]}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compareMode),expression:\"compareMode\"}],ref:\"dragger\",staticClass:\"dragger--wrap\",style:(_vm.compare_style)},[_c('div',{ref:\"compare-handler\",staticClass:\"dragger--handler\"})])],1)]),_c(VCard,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compareMode),expression:\"compareMode\"}],staticClass:\"m-version-pdf m-version-pdf--left\"},[_c(VMenu,{attrs:{\"top\":\"\",\"close-on-click\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c(VCardText,_vm._g(_vm._b({staticClass:\"px-3 py-2\"},'v-card-text',attrs,false),on),[_c(VListItem,{staticClass:\"pa-0\"},[_c('span',[_vm._v(\"V\"+_vm._s(_vm.version.once.value))]),_c(VSpacer),_c(VIcon,{attrs:{\"right\":\"\"}},[_vm._v(\"\\n                                    mdi-chevron-down\\n                                \")])],1)],1)]}}])},[(_vm.getVersionList.length)?_c(VList,_vm._l((_vm.getVersionList),function(item,index){return _c(VListItem,{key:index,on:{\"click\":function($event){return _vm.updatePdf(item, 'once')}}},[_c(VListItemTitle,[_vm._v(\"V\"+_vm._s(item))])],1)}),1):_vm._e()],1)],1),_c(VCard,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compareMode && _vm.version.twice.value != 0),expression:\"compareMode && version.twice.value != 0\"}],staticClass:\"m-version-pdf m-version-pdf--right\"},[_c(VMenu,{attrs:{\"top\":\"\",\"close-on-click\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c(VCardText,_vm._g(_vm._b({staticClass:\"px-3 py-2\"},'v-card-text',attrs,false),on),[_c(VListItem,{staticClass:\"pa-0\"},[_c('span',[_vm._v(\"V\"+_vm._s(_vm.version.twice.value))]),_c(VSpacer),_c(VIcon,{attrs:{\"right\":\"\"}},[_vm._v(\"\\n                                    mdi-chevron-down\\n                                \")])],1)],1)]}}])},[(_vm.getVersionList.length)?_c(VList,_vm._l((_vm.getVersionList),function(item,index){return _c(VListItem,{key:index,on:{\"click\":function($event){return _vm.updatePdf(item, 'twice')}}},[_c(VListItemTitle,[_vm._v(\"V\"+_vm._s(item))])],1)}),1):_vm._e()],1)],1),_c('panel-options',{attrs:{\"options\":_vm.options,\"params\":_vm.optionParams},on:{\"setOption\":_vm.setOption,\"setSubOption\":_vm.setSubOption}})],1),(_vm.getAccess(_vm.model.access, 'and', [3]) && _vm.checklicense('commentsPDF') && _vm.checklicense('tasksPDF'))?_c('tools',{attrs:{\"toolsbar\":_vm.toolsbar,\"compareMode\":_vm.compareMode,\"project_id\":_vm.project_id,\"document\":_vm.model,\"screen\":_vm.screen,\"blob\":_vm.blob},on:{\"update:toolsbar\":function($event){_vm.toolsbar=$event},\"update:screen\":function($event){_vm.screen=$event},\"getImageData\":_vm.getImageData}}):_vm._e(),_c('iframe',{ref:\"pdf-frame\",staticStyle:{\"height\":\"0\",\"width\":\"0\",\"border\":\"0\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VNavigationDrawer,{staticClass:\"m-navigator-tools m-navigator-no-scroll px-2 pr-0\",attrs:{\"permanent\":\"\",\"width\":_vm.tools_width,\"right\":\"\",\"clipped\":\"\",\"color\":\"transparent\",\"app\":\"\"}},[_c(VLayout,{staticClass:\"ma-0\",attrs:{\"fill-height\":\"\"}},[_c('div',{staticClass:\"m-overflow-hidden m-tools-content\",class:{'m-tools-content--mini': _vm.mini}},[_c(VLayout,{staticClass:\"ma-0\",attrs:{\"fill-height\":\"\"}},[_c(_vm.tab,{tag:\"component\",attrs:{\"document\":_vm.document,\"project_id\":_vm.project_id,\"screen\":_vm.screen,\"blob\":_vm.blob,\"task_new\":_vm.task_new},on:{\"update:task_new\":function($event){_vm.task_new=$event},\"getImageData\":_vm.getImageData,\"clearImageData\":_vm.clearImageData,\"newTask\":_vm.newTask}})],1)],1),_c('div',{staticClass:\"pl-0 pr-0 text-right m-tools-menu\",attrs:{\"ccols\":\"2\"}},[_c(VListItem,{staticClass:\"m-nav-right-tools m-nav-right-tools__dil\",on:{\"click\":function($event){$event.stopPropagation();return _vm.expand.apply(null, arguments)}}},[_c(VIcon,{attrs:{\"size\":\"25\",\"color\":\"#7f7f7f\"}},[_vm._v(_vm._s(_vm.mini ? 'mdi-chevron-double-left' : 'mdi-chevron-double-right'))])],1),_vm._l((_vm.getTabs),function(i,j){return _c(VListItem,{key:j,staticClass:\"m-nav-right-tools\",class:{active: i.name == _vm.tab},on:{\"click\":function($event){return _vm.setTab(i.name)}}},[_c(VIcon,{attrs:{\"color\":_vm.activeBtn(i.name),\"size\":\"25\"}},[_vm._v(_vm._s(i.icon))])],1)})],2),(_vm.compareMode)?_c('div',{staticClass:\"m-overhead\"},[_c('span',[_vm._v(\"Недоступно в режиме сравнения.\")])]):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport ClickOutside from 'vuetify/lib/directives/click-outside';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-comment-box\"},[_c('div',{staticClass:\"m-comment-list\"},[_c('div',{ref:\"list-items\",staticClass:\"m-comment-list--items\"},_vm._l((_vm.commentList),function(item,index){return _c(VRow,{key:'comment' + item.id,attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c('comment',{attrs:{\"comment\":item,\"posActive\":_vm.posActive},on:{\"update:posActive\":function($event){_vm.posActive=$event},\"update:pos-active\":function($event){_vm.posActive=$event}}})],1)],1)}),1)]),_c('div',{staticClass:\"m-comment-header\"},[_c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c(VRow,[_c(VCol,{attrs:{\"cols\":\"6\"}},[_c(VCard,{staticClass:\"m-comment-header--tools\",attrs:{\"outlined\":true,\"color\":\"#fafafa\"}},[_vm._l((_vm.borderStack),function(i,j){return _c('div',{key:'marker' + i.id,staticClass:\"m-comment-marker--item\",class:{edit: i.id == _vm.markerEdit},on:{\"mouseenter\":function($event){return _vm.markerHover(i)},\"mouseleave\":function($event){return _vm.markerLeave(i)},\"click\":function($event){return _vm.removeMarker(i)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(i.id != _vm.markerEdit),expression:\"i.id != markerEdit\"}],staticClass:\"m-comment-marker--value\"},[_vm._v(_vm._s(i.name))]),_c(VIcon,{directives:[{name:\"show\",rawName:\"v-show\",value:(i.id == _vm.markerEdit),expression:\"i.id == markerEdit\"}],attrs:{\"size\":\"14\",\"color\":\"#fff\"}},[_vm._v(\"close\")])],1)}),_c('div',{staticClass:\"m-comment-marker--add\"},[_c('div',{staticClass:\"m-comment-marker--btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addMarker($event)}}},[_c(VIcon,{attrs:{\"size\":\"14\",\"color\":\"#fff\"}},[_vm._v(\"mdi-plus\")])],1),_c('span',[_vm._v(\"Маркер\")])])],2)],1),_c(VCol,{staticClass:\"d-flex\",attrs:{\"cols\":\"6\"}},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.newTask}},[_vm._v(\"\\n                            Создать задачу\\n                        \")])],1)],1),_c(VCard,{directives:[{def: ClickOutside,name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.focusInputRemove),expression:\"focusInputRemove\"}],staticClass:\"m-comment-input\",class:{active: _vm.focus},attrs:{\"outlined\":true,\"color\":\"#fff\"},on:{\"mouseup\":_vm.focusInput}},[_c(VContainer,{attrs:{\"py-0\":\"\"}},[_c(VRow,[_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"2\"}},[_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":_vm.userAvatar.src}})])],1),_c(VCol,{staticClass:\"py-0\",attrs:{\"cols\":\"10\"}},[_c(VTextarea,{staticClass:\"m-comment-no-border\",attrs:{\"id\":\"comment\",\"placeholder\":\"Комментировать\",\"auto-grow\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"multi-line\":\"\",\"rows\":\"2\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}})],1)],1),_c(VRow,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.focus),expression:\"focus\"}]},[_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"10\"}},[_c(VCardActions,{staticClass:\"pa-0\"},[_c(VBtn,{staticClass:\"mt-2 m-btn\",attrs:{\"disabled\":!_vm.comment,\"outlined\":\"\",\"dense\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveComment}},[_vm._v(\"\\n                                    Опубликовать\\n                                    \")]),_c(VBtn,{staticClass:\"mt-2 m-btn m-btn-normal\",attrs:{\"disabled\":!_vm.comment,\"outlined\":\"\",\"dense\":\"\",\"color\":\"normal\"},on:{\"click\":_vm.clearComment}},[_vm._v(\"\\n                                    Отмена\\n                                    \")])],1)],1)],1)],1)],1)],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport ClickOutside from 'vuetify/lib/directives/click-outside';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{directives:[{def: ClickOutside,name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.no_view),expression:\"no_view\"}],staticClass:\"m-comment-card\",class:[{active: _vm.activeComment}],attrs:{\"outlined\":true,\"color\":\"#fafafa\"},on:{\"mouseenter\":_vm.commentHover,\"mouseleave\":_vm.commentLeave},nativeOn:{\"click\":function($event){return _vm.view.apply(null, arguments)}}},[_c('comment-item',{attrs:{\"comment\":_vm.comment,\"viewMode\":_vm.viewMode}}),_c(VContainer,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewMode),expression:\"viewMode\"}],staticClass:\"m-reply-wrap pt-0\"},[_c(VRow,[_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"2\"}},[_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":_vm.getAvatar(),\"alt\":\"avatar\"}})])],1),_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"10\"}},[_c(VTextarea,{staticClass:\"m-comment-avatar pt-0 mt-0\",attrs:{\"placeholder\":\"Ответить\",\"auto-grow\":\"\",\"hide-details\":\"\",\"multi-line\":\"\",\"rows\":\"2\"},model:{value:(_vm.reply),callback:function ($$v) {_vm.reply=$$v},expression:\"reply\"}})],1)],1),_c(VRow,[_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"10\"}},[_c(VCardActions,{staticClass:\"pa-0\"},[_c(VBtn,{staticClass:\"mt-2 m-btn\",attrs:{\"disabled\":!_vm.reply,\"outlined\":\"\",\"dense\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.replyComment}},[_vm._v(\"\\n                    Ответить\\n                    \")]),_c(VBtn,{staticClass:\"mt-2 m-btn m-btn-normal\",attrs:{\"disabled\":!_vm.reply,\"outlined\":\"\",\"dense\":\"\",\"color\":\"normal\"},on:{\"click\":_vm.clearReply}},[_vm._v(\"\\n                    Отмена\\n                    \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{attrs:{\"py-0\":\"\"}},[_c(VRow,[_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"2\"}},[_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":_vm.getAvatar(_vm.comment)}})])],1),_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"10\"}},[_c('div',{staticClass:\"m-comment-title\"},[_vm._v(_vm._s(_vm.viewMode ? _vm.comment.user : _vm.comment.title + _vm.comment.version))]),_c('div',{staticClass:\"m-comment-subtitle\"},[_vm._v(_vm._s(_vm.dateToStr(_vm.comment.date)))])])],1),_c(VRow,[_c(VCol,{staticClass:\"pb-0 pt-2\",attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pb-0 pt-2\",attrs:{\"cols\":\"10\"}},_vm._l((_vm.comment.borders),function(i,j){return _c('div',{key:'marker' + i.id,staticClass:\"m-comment-marker--item\"},[_c('div',{staticClass:\"m-comment-marker--value\"},[_vm._v(_vm._s(i.name))])])}),0)],1),_c(VRow,[_c(VCol,{attrs:{\"cols\":\"2\"}}),_c(VCol,{attrs:{\"cols\":\"10\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"m-comment-text\"},[_vm._v(_vm._s(_vm.comment.text))]),_c(VTextarea,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"}],ref:\"textarea\",staticClass:\"m-comment-no-border m-0\",attrs:{\"autofocus\":_vm.editMode,\"auto-grow\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"multi-line\":\"\",\"rows\":\"1\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1)],1),_c(VRow,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.id == _vm.comment.uid ? _vm.viewMode : false),expression:\"user.id == comment.uid ? viewMode : false\"}]},[_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"10\"}},[_c(VCardActions,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"pa-0\"},[_c('div',{staticClass:\"m-btn-text\",on:{\"click\":_vm.edit}},[_vm._v(\"\\n                    Изменить\\n                \")]),_c('div',{staticClass:\"m-btn-text\",on:{\"mouseup\":_vm.removeComment}},[_vm._v(\"\\n                    Удалить\")])]),_c(VCardActions,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"}],staticClass:\"pa-0\"},[_c('div',{staticClass:\"m-btn-text\",on:{\"click\":_vm.saveChange}},[_vm._v(\"\\n                    Сохранить\\n                \")]),_c('div',{staticClass:\"m-btn-text\",on:{\"click\":_vm.cancelChange}},[_vm._v(\"\\n                    Отмена\\n                \")])])],1)],1),(_vm.comment.reply.length && _vm.viewMode)?_c(VRow,[_c(VCol,{staticClass:\"py-0\",attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pa-0\",attrs:{\"cols\":\"10\"}},_vm._l((_vm.comment.reply),function(i,j){return _c('comment-item',{key:j,attrs:{\"comment\":i,\"viewMode\":_vm.viewMode}})}),1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container py-0>\n        <v-row>\n            <v-col cols=\"2\" class=\"pb-0\">\n                <v-avatar\n                    size=\"30\">\n                    <img\n                        :src=\"getAvatar(comment)\"\n                    >\n                </v-avatar>\n            </v-col>\n            <v-col cols=\"10\" class=\"pb-0\">\n                <div class=\"m-comment-title\">{{viewMode ? comment.user : comment.title + comment.version}}</div>\n                <div class=\"m-comment-subtitle\">{{dateToStr(comment.date)}}</div>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col cols=\"2\" class=\"pb-0 pt-2\">\n            </v-col>\n            <v-col cols=\"10\" class=\"pb-0 pt-2\">\n                <div\n                    class=\"m-comment-marker--item\"\n                    v-for=\"(i, j) in comment.borders\"\n                    :key=\"'marker' + i.id\"\n                    >\n                    <div class=\"m-comment-marker--value\">{{i.name}}</div>\n                </div>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col cols=\"2\">\n            </v-col>\n            <v-col cols=\"10\">\n                <span v-show=\"!editMode\" class=\"m-comment-text\">{{comment.text}}</span>\n                <v-textarea\n                    ref=\"textarea\"\n                    class=\"m-comment-no-border m-0\"\n                    v-show=\"editMode\"\n                    v-model=\"text\"\n                    :autofocus=\"editMode\"\n                    auto-grow\n                    outlined\n                    hide-details\n                    multi-line\n                    rows=\"1\">\n                </v-textarea>\n            </v-col>\n        </v-row>\n        <v-row\n            v-show=\"user.id == comment.uid ? viewMode : false\">\n\n            <v-col cols=\"2\" class=\"pt-0\">\n            </v-col>\n            <v-col cols=\"10\" class=\"pt-0\">\n                <v-card-actions v-show=\"!editMode\" class=\"pa-0\">\n                    <div\n                        class=\"m-btn-text\"\n                        @click=\"edit\">\n                        Изменить\n                    </div>\n                    <div\n                        class=\"m-btn-text\"\n                        @mouseup=\"removeComment\">\n                        Удалить</div>\n                </v-card-actions>\n                <v-card-actions v-show=\"editMode\" class=\"pa-0\">\n                    <div\n                        class=\"m-btn-text\"\n                        @click=\"saveChange\">\n                        Сохранить\n                    </div>\n                    <div\n                        class=\"m-btn-text\"\n                        @click=\"cancelChange\">\n                        Отмена\n                    </div>\n                </v-card-actions>\n            </v-col>\n        </v-row>\n        <v-row v-if=\"comment.reply.length && viewMode\">\n            <v-col cols=\"2\" class=\"py-0\">\n            </v-col>\n            <v-col cols=\"10\" class=\"pa-0\">\n                <comment-item\n                    v-for=\"(i, j) in comment.reply\"\n                    :key=\"j\"\n                    :comment=\"i\"\n                    :viewMode=\"viewMode\"/>\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\nimport { createAvatarChar } from '@/utils/services'\n\nexport default {\n    name: 'CommentItem',\n    props: ['comment', 'viewMode'],\n    data () {\n        return {\n            text: '',\n            reply: '',\n            editMode: false\n        }\n    },\n    computed: {\n        user(){\n            return this.$store.state.administration.user\n        }\n    },\n    methods: {\n        dateToStr(d){\n            let date = new Date(2020, 0, 1, 0, 0, 0, 0)\n            date = d + date.getTime()\n            date = new Date(date)\n            return date.toLocaleDateString() + ' ' + date.toLocaleTimeString()\n        },\n        edit(){\n            this.editMode = true\n            this.text = this.comment.text\n        },\n        cancelChange(){\n            this.editMode = false\n            this.text = ''\n        },\n        saveChange(){\n            this.editMode = false\n            this.$store.dispatch('comments/message', {\n                id: this.comment.id,\n                pid: this.comment.pid,\n                action: 0,\n                text: this.text\n            })\n            this.text = ''\n        },\n        removeComment(){\n            this.$store.dispatch('comments/message', {\n                brds: this.comment.borders.map(b => b.id),\n                pid: this.comment.pid,\n                id: this.comment.id,\n                action: -1,\n                text: this.comment.text\n            })\n        },\n        getAvatar(i){\n            if(!i.avatar){\n                let users = this.$store.state.administration.company.users\n                let user = users.filter(u => u.id == i.uid)\n                if(user.length){\n                    if(user[0].avatar){\n                        return user[0].avatarSrc\n                    }\n                    else{\n                        let name = user[0].first_name ? user[0].first_name : user[0].email\n                        return createAvatarChar(name)\n                    }\n                }\n            }\n            else{\n                return i.avatar\n            }\n        },\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=0e195e06\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-card\n        :outlined=\"true\"\n        color=\"#fafafa\"\n        class=\"m-comment-card\"\n        :class=\"[{active: activeComment}]\"\n        @click.native=\"view\"\n        @mouseenter=\"commentHover\"\n        @mouseleave=\"commentLeave\"\n        v-click-outside=\"no_view\"\n    >\n        <comment-item\n            :comment=\"comment\"\n            :viewMode=\"viewMode\"/>\n\n        <v-container v-show=\"viewMode\" class=\"m-reply-wrap pt-0\">\n            <v-row>\n                <v-col cols=\"2\" class=\"pb-0\">\n                    <v-avatar\n                        size=\"30\">\n                        <img\n                            :src=\"getAvatar()\"\n                            alt=\"avatar\"\n                        >\n                    </v-avatar>\n                </v-col>\n                <v-col cols=\"10\" class=\"pb-0\">\n                    <v-textarea\n                        v-model=\"reply\"\n                        class=\"m-comment-avatar pt-0 mt-0\"\n                        placeholder=\"Ответить\"\n                        auto-grow\n                        hide-details\n                        multi-line\n                        rows=\"2\">\n                    </v-textarea>\n                </v-col>\n            </v-row>\n            <v-row >\n                <v-col cols=\"2\" class=\"pt-0\">\n                </v-col>\n                <v-col cols=\"10\" class=\"pt-0\">\n                    <v-card-actions class=\"pa-0\">\n                        <v-btn\n                            :disabled=\"!reply\"\n                            class=\"mt-2 m-btn\"\n                            outlined\n                            dense\n                            color=\"primary\"\n                            @click=\"replyComment\"\n                        >\n                        Ответить\n                        </v-btn>\n                        <v-btn\n                            :disabled=\"!reply\"\n                            class=\"mt-2 m-btn m-btn-normal\"\n                            outlined\n                            dense\n                            color=\"normal\"\n                            @click=\"clearReply\"\n                        >\n                        Отмена\n                        </v-btn>\n                    </v-card-actions>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-card>\n</template>\n\n<script>\nimport vClickOutside from 'v-click-outside'\nimport CommentItem from './CommentItem'\nimport { createAvatarChar } from '@/utils/services'\n\n    export default {\n        name: 'Comment',\n        props: ['comment'],\n        directives: {\n            clickOutside: vClickOutside.directive\n        },\n        components: {\n            CommentItem\n        },\n        data () {\n            return {\n                reply: '',\n                viewMode: false\n            }\n        },\n        computed: {\n            activeComment(){\n                let active = this.$store.state.comments.activeComment\n                if(active == this.comment.id){\n                    this.viewMode = true\n                }\n                else{\n                    this.viewMode = false\n                }\n    \t\t\treturn this.viewMode\n            },\n            user(){\n                return this.$store.state.administration.user\n            }\n        },\n        watch: {\n            viewMode(v){\n                if(v){\n                    this.$emit('update:posActive', this.$el.offsetTop)\n                }\n            }\n        },\n        methods: {\n            view(){\n                this.$store.commit('comments/setActiveComment', this.comment.id)\n            },\n            no_view(){\n                if(this.viewMode){\n                    this.$store.commit('comments/setActiveComment', false)\n                    this.viewMode = false\n                }\n            },\n            replyComment(){\n                this.$store.dispatch('comments/message', {\n                    pid: this.comment.id,\n                    text: this.reply,\n                    borders: [],\n                    action: 1\n                })\n                this.reply = ''\n            },\n            clearReply(){\n                this.reply = ''\n            },\n            commentHover(){\n                this.$store.commit('comments/setDraftHover', this.comment.id)\n            },\n            commentLeave(){\n                this.$store.commit('comments/setDraftHover', '')\n            },\n            getAvatar(){\n                let avatar = this.user.avatar.avatar\n                if(!avatar){\n                    let name = this.user.first_name ? this.user.first_name : this.user.email\n                    return createAvatarChar(name)\n                }\n                else{\n                    return avatar\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=0ec945f0\"\nimport script from \"./Comment.vue?vue&type=script&lang=js\"\nexport * from \"./Comment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-comment-box\">\n        <div class=\"m-comment-list\">\n            <div\n                class=\"m-comment-list--items\"\n                ref=\"list-items\">\n                <v-row\n                    dense\n                    v-for=\"(item, index) in commentList\"\n                    :key=\"'comment' + item.id\">\n                    <v-col cols=\"12\">\n                        <comment :comment=\"item\" :posActive.sync=\"posActive\"/>\n                    </v-col>\n                </v-row>\n            </div>\n        </div>\n        <div class=\"m-comment-header\">\n            <v-row dense>\n                <v-col cols=\"12\">\n                    <v-row>\n                        <v-col cols=\"6\">\n                            <v-card\n                                :outlined=\"true\"\n                                color=\"#fafafa\"\n                                class=\"m-comment-header--tools\">\n                                <div\n                                    class=\"m-comment-marker--item\"\n                                    v-for=\"(i, j) in borderStack\"\n                                    :key=\"'marker' + i.id\"\n                                    :class=\"{edit: i.id == markerEdit}\"\n                                    @mouseenter=\"markerHover(i)\"\n                                    @mouseleave=\"markerLeave(i)\"\n                                    @click=\"removeMarker(i)\"\n                                    >\n                                    <div\n                                        v-show=\"i.id != markerEdit\"\n                                        class=\"m-comment-marker--value\">{{i.name}}</div>\n                                    <v-icon\n                                        v-show=\"i.id == markerEdit\"\n                                        size=\"14\"\n                                        color=\"#fff\">close</v-icon>\n                                </div>\n                                <div class=\"m-comment-marker--add\">\n                                    <div\n                                        class=\"m-comment-marker--btn\"\n                                        @click.stop=\"addMarker($event)\"\n                                        >\n                                        <v-icon\n                                            size=\"14\"\n                                            color=\"#fff\">mdi-plus</v-icon>\n                                    </div>\n                                    <span>Маркер</span>\n                                </div>\n                            </v-card>\n                        </v-col>\n                        <v-col cols=\"6\" class=\"d-flex\">\n                            <v-spacer></v-spacer>\n                            <v-btn\n                                text\n                                color=\"primary\"\n                                class=\"m-btn\"\n                                @click=\"newTask\"\n                            >\n                                Создать задачу\n                            </v-btn>\n                        </v-col>\n                    </v-row>\n                    <v-card\n                        :outlined=\"true\"\n                        color=\"#fff\"\n                        class=\"m-comment-input\"\n                        :class=\"{active: focus}\"\n                        @mouseup=\"focusInput\"\n                        v-click-outside=\"focusInputRemove\"\n                        >\n                        <v-container py-0>\n                            <v-row>\n                                <v-col cols=\"2\" class=\"pb-0\">\n                                    <v-avatar\n                                        size=\"30\">\n                                        <img\n                                            :src=\"userAvatar.src\"\n                                        >\n                                    </v-avatar>\n                                </v-col>\n                                <v-col cols=\"10\" class=\"py-0\">\n                                    <v-textarea\n                                        id=\"comment\"\n                                        placeholder=\"Комментировать\"\n                                        class=\"m-comment-no-border\"\n                                        v-model=\"comment\"\n                                        auto-grow\n                                        outlined\n                                        hide-details\n                                        multi-line\n                                        rows=\"2\">\n                                    </v-textarea>\n                                </v-col>\n                            </v-row>\n                            <v-row v-show=\"focus\">\n                                <v-col cols=\"2\" class=\"pt-0\">\n                                </v-col>\n                                <v-col cols=\"10\" class=\"pt-0\">\n                                    <v-card-actions class=\"pa-0\">\n                                        <v-btn\n                                            :disabled=\"!comment\"\n                                            class=\"mt-2 m-btn\"\n                                            outlined\n                                            dense\n                                            color=\"primary\"\n                                            @click=\"saveComment\"\n                                        >\n                                        Опубликовать\n                                        </v-btn>\n                                        <v-btn\n                                            :disabled=\"!comment\"\n                                            class=\"mt-2 m-btn m-btn-normal\"\n                                            outlined\n                                            dense\n                                            color=\"normal\"\n                                            @click=\"clearComment\"\n                                        >\n                                        Отмена\n                                        </v-btn>\n                                    </v-card-actions>\n                                </v-col>\n                            </v-row>\n                        </v-container>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"\nimport { sortObj } from '@/utils/services'\nimport Comment from './comments/Comment'\nimport ClickOutside from '@/plugins/click_outside'\n\nexport default {\n    name: 'Comments',\n    components: {\n        Comment\n    },\n    directives: {\n        ClickOutside\n    },\n    props: ['document'],\n    data () {\n        return {\n            comment: '',\n            focus: false,\n            posActive: 0\n        }\n    },\n    computed: mapState({\n        commentList(state){\n            let comments = JSON.parse(JSON.stringify(state.comments.comments))\n            let borders = JSON.parse(JSON.stringify(state.comments.borders))\n\n            comments = comments.map(c => {\n                let list = []\n                c.borders.map(b => {\n                    let item = borders.filter(f => f.id == b)\n                    list = [...list, ...item]\n                })\n                c.borders = list\n                c.version = this.document.version\n                    ? (() => {\n                        let vers = this.document.files.filter(f => f.id == this.document.version)\n                        return vers ? vers[0].version : this.document.files[0].version\n                    })()\n                    : this.document.files[0].version\n                return c\n            })\n\n            return comments\n        },\n\t\tborderStack(state){\n\t\t\tlet comments = JSON.parse(JSON.stringify(this.$store.state.comments.comments))\n\t\t\tlet borders = JSON.parse(JSON.stringify(this.$store.state.comments.borders))\n\t\t\tlet list = []\n\t\t\tcomments.map(c => {\n\t\t\t\tlist = [...list, ...c.borders]\n\t\t\t})\n\n            let stack = []\n\t\t\tborders.map(b => {\n\t\t\t\tif(!list.some(s => s == b.id)){\n\t\t\t\t\tstack = [...stack, b]\n\t\t\t\t}\n\t\t\t})\n\n\n\t\t\treturn sortObj(stack, 'name')\n\t\t},\n        markerEdit(state){\n            return state.comments.borderEdit\n        },\n        userAvatar(state){\n            return state.administration.userAvatar\n        }\n    }),\n    watch: {\n        focus(v){\n            this.focusComment(v)\n        },\n        posActive(v){\n            this.scrollToComment(v)\n        }\n    },\n    methods: {\n        newTask(){\n            this.$emit('newTask')\n        },\n        userCheck(b){\n\t\t\treturn this.$store.state.administration.user.id == b.uid\n        },\n        addMarker(e){\n            this.$store.dispatch('comments/setBorderHelper', {\n                x: e.clientX,\n                y: e.clientY,\n                status: true\n            })\n        },\n        markerHover(i){\n            this.$store.commit('comments/editBorder', i.id)\n        },\n        markerLeave(i){\n            this.$store.commit('comments/editBorder', false)\n        },\n        removeMarker(i){\n            if(!this.userCheck(i)){\n                return\n            }\n            this.$store.dispatch('comments/removeBorderInStack', i.id)\n        },\n\n        scrollToComment(v){\n            this.$nextTick(() => {\n                this.$refs['list-items'].scrollTo({top: v - 4, behavior: \"smooth\"})\n            })\n        },\n        focusComment(v){\n            this.$nextTick(() => {\n                if(v){\n                    let el = document.getElementById('comment')\n                    el.focus()\n                }\n            })\n        },\n        saveComment: function(){\n            /*\n            let comment = {\n                type: 'comment',\n                avatar: 'https://cdn.vuetifyjs.com/images/john.jpg',\n                title: 'Версия документа 1',\n                user: 'Имя Фамилия',\n                text: this.comment,\n                reply: new Array(),\n                doc: '2d'\n            }\n            this.$store.dispatch('workflow/addComment', comment)\n            */\n            this.$store.dispatch('comments/message', {\n                pid: 0,\n                text: this.comment,\n                borders: this.borderStack.filter(b => this.userCheck(b)).map(b => b.id),\n                action: 1\n            })\n\n            this.comment = ''\n            this.focus = false\n        },\n        clearComment(){\n            this.comment = ''\n            this.focus = false\n            //this.$store.commit('workflow/setDraft', false)\n            //this.$store.commit('comments/setDraft', false)\n        },\n        focusInput(){\n            this.focus = true\n        },\n        focusInputRemove(){\n            if(this.focus && !this.comment){\n                this.focus = false\n            }\n        }\n    },\n    created(){\n        // let state = this.$store.state.comments\n        // if(state.version != this.document.version){\n        //     this.$emit('socketClose', state.version)\n        //     this.$emit('socketOpen', this.document.version)\n        // }\n        //this.$store.dispatch('workflow/setComments', {id: this.documentId, type: '2d'})\n        let commentState = this.$store.state.workflow.commentState\n        if(commentState.status){\n            this.comment = commentState.commentInput\n            //this.$store.commit('workflow/updateMarkerStack', commentState.borderStack)\n            this.$store.commit('workflow/setActiveComment', commentState.commentActive)\n        }\n    },\n    beforeDestroy(){\n        this.$store.dispatch('workflow/saveCommentState', {input: this.comment})\n        //this.$store.commit('workflow/clearMarkerStack')\n        this.$store.commit('workflow/setActiveComment', false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=4b56d313\"\nimport script from \"./Comments.vue?vue&type=script&lang=js\"\nexport * from \"./Comments.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pt-0\",style:({overflow: 'auto'}),attrs:{\"cols\":\"12\"}},[_c(VRow,{attrs:{\"dense\":\"\"}},_vm._l((_vm.getHistoryList),function(item,index){return _c(VCol,{key:index,ref:item.id,refInFor:true,attrs:{\"cols\":\"12\"}},[_c(VCard,{staticClass:\"m-history-card\",class:{active: _vm.active == item.version},attrs:{\"outlined\":true,\"color\":\"#fafafa\"},on:{\"mouseenter\":function($event){return _vm.commentHover(item)},\"mouseleave\":function($event){return _vm.commentLeave(item)}},nativeOn:{\"click\":function($event){return _vm.setActive(item, index)}}},[_c(VContainer,{staticClass:\"py-0\"},[_c(VRow,[_c(VCol,{staticClass:\"pb-2\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"m-history-name\"},[_vm._v(_vm._s(item.title)+\"\\n                                \"),_c(VIcon,{staticClass:\"m-history-exp\",attrs:{\"color\":_vm.active == item.version ? '#99c6f3' : '#7f7f7f',\"size\":\"25\"},on:{\"click\":function($event){return _vm.expand($event, item, index)}}},[_vm._v(_vm._s(_vm.active == item.version ? 'mdi-chevron-up' : 'mdi-chevron-down'))])],1),_c('div',{staticClass:\"m-history-time\"},[_vm._v(_vm._s(_vm.getDate(item.created)))])])],1)],1),_vm._l((item.list),function(comment){return _c('history-comment',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active == item.version),expression:\"active == item.version\"}],attrs:{\"comment\":comment}})})],2)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"pt-0\"},[_c(VRow,[_c(VCol,{staticClass:\"pt-1\",attrs:{\"cols\":\"2\"}},[_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":_vm.comment.avatar}})])],1),_c(VCol,{staticClass:\"pt-2\",attrs:{\"cols\":\"10\"}},[_c('div',{staticClass:\"m-comment-title\"},[_vm._v(_vm._s(_vm.comment.user)+\" (\"+_vm._s(_vm.getDate(_vm.comment.date))+\")\")])])],1),_c(VRow,[_c(VCol,{attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"10\"}},[_c('span',{staticClass:\"m-comment-text\"},[_vm._v(_vm._s(_vm.comment.text))])])],1),(_vm.comment.hasOwnProperty('reply') && _vm.comment.reply.length)?_c(VRow,[_c(VCol,{staticClass:\"py-0\",attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pa-0\",attrs:{\"cols\":\"10\"}},_vm._l((_vm.comment.reply),function(i,j){return _c('history-comment',{key:j,attrs:{\"comment\":i}})}),1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container class=\"pt-0\">\n        <v-row>\n            <v-col cols=\"2\" class=\"pt-1\">\n                <v-avatar\n                    size=\"30\">\n                    <img\n                        :src=\"comment.avatar\"\n                    >\n                </v-avatar>\n            </v-col>\n            <v-col cols=\"10\" class=\"pt-2\">\n                <div class=\"m-comment-title\">{{comment.user}} ({{getDate(comment.date)}})</div>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col cols=\"2\">\n            </v-col>\n            <v-col cols=\"10\" class=\"pt-0\">\n                <span class=\"m-comment-text\">{{comment.text}}</span>\n            </v-col>\n        </v-row>\n        <v-row v-if=\"comment.hasOwnProperty('reply') && comment.reply.length\">\n            <v-col cols=\"2\" class=\"py-0\">\n            </v-col>\n            <v-col cols=\"10\" class=\"pa-0\">\n                <history-comment\n                    v-for=\"(i, j) in comment.reply\"\n                    :key=\"j\"\n                    :comment=\"i\"/>\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\n    export default {\n        name: 'HistoryComment',\n        props: ['comment'],\n        data () {\n            return {\n            }\n        },\n        methods: {\n            getDate(date){\n                let d = new Date(date)\n                let str = []\n                str.push(d.getDate())\n                str.push(d.getMonth() + 1)\n                str.push(d.getFullYear())\n                return str.join('.')\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryComment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryComment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HistoryComment.vue?vue&type=template&id=576d6111\"\nimport script from \"./HistoryComment.vue?vue&type=script&lang=js\"\nexport * from \"./HistoryComment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-col cols=\"12\" class=\"pt-0\" :style=\"{overflow: 'auto'}\">\n        <v-row dense>\n            <v-col\n                v-for=\"(item, index) in getHistoryList\"\n                :key=\"index\"\n                :ref=\"item.id\"\n                cols=\"12\">\n\n                <v-card\n                    :outlined=\"true\"\n                    color=\"#fafafa\"\n                    class=\"m-history-card\"\n                    :class=\"{active: active == item.version}\"\n                    @click.native=\"setActive(item, index)\"\n                    @mouseenter=\"commentHover(item)\"\n                    @mouseleave=\"commentLeave(item)\"\n                    >\n                    <v-container class=\"py-0\">\n                        <v-row >\n                            <v-col cols=\"12\" class=\"pb-2\">\n                                <div class=\"m-history-name\">{{item.title}}\n                                    <v-icon\n                                        :color=\"active == item.version ? '#99c6f3' : '#7f7f7f'\"\n                                        class=\"m-history-exp\"\n                                        @click=\"expand($event, item, index)\"\n                                        size=\"25\">{{active == item.version ? 'mdi-chevron-up' : 'mdi-chevron-down'}}</v-icon>\n                                </div>\n                                <div class=\"m-history-time\">{{getDate(item.created)}}</div>\n                            </v-col>\n                        </v-row>\n                    <!--\n                        <v-row >\n                            <v-col cols=\"12\" class=\"pt-0 pb-2\">\n                                <div\n                                    class=\"m-comment-marker--item\"\n                                    v-for=\"(i, j) in item.annotation\"\n                                    :key=\"'marker' + i.id\"\n                                    >\n                                    <div class=\"m-comment-marker--value\">{{i.value}}</div>\n                                </div>\n                            </v-col>\n                        </v-row>\n                    -->\n                    </v-container>\n                    <history-comment\n                        v-for=\"comment in item.list\"\n                        v-show=\"active == item.version\"\n                        :comment=\"comment\"/>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-col>\n</template>\n\n<script>\nimport HistoryComment from './history/HistoryComment'\n    export default {\n        name: 'HistoryList',\n        components: {\n            HistoryComment\n        },\n        props: ['document'],\n        data () {\n            return {\n                active: '',\n                historyList: []\n            }\n        },\n        computed: {\n            getHistoryList(){\n                let list = this.historyList\n                list = list.map(h => {\n                    return {\n                        title: \"Документ версии \" + h.version,\n                        version: h.version,\n                        created: h.created,\n                        list: this.createMsgs(h.msgs, h.version)\n                    }\n                })\n                return list\n            }\n        },\n        methods: {\n            getDate(date){\n                let d = new Date(date)\n                let str = []\n                str.push(d.getDate())\n                str.push(d.getMonth() + 1)\n                str.push(d.getFullYear())\n                return str.join('.')\n            },\n            createMsgs(list, ver){\n                let state = this.$store.state.administration\n                list = list.map(m => {\n                    return {\n                        id: m.mid,\n                        uid: m.uid,\n                        pid: m.pid,\n                        \"type\": \"comment\",\n                        \"avatar\": state.user.id == m.uid\n                                    ? state.user.avatar.src\n                                    : \"\",\n                        \"title\": \"Документ версии \" + ver,\n                        \"user\": state.user.id == m.uid\n                                    ? state.user.first_name + ' ' + state.user.last_name\n                                    : user\n                                        ? user.first_name\n                                            ? user.first_name + ' ' + state.user.last_name\n                                            : user.email\n                                        : user.email,\n                        \"text\": m.txt,\n                        date: m.tim,\n                        borders: m.brds,\n                        \"reply\": m.chld.length\n                            ? this.createMsgs(m.chld, ver)\n                            : []\n                    }\n                })\n                return list.reverse()\n            },\n            setActive(i, j){\n                if(this.active == i.version){\n                    return\n                }\n                this.active = i.version\n                //this.$emit('socketClose', this.$store.state.comments.version)\n                //this.$emit('socketOpen', i.id)\n\n                // let h = this.$refs[i.id][0].offsetHeight\n                // new Promise((resolve) => {\n                //     this.active = i.id\n                //     this.$store.commit('workflow/setActiveComment', i.id)\n                //     resolve(true)\n                // }).then(v => {\n                //     this.$el.scrollTo({top: j * h, behavior: \"smooth\"})\n                // })\n            },\n            getDate(d){\n                d = new Date(d)\n                let date = []\n                date.push(d.getDate())\n                date.push(d.getMonth() + 1)\n                date.push(d.getFullYear())\n                let time = []\n                time.push(d.getHours())\n                time.push(d.getMinutes())\n\n                return date.join('.') + ' ' + time.join(':')\n            },\n            expand(e, i, j){\n                e.stopPropagation()\n                if(this.active == i.version){\n                    this.active = null\n                }\n                else{\n                    this.setActive(i, j)\n                }\n            },\n            commentHover(i){\n                this.$store.commit('workflow/setDraftHover', i.id)\n            },\n            commentLeave(i){\n                this.$store.commit('workflow/setDraftHover', '')\n            },\n        },\n        created(){\n            //this.historyList = this.document.files\n            let promisesList = []\n            this.document.files.map(f => {\n                promisesList.push(this.$store.dispatch('workflow/getHistory', {\n                    did: this.document.id,\n                    created: f.created_at,\n                    version: f.version\n                }))\n            })\n            Promise.all(promisesList)\n            .then(res => {\n                this.historyList = res\n            })\n\n            // this.$store.dispatch('workflow/setCommentsHistory')\n            // this.historyList = this.$store.state.workflow.historyList\n        },\n        beforeDestroy(){\n            //this.$store.commit('workflow/setActiveComment', false)\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HistoryList.vue?vue&type=template&id=5a7a79b4\"\nimport script from \"./HistoryList.vue?vue&type=script&lang=js\"\nexport * from \"./HistoryList.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-comment-box\"},[_c('div',{staticClass:\"m-comment-list\"},[_c('div',{ref:\"list-items\",staticClass:\"m-comment-list--items\"},_vm._l((_vm.getList),function(item){return _c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c(VCard,{attrs:{\"color\":\"#fff\"}},[_c('div',{staticClass:\"d-flex\"},[_c(VCardTitle,{staticClass:\"m-text--size16 m-text--color-4a5568 pb-0\"},[_vm._v(\"\\n                                \"+_vm._s(item.name)+\"\\n                            \")]),_c(VSpacer),_c(VAvatar,{staticClass:\"ma-4 mb-0\",attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":item.avatar}})])],1),_c(VCardSubtitle,{staticClass:\"pt-1\"},[_vm._v(\"Название файла\")]),_c(VDivider),_c('div',{staticClass:\"py-0 px-4\"},[_c(VImg,{attrs:{\"src\":item.src,\"height\":\"200px\"}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"py-3 pr-2 pl-0\"},[_c('div',[_c(VCardSubtitle,{staticClass:\"py-0\"},[_vm._v(\"Создан    \"+_vm._s(item.create_date)+\"\\n                                \")]),_c(VCardSubtitle,{staticClass:\"py-0\"},[_vm._v(\"До\\n                                    \"+_vm._s(item.deadline_date)+\"\\n                                \")])],1),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.editTask(item)}}},[_vm._v(\"\\n                            Редактировать\\n                            \")])],1)],1)],1)],1)}),1)]),_c('div',{staticClass:\"m-comment-header\"},[_c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c(VCard,{attrs:{\"outlined\":true,\"color\":\"#fff\"}},[_c(VCardActions,{staticClass:\"pa-0\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.task_form = !_vm.task_form}}},[_vm._v(\"\\n                        Создать задачу\\n                        \")])],1)],1)],1)],1)],1),(_vm.task_form)?_c('task-create',{attrs:{\"task_form\":_vm.task_form,\"screen\":_vm.screen,\"blob\":_vm.blob,\"editMode\":_vm.editMode,\"model\":_vm.document,\"project_id\":_vm.project_id,\"task\":_vm.task},on:{\"update:task_form\":function($event){_vm.task_form=$event},\"update:editMode\":function($event){_vm.editMode=$event},\"update:edit-mode\":function($event){_vm.editMode=$event},\"update:task\":function($event){_vm.task=$event},\"setTaskNew\":_vm.setTaskNew,\"getImageData\":_vm.getImageData}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-overhead m-overhead--white d-block pa-4 overflow-auto\"},[_c(VRow,{staticClass:\"d-block\"},[_c('div',{staticClass:\"d-flex\"},[_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1)]),_c(VTextField,{attrs:{\"label\":\"Название задачи\",\"placeholder\":\" \"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c(VSelect,{attrs:{\"items\":_vm.statusList,\"item-text\":\"name\",\"item-value\":\"value\",\"persistent-hint\":\"\",\"label\":\"Статус\",\"placeholder\":\" \"},model:{value:(_vm.selectStatus),callback:function ($$v) {_vm.selectStatus=$$v},expression:\"selectStatus\"}}),_c(VAutocomplete,{attrs:{\"label\":\"Ответственный за проект\",\"placeholder\":\" \",\"items\":_vm.managers,\"chips\":\"\",\"item-text\":\"name\",\"item-value\":\"id\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c(VChip,_vm._b({attrs:{\"dark\":\"\",\"input-value\":data.selected,\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeChips()}}},'v-chip',data.attrs,false),[_c(VAvatar,{attrs:{\"left\":\"\"}},[_c(VImg,{attrs:{\"src\":data.item.avatar}})],1),_vm._v(\"\\n                \"+_vm._s(data.item.name)+\"\\n            \")],1)]}},{key:\"item\",fn:function(data){return [_c(VListItemAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":data.item.avatar}})]),_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"innerHTML\":_vm._s(data.item.name)}}),_c(VListItemSubtitle,{domProps:{\"innerHTML\":_vm._s(data.item.role)}})],1)]}}]),model:{value:(_vm.manager),callback:function ($$v) {_vm.manager=$$v},expression:\"manager\"}}),_c(VMenu,{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VTextField,_vm._g({staticClass:\"mb-4\",attrs:{\"label\":\"Дата выполнения\",\"readonly\":\"\",\"placeholder\":\" \"},model:{value:(_vm.computedDateFormatted),callback:function ($$v) {_vm.computedDateFormatted=$$v},expression:\"computedDateFormatted\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c(VDatePicker,{ref:\"picker\",attrs:{\"landscape\":true,\"locale\":\"ru\",\"max\":\"2050-01-01\",\"min\":\"1950-01-01\"},on:{\"change\":_vm.save},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_c('div',{staticClass:\"py-4\",staticStyle:{\"position\":\"relative\"}},[_c('label',{staticClass:\"v-label v-label--active theme--light\",staticStyle:{\"left\":\"0px\",\"right\":\"auto\",\"position\":\"absolute\",\"max-width\":\"133%\",\"-webkit-transform\":\"translateY(-18px) scale(0.75)\",\"transform\":\"translateY(-18px) scale(0.75)\",\"-webkit-transform-origin\":\"top left\",\"transform-origin\":\"top left\"},attrs:{\"for\":\"input-477\"}},[_vm._v(\"Картинка ошибки\")]),_c(VBtn,{staticClass:\"pic\",attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.getImageData}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-panorama-variant-outline\")])],1),(_vm.screen)?_c(VImg,{attrs:{\"src\":_vm.screen}}):(_vm.editMode)?_c(VImg,{attrs:{\"src\":this.task.src}}):_c(VImg,{staticClass:\"no_image\",attrs:{\"src\":_vm.no_image}})],1),_c(VTextarea,{attrs:{\"label\":\"Описание\",\"placeholder\":\" \",\"multi-line\":\"\",\"rows\":\"3\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c(VCardActions,{staticClass:\"pa-0\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":_vm.cancel}},[_vm._v(\"\\n        Отмена\\n        \")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.sendTask}},[_vm._v(\"\\n        \"+_vm._s(_vm.editMode ? 'Отправить' : 'Создать')+\"\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-overhead m-overhead--white d-block pa-4 overflow-auto\">\n        <v-row class=\"d-block\">\n        <div class=\"d-flex\">\n            <v-spacer />\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </div>\n    </v-row>\n\n        <v-text-field\n            label=\"Название задачи\"\n            placeholder=\" \"\n            v-model=\"name\"\n        />\n\n        <v-select\n            v-model=\"selectStatus\"\n            :items=\"statusList\"\n            item-text=\"name\"\n            item-value=\"value\"\n            persistent-hint\n            label=\"Статус\"\n            placeholder=\" \"\n        />\n\n        <v-autocomplete\n            label=\"Ответственный за проект\"\n            placeholder=\" \"\n            :items=\"managers\"\n            v-model=\"manager\"\n            chips\n            item-text=\"name\"\n            item-value=\"id\"\n            >\n            <template v-slot:selection=\"data\">\n                <v-chip\n                    dark\n                    v-bind=\"data.attrs\"\n                    :input-value=\"data.selected\"\n                    close\n                    @click:close=\"removeChips()\"\n                >\n                    <v-avatar\n                        left\n                    >\n                        <v-img :src=\"data.item.avatar\"></v-img>\n                    </v-avatar>\n                    {{ data.item.name }}\n                </v-chip>\n            </template>\n\n            <template v-slot:item=\"data\">\n                <v-list-item-avatar size=\"30\">\n                    <img :src=\"data.item.avatar\">\n                </v-list-item-avatar>\n                <v-list-item-content>\n                    <v-list-item-title v-html=\"data.item.name\"></v-list-item-title>\n                    <v-list-item-subtitle v-html=\"data.item.role\"></v-list-item-subtitle>\n                </v-list-item-content>\n            </template>\n        </v-autocomplete>\n\n        <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"290px\"\n            >\n            <template v-slot:activator=\"{ on }\">\n                <v-text-field\n                    class=\"mb-4\"\n                    v-model=\"computedDateFormatted\"\n                    label=\"Дата выполнения\"\n                    readonly\n                    placeholder=\" \"\n                    v-on=\"on\"\n                />\n            </template>\n            <v-date-picker\n                ref=\"picker\"\n                v-model=\"date\"\n                :landscape=\"true\"\n                locale=\"ru\"\n                max=\"2050-01-01\"\n                min=\"1950-01-01\"\n                @change=\"save\"\n            ></v-date-picker>\n        </v-menu>\n\n        <div class=\"py-4\" style=\"position: relative;\">\n            <label for=\"input-477\" class=\"v-label v-label--active theme--light\" style=\"left: 0px; right: auto; position: absolute; max-width: 133%; -webkit-transform: translateY(-18px) scale(0.75); transform: translateY(-18px) scale(0.75); -webkit-transform-origin: top left; transform-origin: top left;\">Картинка ошибки</label>\n\n            <v-btn\n                text\n                icon\n                @click=\"getImageData\"\n                class=\"pic\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">mdi-panorama-variant-outline</v-icon>\n            </v-btn>\n\n            <v-img\n                v-if=\"screen\"\n                :src=\"screen\"\n            ></v-img>\n            <v-img\n                v-else-if=\"editMode\"\n                :src=\"this.task.src\"\n            ></v-img>\n            <v-img\n                v-else\n                :src=\"no_image\"\n                class=\"no_image\"\n            ></v-img>\n        </div>\n\n        <v-textarea\n            label=\"Описание\"\n            placeholder=\" \"\n            v-model=\"description\"\n            multi-line\n            rows=\"3\">\n        </v-textarea>\n\n        <v-card-actions class=\"pa-0\">\n            <v-spacer></v-spacer>\n            <v-btn\n                outlined\n                color=\"normal\"\n                class=\"m-btn\"\n                @click=\"cancel\"\n            >\n            Отмена\n            </v-btn>\n            <v-btn\n                outlined\n                color=\"primary\"\n                class=\"m-btn\"\n                @click=\"sendTask\"\n            >\n            {{editMode ? 'Отправить' : 'Создать'}}\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\n\nexport default {\n    name: 'TaskCreate',\n    props: ['task_form', 'screen', 'project_id', 'blob', 'model', 'editMode', 'task'],\n    data () {\n        return {\n            name: this.editMode ? this.task.name : '',\n            selectStatus: this.editMode ? this.task.status : null,\n            statusList: [\n                {name: 'Новая', value: 0},\n                {name: 'В работе', value: 1},\n                {name: 'На рассмотрение', value: 2},\n                {name: 'Выполненное', value: 3}\n            ],\n            taskDay: '',\n            date: this.editMode ? this.task.deadline.substr(0, 10) : null,\n            menu: false,\n            manager: this.editMode ? this.task.user : null,\n            // screen: require('@/assets/images/screen.png'),\n            no_image: 'data:image/png;base64,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AlEsBpht23NCiAXGWKHjOLOWZRVIHx3HyViWJf82h7+BAeIAv4UQ14MiIcQcYyzGOS/MfmJbsaU0P3dYfs3RGgRAAARAAAT+HwEkEEQCCIAACICAKwJIIK6woRMIgAAIgAASCGIABEAABEDAFQEkEFfY0AkEQAAEQAAJBDEAAiAAAiDgigASiCts6AQCIAACIIAEghgAARAAARBwRQAJxBU2dAIBEAABEEACQQyAAAiAAAi4IoAE4gobOoEACIAACCCBIAZAAARAAARcEUACcYUNnUAABEAABJBAEAMgAAIgAAKuCCCBuMKGTiAAAiAAAkggiAEQAAEQAAFXBJBAXGFDJxAAARAAASQQxAAIgAAIgIArAkggrrChEwiAAAiAABIIYgAEQAAEQMAVASQQV9jQCQRAAARAAAkEMQACIAACIOCKABKIK2zoBAIgAAIggASCGAABEAABEHBFAAnEFTZ0AgEQAAEQQAJBDIAACIAACLgigATiChs6gQAIgAAIIIEgBkAABEAABFwRQAJxhQ2dQAAEQAAEkEAQAyAAAiAAAq4IIIG4woZOIAACIAACSCCIARAAARAAAVcEkEBcYUMnEAABEAABJBDEAAiAAAiAgCsCSCCusKETCIAACIDA/wWpWNQqGFIUyQAAAABJRU5ErkJggg==',\n            description: this.editMode ? this.task.dscr : ''\n        }\n    },\n    computed: {\n        computedDateFormatted(){\n            let date = this.formatDate(this.date)\n            return date\n        },\n        managers(){\n            let users = this.$store.state.administration.company.users || []\n            let list = users.map(u => ({\n                id: u.id,\n                avatar: u.avatarSrc,\n                name: u.first_name + ' ' + u.last_name,\n                role: ''\n            }))\n            return list\n        }\n    },\n    watch: {\n        menu(val){\n            val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n        }\n    },\n    methods: {\n        getImageData(){\n            this.$emit('getImageData')\n        },\n        cancel(){\n            this.setTaskNew(false)\n            this.$emit('update:task_form', false)\n            this.$emit('update:editMode', false)\n            this.$emit('update:task', null)\n        },\n        setTaskNew(v){\n            this.$emit('setTaskNew', v)\n        },\n        save(date){\n            this.$refs.menu.save(date)\n        },\n        formatDate(date){\n            if (!date) return null\n\n            const [year, month, day] = date.split('-')\n            let delta = new Date().getTimezoneOffset()\n\n            let bd = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), (Math.abs(delta) / 60))\n            let mbd = bd.getTime(bd)\n\n            this.taskDay = mbd\n            return `${day}/${month}/${year}`\n        },\n        parseDate(date){\n            if (!date) return null\n\n            const [day, month, year] = date.split('/')\n            return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\n        },\n        removeChips(){\n            this.manager = null\n        },\n        sendTask(){\n            let formData = new FormData()\n\n            if(!this.editMode){\n                formData.append('file', this.blob)\n                formData.append('name', this.model.name)\n                formData.append('JSON', JSON.stringify({\n                    deadline: (new Date(this.date)).toISOString(),\n                    docid: this.model.id,\n                    status: this.selectStatus,\n                    name: this.name,\n                    user: this.manager,\n                    dscr: this.description,\n                    file: ''\n                }))\n            }\n            else{\n                let body = {}\n                if(this.screen){\n                    formData.append('file', this.blob)\n                    formData.append('name', this.model.name)\n                }\n                if(this.name != this.task.name){\n                    body.name = this.name\n                }\n                if((new Date(this.date)).toISOString() != this.task.deadline){\n                    body.deadline = (new Date(this.date)).toISOString()\n                }\n                if(this.manager != this.task.user){\n                    body.user = this.manager\n                }\n                if(this.selectStatus != this.task.status){\n                    body.status = this.selectStatus\n                }\n                if(this.description != this.task.dscr){\n                    body.dscr = this.description\n                }\n                if(this.name != this.task.name){\n                    body.name = this.name\n                }\n                formData.append('JSON', JSON.stringify(body))\n            }\n            this.cancel()\n\n            this.$store.dispatch('workflow/updateTask', {\n                type_id: 'c',\n                id: this.$store.state.administration.company.id,\n                project_uuid: this.project_id,\n                body: formData,\n                task_id: this.editMode ? this.task.task_id.toString() : false,\n                docid: this.model.id,\n                filter: {\n                    docid: this.model.id\n                }\n            })\n        }\n    }\n}\n</script>\n\n<style>\n.pic{\n    position: absolute;\n    top: -13px;\n    right: 0;\n}\n.no_image{\n    opacity: 0.3;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskCreate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskCreate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TaskCreate.vue?vue&type=template&id=43fa0b98\"\nimport script from \"./TaskCreate.vue?vue&type=script&lang=js\"\nexport * from \"./TaskCreate.vue?vue&type=script&lang=js\"\nimport style0 from \"./TaskCreate.vue?vue&type=style&index=0&id=43fa0b98&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-comment-box\">\n        <div class=\"m-comment-list\">\n            <div\n                class=\"m-comment-list--items\"\n                ref=\"list-items\">\n                <v-row\n                    dense\n                    v-for=\"item in getList\">\n                    <v-col cols=\"12\">\n                        <v-card\n                            color=\"#fff\">\n                            <div class=\"d-flex\">\n                                <v-card-title class=\"m-text--size16 m-text--color-4a5568 pb-0\">\n                                    {{item.name}}\n                                </v-card-title>\n                                <v-spacer />\n                                <v-avatar\n                                    class=\"ma-4 mb-0\"\n                                    size=\"30\">\n                                    <img\n                                        :src=\"item.avatar\"\n                                    >\n                                </v-avatar>\n                            </div>\n                            <v-card-subtitle class=\"pt-1\">Название файла</v-card-subtitle>\n\n                            <v-divider></v-divider>\n                            <div class=\"py-0 px-4\">\n                                <v-img\n                                    :src=\"item.src\"\n                                    height=\"200px\"\n                                ></v-img>\n                            </div>\n\n                            <v-divider></v-divider>\n                            <v-card-actions class=\"py-3 pr-2 pl-0\">\n                                <div>\n                                    <v-card-subtitle class=\"py-0\">Создан    {{item.create_date}}\n                                    </v-card-subtitle>\n                                    <v-card-subtitle class=\"py-0\">До\n                                        {{item.deadline_date}}\n                                    </v-card-subtitle>\n                                </div>\n                                <v-spacer></v-spacer>\n                                <v-btn\n                                    text\n                                    color=\"primary\"\n                                    class=\"m-btn\"\n                                    @click=\"editTask(item)\"\n                                >\n                                Редактировать\n                                </v-btn>\n                            </v-card-actions>\n\n                        </v-card>\n                        <!--<comment :comment=\"item\" :posActive.sync=\"posActive\"/>-->\n                    </v-col>\n                </v-row>\n            </div>\n        </div>\n        <div class=\"m-comment-header\">\n            <v-row dense>\n                <v-col cols=\"12\">\n                    <v-card\n                        :outlined=\"true\"\n                        color=\"#fff\"\n                        >\n                        <v-card-actions class=\"pa-0\">\n                            <v-spacer></v-spacer>\n                            <v-btn\n                                outlined\n                                color=\"primary\"\n                                class=\"m-btn\"\n                                @click=\"task_form = !task_form\"\n                            >\n                            Создать задачу\n                            </v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </div>\n\n        <task-create\n            v-if=\"task_form\"\n            :task_form.sync=\"task_form\"\n            :screen=\"screen\"\n            :blob=\"blob\"\n            :editMode.sync=\"editMode\"\n            :model=\"document\"\n            :project_id=\"project_id\"\n            :task.sync=\"task\"\n            @setTaskNew=\"setTaskNew\"\n            @getImageData=\"getImageData\"\n        />\n    </div>\n</template>\n\n<script>\nimport TaskCreate from \"./TaskCreate\"\nimport { sortObj } from '@/utils/services'\n\nexport default {\n    name: 'Tasks',\n    components: {\n        TaskCreate\n    },\n    props: ['project_id', 'document', 'task_new', 'screen', 'blob'],\n    data(){\n        return {\n            src: require('@/assets/images/screen.png'),\n            task_form: this.task_new,\n            expanded: [],\n            editMode: false,\n            task: null\n        }\n    },\n    computed: {\n        userAvatar(){\n            return this.$store.state.administration.userAvatar\n        },\n        getList(){\n            let avatar = ''\n            let options = {year: '2-digit', month: 'short', day: '2-digit'}\n            let list = this.$store.state.workflow.taskList\n                .filter(f => f.docid == this.document.id)\n                .map(t => {\n                    return {\n                        ...t,\n                        avatar: (avatar = this.$store.state.administration.company.users\n                            .find(a => a.id == t.owner))\n                            ? avatar.avatarSrc\n                            : '',\n                        create_date: (new Date(t.create)).toLocaleDateString(\"ru-RU\", options),\n                        deadline_date: (new Date(t.deadline)).toLocaleDateString(\"ru-RU\", options)\n\n                    }\n                })\n            return sortObj(list, 'task_id')\n        }\n    },\n    methods: {\n        getImageData(){\n            this.$emit('getImageData')\n        },\n        setTaskNew(v){\n            this.$emit('update:task_new', v)\n            this.$emit('clearImageData')\n        },\n        editTask(i){\n            this.editMode = true\n            this.task_form = true\n            this.task = i\n        },\n    },\n    // created(){\n    //     this.$store.dispatch('workflow/getTaskList', {\n    //         type_id: 'c',\n    //         id: this.$store.state.administration.company.id,\n    //         project_uuid: this.project_id,\n    //         filter: {\n    //             docid: this.document.id\n    //         }\n    //     })\n    // },\n    // beforeDestroy(){\n    //     this.$store.commit('workflow/setTaskList', [])\n    // }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Tasks.vue?vue&type=template&id=46103cc6\"\nimport script from \"./Tasks.vue?vue&type=script&lang=js\"\nexport * from \"./Tasks.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-navigation-drawer\n        permanent\n        :width=\"tools_width\"\n        class=\"m-navigator-tools m-navigator-no-scroll px-2 pr-0\"\n        right\n        clipped\n        color=\"transparent\"\n        app>\n            <v-layout class=\"ma-0\" fill-height>\n                <div\n                    class=\"m-overflow-hidden m-tools-content\"\n                    :class=\"{'m-tools-content--mini': mini}\">\n                    <v-layout class=\"ma-0\" fill-height>\n\n                        <component :is = \"tab\"\n                            :document=\"document\"\n                            :project_id=\"project_id\"\n                            :screen=\"screen\"\n                            :blob=\"blob\"\n                            :task_new.sync=\"task_new\"\n                            @getImageData=\"getImageData\"\n                            @clearImageData=\"clearImageData\"\n                            @newTask=\"newTask\"\n                            />\n\n                    </v-layout>\n                </div>\n                <div ccols=\"2\" class=\"pl-0 pr-0 text-right m-tools-menu\">\n                    <v-list-item\n                        @click.stop=\"expand\"\n                        class=\"m-nav-right-tools m-nav-right-tools__dil\"\n                        >\n                        <v-icon\n                            size=\"25\"\n                            color=\"#7f7f7f\">{{mini ? 'mdi-chevron-double-left' : 'mdi-chevron-double-right'}}</v-icon>\n                    </v-list-item>\n                    <v-list-item\n                        class=\"m-nav-right-tools\"\n                        v-for=\"(i, j) in getTabs\"\n                        :key=\"j\"\n                        :class=\"{active: i.name == tab}\"\n                        @click=\"setTab(i.name)\"\n                        >\n                        <v-icon\n                            :color=\"activeBtn(i.name)\"\n                            size=\"25\">{{i.icon}}</v-icon>\n                    </v-list-item>\n                </div>\n                <div\n                    v-if=\"compareMode\"\n                    class=\"m-overhead\">\n                    <span>Недоступно в режиме сравнения.</span>\n                </div>\n            </v-layout>\n    </v-navigation-drawer>\n</template>\n\n<script>\nimport Comments from \"./Comments\"\nimport HistoryList from \"./HistoryList\"\nimport Tasks from \"./Tasks\"\n//import Access from \"./Access\"\n    export default {\n        name: 'Tools',\n        components: {\n            Comments,\n            HistoryList,\n            Tasks\n            //Access\n        },\n        props: ['document', 'compareMode', 'screen', 'project_id', 'blob'],\n        data () {\n            return {\n                task_new: false,\n                mini: false,\n                tools_width: 440,\n                tab: 'Comments',\n                tabs: [\n                    {\n                        name: 'HistoryList',\n                        icon: 'history',\n                        visible: true\n                    },{\n                        name: 'Comments',\n                        icon: 'mdi-comment-text-outline',\n                        visible: true\n                    },\n                    {\n                        name: 'Tasks',\n                        icon: 'trd-ticket',\n                        visible: false\n                    }\n                ]\n            }\n        },\n        computed: {\n            getTaskList(){\n                return this.$store.state.workflow.taskList.length\n            },\n            getTabs(){\n                return this.tabs.map(t => {\n                    let vis = true\n                    if(t.name == 'Tasks'){\n                        vis = !!this.getTaskList\n                    }\n                    return {\n                        ...t,\n                        visible: vis\n                    }\n                }).filter(f => f.visible)\n            }\n        },\n        watch: {\n            mini: function(v){\n                this.tools_width = v ? 56 : 440\n                this.$emit('update:toolsbar', v)\n            }\n        },\n        methods: {\n            getImageData(){\n                this.$emit('getImageData')\n            },\n            setTab(v){\n                this.tab = v\n            },\n            newTask(){\n                this.task_new = true\n                this.setTab('Tasks')\n            },\n            clearImageData(){\n                this.$emit('update:screen', '')\n            },\n            activeBtn(v){\n                let color = this.tab == v ? '#2c2c2c' : '#7f7f7f'\n                return color\n            },\n            expand(){\n                this.mini = !this.mini\n            },\n            socketOpen(){\n                this.$store.dispatch('comments/setSocket', {\n                    did: this.document\n                })\n            },\n            socketClose(v){\n                console.log('socketClose')\n                this.$store.dispatch('comments/close')\n            }\n        },\n        created(){\n            this.socketOpen()\n            this.$store.dispatch('workflow/getTaskList', {\n                type_id: 'c',\n                id: this.$store.state.administration.company.id,\n                project_uuid: this.project_id,\n                filter: {\n                    docid: this.document.id\n                }\n            })\n        },\n        beforeDestroy(){\n            this.socketClose()\n            this.$store.commit('workflow/setTaskList', [])\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tools.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tools.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Tools.vue?vue&type=template&id=78f1563c\"\nimport script from \"./Tools.vue?vue&type=script&lang=js\"\nexport * from \"./Tools.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__options--3d\"},[_c(VCardActions,_vm._l((_vm.options),function(item,name){return _c('div',{key:item.name,staticClass:\"option--wrap\"},[(!item.hidden)?_c(VTooltip,{attrs:{\"disabled\":!item.title,\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [(item.type == 'btn' || !item.type)?_c(VBtn,_vm._g(_vm._b({staticClass:\"m-btn m-btn-icon--cube mx-1\",class:{'m-btn--divider': item.divider, 'mr-2': item.divider},attrs:{\"text\":\"\",\"disabled\":item.disabled},on:{\"click\":function($event){return _vm.setOption(item, name)}}},'v-btn',attrs,false),on),[(item.icon)?_c(VIcon,{attrs:{\"size\":\"22\",\"color\":item.active && !item.turnoff ? '#4e93e9' : '#525252'}},[_vm._v(_vm._s(item.icon))]):_vm._e()],1):_c('span',{staticClass:\"m-text--size12\"},[_vm._v(_vm._s(_vm.optionValue(item.value)))])]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.title))])]):_vm._e(),(item.children && item.active)?_c(VCard,{staticClass:\"option--sub\"},_vm._l((item.children),function(sub,n){return _c('div',{key:n,staticClass:\"option--sub-item\",on:{\"click\":function($event){return _vm.setSubOption(item, name, sub, n)}}},[_c(VIcon,{attrs:{\"size\":\"24\",\"color\":sub.active ? '#4e93e9' : '#525252'}},[_vm._v(_vm._s(sub.icon))]),_c('span',{class:{active: sub.active}},[_vm._v(_vm._s(sub.title))])],1)}),0):_vm._e()],1)}),0)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-panel__options--3d\"\n        >\n        <v-card-actions>\n            <div\n                v-for=\"(item, name) in options\"\n                :key=\"item.name\"\n                class=\"option--wrap\">\n                <v-tooltip\n                    v-if=\"!item.hidden\"\n                    :disabled=\"!item.title\"\n                    top>\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn\n                            v-if=\"item.type == 'btn' || !item.type\"\n                            class=\"m-btn m-btn-icon--cube mx-1\"\n                            :class=\"{'m-btn--divider': item.divider, 'mr-2': item.divider}\"\n                            text\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                            :disabled=\"item.disabled\"\n                            @click=\"setOption(item, name)\">\n                            <v-icon\n                                v-if=\"item.icon\"\n                                size=\"22\"\n                                :color=\"item.active && !item.turnoff ? '#4e93e9' : '#525252'\">{{item.icon}}</v-icon>\n                        </v-btn>\n                        <span\n                            v-else\n                            class=\"m-text--size12\"\n                            >{{optionValue(item.value)}}</span>\n                    </template>\n                    <span>{{item.title}}</span>\n                </v-tooltip>\n\n\n                <v-card\n                    v-if=\"item.children && item.active\"\n                    class=\"option--sub\">\n                    <div\n                        class=\"option--sub-item\"\n                        v-for=\"(sub, n) in item.children\"\n                        :key=\"n\"\n                        @click=\"setSubOption(item, name, sub, n)\"\n                        >\n                        <v-icon\n                            size=\"24\"\n                            :color=\"sub.active ? '#4e93e9' : '#525252'\">{{sub.icon}}</v-icon>\n                        <span :class=\"{active: sub.active}\">{{sub.title}}</span>\n                    </div>\n                </v-card>\n            </div>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\nexport default {\n    name: 'PanelOptions',\n    props: ['options', 'params'],\n    computed: {\n        getOptions(){\n            return this.options.filter(d => !d.hidden)\n        }\n    },\n    methods: {\n        setSubOption(i, name, sub, sub_name){\n            this.$emit('setSubOption', {\n                name: name,\n                active: i.active,\n                sub_name: sub_name,\n                sub_active: sub.active\n            })\n        },\n        setOption(i, n){\n            this.$emit('setOption', {\n                name: n,\n                active: i.active,\n                turnoff: i.turnoff || false\n            })\n        },\n        optionValue(v){\n            return this.params[v] || ''\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelOptions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelOptions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelOptions.vue?vue&type=template&id=7deb21b4\"\nimport script from \"./PanelOptions.vue?vue&type=script&lang=js\"\nexport * from \"./PanelOptions.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-anno-draft\",class:{novisible: !_vm.commentHover && !_vm.activeComment, active: _vm.commentHover || _vm.activeComment},style:(_vm.anno_style())},[_c('div',{staticClass:\"m-draft-handler\"},[_c('div',{staticClass:\"m-comment-marker--value\"},[_vm._v(_vm._s(_vm.anno.name))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div\n\t\tclass=\"m-anno-draft\"\n\t\t:style=\"anno_style()\"\n\t\t:class=\"{novisible: !commentHover && !activeComment, active: commentHover || activeComment}\"\n\t\t>\n\t\t<div\n\t\t\tclass=\"m-draft-handler\"\n\t\t\t>\n\t\t\t<div class=\"m-comment-marker--value\">{{anno.name}}</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nimport { mapState } from \"vuex\"\nexport default {\n\tdata() {\n\t\treturn {\n\t\t}\n\t},\n\tprops: ['anno'],\n    computed: mapState({\n\t\tcommentHover(state){\n\t\t\tlet cmnt = state.comments.comments.filter(c => c.id == state.comments.draftHover)\n\t\t\treturn cmnt.length ? cmnt[0].borders.some(b => b == this.anno.id) : false\n\t\t},\n\t\tactiveComment(state){\n\t\t\tlet cmnt = state.comments.comments.filter(c => c.id == state.comments.activeComment)\n\n\t\t\treturn cmnt.length ? cmnt[0].borders.some(b => b == this.anno.id) : false\n\t\t}\n\t}),\n\tmethods: {\n\t\tanno_style(){\n\t\t\treturn {\n\t\t\t\tleft: this.anno.x + '%',\n\t\t\t\ttop: this.anno.y + '%',\n\t\t\t\twidth: this.anno.w + '%',\n\t\t\t\theight: this.anno.h + '%'\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfAnno.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfAnno.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PdfAnno.vue?vue&type=template&id=3f92c730\"\nimport script from \"./PdfAnno.vue?vue&type=script&lang=js\"\nexport * from \"./PdfAnno.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"over\",staticClass:\"m-anno-conductor\",class:{novisible: !_vm.pdfInit},attrs:{\"id\":\"conductor\"},on:{\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;if('button' in $event && $event.button !== 0)return null;$event.preventDefault();return _vm.dropBorderHelper($event)}}},_vm._l((_vm.borderStack),function(i,j){return _c('draft',{key:'border' + i.id,attrs:{\"item\":i},on:{\"getBorder\":_vm.getBorder}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"draft\",staticClass:\"m-anno-draft active\",class:{hidden: _vm.borderEdit && _vm.item.id !== _vm.borderEdit},style:(_vm.styles()),attrs:{\"id\":\"draft\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;if('button' in $event && $event.button !== 0)return null;$event.stopPropagation();$event.preventDefault();return _vm.letElem($event, 'startmove')}}},[_vm._l((4),function(i,j){return _c('div',{key:'edge' + j,staticClass:\"m-draft-edge\",class:'m-draft-edge-' + j,on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;if('button' in $event && $event.button !== 0)return null;$event.stopPropagation();$event.preventDefault();return _vm.letElem($event, 'startresize', 'edge' + j)}}})}),_c('div',{key:'handler',staticClass:\"m-draft-handler\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;if('button' in $event && $event.button !== 0)return null;$event.stopPropagation();$event.preventDefault();return _vm.letElem($event, 'startmove')}}},[_c('div',{staticClass:\"m-comment-marker--value\"},[_vm._v(_vm._s(_vm.item.name))])]),_c('div',{key:'handle0',staticClass:\"m-draft-resizer\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;if('button' in $event && $event.button !== 0)return null;$event.stopPropagation();$event.preventDefault();return _vm.letElem($event, 'startresize', 'handle2')}}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div\n\t\tref=\"draft\"\n\t\tid=\"draft\"\n\t\tclass=\"m-anno-draft active\"\n\t\t:style=\"styles()\"\n\t\t:class=\"{hidden: borderEdit && item.id !== borderEdit}\"\n\t\t@mousedown.left.stop.prevent=\"letElem($event, 'startmove')\"\n\t\t>\n\t\t<div\n\t\t\tv-for=\"(i, j) in 4\"\n\t\t\t:key=\"'edge' + j\"\n\t\t\tclass=\"m-draft-edge\"\n\t\t\t:class=\"'m-draft-edge-' + j\"\n\t\t\t@mousedown.left.stop.prevent=\"letElem($event, 'startresize', 'edge' + j)\"\n\t\t\t>\n\t\t</div>\n\t\t<div\n\t\t\t:key=\"'handler'\"\n\t\t\tclass=\"m-draft-handler\"\n\t\t\t@mousedown.left.stop.prevent=\"letElem($event, 'startmove')\"\n\t\t\t>\n\t\t\t<div class=\"m-comment-marker--value\">{{item.name}}</div>\n\t\t</div>\n\t\t<div\n\t\t\t:key=\"'handle0'\"\n\t\t\tclass=\"m-draft-resizer\"\n\t\t\t@mousedown.left.stop.prevent=\"letElem($event, 'startresize', 'handle2')\"\n\t\t\t>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t}\n\t},\n\tprops: ['item'],\n\tcomputed: {\n        borderEdit(){\n            return this.$store.state.comments.borderEdit\n        }\n\t},\n\tmethods: {\n\t\tinit(){\n\t\t\tthis.$el.style.left = this.item.x + '%'\n\t\t\tthis.$el.style.top = this.item.y + '%'\n\t\t\tif(this.item.w){\n\t\t\t\tthis.$el.style.width = this.item.w + '%'\n\t\t\t\tthis.$el.style.height = this.item.h + '%'\n\t\t\t}\n\t\t},\n\t\tstyles(){\n\t\t\tlet style = {\n\t\t\t\tleft: this.item.x + '%',\n\t\t\t\ttop: this.item.y + '%',\n\t\t\t}\n\t\t\tif(this.item.w){\n\t\t\t\tstyle.width = this.item.w + '%'\n\t\t\t\tstyle.height = this.item.h + '%'\n\t\t\t}\n\t\t\tif(this.$store.state.administration.user.id != this.item.uid){\n\t\t\t\tstyle['pointer-events'] = 'none'\n\t\t\t}\n\t\t\treturn style\n\t\t},\n\t\tletElem(e, action, dirMove = ''){\n\t\t\tthis.$emit('getBorder', {\n\t\t\t\te: e,\n\t\t\t\titem: this.item,\n\t\t\t\taction: action,\n\t\t\t\tel: this.$el,\n\t\t\t\tdirMove: dirMove\n\t\t\t})\n\t\t}\n\t},\n\tmounted(){\n\t\tthis.init()\n\t}\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfDraft.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdfDraft.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PdfDraft.vue?vue&type=template&id=00866516\"\nimport script from \"./PdfDraft.vue?vue&type=script&lang=js\"\nexport * from \"./PdfDraft.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div\n\t\tclass=\"m-anno-conductor\"\n\t\t:class=\"{novisible: !pdfInit}\"\n\t\tref=\"over\"\n\t\tid=\"conductor\"\n\t\t@mouseup.left.prevent=\"dropBorderHelper($event)\"\n\t\t>\n\t\t<draft\n\t\t\tv-for=\"(i, j) in borderStack\"\n\t\t\t:key=\"'border' + i.id\"\n\t\t\t:item=\"i\"\n\t\t\t@getBorder=\"getBorder\"\n\t\t\t/>\n\t</div>\n</template>\n\n<script>\nimport draft from './PdfDraft'\nexport default {\n\tcomponents: {\n\t\tdraft\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tborder: '',\n\t\t\tborderEdit: null,\n\t\t\tborderW: 0,\n\t\t\tborderH: 0,\n\t\t\tposX: 0,\n\t\t\tposY: 0,\n\t\t\tpageX: 0,\n\t\t\tpageY: 0,\n\t\t\tmove: false,\n\t\t\tdirMove: '',\n\t\t\tresize: false,\n\t\t\tparentEl: '',\n\t\t\tdraftInit: {},\n\t\t\tdraftDrag: false,\n\t\t\tdraftShow: false,\n\t\t\tdraftTransform: false\n\t\t}\n\t},\n\tprops: ['width', 'height'],\n\twatch: {\n\t\twidth(v){\n\t\t\tthis.$el.style.width = v + 'px'\n\t\t},\n\t\theight(v){\n\t\t\tthis.$el.style.height = v + 'px'\n\t\t},\n\t\tscale(v){\n\t\t\tlet parent = this.$el.parentElement.getBoundingClientRect()\n\t\t\tthis.parentEl = {\n\t\t\t\tx: parent.x,\n\t\t\t\ty: parent.y,\n\t\t\t\twidth: Math.round(parent.width),\n\t\t\t\theight: Math.round(parent.height)\n\t\t\t}\n\t\t\tlet el = this.$el.getBoundingClientRect()\n\t\t\tthis.width = el.width\n\t\t\tthis.height = el.height\n\t\t\tthis.posX = Math.round(el.x - parent.x)\n\t\t\tthis.posY = Math.round(el.y - parent.y)\n\t\t}\n\t},\n\tcomputed: {\n\t\tborderStack(){\n\t\t\tlet comments = JSON.parse(JSON.stringify(this.$store.state.comments.comments))\n\t\t\tlet borders = JSON.parse(JSON.stringify(this.$store.state.comments.borders))\n\t\t\tlet list = []\n\t\t\tcomments.map(c => {\n\t\t\t\tlist = [...list, ...c.borders]\n\t\t\t})\n            let stack = []\n\t\t\tborders.map(b => {\n\t\t\t\tif(!list.some(s => s == b.id)){\n\t\t\t\t\tstack = [...stack, b]\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn stack\n\t\t},\n\t\tborderHelper(){\n\t\t\tlet border = this.$store.state.comments.borderHelper\n\t\t\treturn border\n\t\t},\n\t\tpdfInit(){\n\t\t\treturn this.$store.state.workflow.pdfInit\n\t\t}\n\t},\n\tmethods: {\n\t\tdropBorderHelper(e){\n\t\t\tif(this.borderHelper.status){\n\t\t\t\tlet box = this.$el.getBoundingClientRect()\n\t\t\t\tlet x = e.clientX - box.x - 6\n\t\t\t\tlet y = e.clientY - box.y - 6\n\t            this.$store.dispatch('comments/addBorder', {\n\t                x: parseFloat((100 * x / box.width).toFixed(2)),\n\t                y: parseFloat((100 * y / box.height).toFixed(2))\n\t            })\n\t\t\t}\n\t\t},\n\t\tgetBorder(o){\n\t\t\tlet parentBox = this.$el.getBoundingClientRect()\n\t\t\tlet elBox = o.el.getBoundingClientRect()\n\t\t\tthis.parentEl = {\n\t\t\t\tx: parentBox.x,\n\t\t\t\ty: parentBox.y,\n\t\t\t\twidth: Math.round(parentBox.width),\n\t\t\t\theight: Math.round(parentBox.height)\n\t\t\t}\n\t\t\tthis.border = o.el\n\t\t\tthis.borderEdit = o.item\n\t\t\tthis.posX = elBox.x - parentBox.x\n\t\t\tthis.posY = elBox.y - parentBox.y\n\t\t\tthis.borderW = elBox.width\n\t\t\tthis.borderH = elBox.height\n\t\t\tthis[o.action](o.e, o.dirMove)\n\t\t},\n\t\tsetDraftAttr(o){\n\t\t\tlet el = this.border\n\t\t\tlet attr = {\n\t\t\t\tx: this.posX,\n\t\t\t\ty: this.posY,\n\t\t\t\tw: this.borderW,\n\t\t\t\th: this.borderH\n\t\t\t}\n\t\t\to = {...attr, ...o}\n\t\t\tlet parent = this.parentEl\n\t\t\tlet relativeX = (100 * o.x / parent.width).toFixed(2)\n\t\t\tlet relativeY = (100 * o.y / parent.height).toFixed(2)\n\t\t\tlet relativeW = (100 * o.w / parent.width).toFixed(2)\n\t\t\tlet relativeH = (100 * o.h / parent.height).toFixed(2)\n\t\t\tel.style.left = relativeX + '%'\n\t\t\tel.style.top = relativeY + '%'\n\t\t\tel.style.width = relativeW + '%'\n\t\t\tel.style.height = relativeH + '%'\n\t\t},\n\t\tstartresize(e, dir){\n\t\t\tthis.dirMove = dir\n\t\t\tthis.pageX = e.clientX\n\t\t\tthis.pageY = e.clientY\n\t\t\tthis.resize = true\n\t\t},\n\t\tstartmove(e){\n\t\t\tthis.pageX = e.clientX\n\t\t\tthis.pageY = e.clientY\n\t\t\tthis.move = true\n\t\t},\n\t\tdrag(e){\n\t\t\tif(this.move){\n\t\t\t\tlet x = e.clientX - this.pageX + this.posX\n\t\t\t\tlet y = e.clientY - this.pageY + this.posY\n\t\t\t\tlet check = this.checkMove(x, y)\n\t\t\t\tx = check.x\n\t\t\t\ty = check.y\n\t\t\t\tthis.setDraftAttr({x: x, y: y})\n\t\t\t}\n\t\t\tif(this.resize){\n\t\t\t\tif(this.dirMove == 'handle0'){\n\t\t\t\t\tthis.setDraftAttr(this.checkResize(e, 1, 0, 0, 1))\n\t\t\t\t}\n\t\t\t\telse if(this.dirMove == 'handle1'){\n\t\t\t\t\tthis.setDraftAttr(this.checkResize(e, 1, 1, 0, 0))\n\t\t\t\t}\n\t\t\t\telse if(this.dirMove == 'handle2'){\n\t\t\t\t\tthis.setDraftAttr(this.checkResize(e, 0, 1, 1, 0))\n\t\t\t\t}\n\t\t\t\telse if(this.dirMove == 'handle3'){\n\t\t\t\t\tthis.setDraftAttr(this.checkResize(e, 0, 0, 1, 1))\n\t\t\t\t}\n\n\t\t\t\telse if(this.dirMove == 'edge0'){\n\t\t\t\t\tthis.setDraftAttr(this.checkResize(e, 1, 0, 0, 0))\n\t\t\t\t}\n\t\t\t\telse if(this.dirMove == 'edge1'){\n\t\t\t\t\tthis.setDraftAttr(this.checkResize(e, 0, 1, 0, 0))\n\t\t\t\t}\n\t\t\t\telse if(this.dirMove == 'edge2'){\n\t\t\t\t\tthis.setDraftAttr(this.checkResize(e, 0, 0, 1, 0))\n\t\t\t\t}\n\t\t\t\telse if(this.dirMove == 'edge3'){\n\t\t\t\t\tthis.setDraftAttr(this.checkResize(e, 0, 0, 0, 1))\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcheckResize(e, t, r, b, l){\n\t\t\tlet attr = {}\n\t\t\tlet dx = e.clientX - this.pageX\n\t\t\tlet dy = e.clientY - this.pageY\n\t\t\tlet parent = this.parentEl\n\t\t\tif(t){\n\t\t\t\tattr.y = (this.posY + dy) <= 0 ? 0 : this.posY + dy\n\t\t\t\tattr.h = attr.y > 0 ? this.borderH - dy : this.borderH + this.posY\n\t\t\t\tif(attr.h < 13){\n\t\t\t\t\t//attr.h *= -1\n\t\t\t\t\tattr.h = attr.h < 0 ? attr.h * (-1) + 13: 13\n\t\t\t\t\tattr.y = this.borderH + this.posY - 13\n\t\t\t\t\tif(attr.h + attr.y >= parent.height){\n\t\t\t\t\t\tattr.h = parent.height - attr.y\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(attr.y + 8>= parent.height){\n\t\t\t\t\tattr.y = parent.height - 8\n\t\t\t\t\tattr.h = 8\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(r){\n\t\t\t\tattr.w = (this.posX + dx + this.borderW) >= parent.width ? parent.width - this.posX : this.borderW + dx\n\t\t\t\tif(attr.w < 13){\n\t\t\t\t\tattr.x = attr.w < 0 ? this.posX + dx + this.borderW : this.posX\n\t\t\t\t\tattr.w = attr.w < 0 ? attr.w * (-1) + 13: 13\n\t\t\t\t\t//attr.w *= -1\n\t\t\t\t\t//attr.x = this.posX + dx + this.markerW\n\t\t\t\t\tif(attr.x <= 0){\n\t\t\t\t\t\tattr.x = 0\n\t\t\t\t\t\tattr.w = this.posX + 13\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(b){\n\t\t\t\tattr.y = this.posY\n\t\t\t\tattr.h = (this.posY + dy + this.borderH) >= parent.height ? parent.height - this.posY : this.borderH + dy\n\t\t\t\tif(attr.h < 13){\n\t\t\t\t\tattr.y = attr.h < 0 ? this.posY + dy + this.borderH : this.posY\n\t\t\t\t\tattr.h = attr.h < 0 ? attr.h * (-1) + 13: 13\n\t\t\t\t\tif(attr.y <= 0){\n\t\t\t\t\t\tattr.y = 0\n\t\t\t\t\t\tattr.h = this.posY + 13\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(l){\n\t\t\t\tattr.x = (this.posX + dx) <= 0 ? 0 : this.posX + dx\n\t\t\t\tattr.w = attr.x > 0 ? this.borderW - dx : this.borderW + this.posX\n\t\t\t\tif(attr.w < 13){\n\t\t\t\t\t//attr.w *= -1\n\t\t\t\t\tattr.w = attr.w < 0 ? attr.w * (-1) + 13: 13\n\t\t\t\t\tattr.x = this.borderW + this.posX - 13\n\t\t\t\t\tif(attr.w + attr.x >= parent.width){\n\t\t\t\t\t\tattr.w = parent.width - attr.x\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(attr.x + 8>= parent.width){\n\t\t\t\t\tattr.x = parent.width - 8\n\t\t\t\t\tattr.w = 8\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn attr\n\t\t},\n\t\tendEvent(e){\n\t\t\tif(this.move){\n\t\t\t\tthis.move = false\n\t\t\t\tlet el = this.border\n\t\t\t\tthis.posX = el.offsetLeft\n\t\t\t\tthis.posY = el.offsetTop\n\t\t\t\tlet parent = this.parentEl\n\t\t\t\tlet relativeX = 100 * this.posX / parent.width\n\t\t\t\tlet relativeY = 100 * this.posY / parent.height\n\t\t\t\tlet relativeW = 100 * this.borderW / parent.width\n\t\t\t\tlet relativeH = 100 * this.borderH / parent.height\n\t\t\t\tthis.$store.dispatch('comments/updateBorder', {\n\t\t\t\t\tid: this.borderEdit.id,\n\t\t\t\t\tname: this.borderEdit.name,\n\t\t\t\t\tx: parseFloat(relativeX.toFixed(2)),\n\t\t\t\t\ty: parseFloat(relativeY.toFixed(2)),\n\t\t\t\t\tw: parseFloat(relativeW.toFixed(2)),\n\t\t\t\t\th: parseFloat(relativeH.toFixed(2))\n\t\t\t\t})\n\t\t\t}\n\t\t\tif(this.resize){\n\t\t\t\tthis.resize = false\n\t\t\t\tlet el = this.border\n\t\t\t\tthis.posX = el.offsetLeft\n\t\t\t\tthis.posY = el.offsetTop\n\t\t\t\tthis.borderW = el.offsetWidth\n\t\t\t\tthis.borderH = el.offsetHeight\n\t\t\t\tlet parent = this.parentEl\n\t\t\t\tlet relativeX = 100 * this.posX / parent.width\n\t\t\t\tlet relativeY = 100 * this.posY / parent.height\n\t\t\t\tlet relativeW = 100 * this.borderW / parent.width\n\t\t\t\tlet relativeH = 100 * this.borderH / parent.height\n\t\t\t\tthis.$store.dispatch('comments/updateBorder', {\n\t\t\t\t\tid: this.borderEdit.id,\n\t\t\t\t\tname: this.borderEdit.name,\n\t\t\t\t\tx: parseFloat(relativeX.toFixed(2)),\n\t\t\t\t\ty: parseFloat(relativeY.toFixed(2)),\n\t\t\t\t\tw: parseFloat(relativeW.toFixed(2)),\n\t\t\t\t\th: parseFloat(relativeH.toFixed(2))\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcheckMove(x, y){\n\t\t\tlet parent = this.parentEl\n\t\t\tlet el = this.border.getBoundingClientRect()\n\t\t\tif(y <= 0){\n\t\t\t\ty = 0\n\t\t\t}\n\t\t\tif(x <= 0){\n\t\t\t\tx = 0\n\t\t\t}\n\t\t\tif(y + el.height >= parent.height){\n\t\t\t\ty = parent.height - el.height\n\t\t\t}\n\t\t\tif(x + el.width >= parent.width){\n\t\t\t\tx = parent.width - el.width\n\t\t\t}\n\t\t\treturn {x: x, y: y}\n\t\t},\n\t},\n\tmounted(){\n\t\twindow.addEventListener('mousemove', this.drag, false)\n\t\twindow.addEventListener('mouseup', this.endEvent, false)\n\t},\n\tdestroyed(){\n\t\twindow.removeEventListener('mousemove', this.drag)\n\t\twindow.removeEventListener('mouseup', this.endEvent)\n\t}\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BorderStack.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BorderStack.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BorderStack.vue?vue&type=template&id=3c599490\"\nimport script from \"./BorderStack.vue?vue&type=script&lang=js\"\nexport * from \"./BorderStack.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-comment-marker--helper\",class:{active: _vm.borderHelper.status}},[_c('div',{staticClass:\"m-comment-marker--value\"},[_vm._v(_vm._s(_vm.borderHelper.value))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div\n\t\tclass=\"m-comment-marker--helper\"\n\t\t:class=\"{active: borderHelper.status}\">\n\t\t<div class=\"m-comment-marker--value\">{{borderHelper.value}}</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata(){\n\t\treturn {\n\t\t\tborderHelperPos: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tborderHelper(){\n\t\t\tlet marker = this.$store.state.comments.borderHelper\n\t\t\tif(marker.status){\n\t\t\t\tthis.setPosition(marker.x, marker.y)\n\t\t\t}\n\t\t\treturn marker\n\t\t}\n\t},\n\tmethods: {\n\t\tsetPosition(x, y){\n\t\t\tlet el = this.$el\n\t\t\tel.style.left = x - 13 + 'px'\n\t\t\tel.style.top = y - 13 + 'px'\n\t\t},\n\t\tdragBorderHelper(e){\n\t\t\tif(this.borderHelper.status){\n\t\t\t\tlet pos = {\n\t\t\t\t\tx: e.clientX,\n\t\t\t\t\ty: e.clientY\n\t\t\t\t}\n\t\t\t\tthis.setPosition(pos.x, pos.y)\n\t\t\t}\n\t\t},\n\t\tremoveBorderHelper(){\n\t\t\tif(this.borderHelper.status){\n\t\t\t\tthis.$store.dispatch('comments/setBorderHelper', {\n\t\t\t\t\tstatus: false\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\tmounted(){\n\t\twindow.addEventListener('mousemove', this.dragBorderHelper, false)\n\t\twindow.addEventListener('mouseup', this.removeBorderHelper, false)\n\t},\n\tdestroyed(){\n\t\twindow.removeEventListener('mousemove', this.dragBorderHelper)\n\t\twindow.removeEventListener('mouseup', this.removeBorderHelper)\n\t}\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BorderHelper.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BorderHelper.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BorderHelper.vue?vue&type=template&id=b8574fd2\"\nimport script from \"./BorderHelper.vue?vue&type=script&lang=js\"\nexport * from \"./BorderHelper.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-container fluid fill-height text-xs-center pa-0 class=\"m-container\">\n        <v-layout wrap ma-0 ref=\"wrap\">\n        <!--\n            <div class=\"b-zoom\" ref=\"b-zoom\">\n                <v-btn\n                    text\n                    class=\"m-btn m-btn-icon--cube mx-1\"\n                    @click.stop=\"zoomout\"\n                    :disabled=\"stateBtn\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"24\">mdi-magnify-minus-outline</v-icon>\n                </v-btn>\n                <v-btn\n                    text\n                    class=\"m-btn m-btn-icon--cube mx-1\"\n                    @click.stop=\"zoomin\"\n                    :disabled=\"stateBtn\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"24\">mdi-magnify-plus-outline</v-icon>\n                </v-btn>\n            </div>\n        -->\n\n            <div\n                class=\"m-pdf-wrap\"\n                :class=\"{'no-event': no_event}\"\n                ref=\"pdf-wrap\"\n                :style=\"style_pdf\"\n                >\n    \t\t\t<div\n                    ref=\"pdf\"\n                    :class=\"{'pdf-move': mouse_down}\"\n                    class=\"m-zoom\">\n\n    \t\t\t\t<div id=\"viewerContainer\" ref=\"container\" class=\"pdf-container\"/>\n                    <div\n                        v-show=\"compareMode\"\n                        ref=\"compare-wrap\"\n                        class=\"pdf-container pdf-container--twice__wrap\"\n                        :style=\"{width: twice_width + '%'}\">\n                        <span\n                            v-show=\"model.files.length < 2\"\n                            class=\"pdf-container--twice__wrap--desc\">Нужно как минимум две версии файла. Загрузите еще одну версию.</span>\n                        <div\n                            ref=\"containerTwice\"\n                            class=\"pdf-container pdf-container--twice\"/>\n                    </div>\n\n    \t\t\t\t<div\n                        v-show=\"!compareMode\"\n    \t\t\t\t\tclass=\"m-anno-view--stack\"\n    \t\t\t\t\t:class=\"{novisible: !pdfInit}\"\n    \t\t\t\t\tref=\"stack\"\n    \t\t\t\t\t>\n    \t\t\t\t\t<anno\n    \t\t\t\t\t\tv-for=\"(i, j) in anno_list\"\n    \t\t\t\t\t\t:key=\"'stack' + j\"\n    \t\t\t\t\t\t:anno=\"i\"\n    \t\t\t\t\t/>\n    \t\t\t\t</div>\n    \t\t\t\t<div\n                        v-show=\"!compareMode\"\n    \t\t\t\t\tclass=\"m-anno-view\"\n    \t\t\t\t\t:class=\"{novisible: !pdfInit}\"\n    \t\t\t\t\tref=\"view\"\n    \t\t\t\t\t>\n    \t\t\t\t\t<anno\n    \t\t\t\t\t\tv-for=\"(i, j) in anno_list\"\n    \t\t\t\t\t\t:key=\"j\"\n    \t\t\t\t\t\t:anno=\"i\"\n    \t\t\t\t\t/>\n    \t\t\t\t</div>\n\n    \t\t\t\t<border-stack :width=\"version.once.pdfWidth\" :height=\"version.once.pdfHeight\" />\n\n    \t\t\t\t<border-helper v-show=\"!compareMode\"/>\n\n                    <div\n                        v-show=\"compareMode\"\n                        ref=\"dragger\"\n                        class=\"dragger--wrap\"\n                        :style=\"compare_style\">\n                        <div\n                            ref=\"compare-handler\"\n                            class=\"dragger--handler\"\n                            />\n                    </div>\n\n    \t\t\t</div>\n            </div>\n\n            <v-card\n                v-show=\"compareMode\"\n                class=\"m-version-pdf m-version-pdf--left\">\n                <v-menu\n                    top\n                    close-on-click\n                    >\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-card-text\n                            class=\"px-3 py-2\"\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                            >\n                            <v-list-item class=\"pa-0\">\n                                <span>V{{version.once.value}}</span>\n                                <v-spacer></v-spacer>\n                                <v-icon right>\n                                    mdi-chevron-down\n                                </v-icon>\n                            </v-list-item>\n                        </v-card-text>\n                    </template>\n                    <v-list v-if=\"getVersionList.length\">\n                        <v-list-item\n                            v-for=\"(item, index) in getVersionList\"\n                            :key=\"index\"\n                            @click=\"updatePdf(item, 'once')\"\n                            >\n                            <v-list-item-title>V{{ item }}</v-list-item-title>\n                        </v-list-item>\n                    </v-list>\n                </v-menu>\n            </v-card>\n\n            <v-card\n                v-show=\"compareMode && version.twice.value != 0\"\n                class=\"m-version-pdf m-version-pdf--right\">\n                <v-menu\n                    top\n                    close-on-click\n                    >\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-card-text\n                            class=\"px-3 py-2\"\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                            >\n                            <v-list-item class=\"pa-0\">\n                                <span>V{{version.twice.value}}</span>\n                                <v-spacer></v-spacer>\n                                <v-icon right>\n                                    mdi-chevron-down\n                                </v-icon>\n                            </v-list-item>\n                        </v-card-text>\n                    </template>\n                    <v-list v-if=\"getVersionList.length\">\n                        <v-list-item\n                            v-for=\"(item, index) in getVersionList\"\n                            :key=\"index\"\n                            @click=\"updatePdf(item, 'twice')\"\n                            >\n                            <v-list-item-title>V{{ item }}</v-list-item-title>\n                        </v-list-item>\n                    </v-list>\n                </v-menu>\n            </v-card>\n\n            <panel-options\n                :options=\"options\"\n                :params=\"optionParams\"\n                @setOption=\"setOption\"\n                @setSubOption=\"setSubOption\"/>\n\n\n\t\t</v-layout>\n\n\t\t<tools\n            v-if=\"getAccess(model.access, 'and', [3]) && checklicense('commentsPDF') && checklicense('tasksPDF')\"\n            :toolsbar.sync=\"toolsbar\"\n            :compareMode=\"compareMode\"\n            :project_id=\"project_id\"\n            :document=\"model\"\n            :screen.sync=\"screen\"\n            :blob=\"blob\"\n            @getImageData=\"getImageData\"\n            />\n\n        <iframe ref=\"pdf-frame\" style=\"height:0; width:0; border: 0;\"></iframe>\n\t</v-container>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"\nimport { getAccess, checklicense } from '@/utils/services'\nimport { v4 as uuidv4 } from 'uuid'\nimport Tools from \"./Tools\"\nimport PanelOptions from \"./PanelOptions\"\nimport anno from './view_pdf/PdfAnno'\nimport borderStack from './view_pdf/BorderStack'\nimport borderHelper from './view_pdf/BorderHelper'\nimport pdfjsLib from 'pdfjs-dist/webpack.js'\nimport {PDFLinkService, PDFPageView, PDFFindController, DefaultAnnotationLayerFactory, DefaultTextLayerFactory } from 'pdfjs-dist/web/pdf_viewer.js'\n\nfunction isPDFDocumentLoadingTask(obj){\n\treturn typeof(obj) === 'object' && obj !== null && obj.__PDFDocumentLoadingTask === true\n}\n\nfunction createLoadingTask(src, options){\n\tlet source\n\tif (typeof(src) === 'string')\n\t\tsource = {url: src}\n\telse if(typeof(src) === 'object' && src !== null)\n\t\tsource = Object.assign({}, src)\n\telse\n\t\tthrow new TypeError('invalid src type')\n\n\tsource.CMapReaderFactory = function(){\n\t\tthis.fetch = function(query){\n\t\t\treturn import('raw-loader!pdfjs-dist/cmaps/'+query.name+'.bcmap' /* webpackChunkName: \"noprefetch-[request]\" */)\n\t\t\t.then(function(bcmap) {\n\t\t\t\treturn {\n\t\t\t\t\tcMapData: bcmap,\n\t\t\t\t\tcompressionType: pdfjsLib.CMapCompressionType.BINARY,\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tlet loadingTask = pdfjsLib.getDocument(source)\n\tloadingTask.__PDFDocumentLoadingTask = true\n\n\tif(options && options.onPassword)\n\t\tloadingTask.onPassword = options.onPassword\n\n\tif(options && options.onProgress)\n\t\tloadingTask.onProgress = options.onProgress\n\n\treturn loadingTask\n}\n\nexport default {\n    name: 'ViewPdf',\n    components: {\n        Tools,\n        PanelOptions,\n\t\tanno,\n\t\tborderStack,\n\t\tborderHelper\n    },\n\tprops: {\n        model: {\n            type: Object,\n            default: null\n        },\n        project_id: {\n            type: String,\n            default: ''\n        }\n\t},\n    data(){\n        return {\n            FUrl: null,\n\t\t\tscale: 'page-mini',\n    \t\tbtn_off: false,\n\t\t\ttoolsbar: false,\n            style_pdf: {},\n\t\t\tno_event: false,\n            screen: '',\n            blob: '',\n            version: {\n                once: {\n                    value: 0,\n        \t\t    annotation: false,\n            \t\ttext: false,\n        \t\t\tpdf: null,\n        \t\t\tpdfViewer: null,\n        \t\t\tpdfWidth: 0,\n        \t\t\tpdfHeight: 0,\n                    internalSrc: ''\n                },\n                twice: {\n                    value: 0,\n        \t\t    annotation: false,\n            \t\ttext: false,\n        \t\t\tpdf: null,\n        \t\t\tpdfViewer: null,\n        \t\t\tpdfWidth: 0,\n        \t\t\tpdfHeight: 0,\n                    internalSrc: ''\n                }\n            },\n\t\t\tloading: true,\n\t\t\tnewScale: 1,\n    \t\tpage: 1,\n            num_pages: 0,\n    \t\trotate: 0,\n    \t\tannotation: false,\n    \t\ttext: true,\n            mouse_down: 0,\n            posMouse: {x:0, y: 0},\n            posCompare: {x:0},\n            compareMode: false,\n            compare_handler: {\n                height: 0,\n                top: 0,\n                left: 50\n            },\n            twice_width: 50,\n            options: {\n                prev: {\n                    name: 'prev',\n                    title: 'Предыдущая страница',\n                    active: false,\n                    turnoff: true,\n                    action: 'prev_page',\n                    children: null,\n                    icon: 'mdi-chevron-left',\n                    divider: false\n                },\n                num_pages: {\n                    name: 'numpages',\n                    title: false,\n                    active: false,\n                    turnoff: true,\n                    action: false,\n                    children: null,\n                    icon: false,\n                    type: 'text',\n                    value: 'num_pages',\n                    divider: false\n                },\n                next: {\n                    name: 'next',\n                    title: 'Следующая страница',\n                    active: false,\n                    turnoff: true,\n                    action: 'next_page',\n                    children: null,\n                    icon: 'mdi-chevron-right',\n                    divider: false\n                },\n                zoomout: {\n                    name: 'zoomout',\n                    title: 'Zoom -',\n                    active: false,\n                    turnoff: true,\n                    action: 'zoomout',\n                    children: null,\n                    icon: 'mdi-magnify-minus-outline',\n                    divider: false\n                },\n                zoomin: {\n                    name: 'zoomin',\n                    title: 'Zoom +',\n                    active: false,\n                    turnoff: true,\n                    action: 'zoomin',\n                    children: null,\n                    icon: 'mdi-magnify-plus-outline',\n                    divider: false\n                },\n                printer: {\n                    name: 'printer',\n                    title: 'Печать',\n                    active: false,\n                    turnoff: true,\n                    action: 'print',\n                    children: null,\n                    icon: 'trd-printer',\n                    divider: false\n                },\n                compare: {\n                    name: 'compare',\n                    title: 'Сравнить',\n                    active: false,\n                    action: 'compare',\n                    children: null,\n                    icon: 'trd-compare',\n                    divider: false\n                },\n                download: {\n                    name: 'download',\n                    title: 'Скачать',\n                    active: false,\n                    turnoff: true,\n                    action: 'download',\n                    children: null,\n                    icon: 'trd-download',\n                    divider: false\n                }\n            }\n        }\n    },\n\tcomputed: mapState({\n\t\tanno_list(state){\n    \t\tlet borders = state.comments.borders\n            let comments = state.comments.comments\n\n            let list = []\n            comments.map(c => {\n                c.borders.map(b => {\n                    list = [...list, ...borders.filter(i => i.id == b)]\n                })\n            })\n\n\t\t\treturn list\n\t\t},\n\t\tpdfInit(state){\n\t\t\treturn state.workflow.pdfInit\n\t\t},\n        stateBtn(){\n            return this.btn_off\n        },\n        compare_style(){\n            return {\n                left: this.compare_handler.left + '%',\n                height: this.compare_handler.height + 'px',\n                top: this.compare_handler.top + 'px'\n            }\n        },\n        getVersionList(){\n            let files = this.model.files.map(f => f.version)\n            return files.filter(f => f != this.version.once.value && f != this.version.twice.value)\n        },\n        optionParams(){\n            return {\n                num_pages: this.num_pages ? this.page + ' из ' + this.num_pages : ''\n            }\n        }\n\t}),\n    watch: {\n        toolsbar: function(v){\n            if(typeof this.scale === 'number'){\n                return\n            }\n            if(v){\n                setTimeout(function(){this.scale = 'page-full'}.bind(this), 400)\n            }\n            else{\n                setTimeout(function(){this.scale = 'page-mini'}.bind(this), 400)\n            }\n        },\n\t\tpdf: function(val){\n\t\t\tvar pdfInfo = val.pdfInfo || val._pdfInfo\n      \t\tthis.$emit('numpages', pdfInfo.numPages)\n\t\t},\n\t\tpage: function(val){\n\t\t\tvar self = this\n\t\t\tthis.version.once.pdf.getPage(val).then(function(pdfPage){\n\t\t    self.version.once.pdfViewer.setPdfPage(pdfPage)\n\t\t\t\tself.version.once.pdfViewer.draw()\n\t\t\t})\n\t\t},\n    \t// scale: function(val){\n\t\t// \tthis.drawScaled(val)\n\t\t// },\n\t\trotate: function(newRotate){\n\t\t\tif(this.version.once.pdfViewer){\n\t\t\t\tthis.version.once.pdfViewer.update(this.scale, newRotate)\n\t\t\t\tthis.version.once.pdfViewer.draw()\n\t\t\t}\n\t\t}\n    },\n    methods: {\n        setOption(o){\n            this.options[o.name].active = o.turnoff ? o.active : !o.active\n            if(this.options[o.name].action){\n                this[this.options[o.name].action](!o.active)\n            }\n        },\n        setSubOption(o){\n            this.options[o.name].children[o.sub_name].active = !o.sub_active\n            if(this.options[o.name].children[o.sub_name].action){\n                this[this.options[o.name].children[o.sub_name].action](this.options[o.name].children[o.sub_name])\n            }\n            this.setOption(o)\n        },\n        getAccess(a, b , c){\n            return getAccess(a, b, c)\n        },\n        checklicense(prop){\n            return checklicense(prop)\n        },\n        prev_page(){\n            if(this.page > 1){\n                this.page--\n            }\n        },\n        next_page(){\n            if(this.page < this.num_pages){\n                this.page++\n            }\n        },\n        print(){\n            this.$store.dispatch('common/getFile', {id: this.FUrl, typeBlob: 'blob'})\n            .then(res => {\n                let blob = new Blob([res.file], {type: 'application/pdf'})\n                let objectURL = URL.createObjectURL(blob)\n                this.$refs['pdf-frame'].src = objectURL\n                this.$refs['pdf-frame'].onload = () => {\n                    setTimeout(() => {\n                        URL.revokeObjectURL(objectURL)\n                        this.$refs['pdf-frame'].focus()\n                        this.$refs['pdf-frame'].contentWindow.print()\n                    }, 1)\n                }\n            })\n        },\n        download(){\n            let url = this.FUrl\n            let name = this.model.name\n            let uuid = uuidv4()\n            this.$store.dispatch('common/setUploadNote', [{\n                name: name,\n                uuid: uuid,\n                action: 'download',\n                pushin: true\n            }])\n            this.$store.dispatch('common/getFile', {\n                id: url,\n                uuid: uuid,\n                typeBlob: 'blob'\n            })\n            .then(res => {\n                this.$store.dispatch('common/setUploadNote', [{\n                    uuid: uuid,\n                    action: 'download',\n                    pushin: false\n                }])\n                if(!res.error){\n                    let a = document.createElement(\"a\")\n                    let objectURL = URL.createObjectURL(res.file)\n                    a.href = objectURL\n                    a.download = name\n                    document.body.appendChild(a)\n                    a.click()\n                    URL.revokeObjectURL(objectURL)\n                    a.remove()\n                }\n                else{\n                    console.log('downloadFile error', err)\n                }\n            })\n            .catch(err => {\n                console.log('downloadFile error', err)\n            })\n        },\n        compare(v){\n            let files = this.model.files || false\n            this.compareMode = v\n            if(v){\n                this.twice_width = this.twice_width\n                    ? this.twice_width\n                    : 50\n                if(files){\n                    let fileList = this.model.version\n                        ? (() => {\n                            let vers = files.filter(f => f.id != this.model.version)\n                            return vers ? vers : files\n                        })()\n                        : files\n                    if(this.version.once.value != fileList[0].version){\n                        this.version.twice.value = fileList[0].version\n                        this.$store.dispatch('common/getFile', {id: fileList[0].url})\n                        .then(res => {\n                            this.setPDF(res.file, this.$refs.containerTwice, 'twice')\n\n                            this.setCompareHandler()\n                        })\n                    }\n                    else{\n                        this.setCompareHandler()\n                    }\n                }\n            }\n            else{\n                this.$refs.containerTwice.innerHTML = ''\n                this.version.twice.pdf = null\n                this.compare_handler.left = 50\n                this.twice_width = 50\n                let file = this.model.version\n                    ? (() => {\n                        let vers = this.model.files.filter(f => f.id == this.model.version)\n                        return vers ? vers[0] : files[0]\n                    })()\n                    : files[0]\n                if(this.version.once.value != file.version){\n                    this.version.once.value = file.version\n                    this.$refs.container.innerHTML = ''\n                    this.$store.dispatch('common/getFile', {id: file.url})\n                    .then(res => {\n                        this.$nextTick(() => {\n                            this.setPDF(res.file, this.$refs.container, 'once')\n                        })\n                    })\n                }\n            }\n        },\n        setCompareHandler(){\n            this.$refs['compare-handler'].addEventListener('mousedown', this.onCompareDown, false)\n            let wrap = this.$refs['pdf-wrap']\n            let compare_wrap = this.$refs['compare-wrap']\n            this.compare_handler.height = wrap.clientHeight\n            this.compare_handler.top = wrap.scrollTop - parseInt(getComputedStyle(wrap).paddingTop)\n            this.compare_handler.left = 100 - this.twice_width\n        },\n        onCompareDown(e){\n            e.stopPropagation()\n            document.body.classList.add('select-none')\n            this.posCompare = {\n                x: e.clientX,\n                left: this.version.once.pdfViewer.width / 100 * this.compare_handler.left,\n                width: this.twice_width\n            }\n            this.compare_down = 1\n            document.addEventListener('mouseup', this.onCompareUp, false)\n            document.addEventListener('mousemove', this.onMouseMove, false)\n        },\n        onCompareUp(e){\n            document.body.classList.remove('select-none')\n            this.compare_down = 0\n            document.removeEventListener('mouseup', this.onCompareUp)\n            document.removeEventListener('mousemove', this.onMouseMove)\n        },\n        zoomin(){\n            this.btn_off = true\n            this.scale = typeof this.scale === 'string'? 1 : this.scale = Math.abs(this.scale) + 1\n            this.drawScaled(this.scale)\n        },\n        zoomout(){\n            this.btn_off = true\n            this.scale = typeof this.scale === 'string'? -1 : this.scale = (Math.abs(this.scale) + 1) * -1\n            this.drawScaled(this.scale)\n        },\n        updatePdf(version, block){\n            let file = this.model.files.find(f => f.version == version)\n            let container = block == 'once'\n                ? this.$refs['container']\n                : this.$refs['containerTwice']\n            container.innerHTML = ''\n            this.version[block].value = file.version\n            this.$store.dispatch('common/getFile', {id: file.url})\n            .then(res => {\n                this.$nextTick(() => {\n                    this.setPDF(res.file, container, block)\n                })\n            })\n        },\n        setPDF(src, container, version){\n    \t\tlet self = this\n    \t\tif(!isPDFDocumentLoadingTask(src)){\n    \t\t\tself.version[version].internalSrc = createLoadingTask(src)\n    \t\t}\n    \t\tlet pdfLinkService = new PDFLinkService()\n    \t\tlet annotationLayer = undefined\n    \t\tlet textLayer = undefined\n    \t\tif(self.version[version].annotation){\n    \t\t\tannotationLayer = new DefaultAnnotationLayerFactory()\n    \t\t}\n    \t\tif(self.version[version].text){\n    \t\t\ttextLayer = new DefaultTextLayerFactory()\n    \t\t}\n\n    \t\tself.version[version].internalSrc\n    \t\t.then(pdfDocument => {\n    \t\t  // Document loaded, retrieving the page.\n    \t\t\tself.version[version].pdf = pdfDocument\n                if(!this.num_pages){\n                    this.num_pages = this.version.once.pdf.numPages\n                }\n    \t\t\treturn pdfDocument.getPage(self.page)\n    \t\t}).then(pdfPage => {\n    \t\t    // Creating the page view with default parameters.\n    \t\t    self.version[version].pdfViewer = new PDFPageView({\n    \t\t\t\tcontainer: container,\n    \t\t\t\tid: self.page + (new Date()).getTime(),\n    \t\t\t\tscale: 1,\n    \t\t\t\tdefaultViewport: pdfPage.getViewport(1),\n    \t\t\t\t// We can enable text/annotations layers, if needed\n    \t\t\t\ttextLayerFactory: textLayer,\n    \t\t\t\tannotationLayerFactory: annotationLayer,\n    \t\t\t})\n    \t\t\t\t// Associates the actual page with the view, and drawing it\n    \t\t\tself.version[version].pdfViewer.setPdfPage(pdfPage)\n    \t\t\tpdfLinkService.setViewer(self.version[version].pdfViewer)\n    \t\t\t//self.drawScaled('page-mini')//(self.scale)\n                if(version == 'twice'){\n                    self.drawScaled('twice')\n                }\n                else{\n                    self.drawScaled(self.scale)\n                }\n    \t    }).catch(err => self.$emit('error', err))\n        },\n\t\tgetWidthWrap(){\n\t\t\tlet wrap = this.$refs['pdf-wrap']\n\t\t\tlet padding = {\n\t\t\t\tr: parseInt(getComputedStyle(wrap).paddingRight),\n\t\t\t\tl: parseInt(getComputedStyle(wrap).paddingLeft),\n\t\t\t\tt: parseInt(getComputedStyle(wrap).paddingTop),\n\t\t\t\tb: parseInt(getComputedStyle(wrap).paddingBottom)\n\t\t\t}\n\t\t\tlet width = wrap.clientWidth\n\t\t\tlet height = wrap.clientHeight\n\t\t\treturn {\n                    width: width - (padding.r + padding.l),\n                    height: height - (padding.t + padding.b)\n            }\n\t\t},\n\t\tcalculateScale(width=-1, height=-1){\n\t\t\tthis.version.once.pdfViewer.update(1,this.rotate)\n\t\t\tif(width === -1 && height === -1){\n\t\t\t\t//width = this.$refs.container.offsetWidth\n\t\t\t\twidth = this.getWidthWrap().width\n\t\t\t}\n\t\t\tlet pageWidthScale = width / this.version.once.pdfViewer.viewport.width\n\t\t\treturn pageWidthScale\n\t\t},\n        getImageData(){\n            let ratio = window.devicePixelRatio\n            let wi = this.version.once.pdfViewer.width * ratio\n            let hi = this.version.once.pdfViewer.height * ratio\n            let canvas = this.version.once.pdfViewer.canvas\n            // this.screen = canvas.toDataURL(\"image/png\")\n\n            let ctx = canvas.getContext(\"2d\")\n            let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n\n            let canvas2 = document.createElement('canvas')\n            canvas2.width = wi\n            canvas2.height = hi\n            let ctx2 = canvas2.getContext('2d')\n            ctx2.putImageData(imgData,0,0)\n\n            let borders = this.$store.state.comments.borders\n            let comments = this.$store.state.comments.comments\n            let active = this.$store.state.comments.activeComment\n\n\t\t\tlet list = []\n            let activeList = []\n\t\t\tcomments\n                .map(c => {\n    \t\t\t\tlist = [...list, ...c.borders]\n                    return c\n    \t\t\t})\n                .filter(f => f.id == active)\n                .map(c => {\n    \t\t\t\tactiveList = [...activeList, ...c.borders]\n    \t\t\t})\n\n            let stack = []\n\t\t\tborders.map(b => {\n\t\t\t\tif(!list.some(s => s == b.id) || activeList.some(s => s == b.id)){\n\t\t\t\t\tstack = [...stack, b]\n\t\t\t\t}\n\t\t\t})\n            stack.map(s => {\n                ctx2.beginPath()\n                ctx2.rect(\n                    (s.x * wi / 100 + 2),\n                    (s.y * hi / 100 + 2),\n                    (s.w * wi / 100 - 4),\n                    (s.h * hi / 100 - 4)\n                )\n                ctx2.fillStyle = \"rgba(255, 216, 48, 0.3)\"\n                ctx2.fill()\n                ctx2.lineWidth = 4\n                ctx2.strokeStyle = \"#ffd830\"\n                ctx2.stroke()\n\n                ctx2.beginPath()\n                // ctx.shadowColor = \"rgba(0, 0, 0, 0.3)\"\n                // ctx.shadowBlur = 4\n                // ctx.shadowOffsetX = 1\n                // ctx.shadowOffsetY = 2\n\n                ctx2.arc((s.x * wi / 100 + 4), (s.y * hi / 100 + 4), 10, 0, 2 * Math.PI, false)\n                ctx2.fillStyle = '#ffd830'\n                ctx2.fill()\n\n                ctx2.beginPath()\n                ctx2.fillStyle = \"#ffffff\"\n                let widthText = ctx.measureText(s.name)\n                ctx2.font = \"12px 'Fira Sans'\"\n                ctx2.fillText(s.name, (s.x * wi / 100) + 4 - widthText.width / 2, (s.y * hi / 100) + 8)\n                ctx2.fill()\n            })\n            this.screen = canvas2.toDataURL(\"image/png\")\n            canvas2.toBlob((blob) => {\n                this.blob = blob\n            })\n\n        },\n\t\tdrawScaled(newScale){\n\t\t\tif(this.version.once.pdfViewer){\n\t\t\t\tif(newScale === 'page-mini' || newScale === 'page-full'){\n\t\t\t\t\tnewScale = this.calculateScale()\n\t\t\t\t\tthis.newScale = newScale\n\t\t\t\t}\n                else if(newScale === 'twice'){\n                    newScale = this.newScale\n                }\n\t\t\t\telse{\n\t\t\t\t\tlet k = newScale > 0 ? 1 : -1\n\t\t\t\t\tnewScale = this.newScale + this.newScale / 10 * k\n\t\t\t\t\tthis.newScale = newScale\n\t\t\t\t}\n\t\t\t\tthis.version.once.pdfViewer.update(newScale, this.rotate)\n\t\t\t\tthis.resizeLayers()\n\t\t\t\tthis.version.once.pdfViewer.draw()\n\t\t\t\t.then(res => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.btn_off = false\n\t\t\t\t\t\tthis.$store.commit('workflow/setPdfInit', true)\n\t\t\t\t\t}, 0)\n\t\t\t\t})\n                if(this.version.twice.pdf){\n    \t\t\t\tthis.version.twice.pdfViewer.update(newScale, this.rotate)\n    \t\t\t\tthis.version.twice.pdfViewer.draw()\n                }\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\tresizeLayers(){\n\t\t\t//this.$el.style.width = this.pdfViewer.width + 20 + 'px'\n    \t\tthis.$refs['pdf'].style.width = this.version.once.pdfViewer.width + 'px'// + 20 + 'px'\n\t\t\tthis.version.once.pdfWidth = this.version.once.pdfViewer.width\n\t\t\tthis.version.once.pdfHeight = this.version.once.pdfViewer.height\n\t\t\t//let over = this.$refs.over\n\t\t\t//over.style.width = this.pdfViewer.width + 'px'\n\t\t\t//over.style.height = this.pdfViewer.height + 'px'\n\t\t\tlet view = this.$refs.view\n\t\t\tview.style.width = this.version.once.pdfViewer.width + 'px'\n\t\t\tview.style.height = this.version.once.pdfViewer.height + 'px'\n\t\t\tlet stack = this.$refs.stack\n\t\t\tstack.style.width = this.version.once.pdfViewer.width + 'px'\n\t\t\tstack.style.height = this.version.once.pdfViewer.height + 'px'\n\n            let wrap = this.$refs['pdf-wrap']\n            // let compare_wrap = this.$refs['compare-wrap']\n            this.$nextTick(() => {\n                this.compare_handler.left = 100 - this.twice_width\n                this.compare_handler.top = -1 *  (this.$refs['container'].getBoundingClientRect().y - wrap.getBoundingClientRect().y)\n                this.compare_handler.height = wrap.clientHeight\n            })\n\t\t},\n        onMouseDown(e){\n            document.body.classList.add('select-none')\n            this.posMouse = {\n                x: e.clientX,\n                y: e.clientY,\n                scrollY: this.$refs['pdf-wrap'].scrollTop,\n                scrollX: this.$refs['pdf-wrap'].scrollLeft\n            }\n            this.mouse_down = 1\n            document.addEventListener('mouseup', this.onMouseUp, false)\n            document.addEventListener('mousemove', this.onMouseMove, false)\n        },\n        onMouseUp(e){\n            this.mouse_down = 0\n            document.body.classList.remove('select-none')\n            document.removeEventListener('mouseup', this.onMouseUp)\n            document.removeEventListener('mousemove', this.onMouseMove)\n        },\n        onMouseMove(e){\n            if(this.mouse_down == 1){\n                let dy = this.posMouse.y - e.clientY\n                this.$refs['pdf-wrap'].scrollTop = this.posMouse.scrollY + dy\n                let dx = this.posMouse.x - e.clientX\n                this.$refs['pdf-wrap'].scrollLeft = this.posMouse.scrollX + dx\n            }\n            if(this.compare_down == 1){\n                let dx = this.posCompare.x - e.clientX\n                const container = this.$refs['container'].getBoundingClientRect()\n                const wrap = this.$refs['pdf-wrap']\n                const bzoom = this.$refs['b-zoom']\n                if(this.posCompare.left - dx >= wrap.clientWidth - container.x){\n                }\n                // else if(this.posCompare.left - dx <= bzoom.clientWidth){\n                // }\n                else if(this.posCompare.left - dx <= 0){\n                    this.compare_handler.left = 0\n                    this.compare_handler.height = wrap.clientHeight\n                    this.twice_width = 100//container.width\n                }\n                else if(this.posCompare.left - dx >= container.width){\n                    this.compare_handler.left = 100//container.width\n                    this.compare_handler.height = wrap.clientHeight\n                    this.twice_width = 0\n                }\n                else{\n                    let len = 100 / this.version.once.pdfViewer.width * (this.posCompare.left - dx)\n                    this.compare_handler.left = len\n                    this.compare_handler.height = wrap.clientHeight\n                    this.twice_width = 100 - len//this.posCompare.width + dx\n                }\n            }\n        },\n        compareForScroll(target){\n            this.compare_handler.top = -1 *  (this.$refs['container'].getBoundingClientRect().y - target.getBoundingClientRect().y)\n            this.compare_handler.height = target.clientHeight\n        }\n    },\n    mounted(){\n        let pdfWrap = this.$refs['pdf-wrap']\n        //let bbox = this.getWidthWrap()\n        let bbox = pdfWrap.getBoundingClientRect()\n        this.style_pdf = {\n            height: bbox.height + 'px'\n        }\n\n\n        let files = this.model.files || false\n        if(files){\n            let file = this.model.version\n                ? (() => {\n                    let vers = files.filter(f => f.id == this.model.version)\n                    return vers ? vers[0] : files[0]\n                })()\n                : files[0]\n            this.version.once.value = file.version\n            this.FUrl = file.url\n            this.$store.dispatch('common/getFile', {id: file.url})\n            .then(res => {\n                this.$nextTick(() => {\n                    setTimeout(() => this.setPDF(res.file, this.$refs.container, 'once'), 200)\n                    this.$refs['pdf'].addEventListener('mousedown', this.onMouseDown, false)\n                    this.$refs['pdf-wrap'].addEventListener('scroll', (e) => {this.compareForScroll(e.target)}, false)\n                })\n            })\n        }\n    },\n    beforeDestroy(){\n        this.$refs['pdf'].removeEventListener('mousedown', this.onMouseDown)\n        this.$store.commit('workflow/setPdfInit', false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPdf.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPdf.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ViewPdf.vue?vue&type=template&id=3b1f5a4d\"\nimport script from \"./ViewPdf.vue?vue&type=script&lang=js\"\nexport * from \"./ViewPdf.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\",\"pa-0\":\"\"}},[_c(VLayout,{staticStyle:{\"position\":\"relative\"},attrs:{\"wrap\":\"\",\"ma-0\":\"\",\"id\":\"fullscreen\"}},[_c('div',{ref:\"canvas-wrap\",staticClass:\"m-3d-wrap\",attrs:{\"id\":\"canvas-wrap\"}},[_c('iframe',{ref:\"viewer\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"border\":\"0\"},attrs:{\"src\":_vm.viewer,\"id\":\"viewer\",\"name\":\"viewer\"}})]),_c('panel-options',{attrs:{\"options\":_vm.options},on:{\"setOption\":_vm.setOption,\"setSubOption\":_vm.setSubOption}}),_c('div',{staticClass:\"m-panel__wrap--left\",class:{multy: _vm.multy}},[_c('panel-property',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.property.active),expression:\"options.property.active\"}],attrs:{\"menuItem\":_vm.options.property,\"hiddenList\":_vm.hiddenList,\"selectedObjID\":_vm.selectedObjID,\"properties\":_vm.propertiesObj,\"classifications\":_vm.classifierList,\"styleP\":_vm.getStylePanelsLeft.style},on:{\"setOption\":_vm.setOption,\"onHideObject\":_vm.onHideObject,\"onShowObject\":_vm.onShowObject}}),_c('panel-resurs',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.resurs.active),expression:\"options.resurs.active\"}],attrs:{\"menuItem\":_vm.options.resurs,\"model\":_vm.model,\"source\":_vm.source,\"postMessage\":_vm.postMessage,\"selectedObjID\":_vm.selectedObjID,\"hiddenList\":_vm.hiddenList,\"styleP\":_vm.getStylePanelsLeft.style},on:{\"setOption\":_vm.setOption,\"onHideObject\":_vm.onHideObject,\"onShowObject\":_vm.onShowObject,\"onObjectsHighlight\":_vm.onObjectsHighlight,\"onShowObjectsOnly\":_vm.onShowObjectsOnly,\"onCreateSectionBoxForObjects\":_vm.onCreateSectionBoxForObjects,\"onRemoveSectionBox\":_vm.onRemoveSectionBox,\"update:selectedObjID\":function($event){_vm.selectedObjID=$event},\"update:selected-obj-i-d\":function($event){_vm.selectedObjID=$event}}})],1),_c('div',{staticClass:\"m-panel__wrap--right\",class:{multy: _vm.multy}},[_c('panel-filters',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.filters.active),expression:\"options.filters.active\"}],attrs:{\"menuItem\":_vm.options.filters,\"filters\":_vm.filters,\"styleP\":_vm.getStylePanels.style},on:{\"onFilter\":_vm.onFilter,\"setFilters\":_vm.setFilters,\"setOption\":_vm.setOption,\"update:filters\":function($event){_vm.filters=$event}}}),_c('panel-dispatcher',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.dispatcher.active),expression:\"options.dispatcher.active\"}],attrs:{\"menuItem\":_vm.options.dispatcher,\"levelsMap\":_vm.levelsMap,\"hiddenList\":_vm.hiddenList,\"postMessage\":_vm.postMessage,\"styleP\":_vm.getStylePanels.style},on:{\"setOption\":_vm.setOption,\"onHideObject\":_vm.onHideObject,\"onShowObject\":_vm.onShowObject,\"onDispatcher\":_vm.onDispatcher,\"getJsonFile\":_vm.getJsonFile}}),_c('panel-hidden',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.hidden.active),expression:\"options.hidden.active\"}],attrs:{\"menuItem\":_vm.options.hidden,\"hiddenList\":_vm.hiddenList,\"styleP\":_vm.getStylePanels.style},on:{\"setOption\":_vm.setOption,\"onShowObject\":_vm.onShowObject}}),_c('panel-delta',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.delta.active),expression:\"options.delta.active\"}],attrs:{\"menuItem\":_vm.options.delta,\"delta\":_vm.deltaList,\"styleP\":_vm.getStylePanels.style},on:{\"setOption\":_vm.setOption}}),_c('panel-search',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.search.active),expression:\"options.search.active\"}],attrs:{\"worker\":_vm.worker,\"ParamSearch\":_vm.ParamSearch,\"styleP\":_vm.getStylePanels.style,\"postMessage\":_vm.postMessage,\"menuItem\":_vm.options.search,\"list\":_vm.ParamSearchId},on:{\"setOption\":_vm.setOption,\"onSearch\":_vm.onSearch,\"update:ParamSearch\":function($event){_vm.ParamSearch=$event},\"update:param-search\":function($event){_vm.ParamSearch=$event},\"update:list\":function($event){_vm.ParamSearchId=$event}}}),_c('panel-rooms',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.rooms.active),expression:\"options.rooms.active\"}],attrs:{\"menuItem\":_vm.options.rooms,\"rooms\":_vm.rooms,\"styleP\":_vm.getStylePanels.style},on:{\"setOption\":_vm.setOption,\"onRoomVisibilityItem\":_vm.onRoomVisibilityItem,\"onRoomVisibility\":_vm.onRoomVisibility,\"update:rooms\":function($event){_vm.rooms=$event}}}),_c('panel-collision-settings',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.collision_settings.active),expression:\"options.collision_settings.active\"}],attrs:{\"menuItem\":_vm.options.collision_settings,\"model\":_vm.model,\"source\":_vm.source,\"compute_ready\":_vm.compute_ready,\"collision_settings\":_vm.collision_settings,\"collisions_compiling\":_vm.collisions_compiling,\"styleP\":_vm.getStylePanels.style},on:{\"setOption\":_vm.setOption,\"onComputeCollisions\":_vm.onComputeCollisions,\"onComputeParameters\":_vm.onComputeParameters,\"onComputeRepeat\":_vm.onComputeRepeat,\"update:collisions_compiling\":function($event){_vm.collisions_compiling=$event}}}),_c('panel-collision-report',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.collision_reports.active),expression:\"options.collision_reports.active\"}],attrs:{\"menuItem\":_vm.options.collision_reports,\"planes\":_vm.options.planes.active,\"collisions\":_vm.options.collisions.active,\"model\":_vm.model,\"compute_ready\":_vm.compute_ready,\"onLoadsOptions\":_vm.onLoads.options,\"styleP\":_vm.getStylePanels.style},on:{\"update:onLoadsOptions\":function($event){return _vm.$set(_vm.onLoads, \"options\", $event)},\"update:on-loads-options\":function($event){return _vm.$set(_vm.onLoads, \"options\", $event)},\"setOption\":_vm.setOption,\"onCollisionsActive\":_vm.onCollisionsActive,\"onShowCollisionsOnly\":_vm.onShowCollisionsOnly,\"onCreateSectionBoxForCollisions\":_vm.onCreateSectionBoxForCollisions,\"onObjectsHighlight\":_vm.onObjectsHighlight,\"onShowObjectsOnly\":_vm.onShowObjectsOnly,\"onCreateSectionBoxForObjects\":_vm.onCreateSectionBoxForObjects,\"onRemoveSectionBox\":_vm.onRemoveSectionBox}}),_c('panel-work-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.work_list.active),expression:\"options.work_list.active\"}],attrs:{\"menuItem\":_vm.options.work_list,\"model\":_vm.model,\"selectedObjID\":_vm.selectedObjID,\"selectedObjIDList\":_vm.selectedObjIDList,\"propertyJson\":_vm.properties,\"source\":_vm.source,\"styleP\":_vm.getStylePanels.style},on:{\"setOption\":_vm.setOption,\"onSetSelectionMode\":_vm.onSetSelectionMode,\"onClearSelection\":_vm.onClearSelection,\"onShowObjectsOnly\":_vm.onShowObjectsOnly,\"onSetColorForObjects\":_vm.onSetColorForObjects,\"onSetColorsForObjects\":_vm.onSetColorsForObjects,\"onUnsetColorsForObjects\":_vm.onUnsetColorsForObjects}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.options.tabs.active),expression:\"options.tabs.active\"}],staticClass:\"m-panel__wrap--bottom\",class:{multy: _vm.multy || _vm.options.tabs.minimize}},[_c('panel-tabs',{attrs:{\"active\":_vm.options.tabs.active,\"model\":_vm.model,\"menuItem\":_vm.options.tabs,\"minimize\":_vm.options.tabs.minimize},on:{\"setOption\":_vm.setOption,\"updateOption\":_vm.updateOption}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onLoadsCheck),expression:\"!onLoadsCheck\"}],staticClass:\"m-back\",class:{'m-back--trans': _vm.onLoads.model}},[_c('div',{staticClass:\"vm-progress\"},[_c('div',{staticClass:\"loader\"},[_c('svg',{staticClass:\"circular\",attrs:{\"viewBox\":\"25 25 50 50\"}},[_c('circle',{staticClass:\"path\",attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"20\",\"fill\":\"none\",\"stroke-width\":\"2\",\"stroke-miterlimit\":\"10\"}})]),_c('div',{staticClass:\"vm-progress--percent\"},[_c('span',[_vm._v(_vm._s(_vm.getPercent)+\"%\")])])]),_c('span',[_vm._v(_vm._s(_vm.preloaderTitle))])])])],1),_c('tools3d',{ref:\"tools\",attrs:{\"toolsbar\":_vm.toolsbar},on:{\"update:toolsbar\":function($event){_vm.toolsbar=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VNavigationDrawer,{staticClass:\"m-navigator-tools m-navigator-no-scroll px-2 pr-0 m-navigator-hide\",attrs:{\"permanent\":\"\",\"width\":_vm.tools_width,\"right\":\"\",\"clipped\":\"\",\"color\":\"transparent\",\"app\":\"\"}},[_c(VLayout,{staticClass:\"ma-0\",attrs:{\"fill-height\":\"\"}},[_c('div',{staticClass:\"m-overflow-hidden m-tools-content\",class:{'m-tools-content--mini': _vm.mini}},[_c(VLayout,{staticClass:\"ma-0\",attrs:{\"fill-height\":\"\"}},[(_vm.tab == 'comment')?_c('comments3d',{attrs:{\"getPosCamera\":_vm.getPosCamera,\"setPosCamera\":_vm.setPosCamera,\"documentId\":_vm.documentId},on:{\"update:getPosCamera\":function($event){_vm.getPosCamera=$event},\"update:get-pos-camera\":function($event){_vm.getPosCamera=$event}}}):_vm._e(),(_vm.tab == 'history')?_c('history-list'):_vm._e(),(_vm.tab == 'access')?_c('access'):_vm._e()],1)],1),_c('div',{staticClass:\"pl-0 pr-0 text-right m-tools-menu\",attrs:{\"ccols\":\"2\"}},[_c(VListItem,{staticClass:\"m-nav-right-tools m-nav-right-tools__dil\",on:{\"click\":function($event){$event.stopPropagation();return _vm.expand.apply(null, arguments)}}},[_c(VIcon,{attrs:{\"size\":\"25\",\"color\":\"#7f7f7f\"}},[_vm._v(_vm._s(_vm.mini ? 'mdi-chevron-double-left' : 'mdi-chevron-double-right'))])],1),_vm._l((_vm.tabs),function(i,j){return _c(VListItem,{key:j,staticClass:\"m-nav-right-tools\",class:{active: i.name == _vm.tab},on:{\"click\":function($event){return _vm.setTab(i.name)}}},[_c(VIcon,{attrs:{\"color\":_vm.activeBtn(i.name),\"size\":\"25\"}},[_vm._v(_vm._s(i.icon))])],1)})],2)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport ClickOutside from 'vuetify/lib/directives/click-outside';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-comment-box\"},[_c('div',{staticClass:\"m-comment-list\"},[_c('div',{ref:\"list-items\",staticClass:\"m-comment-list--items\"},_vm._l((_vm.commentList),function(item,index){return _c(VRow,{key:'comment' + item.id,attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c('comment3d',{attrs:{\"comment\":item,\"posActive\":_vm.posActive},on:{\"getPosCamera\":_vm.getPosCamera,\"update:posActive\":function($event){_vm.posActive=$event},\"update:pos-active\":function($event){_vm.posActive=$event}}})],1)],1)}),1)]),_c('div',{staticClass:\"m-comment-header\"},[_c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":\"12\"}},[_c(VCard,{directives:[{def: ClickOutside,name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.focusInputRemove),expression:\"focusInputRemove\"}],staticClass:\"m-comment-input\",class:{active: _vm.focus},attrs:{\"outlined\":true,\"color\":\"#fff\"},on:{\"mouseup\":_vm.focusInput}},[_c(VContainer,{attrs:{\"py-0\":\"\"}},[_c(VRow,[_c(VCol,{staticClass:\"pb-0\",attrs:{\"cols\":\"2\"}},[_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":\"https://cdn.vuetifyjs.com/images/john.jpg\"}})])],1),_c(VCol,{staticClass:\"py-0\",attrs:{\"cols\":\"10\"}},[_c(VTextarea,{staticClass:\"m-comment-no-border\",attrs:{\"id\":\"comment\",\"placeholder\":\"Комментировать\",\"auto-grow\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"multi-line\":\"\",\"rows\":\"2\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}})],1)],1),_c(VRow,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.focus),expression:\"focus\"}]},[_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"10\"}},[_c(VCardActions,{staticClass:\"pa-0\"},[_c(VBtn,{staticClass:\"mt-2 m-btn\",attrs:{\"disabled\":!_vm.comment,\"outlined\":\"\",\"dense\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveComment}},[_vm._v(\"\\n                                    Опубликовать\\n                                    \")]),_c(VBtn,{staticClass:\"mt-2 m-btn m-btn-normal\",attrs:{\"disabled\":!_vm.comment,\"outlined\":\"\",\"dense\":\"\",\"color\":\"normal\"},on:{\"click\":_vm.clearComment}},[_vm._v(\"\\n                                    Отмена\\n                                    \")])],1)],1)],1)],1)],1)],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport ClickOutside from 'vuetify/lib/directives/click-outside';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{directives:[{def: ClickOutside,name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.no_view),expression:\"no_view\"}],staticClass:\"m-comment-card\",class:[{active: _vm.activeComment}],attrs:{\"outlined\":true,\"color\":\"#fafafa\"},on:{\"mouseenter\":_vm.commentHover,\"mouseleave\":_vm.commentLeave},nativeOn:{\"click\":function($event){return _vm.view.apply(null, arguments)}}},[_c('comment-item',{attrs:{\"comment\":_vm.comment,\"viewMode\":_vm.viewMode}}),_c(VContainer,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewMode),expression:\"viewMode\"}],staticClass:\"m-reply-wrap pt-0\"},[_c(VTextarea,{staticClass:\"m-comment-avatar\",attrs:{\"placeholder\":\"Ответить\",\"auto-grow\":\"\",\"hide-details\":\"\",\"multi-line\":\"\",\"rows\":\"2\"},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":\"https://cdn.vuetifyjs.com/images/john.jpg\",\"alt\":\"avatar\"}})])]},proxy:true}]),model:{value:(_vm.reply),callback:function ($$v) {_vm.reply=$$v},expression:\"reply\"}}),_c(VRow,[_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"2\"}}),_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"10\"}},[_c(VCardActions,{staticClass:\"pa-0\"},[_c(VBtn,{staticClass:\"mt-2 m-btn\",attrs:{\"disabled\":!_vm.reply,\"outlined\":\"\",\"dense\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.replyComment}},[_vm._v(\"\\n                    Ответить\\n                    \")]),_c(VBtn,{staticClass:\"mt-2 m-btn m-btn-normal\",attrs:{\"disabled\":!_vm.reply,\"outlined\":\"\",\"dense\":\"\",\"color\":\"normal\"},on:{\"click\":_vm.clearReply}},[_vm._v(\"\\n                    Отмена\\n                    \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        :outlined=\"true\"\n        color=\"#fafafa\"\n        class=\"m-comment-card\"\n        :class=\"[{active: activeComment}]\"\n        @click.native=\"view\"\n        @mouseenter=\"commentHover\"\n        @mouseleave=\"commentLeave\"\n        v-click-outside=\"no_view\"\n    >\n        <comment-item :comment=\"comment\" :viewMode=\"viewMode\"/>\n        <v-container v-show=\"viewMode\" class=\"m-reply-wrap pt-0\">\n            <v-textarea\n                v-model=\"reply\"\n                class=\"m-comment-avatar\"\n                placeholder=\"Ответить\"\n                auto-grow\n                hide-details\n                multi-line\n                rows=\"2\">\n                <template v-slot:prepend-inner>\n                    <v-avatar\n                        size=\"30\">\n                        <img\n                            src=\"https://cdn.vuetifyjs.com/images/john.jpg\"\n                            alt=\"avatar\"\n                        >\n                    </v-avatar>\n                </template>\n            </v-textarea>\n            <v-row >\n                <v-col cols=\"2\" class=\"pt-0\">\n                </v-col>\n                <v-col cols=\"10\" class=\"pt-0\">\n                    <v-card-actions class=\"pa-0\">\n                        <v-btn\n                            :disabled=\"!reply\"\n                            class=\"mt-2 m-btn\"\n                            outlined\n                            dense\n                            color=\"primary\"\n                            @click=\"replyComment\"\n                        >\n                        Ответить\n                        </v-btn>\n                        <v-btn\n                            :disabled=\"!reply\"\n                            class=\"mt-2 m-btn m-btn-normal\"\n                            outlined\n                            dense\n                            color=\"normal\"\n                            @click=\"clearReply\"\n                        >\n                        Отмена\n                        </v-btn>\n                    </v-card-actions>\n                </v-col>\n            </v-row>\n        </v-container>\n    </v-card>\n</template>\n\n<script>\n// ///v-click-outside=\"no_view\"\n//import ClickOutside from '@/plugins/click_outside'\nimport vClickOutside from 'v-click-outside'\nimport CommentItem from './CommentItem'\n\n    export default {\n        name: 'Comment',\n        props: ['comment'],\n        directives: {\n            clickOutside: vClickOutside.directive\n        },\n        components: {\n            CommentItem\n        },\n        data () {\n            return {\n                reply: '',\n                viewMode: false\n            }\n        },\n        computed: {\n            draftSelected(){\n    \t\t\treturn this.$store.state.workflow.draftSelected\n            },\n            activeComment(){\n                let active = this.$store.state.workflow.activeComment\n                if(active == this.comment.id){\n                    this.viewMode = true\n                    //this.$store.commit('workflow/setDraftSelected', this.comment.id)\n                }\n                else{\n                    this.viewMode = false\n                }\n    \t\t\treturn this.viewMode\n            }\n        },\n        watch: {\n            viewMode(v){\n                if(v){\n                    this.$emit('update:posActive', this.$el.offsetTop)\n                }\n            }\n        },\n        methods: {\n            view(){\n                this.$emit('getPosCamera', this.comment.position)\n                this.$store.commit('workflow/setActiveComment', this.comment.id)\n                //    this.viewMode = true\n                //    this.$store.commit('workflow/setDraftSelected', this.comment.id)\n            },\n            no_view(){\n                if(this.viewMode){\n                    this.$store.commit('workflow/setActiveComment', false)\n                    this.viewMode = false\n                }\n                //this.viewMode = false\n            },\n            replyComment(){\n                let reply = {\n                    type: 'reply',\n                    comment_id: this.comment.id,\n                    avatar: 'https://cdn.vuetifyjs.com/images/john.jpg',\n                    user: 'Имя Фамилия',\n                    text: this.reply,\n                    title:\"Версия документа 1\"\n                }\n                this.$store.dispatch('workflow/addReply', {\n                    reply: reply,\n                    id: this.comment.id\n                })\n                this.reply = ''\n            },\n            clearReply(){\n                this.reply = ''\n            },\n            commentHover(){\n                this.$store.commit('workflow/setDraftHover', this.comment.id)\n            },\n            commentLeave(){\n                this.$store.commit('workflow/setDraftHover', '')\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment3d.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment3d.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Comment3d.vue?vue&type=template&id=0aa69eee\"\nimport script from \"./Comment3d.vue?vue&type=script&lang=js\"\nexport * from \"./Comment3d.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-comment-box\">\n        <div class=\"m-comment-list\">\n            <div\n                class=\"m-comment-list--items\"\n                ref=\"list-items\">\n                <v-row\n                    dense\n                    v-for=\"(item, index) in commentList\"\n                    :key=\"'comment' + item.id\">\n                    <v-col cols=\"12\">\n                        <comment3d\n                            :comment=\"item\"\n                            @getPosCamera=\"getPosCamera\"\n                            :posActive.sync=\"posActive\"/>\n                    </v-col>\n                </v-row>\n            </div>\n        </div>\n        <div class=\"m-comment-header\">\n            <v-row dense>\n                <v-col cols=\"12\">\n                    <v-card\n                        :outlined=\"true\"\n                        color=\"#fff\"\n                        class=\"m-comment-input\"\n                        :class=\"{active: focus}\"\n                        @mouseup=\"focusInput\"\n                        v-click-outside=\"focusInputRemove\"\n                        >\n                        <v-container py-0>\n                            <v-row>\n                                <v-col cols=\"2\" class=\"pb-0\">\n                                    <v-avatar\n                                        size=\"30\">\n                                        <img\n                                            src=\"https://cdn.vuetifyjs.com/images/john.jpg\"\n                                        >\n                                    </v-avatar>\n                                </v-col>\n                                <v-col cols=\"10\" class=\"py-0\">\n                                    <v-textarea\n                                        id=\"comment\"\n                                        placeholder=\"Комментировать\"\n                                        class=\"m-comment-no-border\"\n                                        v-model=\"comment\"\n                                        auto-grow\n                                        outlined\n                                        hide-details\n                                        multi-line\n                                        rows=\"2\">\n                                    </v-textarea>\n                                </v-col>\n                            </v-row>\n                            <v-row v-show=\"focus\">\n                                <v-col cols=\"2\" class=\"pt-0\">\n                                </v-col>\n                                <v-col cols=\"10\" class=\"pt-0\">\n                                    <v-card-actions class=\"pa-0\">\n                                        <v-btn\n                                            :disabled=\"!comment\"\n                                            class=\"mt-2 m-btn\"\n                                            outlined\n                                            dense\n                                            color=\"primary\"\n                                            @click=\"saveComment\"\n                                        >\n                                        Опубликовать\n                                        </v-btn>\n                                        <v-btn\n                                            :disabled=\"!comment\"\n                                            class=\"mt-2 m-btn m-btn-normal\"\n                                            outlined\n                                            dense\n                                            color=\"normal\"\n                                            @click=\"clearComment\"\n                                        >\n                                        Отмена\n                                        </v-btn>\n                                    </v-card-actions>\n                                </v-col>\n                            </v-row>\n                        </v-container>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"\nimport Comment3d from './comments/Comment3d'\nimport ClickOutside from '@/plugins/click_outside'\n\nexport default {\n    name: 'Comments',\n    components: {\n        Comment3d\n    },\n    directives: {\n        ClickOutside\n    },\n    props: ['getPosCamera', 'setPosCamera', 'documentId'],\n    data(){\n        return {\n            comment: '',\n            focus: false,\n            posActive: 0\n        }\n    },\n    computed: mapState({\n        commentList(state){\n            return state.workflow.commentList\n        },\n\t\tmarkerStack(state){\n            let list = state.workflow.markerStack\n\t\t\treturn list\n\t\t},\n\t\tmarkerList(state){\n\t\t\treturn state.workflow.markerList\n\t\t},\n        markerEdit(state){\n            return state.workflow.markerEdit\n        }\n    }),\n    watch: {\n        focus(v){\n            this.focusComment(v)\n        },\n        posActive(v){\n            this.scrollToComment(v)\n        }\n    },\n    methods: {\n        scrollToComment(v){\n            this.$nextTick(() => {\n                this.$refs['list-items'].scrollTo({top: v - 4, behavior: \"smooth\"})\n            })\n        },\n        focusComment(v){\n            this.$nextTick(() => {\n                if(v){\n                    let el = document.getElementById('comment')\n                    el.focus()\n                }\n            })\n        },\n        saveComment: function(){\n            let comment = {\n                type: 'comment',\n                avatar: 'https://cdn.vuetifyjs.com/images/john.jpg',\n                title: 'Версия документа 1',\n                user: 'Имя Фамилия',\n                text: this.comment,\n                reply: new Array(),\n                position: this.setPosCamera(),\n                doc: '3d'\n            }\n            this.$store.dispatch('workflow/addComment', comment)\n            this.comment = ''\n            this.focus = false\n        },\n        clearComment(){\n            this.comment = ''\n            this.focus = false\n        },\n        focusInput(){\n            this.focus = true\n        },\n        focusInputRemove(){\n            if(this.focus && !this.comment){\n                this.focus = false\n            }\n        }\n    },\n    created(){\n        //this.$store.dispatch('workflow/setComments', {id: this.documentId, type: '3d'})\n        let commentState = this.$store.state.workflow.commentState\n        if(commentState.status){\n            this.comment = commentState.commentInput\n            this.$store.commit('workflow/setActiveComment', commentState.commentActive)\n        }\n    },\n    beforeDestroy(){\n        this.$store.dispatch('workflow/saveCommentState', {input: this.comment})\n        this.$store.commit('workflow/setActiveComment', false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments3d.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments3d.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Comments3d.vue?vue&type=template&id=3ed3a02f\"\nimport script from \"./Comments3d.vue?vue&type=script&lang=js\"\nexport * from \"./Comments3d.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCol,{staticClass:\"pt-0\",style:({overflow: 'auto'}),attrs:{\"cols\":\"12\"}},[_c(VRow,{attrs:{\"dense\":\"\"}},_vm._l((_vm.userList),function(item,index){return _c(VCol,{key:index,attrs:{\"cols\":\"12\"}},[_c(VCard,{staticClass:\"m-access-card\",attrs:{\"outlined\":true,\"color\":\"#fafafa\"}},[_c(VContainer,{staticClass:\"pt-0\"},[_c(VRow,[_c(VCol,{staticClass:\"pt-1\",attrs:{\"cols\":\"2\"}},[_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":\"https://cdn.vuetifyjs.com/images/john.jpg\"}})])],1),_c(VCol,{staticClass:\"pt-0\",attrs:{\"cols\":\"10\"}},[_c('div',{staticClass:\"m-access-name\"},[_vm._v(\"\\n                                \"+_vm._s(item.name)+\"\\n                            \")]),_c('div',{staticClass:\"m-access-emp\"},[_vm._v(\"\\n                                \"+_vm._s(item.emp)+\"\\n                            \")]),(item.userID != _vm.user.id || item.status)?_c('div',{staticClass:\"m-access-status\"},[_vm._v(\"\\n                                \"+_vm._s(_vm.getStatus(item.status))+\"\\n                            \")]):_c(VCardActions,{staticClass:\"pa-0\"},[(!item.status)?_c(VBtn,{staticClass:\"mt-2 m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.setAccess(item.id)}}},[_vm._v(\"\\n                                Утвердить\\n                                \")]):_vm._e()],1)],1)],1)],1)],1)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col cols=\"12\" class=\"pt-0\" :style=\"{overflow: 'auto'}\">\n        <v-row dense>\n            <v-col\n                v-for=\"(item, index) in userList\"\n                :key=\"index\"\n                cols=\"12\">\n\n                <v-card\n                :outlined=\"true\"\n                color=\"#fafafa\"\n                class=\"m-access-card\"\n                >\n                    <v-container class=\"pt-0\">\n                        <v-row >\n                            <v-col cols=\"2\" class=\"pt-1\">\n                                <v-avatar\n                                    size=\"30\">\n                                    <img\n                                        src=\"https://cdn.vuetifyjs.com/images/john.jpg\"\n                                    >\n                                </v-avatar>\n                            </v-col>\n                            <v-col cols=\"10\" class=\"pt-0\">\n                                <div class=\"m-access-name\">\n                                    {{ item.name }}\n                                </div>\n                                <div class=\"m-access-emp\">\n                                    {{ item.emp }}\n                                </div>\n                                <div class=\"m-access-status\" v-if=\"item.userID != user.id || item.status\">\n                                    {{ getStatus(item.status) }}\n                                </div>\n                                <v-card-actions v-else class=\"pa-0\">\n                                    <v-btn v-if=\"!item.status\"\n                                        class=\"mt-2 m-btn\"\n                                        outlined\n                                        color=\"primary\"\n                                        @click=\"setAccess(item.id)\"\n                                    >\n                                    Утвердить\n                                    </v-btn>\n                                </v-card-actions>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-col>\n</template>\n\n<script>\n    export default {\n        name: 'Access',\n        data () {\n            return {\n                user: {\n                    id: '001'\n                },\n                statusList: [{\n                    value: 1,\n                    name: 'Утвердил'\n                },{\n                    value: 0,\n                    name: 'Не утвердил'\n                }],\n                userList: [{\n                    id: '003',\n                    userID: '002',\n                    avatar: 'https://cdn.vuetifyjs.com/images/john.jpg',\n                    \"name\": \"Вася Петров\",\n                    \"emp\": \"Главный архитектор\",\n                    status: 1\n                },{\n                    id: '002',\n                    userID: '003',\n                    avatar: 'https://cdn.vuetifyjs.com/images/john.jpg',\n                    \"name\": \"Вася Петров\",\n                    \"emp\": \"Главный инженер\",\n                    status: 0\n                },{\n                    id: '001',\n                    userID: '001',\n                    avatar: 'https://cdn.vuetifyjs.com/images/john.jpg',\n                    \"name\": \"Вася Петров\",\n                    \"emp\": \"Главный архитектор\",\n                    status: 0\n                }]\n            }\n        },\n        methods: {\n            getStatus(s){\n                return this.statusList.filter(item => item.value == s)[0].name\n            },\n            setAccess(id){\n                this.userList = this.userList.map(item => item.id == id ? Object.assign(item, {status: 1}) : item)\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Access.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Access.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Access.vue?vue&type=template&id=4e791583\"\nimport script from \"./Access.vue?vue&type=script&lang=js\"\nexport * from \"./Access.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-navigation-drawer\n        permanent\n        :width=\"tools_width\"\n        class=\"m-navigator-tools m-navigator-no-scroll px-2 pr-0 m-navigator-hide\"\n        right\n        clipped\n        color=\"transparent\"\n        app>\n            <v-layout class=\"ma-0\" fill-height>\n                <div\n                    class=\"m-overflow-hidden m-tools-content\"\n                    :class=\"{'m-tools-content--mini': mini}\">\n                    <!--<v-row>-->\n                    <v-layout class=\"ma-0\" fill-height>\n                        <comments3d\n                            v-if=\"tab == 'comment'\"\n                            :getPosCamera.sync=\"getPosCamera\"\n                            :setPosCamera=\"setPosCamera\"\n                            :documentId=\"documentId\"/>\n                        <history-list v-if=\"tab == 'history'\"/>\n                        <access v-if=\"tab == 'access'\"/>\n                    </v-layout>\n                </div>\n                <div ccols=\"2\" class=\"pl-0 pr-0 text-right m-tools-menu\">\n                    <v-list-item\n                        @click.stop=\"expand\"\n                        class=\"m-nav-right-tools m-nav-right-tools__dil\"\n                        >\n                        <v-icon\n                            size=\"25\"\n                            color=\"#7f7f7f\">{{mini ? 'mdi-chevron-double-left' : 'mdi-chevron-double-right'}}</v-icon>\n                    </v-list-item>\n                    <v-list-item\n                        class=\"m-nav-right-tools\"\n                        v-for=\"(i, j) in tabs\"\n                        :key=\"j\"\n                        :class=\"{active: i.name == tab}\"\n                        @click=\"setTab(i.name)\"\n                        >\n                        <v-icon\n                            :color=\"activeBtn(i.name)\"\n                            size=\"25\">{{i.icon}}</v-icon>\n                    </v-list-item>\n                </div>\n            </v-layout>\n    </v-navigation-drawer>\n</template>\n\n<script>\nimport Comments3d from \"./Comments3d\"\nimport HistoryList from \"./HistoryList\"\nimport Access from \"./Access\"\n    export default {\n        name: 'Tools',\n        components: {\n            Comments3d,\n            HistoryList,\n            Access\n        },\n        props: ['getPosCamera', 'setPosCamera', 'documentId'],\n        data(){\n            return {\n                mini: true,\n                tools_width: 0,//56//440,\n                tab: 'comment',\n                tabs: [\n                    {\n                        name: 'history',\n                        icon: 'history'\n                    },{\n                        name: 'comment',\n                        icon: 'mdi-comment-text-outline'\n                    },{\n                        name: 'access',\n                        icon: 'mdi-stamper'\n                    }\n                ]\n            }\n        },\n        watch: {\n            mini: function(v){\n                this.tools_width = v ? 0 : 440\n                this.$emit('update:toolsbar', v)\n            }\n        },\n        methods: {\n            setTab(v){\n                this.tab = v\n            },\n            activeBtn(v){\n                let color = this.tab == v ? '#2c2c2c' : '#7f7f7f'\n                return color\n            },\n            expand(){\n                this.mini = !this.mini\n            }\n        },\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tools3d.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tools3d.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Tools3d.vue?vue&type=template&id=46620d9c\"\nimport script from \"./Tools3d.vue?vue&type=script&lang=js\"\nexport * from \"./Tools3d.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__property m-card-scrollable\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-23 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Свойства объекта \"),_c('b',[_vm._v(\" \"+_vm._s(_vm.properties.Name))]),_c(VSpacer),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.properties.object != 'Room'),expression:\"properties.object != 'Room'\"}],staticClass:\"m-btn--close-top m-btn--close-top__right3\",attrs:{\"text\":\"\",\"icon\":\"\",\"disabled\":!_vm.selectedObjID,\"color\":\"#7f7f7f\"},on:{\"click\":_vm.visibilityObject}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(_vm._s(!this.hidden ? 'mdi-eye' : 'mdi-eye-off'))])],1),_c(VBtn,{staticClass:\"m-btn--close-top m-btn--close-top__right2\",attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{staticClass:\"m-btn--close-top\",attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),(!_vm.checkArray.list.length)?_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[_c('div',{staticClass:\"py-2 px-4 m-text--size14 m-text--center m-text--color-2c2c2c\"},[_vm._v(\"Выберите объект.\\n        \")])]):_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[_vm._l((_vm.checkArray.list),function(item){return _c('div',[_c('div',{staticClass:\"m-card-list__title\"},[_vm._v(_vm._s(item.Name))]),_vm._l((item.PropertySet),function(prop){return _c('div',{staticClass:\"m-card-list__row\"},[_c('span',{staticClass:\"m-card-list__cell\"},[_vm._v(_vm._s(prop.Name))]),_c('span',{staticClass:\"m-card-list__cell\"},[_vm._v(_vm._s(prop.NominalValue))])])})],2)}),(_vm.classifications && !_vm.checkArray.classifier)?[_c('div',{staticClass:\"m-card-list__title px-4\"},[_vm._v(\"Классификация:\")]),(_vm.classifications == 'none')?[_c('div',{staticClass:\"m-card-list__row\"},[_c('span',{staticClass:\"m-card-list__div\"},[_vm._v(\"Классификатор не был создан, так как Информационная Модель не соответствует требованиям по КСИ или СП.\\n                    \")])])]:_vm._l((_vm.classifications.Classification),function(prop){return _c('div',{staticClass:\"m-card-list__row\"},[_c('span',{staticClass:\"m-card-list__cell\"},[_vm._v(_vm._s(prop.Name))]),_c('span',{staticClass:\"m-card-list__cell\"},[_vm._v(_vm._s(prop.NominalValue))])])})]:_vm._e()],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-panel__property m-card-scrollable\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-23 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Свойства объекта <b>&nbsp;{{properties.Name}}</b>\n            <v-spacer></v-spacer>\n            <v-btn\n                v-show=\"properties.object != 'Room'\"\n                text\n                icon\n                class=\"m-btn--close-top m-btn--close-top__right3\"\n                :disabled=\"!selectedObjID\"\n                @click=\"visibilityObject\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">{{!this.hidden ? 'mdi-eye' : 'mdi-eye-off'}}</v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                class=\"m-btn--close-top m-btn--close-top__right2\"\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                class=\"m-btn--close-top\"\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n        <v-card-text\n            v-if=\"!checkArray.list.length\"\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n            <div\n                class=\"py-2 px-4 m-text--size14 m-text--center m-text--color-2c2c2c\"\n                >Выберите объект.\n            </div>\n        </v-card-text>\n\n        <v-card-text\n            v-else\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n            <!--<div class=\"m-card-list__title px-4\">Объект: {{properties.Name}}</div>-->\n            <div\n                v-for=\"item in checkArray.list\">\n                <div class=\"m-card-list__title\">{{item.Name}}</div>\n                <div\n                    v-for=\"prop in item.PropertySet\"\n                    class=\"m-card-list__row\">\n                    <span class=\"m-card-list__cell\">{{prop.Name}}</span>\n                    <span class=\"m-card-list__cell\">{{prop.NominalValue}}</span>\n                </div>\n            </div>\n            <template v-if=\"classifications && !checkArray.classifier\">\n                <div class=\"m-card-list__title px-4\">Классификация:</div>\n                <template v-if=\"classifications == 'none'\">\n                    <div class=\"m-card-list__row\">\n                        <span class=\"m-card-list__div\">Классификатор не был создан, так как Информационная Модель не соответствует требованиям по КСИ или СП.\n                        </span>\n                    </div>\n                </template>\n                <template v-else>\n                    <div\n                        v-for=\"prop in classifications.Classification\"\n                        class=\"m-card-list__row\">\n                        <span class=\"m-card-list__cell\">{{prop.Name}}</span>\n                        <span class=\"m-card-list__cell\">{{prop.NominalValue}}</span>\n                    </div>\n                </template>\n            </template>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nexport default {\n    name: 'PanelProperty',\n    props: ['menuItem', 'hiddenList', 'properties', 'classifications', 'selectedObjID', 'styleP'],\n    data(){\n        return {\n            minimize: false,\n        }\n    },\n    computed: {\n        hidden(){\n            return this.hiddenList.some(s => s.id == this.selectedObjID)\n        },\n        checkArray(){\n            let array = this.properties.Properties || this.properties.Parameters\n            let check = Array.isArray(array)\n            let list = []\n            let classifier = false\n            if(check){\n                list = array.map(i => {\n                    if(i.Name && i.Name == 'Classification'){\n                        classifier = true\n                    }\n                    return {\n                        Name: i.PropertyGroupTitle || i.Name,\n                        PropertySet: i.PropertyList\n                            ? i.PropertyList\n                                .filter(f => f)\n                                .map(p => {\n                                    return {\n                                        Name: p.Title,\n                                        NominalValue: p.Value + p.Units || ''\n                                    }\n                                })\n                            : i.PropertySet\n                                ? i.PropertySet\n                                : i.Quantities\n                                    ? i.Quantities\n                                        .filter(f => f)\n                                        .map(p => {\n                                            return {\n                                                Name: p.Name,\n                                                NominalValue: p.Value + (p.Units || '') || ''\n                                            }\n                                        })\n                                    : []\n                    }\n                })\n            }\n\n            return {\n                list: list,\n                check: check,\n                classifier: classifier\n            }\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('setOption', this.menuItem)\n        },\n        visibilityObject(){\n            if(!this.hidden){\n                this.$emit('onHideObject', [this.selectedObjID])\n            }\n            else{\n                this.$emit('onShowObject', [this.selectedObjID])\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelProperty.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelProperty.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelProperty.vue?vue&type=template&id=360b12d9\"\nimport script from \"./PanelProperty.vue?vue&type=script&lang=js\"\nexport * from \"./PanelProperty.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable m-dispatcher\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Диспетчер проекта\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c('panel-btn-mode-tmpl',{attrs:{\"list\":_vm.list,\"menuItem\":_vm.menuItem,\"postMessage\":_vm.postMessage}}),_c(VCardText,{staticClass:\"pa-0 pt-2 pb-5 m-card-scrollable__text\"},[(_vm.checkDev())?_c('div',{staticClass:\"m-link px-3\",on:{\"click\":_vm.getJsonFile}},[_vm._v(\"\\n            скачать json\\n        \")]):_vm._e(),_c(VSkeletonLoader,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.levelsMap.length),expression:\"!levelsMap.length\"}],attrs:{\"type\":\"list-item-three-line, list-item-three-line\"}}),_c(VTreeview,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.levelsMap.length),expression:\"levelsMap.length\"}],staticClass:\"m-panel__collision--tree m-text--size12\",attrs:{\"items\":_vm.levelsMap,\"dense\":\"\",\"return-object\":\"\",\"expand-icon\":\"mdi-chevron-down\",\"transition\":\"\",\"item-key\":\"id\",\"activatable\":\"\"},on:{\"update:active\":_vm.getList},scopedSlots:_vm._u([{key:\"label\",fn:function({item}){return [_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n            \")]}},{key:\"prepend\",fn:function({item}){return [_c('icon-botton',{staticClass:\"mr-4\",on:{\"onClick\":function($event){return _vm.onSelect(item, !item.hidden)}}},[_vm._v(_vm._s(!item.hidden ? 'mdi-eye' : 'mdi-eye-off')+\"\\n                \")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VIcon } from 'vuetify/lib/components/VIcon';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"m-icon-botton\",class:{'m-icon-botton--disabled': _vm.disabled},on:{\"click\":_vm.onClick}},[_c(VIcon,{attrs:{\"color\":_vm.color,\"size\":\"20\"}},[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <span\n        class=\"m-icon-botton\"\n        :class=\"{'m-icon-botton--disabled': disabled}\"\n        @click=\"onClick\">\n        <v-icon\n            :color=\"color\"\n            size=\"20\">\n            <slot></slot>\n        </v-icon>\n    </span>\n</template>\n\n<script>\nexport default {\n    name: 'IconBotton',\n    props: {\n        disabled: {\n            type: Boolean,\n            required: false\n        },\n        color: {\n            type: String,\n            required: false\n        },\n        stop: {\n            type: Boolean,\n            required: false\n        }\n    },\n    methods: {\n        onClick(e){\n            if(this.stop){\n                e.stopPropagation()\n            }\n            this.$emit('onClick')\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n    .m-icon-botton{\n        display: inline-flex;\n        cursor: pointer;\n        &:hover *{\n            color: #000;\n        }\n        &--disabled{\n            pointer-events: none !important;\n            *{\n                color: #ccc !important;\n                cursor: auto;\n            }\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBotton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBotton.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconBotton.vue?vue&type=template&id=97c3b4c8\"\nimport script from \"./IconBotton.vue?vue&type=script&lang=js\"\nexport * from \"./IconBotton.vue?vue&type=script&lang=js\"\nimport style0 from \"./IconBotton.vue?vue&type=style&index=0&id=97c3b4c8&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCardTitle,{staticClass:\"pa-0\"},[_c('div',{staticClass:\"pr-0 pl-1 py-1 m-panel__collision--options\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\",\"disabled\":!_vm.list.length || !_vm.activeClsn,\"color\":_vm.activeBox ? 'primary' : 'default'},on:{\"click\":_vm.turnActiveBox}},[_c(VIcon,{attrs:{\"left\":\"\",\"size\":\"20\"}},[_vm._v(\"trd-section\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Показать\")])],1),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.list.length,\"color\":_vm.activeClsn && _vm.list.length? 'primary' : 'default'},on:{\"onClick\":_vm.turnActiveClsn}},[_vm._v(\"trd-cube_hide\\n        \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.list.length,\"color\":_vm.activeOnly && _vm.list.length? 'primary' : 'default'},on:{\"onClick\":_vm.turnActiveOnly}},[_vm._v(\"trd-cube_show\\n        \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card-title class=\"pa-0\">\n        <div class=\"pr-0 pl-1 py-1 m-panel__collision--options\">\n            <v-btn\n                class=\"m-btn\"\n                text\n                tile\n                dense\n                :disabled=\"!list.length || !activeClsn\"\n                :color=\"activeBox ? 'primary' : 'default'\"\n                @click=\"turnActiveBox\">\n                <v-icon\n                    left\n                    size=\"20\">trd-section</v-icon><span class=\"m-text--size12\">Показать</span>\n            </v-btn>\n\n            <icon-botton\n                class=\"mr-4\"\n                :disabled=\"!list.length\"\n                :color=\"activeClsn && list.length? 'primary' : 'default'\"\n                @onClick=\"turnActiveClsn\"\n                >trd-cube_hide\n            </icon-botton>\n\n            <icon-botton\n                class=\"mr-4\"\n                :disabled=\"!list.length\"\n                :color=\"activeOnly && list.length? 'primary' : 'default'\"\n                @onClick=\"turnActiveOnly\"\n                >trd-cube_show\n            </icon-botton>\n\n        </div>\n    </v-card-title>\n</template>\n\n<script>\nimport IconBotton from '@/components/custom/IconBotton'\n\nexport default {\n    name: 'PanelBtnModeTmpl',\n    components: {\n        IconBotton\n    },\n    props: ['menuItem', 'list', 'postMessage'],\n    data(){\n        return {\n            mode: [{\n                name: 'clsn',\n                value: false\n            },{\n                name: 'box',\n                value: false\n            },{\n                name: 'only',\n                value: false\n            }],\n            items: []\n        }\n    },\n    computed: {\n        activeClsn: {\n            get(){\n                return this.mode.find(f => f.name == 'clsn').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'clsn'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        activeBox: {\n            get(){\n                return this.mode.find(f => f.name == 'box').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'box'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        activeOnly: {\n            get(){\n                return this.mode.find(f => f.name == 'only').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'only'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n    },\n    watch: {\n        menuItem: {\n            handler(v){\n                if(!v.active){\n                    if(this.activeClsn){\n                        this.turnActiveClsn()\n                    }\n                    if(this.activeOnly){\n                        this.turnActiveOnly()\n                    }\n                }\n            },\n            deep: true\n        },\n        list(v){\n            if(v){\n                if(this.activeClsn){\n                    this.onActiveMode('clsn', false)\n                }\n                this.items = v\n                this.mode.map(m => {\n                    if(m.value){\n                        this.onActiveMode(m.name, true)\n                    }\n                })\n            }\n            else{\n                if(this.activeClsn){\n                    this.turnActiveClsn()\n                }\n                if(this.activeOnly){\n                    this.turnActiveOnly()\n                }\n            }\n        }\n    },\n    methods: {\n        turnActiveClsn(){\n            this.activeClsn = !this.activeClsn\n            if(this.activeOnly){\n                this.onActiveMode('only', false)\n                this.activeOnly = false\n            }\n            if(!this.activeClsn){\n                if(this.activeBox){\n                    this.turnActiveBox()\n                }\n            }\n            this.onActiveMode('clsn', this.activeClsn)\n        },\n        turnActiveBox(){\n            this.activeBox = !this.activeBox\n            if(this.activeOnly){\n                this.onActiveMode('only', false)\n                this.activeOnly = false\n            }\n            this.onActiveMode('box', this.activeBox)\n        },\n        turnActiveOnly(){\n            this.activeOnly = !this.activeOnly\n            if(this.activeBox){\n                this.onActiveMode('box', false)\n                this.activeBox = false\n            }\n            if(this.activeClsn){\n                this.onActiveMode('clsn', false)\n                this.activeClsn = false\n            }\n            this.onActiveMode('only', this.activeOnly)\n        },\n        onActiveMode(mode, a){\n            let items = this.items\n            if(!items.length){\n                return\n            }\n\n            switch(mode){\n                case 'clsn':\n                    this.onObjectsHighlight({list: items, active: a})\n                    break\n                case 'box':\n                    this.onCreateSectionBoxForObjects({list: items, active: a})\n                    break\n                case 'only':\n                    this.onShowObjectsOnly({list: items, active: a})\n                    break\n                default: ;\n            }\n        },\n        onObjectsHighlight(v){\n            this.postMessage({\n                action: 'onObjectsHighlight',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onShowObjectsOnly(v){\n            this.postMessage({\n                action: 'onShowObjectsOnly',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onCreateSectionBoxForObjects(v){\n            this.postMessage({\n                action: 'onCreateSectionBoxForObjects',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n    },\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelBtnModeTmpl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelBtnModeTmpl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelBtnModeTmpl.vue?vue&type=template&id=32ec5b67\"\nimport script from \"./PanelBtnModeTmpl.vue?vue&type=script&lang=js\"\nexport * from \"./PanelBtnModeTmpl.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-card\n        class=\"m-card-scrollable m-dispatcher\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Диспетчер проекта\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <panel-btn-mode-tmpl\n            :list=\"list\"\n            :menuItem=\"menuItem\"\n            :postMessage=\"postMessage\"\n            />\n\n        <v-card-text\n            class=\"pa-0 pt-2 pb-5 m-card-scrollable__text\">\n            <div @click=\"getJsonFile\" class=\"m-link px-3\" v-if=\"checkDev()\">\n                скачать json\n            </div>\n\n            <v-skeleton-loader\n                v-show=\"!levelsMap.length\"\n                type=\"list-item-three-line, list-item-three-line\"\n            ></v-skeleton-loader>\n\n            <v-treeview\n                v-show=\"levelsMap.length\"\n                :items=\"levelsMap\"\n                class=\"m-panel__collision--tree m-text--size12\"\n                dense\n                return-object\n                expand-icon=\"mdi-chevron-down\"\n                transition\n                item-key=\"id\"\n                activatable\n                @update:active=\"getList\"\n                >\n                <template v-slot:label=\"{item}\">\n                    {{item.name}}\n                </template>\n                <template v-slot:prepend=\"{item}\">\n                    <icon-botton\n                        class=\"mr-4\"\n                        @onClick=\"onSelect(item, !item.hidden)\"\n                        >{{!item.hidden ? 'mdi-eye' : 'mdi-eye-off'}}\n                    </icon-botton>\n                </template>\n            </v-treeview>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nimport IconBotton from '@/components/custom/IconBotton'\nimport PanelBtnModeTmpl from './PanelBtnModeTmpl'\n\nexport default {\n    name: 'PanelDispatcher',\n    components: {\n        IconBotton,\n        PanelBtnModeTmpl\n    },\n    props: ['menuItem', 'levelsMap', 'hiddenList', 'styleP', 'postMessage'],\n    data(){\n        return {\n            minimize: false,\n            map: null,\n            selected: [],\n            list: []\n        }\n    },\n    computed: {\n        // getLevels(){\n        //     const getTree = (items, level) => {\n        //         let list = [\n        //             ...items\n        //                 .filter(f => f.level == level)\n        //                 .map((m, i, a) => {\n        //                     return {\n        //                         ...m,\n        //                         children: getTree(items, m.id)\n        //                     }\n        //                 })\n        //         ]\n        //         return list\n        //     }\n        //     let levels = this.map || []\n        //     if(this.map){\n        //         levels = getTree(Object.values(this.map), 'main')\n        //     }\n        //     return levels\n        // }\n    },\n    watch: {\n        // menuItem: {\n        //     handler(v){\n        //         if(v.active){\n        //             if(!this.model.tags['resource.json'] || this.model.tags['resource.json'] != 1){\n        //                 return\n        //             }\n        //             let url = ''\n        //             if(this.model.version == null){\n        //                 url = this.model.files[0].url\n        //             }\n        //             else{\n        //                 let file = this.model.files.find(i => i.version == this.model.version)\n        //                 url = file ? file.url : this.model.files[0].url\n        //             }\n        //             this.$store.dispatch('common/getFileInfo', {id: url + '/resource.json'})\n        //             .then(res => {\n        //                 console.log('!! res', res)\n        //             })\n        //             .catch(er => {\n        //                 console.log('!! er', er)\n        //             })\n        //         }\n        //     },\n        //     deep: true\n        // },\n        // levelsMap(v){\n        //     this.map = JSON.parse(JSON.stringify(v))\n        //     this.hiddenList.map(h => {\n        //         if(this.map[h.id]){\n        //             // this.onSelect(this.map[h.id], true)\n        //             // this.selected.push(h.id)\n        //             this.selectItem(this.map[i.id], true)\n        //             this.selectDown(this.map[i.id], true)\n        //             this.selectUp(this.map[i.id], true)\n        //         }\n        //     })\n        // },\n        hiddenList(v){\n            this.$emit('onDispatcher')\n        }\n        //     if(!this.map){\n        //         return\n        //     }\n        //     v.filter(f => !this.selected.some(s => s == f.id))\n        //      .map(i => {\n        //         if(this.map[i.id]){\n        //             // this.selected.push(i.id)\n        //             // this.onSelect(this.map[i.id], true)\n        //             this.selectItem(this.map[i.id], true)\n        //             this.selectDown(this.map[i.id], true)\n        //             this.selectUp(this.map[i.id], true)\n        //         }\n        //     })\n        //\n        //     // this.selected\n        //     //     .filter(f => !v.some(s => s.id == f))\n        //     //     .map(i => {\n        //     //         if(this.map[i] && this.map[i].type == 'item'){\n        //     //             this.onSelect(this.map[i], false)\n        //     //         }\n        //     //     })\n        // }\n    },\n    methods: {\n        getList(i){\n            if(!i.length){\n                this.list = []\n            }\n            else{\n            let list = i[0].children.map(i => i.id)\n            this.list = list\n            }\n        },\n        cancel(){\n            this.$emit('setOption', this.menuItem)\n        },\n        checkDev(){\n            let host = window.location.hostname\n            return host == 'localhost' || 'prodoc.ubdev.ru'\n        },\n        getJsonFile(){\n            this.$emit('getJsonFile')\n        },\n        onSelect(i, hidden){\n            let items = []\n            const getItems = (i) => {\n                let list = []\n                if(i.type == 'group'){\n                    list = i.children.filter(f => f.hidden != hidden).map(c => c.id)\n                }\n                else{\n                    i.children.map(c => {\n                        list = [...list, ...getItems(c)]\n                    })\n                }\n                return list\n            }\n\n            if(i.type == 'item'){\n                items.push(i.id)\n            }\n            else{\n                items = getItems(i)\n            }\n            if(items.length){\n                if(hidden){\n                    this.$emit('onHideObject', items)\n                }\n                else{\n                    this.$emit('onShowObject', items)\n                }\n            }\n        },\n        selectItem(i, hidden){\n            let item = []\n            this.map[i.id].hidden = hidden\n            if(hidden){\n                if(!this.selected.some(s => s == i.id)){\n                    if(this.map[i.id].level != 'main'){\n                        this.map[i.level].selected += 1\n                    }\n                    this.selected.push(i.id)\n                    if(i.type == 'item'){\n                        item.push(i.id)\n                    }\n                }\n            }\n            else{\n                if(this.selected.some(s => s == i.id)){\n                    if(this.map[i.id].level != 'main'){\n                        this.map[i.level].selected -= 1\n                    }\n                    let ind = this.selected.indexOf(i.id)\n                    if(ind != -1){\n                        this.selected.splice(ind, 1)\n                    }\n                    if(i.type == 'item'){\n                        item.push(i.id)\n                    }\n                }\n            }\n            return item\n        },\n        // selectDown(i, hidden){\n        //     let list = Object\n        //         .values(this.levelsMap)\n        //         .filter(f => f.level == i.id)\n        //         .map(c => {\n        //             return [...this.selectItem(c, hidden), ...this.selectDown(c, hidden)]\n        //         })\n        //     return list.flat()\n        // },\n        // selectUp(i){\n        //     if(this.map[i.id].level == 'main'){\n        //         return\n        //     }\n        //     if(this.map[i.level].size == this.map[i.level].selected){\n        //         this.selectItem(this.map[i.level], true)\n        //     }\n        //     else{\n        //         this.selectItem(this.map[i.level], false)\n        //     }\n        //     this.selectUp(this.map[i.level])\n        //\n        // }\n    }\n}\n</script>\n\n<style scoped>\n.m-dispatcher .v-treeview-node__root{\n    align-items: start !important;\n}\n.m-dispatcher .v-treeview-node__content{\n    align-items: flex-start !important;\n}\n.m-dispatcher .v-treeview-node__prepend{\n    padding-top: 2px !important;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelDispatcher.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelDispatcher.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelDispatcher.vue?vue&type=template&id=feb6935e&scoped=true\"\nimport script from \"./PanelDispatcher.vue?vue&type=script&lang=js\"\nexport * from \"./PanelDispatcher.vue?vue&type=script&lang=js\"\nimport style0 from \"./PanelDispatcher.vue?vue&type=style&index=0&id=feb6935e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"feb6935e\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Ресурсы\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-2 m-modal--title-size14 m-card-scrollable__title\"},[_c(VBtn,{staticClass:\"m-btn m-btn--float mr-2\",class:{'m-btn-normal': !_vm.level},attrs:{\"outlined\":\"\",\"color\":_vm.level ? 'primary' : 'normal'},on:{\"click\":function($event){return _vm.filterRun('level')}}},[_vm._v(\"Местоположение\")]),_c(VBtn,{staticClass:\"m-btn m-btn--float\",class:{'m-btn-normal': !_vm.cat},attrs:{\"outlined\":\"\",\"color\":_vm.cat ? 'primary' : 'normal'},on:{\"click\":function($event){return _vm.filterRun('cat')}}},[_vm._v(\"Конструктив\")])],1),_c(VDivider),_c(VCardTitle,{staticClass:\"pa-0\"},[_c('div',{staticClass:\"pr-0 pl-1 py-1 m-panel__collision--options\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\",\"disabled\":!_vm.active.length || !_vm.activeClsn,\"color\":_vm.activeBox ? 'primary' : 'default'},on:{\"click\":_vm.turnActiveBox}},[_c(VIcon,{attrs:{\"left\":\"\",\"size\":\"20\"}},[_vm._v(\"trd-section\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Показать\")])],1),_c('icon-botton',{staticClass:\"mr-3\",attrs:{\"disabled\":!_vm.active.length,\"color\":(_vm.activeClsn && _vm.active.length) ? 'primary' : 'default'},on:{\"onClick\":_vm.turnActiveClsn}},[_vm._v(\"trd-cube_hide\\n            \")]),_c('icon-botton',{staticClass:\"mr-3\",attrs:{\"disabled\":!_vm.active.length,\"color\":(_vm.activeOnly && _vm.active.length) ? 'primary' : 'default'},on:{\"onClick\":_vm.turnActiveOnly}},[_vm._v(\"trd-cube_show\\n            \")]),_c(VBtn,{staticClass:\"m-btn px-2\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.onVisibleAll(false)}}},[_c(VIcon,{attrs:{\"left\":\"\",\"color\":'#757575',\"size\":\"20\"}},[_vm._v(\"mdi-eye-off\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Скрыть все\")])],1),_c(VBtn,{staticClass:\"m-btn px-1\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.onVisibleAll(true)}}},[_c(VIcon,{attrs:{\"left\":\"\",\"color\":'#757575',\"size\":\"20\"}},[_vm._v(\"mdi-eye\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Показать все\")])],1)],1)]),_c(VDivider),_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-2 m-modal--title-size14 m-card-scrollable__title\"},[_c(VCheckbox,{staticClass:\"ma-0\",attrs:{\"color\":\"primary\",\"label\":\"Выбор элемента\",\"hide-details\":\"\"},on:{\"change\":_vm.onSelect},model:{value:(_vm.selectMode),callback:function ($$v) {_vm.selectMode=$$v},expression:\"selectMode\"}})],1),_c(VDivider),_c(VCardText,{staticClass:\"pa-0 pt-2 pb-5 m-card-scrollable__text\"},[_c(VSkeletonLoader,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.getLevels.length && _vm.load),expression:\"!getLevels.length && load\"}],attrs:{\"type\":\"list-item-three-line, list-item-three-line\"}}),_c(VTreeview,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getLevels.length),expression:\"getLevels.length\"}],key:_vm.tree_id,staticClass:\"m-resource m-panel__collision--tree m-text--size12\",attrs:{\"items\":_vm.getLevels,\"active\":_vm.active,\"dense\":\"\",\"activatable\":\"\",\"return-object\":\"\",\"expand-icon\":\"mdi-chevron-down\",\"transition\":\"\",\"item-key\":\"id\"},on:{\"update:active\":[function($event){_vm.active=$event},_vm.onActive]},scopedSlots:_vm._u([{key:\"label\",fn:function({item}){return [_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n            \")]}},{key:\"prepend\",fn:function({item}){return [_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"stop\":\"\"},on:{\"onClick\":function($event){return _vm.onVisibile(item, !item.hidden)}}},[_vm._v(_vm._s(!item.hidden ? 'mdi-eye' : 'mdi-eye-off')+\"\\n                \")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-card-scrollable\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Ресурсы\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-title class=\"pr-0 pl-4 py-2 m-modal--title-size14 m-card-scrollable__title\">\n            <v-btn\n                outlined\n                :color=\"level ? 'primary' : 'normal'\"\n                class=\"m-btn m-btn--float mr-2\"\n                :class=\"{'m-btn-normal': !level}\"\n                @click=\"filterRun('level')\">Местоположение</v-btn>\n            <v-btn\n                outlined\n                :color=\"cat ? 'primary' : 'normal'\"\n                class=\"m-btn m-btn--float\"\n                :class=\"{'m-btn-normal': !cat}\"\n                @click=\"filterRun('cat')\">Конструктив</v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-title class=\"pa-0\">\n            <div class=\"pr-0 pl-1 py-1 m-panel__collision--options\">\n                <v-btn\n                    class=\"m-btn\"\n                    text\n                    tile\n                    dense\n                    :disabled=\"!active.length || !activeClsn\"\n                    :color=\"activeBox ? 'primary' : 'default'\"\n                    @click=\"turnActiveBox\">\n                    <v-icon\n                        left\n                        size=\"20\">trd-section</v-icon><span class=\"m-text--size12\">Показать</span>\n                </v-btn>\n\n                <icon-botton\n                    class=\"mr-3\"\n                    :disabled=\"!active.length\"\n                    :color=\"(activeClsn && active.length) ? 'primary' : 'default'\"\n                    @onClick=\"turnActiveClsn\"\n                    >trd-cube_hide\n                </icon-botton>\n\n                <icon-botton\n                    class=\"mr-3\"\n                    :disabled=\"!active.length\"\n                    :color=\"(activeOnly && active.length) ? 'primary' : 'default'\"\n                    @onClick=\"turnActiveOnly\"\n                    >trd-cube_show\n                </icon-botton>\n\n                <v-btn\n                    class=\"m-btn px-2\"\n                    text\n                    tile\n                    dense\n                    @click=\"onVisibleAll(false)\">\n                    <v-icon\n                        left\n                        :color=\"'#757575'\"\n                        size=\"20\">mdi-eye-off</v-icon><span class=\"m-text--size12\">Скрыть все</span>\n                </v-btn>\n\n                <v-btn\n                    class=\"m-btn px-1\"\n                    text\n                    tile\n                    dense\n                    @click=\"onVisibleAll(true)\">\n                    <v-icon\n                        left\n                        :color=\"'#757575'\"\n                        size=\"20\">mdi-eye</v-icon><span class=\"m-text--size12\">Показать все</span>\n                </v-btn>\n\n            </div>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-title class=\"pr-0 pl-4 py-2 m-modal--title-size14 m-card-scrollable__title\">\n            <v-checkbox\n                class=\"ma-0\"\n                v-model=\"selectMode\"\n                @change=\"onSelect\"\n                color=\"primary\"\n                label=\"Выбор элемента\"\n                hide-details\n            ></v-checkbox>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text\n            class=\"pa-0 pt-2 pb-5 m-card-scrollable__text\">\n\n            <v-skeleton-loader\n                v-show=\"!getLevels.length && load\"\n                type=\"list-item-three-line, list-item-three-line\"\n            ></v-skeleton-loader>\n\n            <v-treeview\n                v-show=\"getLevels.length\"\n                :key=\"tree_id\"\n                :items=\"getLevels\"\n                :active.sync=\"active\"\n                class=\"m-resource m-panel__collision--tree m-text--size12\"\n                dense\n                activatable\n                return-object\n                expand-icon=\"mdi-chevron-down\"\n                transition\n                item-key=\"id\"\n                @update:active=\"onActive\"\n                >\n                <template v-slot:label=\"{item}\">\n                    {{item.name}}\n                </template>\n                <template v-slot:prepend=\"{item}\">\n                    <icon-botton\n                        class=\"mr-4\"\n                        stop\n                        @onClick=\"onVisibile(item, !item.hidden)\"\n                        >{{!item.hidden ? 'mdi-eye' : 'mdi-eye-off'}}\n                    </icon-botton>\n                </template>\n            </v-treeview>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nimport IconBotton from '@/components/custom/IconBotton'\nimport { sortObj } from '@/utils/services'\nimport { http, api } from '@/utils/define'\n\nexport default {\n    name: 'PanelResurs',\n    components: {\n        IconBotton\n    },\n    props: ['menuItem', 'hiddenList', 'styleP', 'model', 'source', 'selectedObjID', 'postMessage'],\n    data(){\n        return {\n            minimize: false,\n            map: null,\n            tree_id: 0,\n            selectMode: false,\n            selected: [],\n            active: [],\n            level: false,\n            cat: false,\n            group: true,\n            worker: null,\n            levels: [],\n            load: true,\n            visibleItem: false,\n            mode: [{\n                name: 'clsn',\n                value: false\n            },{\n                name: 'box',\n                value: false\n            },{\n                name: 'only',\n                value: false\n            }]\n        }\n    },\n    computed: {\n        // getFilters(){\n        //     let filters = []\n        //     if(this.level) filters = [...filters, 'level']\n        //     if(this.cat) filters = [...filters, 'cat']\n        //     if(this.group) filters = [...filters, 'group']\n        //     filters = [...filters, 'items']\n        //     return filters\n        // },\n        getLevels(){\n            // let levels = this.buildTree(this.getFilters)\n            //\n            return this.levels\n        },\n        activeClsn: {\n            get(){\n                return this.mode.find(f => f.name == 'clsn').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'clsn'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        activeBox: {\n            get(){\n                return this.mode.find(f => f.name == 'box').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'box'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        activeOnly: {\n            get(){\n                return this.mode.find(f => f.name == 'only').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'only'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n    },\n    watch: {\n        menuItem: {\n            handler(v){\n                if(v.active){\n                    if(this.worker){\n                        this.getResource()\n                    }\n                    else{\n                        this.worker = new Worker(window.location.origin + '/js/wresource.js')\n                        // this.worker = new Worker(this.$url + '/js/wresource.js')\n                        this.worker.addEventListener(\"message\", this.workerMessage, false)\n                    }\n                }\n                else{\n                    if(this.activeClsn){\n                        this.turnActiveClsn()\n                    }\n                    if(this.activeOnly){\n                        this.turnActiveOnly()\n                    }\n                    this.active = []\n                }\n            },\n            deep: true\n        },\n        hiddenList(v){\n            if(!this.levels.length){\n                return\n            }\n            this.load = false\n            this.worker.postMessage({\n                action: 'onHidden',\n                filters: this.getFilters(),\n                list: v\n            })\n        }\n    },\n    methods: {\n        getFilters(){\n            let filters = []\n            if(this.level) filters = [...filters, 'level']\n            if(this.cat) filters = [...filters, 'cat']\n            if(this.group) filters = [...filters, 'group']\n            filters = [...filters, 'items']\n            return filters\n        },\n        getResource(){\n            // if(!this.model.tags['resource.json'] || this.model.tags['resource.json'] != 1){\n            //     return\n            // }\n\n            let urllist = []\n            if(this.model.type == 'consolidations'){\n                this.$store.state.workflow.listDocs\n                    .filter(f => this.model.consolidations.some(s => s == f.id))\n                    .map(f => {\n                        if(f.version == null){\n                            urllist.push(f.files[0].url)\n                        }\n                        else{\n                            let file = f.files.find(i => i.id == f.version)\n                            urllist.push(file ? file.url : f.files[0].url)\n                        }\n                    })\n            }\n            else{\n                if(this.model.version == null){\n                    urllist.push(this.model.files[0].url)\n                }\n                else{\n                    let file = this.model.files.find(i => i.id == this.model.version)\n                    urllist.push(file ? file.url : this.model.files[0].url)\n                }\n            }\n            // url = http['cloud'] + api['getfile'] + url + '/resource.json'\n            this.worker.postMessage({\n                action: 'getfile',\n                token: this.$store.state.auth.token,\n                urllist: urllist,\n                api: http['cloud'] + api['getfile'],\n                tag: '/resource.json',\n                filters: this.getFilters(),\n                hiddenList: this.hiddenList\n            })\n        },\n        workerMessage(e){\n            if(Object.prototype.hasOwnProperty.call(e.data, 'action')){\n                switch(e.data.action){\n                    case 'initworker': this.getResource()\n                        break\n                    case 'buildtree': this.buildtree(e.data)\n                        break\n                    case 'buildSelected': this.buildSelected(e.data)\n                        break\n                    case 'onVisibleAll': this.setVisibleAll(e.data)\n                        break\n                    default: ;\n                }\n            }\n        },\n        cancel(){\n            if(this.activeClsn){\n                this.turnActiveClsn()\n            }\n            if(this.activeOnly){\n                this.turnActiveOnly()\n            }\n            this.active = []\n\n            this.$emit('setOption', this.menuItem)\n        },\n        filterRun(v){\n            this.tree_id += 1\n            this[v] = !this[v]\n\n            this.load = false\n            if(this.worker){\n                this.worker.postMessage({\n                    action: 'buildtree',\n                    filters: this.getFilters()\n                })\n            }\n        },\n        buildtree(v){\n            this.levels = v.map\n            this.load = true\n        },\n        onVisibleAll(v){\n            this.worker.postMessage({\n                action: 'onVisibleAll',\n                value: v\n            })\n        },\n        onVisibile(i, hidden){\n            this.load = false\n            this.worker.postMessage({\n                action: 'onVisibile',\n                filters: this.getFilters(),\n                item: i,\n                hidden: hidden\n            })\n        },\n        setVisibleAll(d){\n            this.buildSelected({\n                hidden: !d.value,\n                items: d.list\n            })\n        },\n        buildSelected(d){\n            // this.buildtree({map: d.levels})\n            if(d.hidden){\n                this.$emit('onHideObject', d.items)\n            }\n            else{\n                this.$emit('onShowObject', d.items)\n            }\n        },\n        onActive(v){\n            let item = v[0]\n            if(!item){\n                if(this.selected.length){\n                    this.mode.map(m => {\n                        this.onActiveMode(m.name, false)\n                    })\n                    this.selected = []\n                    //     console.log('444444444')\n                    this.postMessage({\n                        action: 'clearSelection',\n                        value: true\n                    })\n                }\n            }\n            else{\n                // console.log('55555555')\n                // this.postMessage({\n                //     action: 'clearSelection',\n                //     value: true\n                // })\n                if(this.activeClsn){\n                    this.onActiveMode('clsn', false)\n                }\n                if(item.type == 'item' && this.selectMode){\n                    // this.$emit('update:selectedObjID', item.id)\n                        // console.log('55555555', item.id)\n                    this.postMessage({\n                        action: 'selectObjectById',\n                        value: item.id\n                    })\n                }\n                this.selected = this.active\n\n                this.mode.map(m => {\n                    if(m.value){\n                        this.onActiveMode(m.name, true)\n                    }\n                })\n            }\n        },\n        onSelect(v){\n            if(v){\n                if(this.active.length){\n                    if(this.active[0].type == 'item'){\n                        // this.$emit('update:selectedObjID', this.active[0].id)\n                        this.postMessage({\n                            action: 'selectObjectById',\n                            value: this.active[0].id\n                        })\n                        // Promise.resolve(\n                        //     console.log('11111111111'),\n                        // this.postMessage({\n                        //     action: 'clearSelection',\n                        //     value: true\n                        // }))\n                        // .then(() => {\n                        //     console.log('2222222222')\n                        //     this.postMessage({\n                        //         action: 'selectObjectById',\n                        //         value: this.active[0].id\n                        //     })\n                        // })\n                    }\n                }\n            }\n            else{\n                // console.log('33333333')\n                this.postMessage({\n                    action: 'clearSelection',\n                    value: true\n                })\n            }\n        },\n        turnActiveClsn(){\n            this.activeClsn = !this.activeClsn\n            if(this.activeOnly){\n                this.onActiveMode('only', false)\n                this.activeOnly = false\n            }\n            if(!this.activeClsn){\n                if(this.activeBox){\n                    this.turnActiveBox()\n                }\n            }\n            this.onActiveMode('clsn', this.activeClsn)\n        },\n        turnActiveBox(){\n            this.activeBox = !this.activeBox\n            if(this.activeOnly){\n                this.onActiveMode('only', false)\n                this.activeOnly = false\n            }\n            this.onActiveMode('box', this.activeBox)\n        },\n        turnActiveOnly(){\n            this.activeOnly = !this.activeOnly\n            if(this.activeBox){\n                this.onActiveMode('box', false)\n                this.activeBox = false\n            }\n            if(this.activeClsn){\n                this.onActiveMode('clsn', false)\n                this.activeClsn = false\n            }\n            this.onActiveMode('only', this.activeOnly)\n        },\n        onActiveMode(mode, a){\n            let items = this.selected\n            if(!items.length){\n                return\n            }\n\n            const getItems = (i) => {\n                let  list = []\n                if(i.type != 'group'){\n                    i.children.map(c => {\n                        list = [...list, ...getItems(c)]\n                    })\n                }\n                else{\n                    list = i.children.map(c => c.id)\n                }\n                return list\n            }\n\n            let objectList = []\n            items.map(i => {\n                if(i.type == 'item'){\n                    objectList.push(i.id)\n                }\n                else{\n                    objectList = [...objectList, ...getItems(i)]\n                }\n            })\n\n            switch(mode){\n                case 'clsn':\n                    if(objectList.length){\n                        this.$emit('onObjectsHighlight', {list: objectList, active: a})\n                    }\n                    break\n                case 'box':\n                    if(objectList.length){\n                        this.$emit('onCreateSectionBoxForObjects', {list: objectList, active: a})\n                    }\n                    break\n                case 'only':\n                    if(objectList.length){\n                        this.$emit('onShowObjectsOnly', {list: objectList, active: a})\n                    }\n                    break\n                default: ;\n            }\n        }\n    },\n    beforeDestroy(){\n        if(this.worker){\n            this.worker.terminate()\n            this.worker = null\n            this.load = true\n            this.levels = []\n        }\n    }\n}\n</script>\n<style>\n.m-resource .v-treeview-node__root{\n    align-items: start !important;\n}\n.m-resource .v-treeview-node__content{\n    align-items: start !important;\n    padding-top: 2px !important;\n}\n.m-resource .v-treeview-node__label{\n    overflow: auto !important;\n    white-space: normal !important;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelResurs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelResurs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelResurs.vue?vue&type=template&id=04fd8766\"\nimport script from \"./PanelResurs.vue?vue&type=script&lang=js\"\nexport * from \"./PanelResurs.vue?vue&type=script&lang=js\"\nimport style0 from \"./PanelResurs.vue?vue&type=style&index=0&id=04fd8766&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Скрытые объекты\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardTitle,{staticClass:\"pa-0\"},[_c('div',{staticClass:\"pr-0 pl-1 py-1 m-panel__collision--options\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.onVisibleAll()}}},[_c(VIcon,{attrs:{\"left\":\"\",\"color\":'#757575',\"size\":\"20\"}},[_vm._v(\"mdi-eye\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Показать все\")])],1)],1)]),_c(VDivider),_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[(!_vm.hiddenList.length)?_c('div',{staticClass:\"py-2 px-4 m-text--size14 m-text--center m-text--color-2c2c2c\"},[_vm._v(\"У вас нет скрытых объектов, выберите объект и скройте его.\\n            \"),_c('div',{staticClass:\"py-2 px-4 m-text--size12 m-text--center\"},[_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"Как это сделать?\")])])]):_c(VList,{staticClass:\"pa-0\",attrs:{\"nav\":\"\",\"dense\":\"\"}},_vm._l((_vm.hiddenList),function(item,i){return _c(VListItem,{key:i,staticClass:\"ma-0 px-4\",on:{\"click\":function($event){return _vm.getObject(item)}}},[_c(VListItemIcon,{staticClass:\"mr-2\"},[_c(VIcon,{attrs:{\"size\":\"20\"},domProps:{\"textContent\":_vm._s('mdi-eye-off')}})],1),_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(item.name)}})],1)],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-card-scrollable\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Скрытые объекты\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n\n        <v-card-title class=\"pa-0\">\n            <div class=\"pr-0 pl-1 py-1 m-panel__collision--options\">\n                <v-btn\n                    class=\"m-btn\"\n                    text\n                    tile\n                    dense\n                    @click=\"onVisibleAll()\">\n                    <v-icon\n                        left\n                        :color=\"'#757575'\"\n                        size=\"20\">mdi-eye</v-icon><span class=\"m-text--size12\">Показать все</span>\n                </v-btn>\n\n            </div>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n            <div\n                v-if=\"!hiddenList.length\"\n                class=\"py-2 px-4 m-text--size14 m-text--center m-text--color-2c2c2c\"\n                >У вас нет скрытых объектов, выберите объект и скройте его.\n                <div class=\"py-2 px-4 m-text--size12 m-text--center\"><a href=\"\">Как это сделать?</a></div>\n            </div>\n\n            <v-list\n                v-else\n                nav\n                dense\n                class=\"pa-0\"\n                >\n                <v-list-item\n                    v-for=\"(item, i) in hiddenList\"\n                    :key=\"i\"\n                    class=\"ma-0 px-4\"\n                    @click=\"getObject(item)\"\n                    >\n                    <v-list-item-icon class=\"mr-2\">\n                        <v-icon size=\"20\" v-text=\"'mdi-eye-off'\"></v-icon>\n                    </v-list-item-icon>\n\n                    <v-list-item-content>\n                        <v-list-item-title v-text=\"item.name\"></v-list-item-title>\n                    </v-list-item-content>\n                </v-list-item>\n            </v-list>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nexport default {\n    name: 'PanelHidden',\n    props: ['menuItem', 'hiddenList', 'styleP'],\n    data(){\n        return {\n            minimize: false\n        }\n    },\n    methods: {\n        cancel(){\n            this.minimize = false\n            this.$emit('setOption', this.menuItem)\n        },\n        getObject(i){\n            this.$emit('onShowObject', [i.id])\n        },\n        onVisibleAll(){\n            this.$emit('onShowObject', this.hiddenList.map(i => i.id))\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHidden.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHidden.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelHidden.vue?vue&type=template&id=1fd58594\"\nimport script from \"./PanelHidden.vue?vue&type=script&lang=js\"\nexport * from \"./PanelHidden.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Постановление 87\\n        \"),_c('span',{staticClass:\"m-text--color-red\"},[_vm._v(\" (бета версия)\")]),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[_c(VListItem,{staticClass:\"py-0 m-link--list-item\"},[_c(VListItemContent,{staticClass:\"pl-1 py-0\"},[_c('span',[_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://doc.unitbim.ru/vozmozhnosti/postanovlenie-87-v-im\"}},[_vm._v(\" Почему не скрываются объекты?\")])])])],1),_vm._l((_vm.filters),function(part){return _c(VListGroup,{staticClass:\"m-list-group\",attrs:{\"value\":true,\"sub-group\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,{staticClass:\"pl-1 py-3\"},[_c(VListItemTitle,[_vm._v(_vm._s(part.title))])],1)]},proxy:true},{key:\"prependIcon\",fn:function(){return [_c(VListItemIcon,{staticClass:\"ma-0\"},[_c(VIcon,{staticClass:\"ma-0\",attrs:{\"size\":\"20\"},domProps:{\"textContent\":_vm._s('mdi-chevron-down')}})],1)]},proxy:true}],null,true)},_vm._l((part.items),function(item){return _c(VListGroup,{staticClass:\"m-list-group\",attrs:{\"value\":true},on:{\"click\":function($event){}},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,{staticClass:\"pl-1 py-3\"},[_c(VListItemTitle,[_vm._v(_vm._s(item.title))])],1)]},proxy:true},{key:\"prependIcon\",fn:function(){return [_c(VListItemIcon,{staticClass:\"ma-0\"},[_c(VIcon,{staticClass:\"ma-0\",attrs:{\"size\":\"20\"},domProps:{\"textContent\":_vm._s(!item.active ? 'mdi-eye' : 'mdi-eye-off')},on:{\"click\":function($event){$event.stopPropagation();if($event.target !== $event.currentTarget)return null;return _vm.onFilter(item, !item.active, false)}}})],1)]},proxy:true}],null,true)},_vm._l((item.items),function(type){return _c(VListItem,{staticClass:\"pl-12\",on:{\"click\":function($event){$event.stopPropagation();return _vm.onFilter(type, !type.active, item.active)}}},[_c(VListItemIcon,{staticClass:\"mr-2 ml-6\"},[_c(VIcon,{attrs:{\"size\":\"20\"},domProps:{\"textContent\":_vm._s(!type.active ? 'mdi-eye' : 'mdi-eye-off')}})],1),_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(type.title)}})],1)],1)}),1)}),1)})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-card-scrollable\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Постановление 87\n            <span class=\"m-text--color-red\">&nbsp;(бета версия)</span>\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n\n        <v-card-text\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n            <v-list-item class=\"py-0 m-link--list-item\">\n                <v-list-item-content class=\"pl-1 py-0\">\n                        <span><a target=\"_blank\" href=\"https://doc.unitbim.ru/vozmozhnosti/postanovlenie-87-v-im\"> Почему не скрываются объекты?</a></span>\n                </v-list-item-content>\n            </v-list-item>\n            <v-list-group\n                class=\"m-list-group\"\n                :value=\"true\"\n                sub-group\n                v-for=\"part in filters\"\n                >\n                <template v-slot:activator>\n                    <v-list-item-content class=\"pl-1 py-3\">\n                        <v-list-item-title>{{part.title}}</v-list-item-title>\n                    </v-list-item-content>\n                </template>\n                <template v-slot:prependIcon>\n                    <v-list-item-icon class=\"ma-0\">\n                        <v-icon size=\"20\" class=\"ma-0\" v-text=\"'mdi-chevron-down'\"></v-icon>\n                    </v-list-item-icon>\n                </template>\n\n                <v-list-group\n                    class=\"m-list-group\"\n                    :value=\"true\"\n                    v-for=\"item in part.items\"\n                    @click=\"\"\n                    >\n                    <template v-slot:activator>\n                        <v-list-item-content class=\"pl-1 py-3\">\n                            <v-list-item-title>{{item.title}}</v-list-item-title>\n                        </v-list-item-content>\n                    </template>\n                    <template v-slot:prependIcon>\n                        <v-list-item-icon class=\"ma-0\">\n                            <v-icon\n                                size=\"20\"\n                                class=\"ma-0\"\n                                @click.stop.self=\"onFilter(item, !item.active, false)\"\n                                v-text=\"!item.active ? 'mdi-eye' : 'mdi-eye-off'\">\n                            </v-icon>\n                        </v-list-item-icon>\n                    </template>\n\n                    <v-list-item\n                        v-for=\"type in item.items\"\n                        class=\"pl-12\"\n                        @click.stop=\"onFilter(type, !type.active, item.active)\"\n                        >\n                        <v-list-item-icon class=\"mr-2 ml-6\">\n                            <v-icon size=\"20\" v-text=\"!type.active ? 'mdi-eye' : 'mdi-eye-off'\"></v-icon>\n                        </v-list-item-icon>\n                        <v-list-item-content>\n                            <v-list-item-title v-text=\"type.title\"></v-list-item-title>\n                        </v-list-item-content>\n                    </v-list-item>\n\n                </v-list-group>\n            </v-list-group>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nexport default {\n    name: 'PanelFilters',\n    props: ['menuItem', 'filters', 'styleP'],\n    data(){\n        return {\n            minimize: false\n        }\n    },\n    methods: {\n        cancel(){\n            this.minimize = false\n            this.$emit('setOption', this.menuItem)\n            this.$emit('setFilters', false)\n        },\n        onFilter(o, active, parent, action = true){\n            if(parent){\n                return true\n            }\n            o.active = active\n            o.items = o.items.map(i => {\n                this.onFilter(i, active, false, false)\n                return {...i, active: active}\n            })\n            if(action){\n                this.$emit('onFilter', o)\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelFilters.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelFilters.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelFilters.vue?vue&type=template&id=ceb463f2\"\nimport script from \"./PanelFilters.vue?vue&type=script&lang=js\"\nexport * from \"./PanelFilters.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Изменения\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pa-0 pb-5 pt-2 m-card-scrollable__text\"},[_c('div',{staticClass:\"pr-0 pl-4 py-1 m-panel__delta--wrap\"},[_c('div',{staticClass:\"m-panel__delta--cube m-panel__delta--green\"},[_c('span',{staticClass:\"m-text--size14\"},[_vm._v(_vm._s(_vm.delta.add))]),_c('span',[_vm._v(\"Добавлено\")])]),_c('div',{staticClass:\"m-panel__delta--cube m-panel__delta--red\"},[_c('span',{staticClass:\"m-text--size14\"},[_vm._v(_vm._s(_vm.delta.del))]),_c('span',[_vm._v(\"Удалено\")])]),_c('div',{staticClass:\"m-panel__delta--cube m-panel__delta--yellow\"},[_c('span',{staticClass:\"m-text--size14\"},[_vm._v(_vm._s(_vm.delta.mod))]),_c('span',[_vm._v(\"Изменено\")])])]),_c(VDivider,{staticClass:\"pb-2\"}),_vm._l((_vm.items.list),function(item){return _c('div',{staticClass:\"m-panel__delta--note__wrap\",class:{active: item.active},on:{\"click\":function($event){item.active = !item.active}}},[_c('span',{staticClass:\"m-panel__delta--note__header--chevron__wrap\"},[(item.parameters)?_c(VIcon,{staticClass:\"m-panel__delta--note__header--chevron\",attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-chevron-right\\n                \")]):_vm._e()],1),_c('div',{staticClass:\"m-panel__delta--note__header\"},[_c('div',{staticClass:\"m-panel__delta--note__color\",class:'m-panel__delta--' + item.color}),_c('span',{staticClass:\"pl-2\"},[_vm._v(_vm._s(item.name))])]),_c('div',{staticClass:\"m-panel__delta--note__body\"},_vm._l((item.parameters),function(param){return _c('div',{staticClass:\"m-panel__delta--note__desc\"},[_c('span',[_vm._v(_vm._s(param.name))]),_c(VSpacer),_c('span',[_vm._v(_vm._s(param.value)+_vm._s(param.units))])],1)}),0)])})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-card-scrollable\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Изменения\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n\n        <v-card-text\n            class=\"pa-0 pb-5 pt-2 m-card-scrollable__text\">\n            <div class=\"pr-0 pl-4 py-1 m-panel__delta--wrap\">\n                <div class=\"m-panel__delta--cube m-panel__delta--green\">\n                    <span class=\"m-text--size14\">{{delta.add}}</span>\n                    <span>Добавлено</span>\n                </div>\n                <div class=\"m-panel__delta--cube m-panel__delta--red\">\n                    <span class=\"m-text--size14\">{{delta.del}}</span>\n                    <span>Удалено</span>\n                </div>\n                <div class=\"m-panel__delta--cube m-panel__delta--yellow\">\n                    <span class=\"m-text--size14\">{{delta.mod}}</span>\n                    <span>Изменено</span>\n                </div>\n            </div>\n            <v-divider class=\"pb-2\"></v-divider>\n            <div\n                v-for=\"item in items.list\"\n                class=\"m-panel__delta--note__wrap\"\n                :class=\"{active: item.active}\"\n                @click=\"item.active = !item.active\"\n                >\n                <span class=\"m-panel__delta--note__header--chevron__wrap\">\n                    <v-icon\n                        v-if=\"item.parameters\"\n                        class=\"m-panel__delta--note__header--chevron\" size=\"20\">mdi-chevron-right\n                    </v-icon>\n                </span>\n                <div class=\"m-panel__delta--note__header\">\n                    <div\n                        :class=\"'m-panel__delta--' + item.color\"\n                        class=\"m-panel__delta--note__color\"/>\n                    <span class=\"pl-2\">{{item.name}}</span>\n                </div>\n                <div class=\"m-panel__delta--note__body\">\n                    <div\n                        v-for=\"param in item.parameters\"\n                        class=\"m-panel__delta--note__desc\"\n                        >\n                        <span>{{param.name}}</span>\n                        <v-spacer></v-spacer>\n                        <span>{{param.value}}{{param.units}}</span>\n                    </div>\n                </div>\n            </div>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nexport default {\n    name: 'PanelDelta',\n    props: ['menuItem', 'delta', 'styleP'],\n    data(){\n        return {\n            minimize: false,\n            // status: {\n            //     'modified': 'yellow',\n            //     'deleted': 'red',\n            //     'added': 'green'\n            // },\n            items: this.delta\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('setOption', this.menuItem)\n        },\n        // setItems(a){\n        //     return a.map(d => {\n        //         return {\n        //             name: d.id + ' | ' + d.name,\n        //             color: this.status[d.status],\n        //             active: false,\n        //             quantity: []\n        //         }\n        //     })\n        // }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelDelta.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelDelta.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelDelta.vue?vue&type=template&id=01f76414\"\nimport script from \"./PanelDelta.vue?vue&type=script&lang=js\"\nexport * from \"./PanelDelta.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Помещения и зоны\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardTitle,{staticClass:\"pa-0\"},[_c('div',{staticClass:\"pr-0 pl-1 py-1 m-panel__collision--options\"},[_c(VBtn,{staticClass:\"m-btn px-2\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.onVisibleAll(false)}}},[_c(VIcon,{attrs:{\"left\":\"\",\"color\":'#757575',\"size\":\"20\"}},[_vm._v(\"mdi-eye-off\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Скрыть все\")])],1),_c(VBtn,{staticClass:\"m-btn px-1\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.onVisibleAll(true)}}},[_c(VIcon,{attrs:{\"left\":\"\",\"color\":'#757575',\"size\":\"20\"}},[_vm._v(\"mdi-eye\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Показать все\")])],1)],1)]),_c(VDivider),_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[_c(VSkeletonLoader,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.rooms.load),expression:\"!rooms.load\"}],attrs:{\"type\":\"list-item-three-line, list-item-three-line\"}}),_vm._l((_vm.rooms.list),function(item){return _c('div',{staticClass:\"m-panel__delta--note__wrap pl-4 m-panel__delta--link d-flex\",on:{\"click\":function($event){return _vm.onClick(item)}}},[_c('span',{staticClass:\"m-panel__delta--note__header--chevron__wrap mr-2\"},[_c(VIcon,{attrs:{\"size\":\"20\"},domProps:{\"textContent\":_vm._s(item.active ? 'mdi-eye' : 'mdi-eye-off')}})],1),_c('div',{staticClass:\"m-panel__delta--note__header\"},[_c('div',{staticClass:\"m-panel__delta--note__color\",style:({'background-color': _vm.getColor(item)})}),_c('div',{staticClass:\"pl-2\"},[_vm._v(_vm._s(item.Name))])])])})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-card-scrollable\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Помещения и зоны\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n\n        <v-card-title class=\"pa-0\">\n            <div class=\"pr-0 pl-1 py-1 m-panel__collision--options\">\n                <v-btn\n                    class=\"m-btn px-2\"\n                    text\n                    tile\n                    dense\n                    @click=\"onVisibleAll(false)\">\n                    <v-icon\n                        left\n                        :color=\"'#757575'\"\n                        size=\"20\">mdi-eye-off</v-icon><span class=\"m-text--size12\">Скрыть все</span>\n                </v-btn>\n\n                <v-btn\n                    class=\"m-btn px-1\"\n                    text\n                    tile\n                    dense\n                    @click=\"onVisibleAll(true)\">\n                    <v-icon\n                        left\n                        :color=\"'#757575'\"\n                        size=\"20\">mdi-eye</v-icon><span class=\"m-text--size12\">Показать все</span>\n                </v-btn>\n\n            </div>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n\n            <v-skeleton-loader\n                v-show=\"!rooms.load\"\n                type=\"list-item-three-line, list-item-three-line\"\n            ></v-skeleton-loader>\n\n            <template\n                v-show=\"rooms.load\">\n                <div\n                    v-for=\"item in rooms.list\"\n                    class=\"m-panel__delta--note__wrap pl-4 m-panel__delta--link d-flex\"\n                    @click=\"onClick(item)\"\n                    >\n                    <span class=\"m-panel__delta--note__header--chevron__wrap mr-2\">\n                        <v-icon\n                            v-text=\"item.active ? 'mdi-eye' : 'mdi-eye-off'\"\n                            size=\"20\">\n                        </v-icon>\n                    </span>\n                    <div class=\"m-panel__delta--note__header\">\n                        <div\n                            :style=\"{'background-color': getColor(item)}\"\n                            class=\"m-panel__delta--note__color\"/>\n                        <div class=\"pl-2\">{{item.Name}}</div>\n                    </div>\n                </div>\n            </template>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nexport default {\n    name: 'PanelRooms',\n    props: ['menuItem', 'rooms', 'styleP'],\n    data(){\n        return {\n            minimize: false\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('setOption', this.menuItem)\n        },\n        onClick(i){\n            i.active = !i.active\n            this.$emit('onRoomVisibilityItem', {ids: [i.Id], value: i.active})\n        },\n        getColor(i){\n            let item = this.rooms.colors.find(c => c.id == i.Id)\n            if(item){\n                return item.color\n            }\n            else{\n                return '#efefef'\n            }\n        },\n        onVisibleAll(v){\n            this.rooms.list.map(i => {\n                i.active = v\n            })\n            this.$emit('onRoomVisibility', {value: v})\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelRooms.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelRooms.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelRooms.vue?vue&type=template&id=b2528742\"\nimport script from \"./PanelRooms.vue?vue&type=script&lang=js\"\nexport * from \"./PanelRooms.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Поиск элементов\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c('div',{staticClass:\"search\"},[_c(VTextField,{attrs:{\"append-icon\":'search',\"clear-icon\":\"mdi-close-circle\",\"label\":\"\",\"type\":\"text\",\"hide-details\":\"\",\"placeholder\":'Введите поисковый запроc'},on:{\"click:append\":_vm.search},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1),_c('div',{staticClass:\"treeviewCheckBox\"},[_c(VTreeview,{staticClass:\"includeTreeView\",attrs:{\"selectable\":\"\",\"items\":_vm.listTreeView},on:{\"input\":_vm.onSelected}})],1),_c(VCardActions,{staticClass:\"bottoms\"},[_c(VBtn,{staticClass:\"m-btn m-btn--float\",class:{'m-btn-normal': !_vm.one},attrs:{\"outlined\":\"\",\"color\":_vm.one ? 'primary' : 'normal'},on:{\"click\":function($event){_vm.typeSearch = 'ID'; _vm.search(); _vm.setFilter('one');}}},[_vm._v(\"ID\")]),_c(VBtn,{staticClass:\"m-btn m-btn--float\",class:{'m-btn-normal': !_vm.two},attrs:{\"outlined\":\"\",\"color\":_vm.two ? 'primary' : 'normal'},on:{\"click\":function($event){_vm.typeSearch = 'Name'; _vm.search(); _vm.setFilter('two');}}},[_vm._v(\"Наименование\")]),_c(VBtn,{staticClass:\"m-btn m-btn--float\",class:{'m-btn-normal': !_vm.three},attrs:{\"outlined\":\"\",\"color\":_vm.three ? 'primary' : 'normal'},on:{\"click\":function($event){_vm.typeSearch = 'Parameters'; _vm.search(); _vm.setFilter('three');}}},[_vm._v(\"Свойства\")]),_c(VBtn,{staticClass:\"m-btn m-btn--float\",class:{'m-btn-normal': !_vm.four},attrs:{\"outlined\":\"\",\"color\":_vm.four ? 'primary' : 'normal'},on:{\"click\":function($event){_vm.typeSearch = 'Category'; _vm.search(); _vm.setFilter('four');}}},[_vm._v(\"Тип класса\")])],1),_c(VCardTitle,{staticClass:\"pa-0\"},[_c('div',{staticClass:\"bottom_id\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\",\"disabled\":!_vm.list.length || !_vm.activeClsn,\"color\":_vm.activeBox ? 'primary' : 'default'},on:{\"click\":_vm.turnActiveBox}},[_c(VIcon,{attrs:{\"left\":\"\",\"size\":\"20\"}},[_vm._v(\"trd-section\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Показать\")])],1),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.list.length,\"color\":_vm.activeClsn && _vm.list.length? 'primary' : 'default'},on:{\"onClick\":_vm.turnActiveClsn}},[_vm._v(\"trd-cube_hide\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.list.length,\"color\":_vm.activeOnly && _vm.list.length? 'primary' : 'default'},on:{\"onClick\":_vm.turnActiveOnly}},[_vm._v(\"trd-cube_show\\n            \")])],1)]),_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[_c(VList,{attrs:{\"dense\":\"\"}},[_c(VSubheader,{staticClass:\"panelResults\"},[_vm._v(\"Результат\")]),_c(VListItemGroup,{attrs:{\"color\":\"primary\"},model:{value:(_vm.selectedItem),callback:function ($$v) {_vm.selectedItem=$$v},expression:\"selectedItem\"}},_vm._l((_vm.ParamSearch),function(item,i){return _c(VListItem,{key:i},[_c(VListItemContent,{staticClass:\"resultsForPanel\"},[(_vm.typeSearch == 'Name')?_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(item.Name)}}):_vm._e(),(_vm.typeSearch == 'ID')?_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(item.id)}}):_vm._e(),(_vm.typeSearch == 'Parameters')?_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(item.ParametersAll)}}):_vm._e(),(_vm.typeSearch == 'Category')?_c(VListItemTitle,{domProps:{\"textContent\":_vm._s(item.Category)}}):_vm._e()],1)],1)}),1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCardText,{staticClass:\"pa-0 m-card-scrollable__text\"},[_c(VSkeletonLoader,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.load),expression:\"!load\"}],attrs:{\"type\":\"list-item-three-line, list-item-three-line\"}}),_c(VDataTable,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.load),expression:\"load\"}],staticClass:\"panel-tabs--table\",attrs:{\"headers\":_vm.headers,\"items\":_vm.getList,\"item-key\":\"id\",\"disable-pagination\":\"\",\"hide-default-footer\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function({ item }){return [_c('tr',{class:['panel-tabs--back-' + item.type]},_vm._l((_vm.headers),function(i){return _c('td',[(i.value == 'node')?[(!!item.node)?_c(VIcon,{class:'ml-' + item.levelNode * 3,attrs:{\"size\":\"30\"},on:{\"click\":function($event){return _vm.expand(item)}}},[_vm._v(\"\\n                            \"+_vm._s(item.expand ? 'mdi-minus-circle-outline' : 'mdi-plus-circle-outline')+\"\\n                        \")]):_vm._e()]:(i.value == 'name')?[_c('span',{class:'ml-' + item.levelNode * 4},[_vm._v(\"\\n                            \"+_vm._s(item.name)+\"\\n                        \")])]:[_vm._v(\"\\n                        \"+_vm._s(item[i.value])+\"\\n                    \")]],2)}),0)]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card-text\n        class=\"pa-0 m-card-scrollable__text\">\n\n        <v-skeleton-loader\n            v-show=\"!load\"\n            type=\"list-item-three-line, list-item-three-line\"\n        ></v-skeleton-loader>\n\n        <v-data-table\n            v-show=\"load\"\n            :headers=\"headers\"\n            :items=\"getList\"\n            item-key=\"id\"\n            disable-pagination\n            hide-default-footer\n            dense\n            class=\"panel-tabs--table\"\n            >\n\n            <template v-slot:item=\"{ item }\">\n                <tr\n                    :class=\"['panel-tabs--back-' + item.type]\"\n                    >\n                    <td v-for=\"i in headers\">\n                        <template v-if=\"i.value == 'node'\">\n                            <v-icon\n                                v-if=\"!!item.node\"\n                                size=\"30\"\n                                :class=\"'ml-' + item.levelNode * 3\"\n                                @click=\"expand(item)\">\n                                {{item.expand ? 'mdi-minus-circle-outline' : 'mdi-plus-circle-outline'}}\n                            </v-icon>\n                        </template>\n\n                        <template v-else-if=\"i.value == 'name'\">\n                            <span\n                                :class=\"'ml-' + item.levelNode * 4\">\n                                {{item.name}}\n                            </span>\n                        </template>\n                        <template v-else>\n                            {{item[i.value]}}\n                        </template>\n                    </td>\n                </tr>\n            </template>\n\n        </v-data-table>\n    </v-card-text>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\n\nexport default {\n    name: 'Components',\n    props: ['part', 'level', 'cname', 'elems'],\n    data(){\n        return {\n            items: [],\n            elements: [],\n            load: false,\n            headers: [\n                {\n                    text: '',\n                    value: 'node',\n                    class: 'panel-tabs--back-group'\n                },\n              {\n                text: 'Имя компонента',\n                align: 'start',\n                sortable: false,\n                value: 'name',\n                class: 'panel-tabs--back-group'\n              },\n              { text: 'Наименование компонента',sortable: false, value: 'class',class: 'panel-tabs--back-group' },\n              { text: 'Количество, шт.',sortable: false, value: 'count',class: 'panel-tabs--back-group' },\n              { text: 'Местоположение',sortable: false, value: 'level',class: 'panel-tabs--back-group' },\n              { text: 'Объем',sortable: false,value: 'volume',class: 'panel-tabs--back-group' },\n              { text: 'Площадь',sortable: false, value: 'area',class: 'panel-tabs--back-group' },\n              { text: 'Длина',sortable: false, value: 'length',class: 'panel-tabs--back-group' },\n              { text: 'Высота',sortable: false, value: 'height',class: 'panel-tabs--back-group' }\n            ],\n            propsList: {\n                part: [],\n                level: [],\n                cname: []\n            }\n        }\n    },\n    computed: {\n        getList: {\n            get(){\n                let list = []\n                let map = Object.fromEntries(this.items\n                    .map(i => {return [i.id, i]}))\n\n                this.items.map(v => {\n                        if(!v.parent){\n                            list.push(v)\n                        }\n                        else{\n                            if(v.path.every(s => map[s].expand)){\n                                // && map[v.parent].expand\n                                list.push(v)\n                            }\n                        }\n\n                    })\n\n                return list\n            },\n            set(i){\n\n            }\n        }\n    },\n    watch: {\n        elems(v){\n            this.elements = this.setElements(this.elems)\n            this.applyFilters()\n            this.load = true\n        },\n        part(v){\n            this.applyFilters()\n        },\n        level(v){\n            this.applyFilters()\n        },\n        cname(v){\n            this.applyFilters()\n        }\n    },\n    methods: {\n        rowClass(i){\n            let style = {}\n            switch(i.type){\n                case 'group': style['background-color'] = '#eff6ff'\n                    break\n                case 'item': style['background-color'] = '#f7f7f7'\n                    break\n                default: ;\n            }\n            return style\n        },\n        applyFiltersCycle(elements, propsList, filterTypes, len, idList = [], filters = []){\n            let list = []\n            let filterType = filterTypes[filterTypes.length - len]\n            let stack = []\n            propsList[filterType].map(p => {\n                let id = uuidv4()\n                let filterList = [...filters, {\n                    type: filterType,\n                    value: p\n                }]\n                if(len - 1){\n                    stack = this.applyFiltersCycle(elements, propsList, filterTypes, (len - 1), [...idList, id], filterList)\n                    if(stack.length){\n                        list.push({\n                            id: id,\n                            type: 'group',\n                            name: p,\n                            node: 1,\n                            expand: false,\n                            parent: idList.length ? idList[idList.length - 1] : 0,\n                            path: idList,\n                            levelNode: filterTypes.length - len\n                        })\n                    }\n                    list = [...list, ...stack]\n                }\n                else{\n                    stack = elements\n                        .filter(e => e.node && filterList.every(s => e[s.type] == s.value))\n                        .map(i => {\n                            return {\n                                ...i,\n                                parent: id,\n                                path: [...idList, id],\n                                levelNode: filterTypes.length - len + 1\n                            }\n                        })\n                    if(stack.length){\n                        list.push({\n                            id: id,\n                            type: 'group',\n                            name: p,\n                            node: 1,\n                            expand: false,\n                            parent: idList[idList.length - 1],\n                            path: idList,\n                            levelNode: filterTypes.length - len\n                        })\n                    }\n                    stack.map(st => {\n                        list.push(st)\n                        list = [...list, ...elements.filter(e => !e.node\n                                && filterList.every(s => e[s.type] == s.value)\n                                && e.parent == st.id).map(i => {\n                                    return {\n                                        ...i,\n                                        path: [...idList, id, st.id],\n                                        levelNode: filterTypes.length - len + 2\n                                    }\n                                })]\n                    })\n                }\n            })\n            return list\n        },\n        applyFilters(){\n            let list = []\n            let filters = []\n            if(this.level) filters.push('level')\n            if(this.part) filters.push('part')\n            if(this.cname) filters.push('cname')\n            if(filters.length){\n                this.load = false\n                list = this.applyFiltersCycle(this.elements, this.propsList, filters, filters.length)\n                // list = this.setList(this.elements, filters)\n                this.load = true\n\n                this.items = list\n            }\n            else{\n                this.items = this.elements\n            }\n        },\n        expand(i){\n            i.expand = !i.expand\n            // this.items[i.id].expand = !i.expand\n            // let id = i.id\n            // this.items.map(i => {\n            //     if(i)\n            //     return i\n            // })\n        },\n        setElements(o, level = 0, parent = 0, path = []){\n            if(!o){\n                return []\n            }\n            let list = []\n            Object.entries(o).map(([k, v]) => {\n                    let id = uuidv4()\n                    if(!this.propsList.level.some(s => s == v.Level) && !!v.Level && !!v.Items){\n                        this.propsList.level.push(v.Level)\n                    }\n                    if(!this.propsList.part.some(s => s == v.GrouppedByCategories) && v.GrouppedByCategories && !!v.Items){\n                        this.propsList.part.push(v.GrouppedByCategories)\n                    }\n                    if(!this.propsList.cname.some(s => s == v.Class) && v.Class && !!v.Items){\n                        this.propsList.cname.push(v.Class)\n                    }\n\n                    list.push({\n                        id: id,\n                        type: v.Items ? 'elem' : 'item',\n                        elementId: k,\n                        name: v.Name,\n                        node: v.Items ? 1 : 0,\n                        expand: false,\n                        parent: parent,\n                        path: path,\n                        levelNode: level,\n                        part: v.GrouppedByCategories || null,\n                        level: v.Level || null,\n                        class: v.Class || null,\n                        cname: v.Class || null,\n                        classification: v.Classification || null,\n                        tech: v.TechnicalSystem || null,\n                        count: v.Count ? v.Count + ' шт.' : null,\n                        volume: v.Volume && v.VolumeUnit\n                            ? (v.Volume || null) + (v.VolumeUnit || null)\n                            : v.Volume\n                                ? v.Volume\n                                : null,\n                        area: v.Area && v.AreaUnit\n                            ? (v.Area || null) + (v.AreaUnit || null)\n                            : v.Area\n                                ? v.Area\n                                : null,\n                        length: v.Length && v.LengthUnit\n                            ? (v.Length || null) + (v.LengthUnit || null)\n                            : v.Length\n                                ? v.Length\n                                : null,\n                        height: v.Height && v.HeightUnits\n                            ? (v.Height || null) + (v.HeightUnits || null)\n                            : v.Height\n                                ? v.Height\n                                : null,\n                        levelId: v.LevelId || null\n                    })\n                    if(v.Items){\n                        let children = this.setElements(\n                            v.Items,\n                            (level + 1),\n                            id,\n                            [id]\n                        )\n                        list = [...list, ...children]\n                    }\n                })\n            return list\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n.panel-tabs--back{\n    &-group{\n        background-color: #eff6ff;\n    }\n    &-item{\n        background-color: #f7f7f7;\n    }\n}\n.panel-tabs--table{\n    height: 100%;\n    table tbody tr td, table thead tr th{\n        &:first-child{\n            // max-width: 20px !important;\n            padding-right: 4px !important;\n        }\n    }\n    .v-data-table__wrapper {\n        overflow-x: auto;\n        overflow-y: auto;\n        height: inherit;\n    }\n}\n.ml-16{\n    margin-left: 64px;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Components.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Components.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Components.vue?vue&type=template&id=7b2627be\"\nimport script from \"./Components.vue?vue&type=script&lang=js\"\nexport * from \"./Components.vue?vue&type=script&lang=js\"\nimport style0 from \"./Components.vue?vue&type=style&index=0&id=7b2627be&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\n    <v-card\n        class=\"m-card-scrollable\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Поиск элементов\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n\n        <div class=\"search\">\n            <!--<input type=\"text\" class=\"search-field\" v-model=\"message\" values='message' placeholder=\"Введите поисковый запроc\">\n            <v-btn outlined color=\"normal\" class=\"bottom_search\" @click=\"search()\"><img src=\"../../../../assets/fonts/search_icon.svg\" alt=\"\" class=\"search-icon\"></v-btn>-->\n\n\n            <v-text-field\n                v-model=\"message\"\n                :append-icon=\"'search'\"\n                clear-icon=\"mdi-close-circle\"\n                label=\"\"\n                type=\"text\"\n                hide-details\n                :placeholder=\"'Введите поисковый запроc'\"\n                @click:append=\"search\"\n            ></v-text-field>\n        </div>\n        <div class=\"treeviewCheckBox\">\n            <v-treeview  selectable :items=\"listTreeView\" @input=\"onSelected\" class=\"includeTreeView\"></v-treeview>\n        </div>\n        <v-card-actions class=\"bottoms\">\n                <v-btn outlined :color=\"one ? 'primary' : 'normal'\" class=\"m-btn m-btn--float\" :class=\"{'m-btn-normal': !one}\" @click=\"typeSearch = 'ID'; search(); setFilter('one');\">ID</v-btn>\n                <v-btn outlined :color=\"two ? 'primary' : 'normal'\" class=\"m-btn m-btn--float\" :class=\"{'m-btn-normal': !two}\" @click=\"typeSearch = 'Name'; search(); setFilter('two');\">Наименование</v-btn>\n                <v-btn outlined :color=\"three ? 'primary' : 'normal'\" class=\"m-btn m-btn--float\" :class=\"{'m-btn-normal': !three}\" @click=\"typeSearch = 'Parameters'; search(); setFilter('three');\">Свойства</v-btn>\n                <v-btn outlined :color=\"four ? 'primary' : 'normal'\" class=\"m-btn m-btn--float\" :class=\"{'m-btn-normal': !four}\" @click=\"typeSearch = 'Category'; search(); setFilter('four');\">Тип класса</v-btn>\n        </v-card-actions>\n        <v-card-title class=\"pa-0\">\n            <div class=\"bottom_id\">\n                <v-btn\n                    class=\"m-btn\"\n                    text\n                    tile\n                    dense\n                    :disabled=\"!list.length || !activeClsn\"\n                    :color=\"activeBox ? 'primary' : 'default'\"\n                    @click=\"turnActiveBox\">\n                    <v-icon\n                        left\n                        size=\"20\">trd-section</v-icon><span class=\"m-text--size12\">Показать</span>\n                </v-btn>\n\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!list.length\"\n                    :color=\"activeClsn && list.length? 'primary' : 'default'\"\n                    @onClick=\"turnActiveClsn\"\n                    >trd-cube_hide\n                </icon-botton>\n\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!list.length\"\n                    :color=\"activeOnly && list.length? 'primary' : 'default'\"\n                    @onClick=\"turnActiveOnly\"\n                    >trd-cube_show\n                </icon-botton>\n\n            </div>\n\n        </v-card-title>\n        <v-card-text\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n\n    <v-list dense>\n      <v-subheader class=\"panelResults\">Результат</v-subheader>\n      <v-list-item-group\n        v-model=\"selectedItem\"\n        color=\"primary\"\n      >\n        <v-list-item\n          v-for=\"(item, i) in ParamSearch\"\n          :key=\"i\"\n        >\n\n          <v-list-item-content class=\"resultsForPanel\">\n            <v-list-item-title v-if=\"typeSearch == 'Name'\" v-text=\"item.Name\"></v-list-item-title>\n            <v-list-item-title v-if=\"typeSearch == 'ID'\" v-text=\"item.id\"></v-list-item-title>\n            <v-list-item-title v-if=\"typeSearch == 'Parameters'\" v-text=\"item.ParametersAll\"></v-list-item-title>\n            <v-list-item-title v-if=\"typeSearch == 'Category'\" v-text=\"item.Category\"></v-list-item-title>\n\n          </v-list-item-content>\n        </v-list-item>\n      </v-list-item-group>\n    </v-list>\n\n        </v-card-text>\n\n    </v-card>\n\n</template>\n\n<script>\nimport IconBotton from '@/components/custom/IconBotton'\nimport Components from './panel-tabs/Components'\n\nexport default {\n    name: 'PanelSearch',\n    components: {\n        IconBotton\n    },\n    props: ['menuItem', 'list', 'postMessage','worker','ParamSearch','styleP'],\n    data(){\n        return {\n            mode: [{\n                name: 'clsn',\n                value: false\n            },{\n                name: 'box',\n                value: false\n            },{\n                name: 'only',\n                value: false\n            }],\n            items: [],\n            minimize: false,\n            message: '',\n            typeSearch: 'Name',\n            searchWord: '',\n            one: false,\n            two: true,\n            three: false,\n            four: false,\n            choiceRegistr: false,\n            choiceWholly: false,\n            listTreeView: [\n                {\n                    name: '',\n                    children: [\n                        { id: 1, name: 'Учитывать регистр'},\n                        { id: 2, name: 'Значение целиком'},\n                    ]\n                }\n            ],\n            selectedItem: 0\n        }\n    },\n    computed: {\n        activeClsn: {\n            get(){\n                return this.mode.find(f => f.name == 'clsn').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'clsn'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        activeBox: {\n            get(){\n                return this.mode.find(f => f.name == 'box').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'box'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        activeOnly: {\n            get(){\n                return this.mode.find(f => f.name == 'only').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'only'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n    },\n    watch: {\n        menuItem: {\n            handler(v){\n                if(!v.active){\n                    if(this.activeClsn){\n                        this.turnActiveClsn()\n                    }\n                    if(this.activeOnly){\n                        this.turnActiveOnly()\n                    }\n                }\n            },\n            deep: true\n        },\n        list(v){\n            if(v){\n                if(this.activeClsn){\n                    this.onActiveMode('clsn', false)\n                }\n                this.items = v\n                this.mode.map(m => {\n                    if(m.value){\n                        this.onActiveMode(m.name, true)\n                    }\n                })\n            }\n            else{\n                if(this.activeClsn){\n                    this.turnActiveClsn()\n                }\n                if(this.activeOnly){\n                    this.turnActiveOnly()\n                }\n            }\n        }\n    },\n    methods: {\n        onSelected(e) {\n            this.choiceRegistr = false;\n            this.choiceWholly = false;\n\n            if ((e[0] == '1') || (e[1]) == '1'){\n                this.choiceRegistr = true;\n            }\n\n            if ((e[0] == '2') || (e[1]) == '2'){\n                this.choiceWholly = true;\n            }\n        },\n         setFilter(filter){\n            switch(filter){\n                case 'one': this.one = !this.one; this.four = false; this.two = false; this.three = false;\n                    break\n                case 'two': this.two = !this.two; this.one = false; this.four = false; this.three = false;\n                    break\n                case 'three': this.three = !this.three; this.one = false; this.two = false; this.four = false;\n                    break\n                case 'four': this.four = !this.four; this.one = false; this.two = false; this.three = false;\n                    break\n                default: ;\n            }\n        },\n        changeRegistr(){\n            console.log('WORRRRk');\n        },\n        search(){\n            if (this.message == ''){\n                console.log('searchWord == none ');\n                // this.ParamSearch = []\n                this.$emit('update:ParamSearch', [])\n                // this.list = [];\n                this.$emit('update:list', [])\n            }\n            else{\n                this.searchWord = this.message;\n                this.worker.postMessage({\n                    action: 'getSearch',\n                    value: {TypeSearch: this.typeSearch, SearchWord: this.searchWord, choiceRegistr: this.choiceRegistr, choiceWholly: this.choiceWholly}\n                })\n            }\n        },\n        cancel(){\n            this.$emit('update:ParamSearch', [])\n            this.$emit('update:list', [])\n            this.$emit('setOption', this.menuItem)\n        },\n        setResultsSearch(){\n            console.log('this is setResultsSearch');\n        },\n        turnActiveClsn(){\n            this.list = [];\n            this.list.push(this.ParamSearch[this.selectedItem]['id']);\n\n            this.activeClsn = !this.activeClsn\n            if(this.activeOnly){\n                this.onActiveMode('only', false)\n                this.activeOnly = false\n            }\n            if(!this.activeClsn){\n                if(this.activeBox){\n                    this.turnActiveBox()\n                }\n            }\n            this.onActiveMode('clsn', this.activeClsn)\n        },\n        turnActiveBox(){\n            this.list = [];\n            this.list.push(this.ParamSearch[this.selectedItem]['id']);\n\n            this.activeBox = !this.activeBox\n            if(this.activeOnly){\n                this.onActiveMode('only', false)\n                this.activeOnly = false\n            }\n            this.onActiveMode('box', this.activeBox)\n        },\n        turnActiveOnly(){\n\n            this.list = [];\n            this.list.push(this.ParamSearch[this.selectedItem]['id']);\n\n            this.activeOnly = !this.activeOnly\n            if(this.activeBox){\n                this.onActiveMode('box', false)\n                this.activeBox = false\n            }\n            if(this.activeClsn){\n                this.onActiveMode('clsn', false)\n                this.activeClsn = false\n            }\n            this.onActiveMode('only', this.activeOnly)\n        },\n        onActiveMode(mode, a){\n            let items = this.items\n            if(!items.length){\n                return\n            }\n\n            switch(mode){\n                case 'clsn':\n                    this.onObjectsHighlight({list: items, active: a})\n                    break\n                case 'box':\n                    this.onCreateSectionBoxForObjects({list: items, active: a})\n                    break\n                case 'only':\n                    this.onShowObjectsOnly({list: items, active: a})\n                    break\n                default: ;\n            }\n        },\n        onObjectsHighlight(v){\n            this.postMessage({\n                action: 'onObjectsHighlight',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onShowObjectsOnly(v){\n            this.postMessage({\n                action: 'onShowObjectsOnly',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onCreateSectionBoxForObjects(v){\n            this.postMessage({\n                action: 'onCreateSectionBoxForObjects',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n    },\n}\n</script>\n\n\n<style lang=\"less\">\n.panel-tabs--options{\n    min-width: 300px;\n    height: 100%;\n    z-index: 100;\n}\n.panel-tabs--wrap{\n    flex: 1 1 auto;\n    overflow-y: auto;\n}\n\n&.v-application--is-ltr .v-card__actions > .v-btn.v-btn + .v-btn.m-btn--float {\n    margin-left: 0 !important;\n}\n&.v-application--is-ltr .v-card__actions > .v-btn.v-btn.m-btn--float{\n    margin-right: 8px !important;\n    margin-bottom: 8px !important;\n}\n\n.namePanelSearch{\n    margin-left: 5px;\n    font-size: 14px;\n    font-weight: 300;\n\n}\n\n.bottoms {\n  width: 30px;\n  height: 20px;\n  margin-right: 20px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-left: 10px;\n}\n\n.search {\n  display: inline-flex;\n  padding: 10px;\n  margin-left: 10px;\n}\n\n.search-icon {\n  width: 20px;\n  height: 20px;\n  margin-right: 15px;\n  order: -1;\n}\n\n.bottom_search{\n    border:0\n}\n\n.bottom_id{\n    margin-left: 10px;\n}\n\n.search-field {\n  width: 250px;\n  border: 0;\n  padding: 0 0 0 0px;\n  margin: 0 0 0 0px;\n}\n\n.search-field:focus {\n  outline: none;\n}\n\n.panelParamSearch{\n    width: 5px;\n    margin-bottom: 0px;\n    padding-bottom: 0px;\n}\n\n.doubleParamSearch{\n    width: 5px;\n    height: 5px;\n    margin-bottom: 0px;\n    padding-bottom: 0px;\n}\n\n.panelResults{\n    margin-left: 15px;\n}\n\n.resultsForPanel{\n    margin-left: 10px;\n}\n\n.checkboxSize{\n    border: 0;\n    outline: 0;\n    margin-top: 1px;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    background:transparent\n}\n\nbutton.v-treeview-node__toggle + button.v-treeview-node__checkbox {\ndisplay: none !important;\n}\n\n.includeTreeView{\n    font-size: 12px;\n    font-weight: 300;\n\n}\n\n.treeviewCheckBox{\n    padding: 0 0 0 0px;\n    margin-left: 5px;\n    margin-top: 0px;\n\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelSearch.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelSearch.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelSearch.vue?vue&type=template&id=78e4b966\"\nimport script from \"./PanelSearch.vue?vue&type=script&lang=js\"\nexport * from \"./PanelSearch.vue?vue&type=script&lang=js\"\nimport style0 from \"./PanelSearch.vue?vue&type=style&index=0&id=78e4b966&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Правила проверки\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardTitle,{staticClass:\"pa-0\"},[_c('div',{staticClass:\"pr-0 pl-4 py-1 m-panel__collision--options\"},[_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.compute_ready},on:{\"onClick\":function($event){_vm.component = 'RulesSelect'}}},[_vm._v(\"trd-template\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.compute_ready},on:{\"onClick\":function($event){_vm.component = 'GroupAdd'}}},[_vm._v(\"trd-group-add\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.checkGroups || !_vm.compute_ready},on:{\"onClick\":_vm.removeItem}},[_vm._v(\"trd-group-delete\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.compute_ready},on:{\"onClick\":function($event){_vm.component = 'RulesTypes'}}},[_vm._v(\"trd-rules-add\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.checkRules || !_vm.compute_ready},on:{\"onClick\":_vm.removeItem}},[_vm._v(\"trd-rules-delete\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!(_vm.checkGroups || _vm.checkRules) || !_vm.compute_ready},on:{\"onClick\":_vm.editItem}},[_vm._v(\"trd-edit\\n            \")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"small\":\"\",\"tile\":\"\",\"color\":\"primary\",\"disabled\":!_vm.checkRules || !_vm.compute_ready},on:{\"click\":_vm.onComputeCollisions}},[_c(VIcon,{attrs:{\"left\":\"\",\"size\":\"20\"}},[_vm._v(\"\\n                    trd-checked\\n                \")]),_vm._v(\"\\n                Проверить\\n            \")],1)],1)]),_c(VDivider,{staticClass:\"pb-2\"}),_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[_c(VSkeletonLoader,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.compute_ready),expression:\"!compute_ready\"}],attrs:{\"type\":\"list-item-three-line, list-item-three-line\"}}),_c(VTreeview,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compute_ready),expression:\"compute_ready\"}],key:_vm.change,staticClass:\"m-panel__collision--tree m-text--size12\",attrs:{\"active\":_vm.selected,\"items\":_vm.getGroups,\"return-object\":\"\",\"dense\":\"\",\"activatable\":\"\",\"expand-icon\":\"mdi-chevron-down\",\"transition\":\"\",\"item-key\":\"id\"},on:{\"update:active\":function($event){_vm.selected=$event}},scopedSlots:_vm._u([{key:\"prepend\",fn:function({item}){return [_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                    \"+_vm._s('trd-' + item.type)+\"\\n                \")])]}},{key:\"append\",fn:function({item}){return [(item.status != -1)?[(!item.status)?_c(VIcon,{attrs:{\"size\":\"20\",\"color\":\"error\"}},[_vm._v(\"\\n                        mdi-alert-outline\\n                    \")]):(item.status)?_c(VIcon,{attrs:{\"size\":\"20\",\"color\":\"success\"}},[_vm._v(\"\\n                        trd-checked-ok\\n                    \")]):_vm._e()]:_vm._e()]}}])})],1),_c('dialog-view',{attrs:{\"component\":_vm.component,\"temp\":_vm.temp,\"model\":_vm.model,\"componentNames\":_vm.componentNames,\"source\":_vm.source,\"elementParameters\":_vm.elementParameters},on:{\"update:component\":function($event){_vm.component=$event},\"update:temp\":function($event){_vm.temp=$event},\"update:componentNames\":function($event){_vm.componentNames=$event},\"update:component-names\":function($event){_vm.componentNames=$event},\"update:elementParameters\":function($event){_vm.elementParameters=$event},\"update:element-parameters\":function($event){_vm.elementParameters=$event},\"updateTemp\":_vm.updateTemp,\"saveMeta\":_vm.saveMeta,\"cancel\":_vm.hideDialog}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VDialog } from 'vuetify/lib/components/VDialog';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{staticClass:\"m-panel__collision\",attrs:{\"hide-overlay\":\"\",\"value\":_vm.component,\"scrollable\":\"\",\"max-width\":\"800px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(_vm.component,{tag:\"component\",attrs:{\"temp\":_vm.temp,\"elementParameters\":_vm.elementParameters,\"componentNames\":_vm.componentNames,\"source\":_vm.source,\"model\":_vm.model},on:{\"update:elementParameters\":function($event){_vm.elementParameters=$event},\"update:element-parameters\":function($event){_vm.elementParameters=$event},\"update:componentNames\":function($event){_vm.componentNames=$event},\"update:component-names\":function($event){_vm.componentNames=$event},\"setComponent\":_vm.setComponent,\"setParams\":_vm.setParams,\"save\":_vm.save,\"cancel\":_vm.cancel}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__collision\"},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        Тип проверки\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pb-3\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c(VRadioGroup,{staticClass:\"mt-0\",model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_c(VList,{staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c(VListItemGroup,{on:{\"change\":_vm.onChange},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c(VListItem,{staticClass:\"pt-4\",attrs:{\"value\":\"geom\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ active }){return [_c(VListItemAction,{staticClass:\"mb-0 mr-3 flex-row align-baseline\"},[_c(VRadio,{staticClass:\"mr-2\",attrs:{\"value\":\"geom\"}}),_c(VIcon,[_vm._v(\"table-collision\")])],1),_c(VListItemContent,[_c(VListItemTitle,{staticClass:\"pb-2\"},[_vm._v(\"Геометрические коллизии\")]),_c(VListItemSubtitle,[_vm._v(\"Укажите параметры проверки между геометрическими элементами.\")])],1)]}}])}),_c(VDivider),_c(VListItem,{staticClass:\"pt-4\",attrs:{\"value\":\"params\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ active }){return [_c(VListItemAction,{staticClass:\"mb-0 mr-3 flex-row align-baseline\"},[_c(VRadio,{staticClass:\"mr-2\",attrs:{\"value\":\"params\"}}),_c(VIcon,[_vm._v(\"trd-info-1\")])],1),_c(VListItemContent,[_c(VListItemTitle,{staticClass:\"pb-2\"},[_vm._v(\"Параметры элемента\")]),_c(VListItemSubtitle,[_vm._v(\"Создайте проверку по атрибутивной информации элементов.\")])],1)]}}])}),_c(VDivider),_c(VListItem,{staticClass:\"pt-4\",attrs:{\"value\":\"repeat\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ active }){return [_c(VListItemAction,{staticClass:\"mb-0 mr-3 flex-row align-baseline\"},[_c(VRadio,{staticClass:\"mr-2\",attrs:{\"value\":\"repeat\"}}),_c(VIcon,[_vm._v(\"trd-repeat-line\")])],1),_c(VListItemContent,[_c(VListItemTitle,{staticClass:\"pb-2\"},[_vm._v(\"Дублирование элементов\")]),_c(VListItemSubtitle,[_vm._v(\"Проверить, чтобы не было повторяющихся элементов, что приводит к некорректной выгрузке элементов.\")])],1)]}}])}),_c(VDivider)],1)],1)],1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cancel.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.setComponent}},[_vm._v(\"Выбрать\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-panel__collision\">\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Тип проверки\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"pb-3\" style=\"background-color: #fbfbfb;\">\n            <v-radio-group\n                class=\"mt-0\"\n                v-model=\"type\"\n                >\n                <v-list style=\"background-color: #fbfbfb;\">\n                    <v-list-item-group\n                        v-model=\"selected\"\n                        @change=\"onChange\"\n                        >\n                        <v-list-item value=\"geom\" class=\"pt-4\">\n                            <template v-slot:default=\"{ active }\">\n                                <v-list-item-action class='mb-0 mr-3 flex-row align-baseline'>\n                                    <v-radio\n                                        value=\"geom\"\n                                        class=\"mr-2\"\n                                    ></v-radio>\n                                    <v-icon>table-collision</v-icon>\n                                </v-list-item-action>\n\n                                <v-list-item-content>\n                                    <v-list-item-title class=\"pb-2\">Геометрические коллизии</v-list-item-title>\n                                    <v-list-item-subtitle>Укажите параметры проверки между геометрическими элементами.</v-list-item-subtitle>\n                                </v-list-item-content>\n                            </template>\n                        </v-list-item>\n                        <v-divider></v-divider>\n                    <!--\n                        <v-list-item value=\"another\" class=\"pt-4\">\n                            <template v-slot:default=\"{ active }\">\n                                <v-list-item-action class='mb-0 mr-3 flex-row align-baseline'>\n                                    <v-radio\n                                        value=\"another\"\n                                        class=\"mr-2\"\n                                    ></v-radio>\n                                    <v-icon>trd-zone</v-icon>\n                                </v-list-item-action>\n\n                                <v-list-item-content>\n                                    <v-list-item-title class=\"pb-2\">Проверка помещения</v-list-item-title>\n                                    <v-list-item-subtitle>Можно создать параметры для проверки площади помещении и другие типы проверок.</v-list-item-subtitle>\n                                </v-list-item-content>\n                            </template>\n                        </v-list-item>\n                        <v-divider></v-divider>\n                    -->\n\n                        <v-list-item value=\"params\" class=\"pt-4\">\n                            <template v-slot:default=\"{ active }\">\n                                <v-list-item-action class='mb-0 mr-3 flex-row align-baseline'>\n                                    <v-radio\n                                        value=\"params\"\n                                        class=\"mr-2\"\n                                    ></v-radio>\n                                    <v-icon>trd-info-1</v-icon>\n                                </v-list-item-action>\n\n                                <v-list-item-content>\n                                    <v-list-item-title class=\"pb-2\">Параметры элемента</v-list-item-title>\n                                    <v-list-item-subtitle>Создайте проверку по атрибутивной информации элементов.</v-list-item-subtitle>\n                                </v-list-item-content>\n                            </template>\n                        </v-list-item>\n                        <v-divider></v-divider>\n\n                        <v-list-item value=\"repeat\" class=\"pt-4\">\n                            <template v-slot:default=\"{ active }\">\n                                <v-list-item-action class='mb-0 mr-3 flex-row align-baseline'>\n                                    <v-radio\n                                        value=\"repeat\"\n                                        class=\"mr-2\"\n                                    ></v-radio>\n                                    <v-icon>trd-repeat-line</v-icon>\n                                </v-list-item-action>\n\n                                <v-list-item-content>\n                                    <v-list-item-title class=\"pb-2\">Дублирование элементов</v-list-item-title>\n                                    <v-list-item-subtitle>Проверить, чтобы не было повторяющихся элементов, что приводит к некорректной выгрузке элементов.</v-list-item-subtitle>\n                                </v-list-item-content>\n                            </template>\n                        </v-list-item>\n                        <v-divider></v-divider>\n                    </v-list-item-group>\n                </v-list>\n            </v-radio-group>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"cancel\">Отмена</v-btn>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"setComponent\">Выбрать\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\n\nexport default {\n    name: 'RulesTypes',\n    props: ['temp'],\n    data(){\n        return {\n            type: '',\n            selected: [],\n            parts: {\n                geom: 'RulesSettings',\n                params: 'RulesSettingsParams',\n                repeat: 'RulesSettingsRepeat'\n            }\n        }\n    },\n    methods: {\n        onChange(v){\n            this.type = v.toString()\n        },\n        cancel(){\n            this.$emit('cancel')\n        },\n        setComponent(){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...this.temp, part: this.type}\n            this.$emit('setParams', update)\n            this.$emit('setComponent', this.parts[this.type])\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        },\n        mounted(){\n            document.addEventListener('keyup', this.enter, false)\n        },\n        beforeDestroy(){\n            document.removeEventListener('keyup', this.enter, false)\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesTypes.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesTypes.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RulesTypes.vue?vue&type=template&id=298b4487\"\nimport script from \"./RulesTypes.vue?vue&type=script&lang=js\"\nexport * from \"./RulesTypes.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__collision\"},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        Геометрические коллизии\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pa-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"m-text--size14 m-text--color-black pb-3\"},[_vm._v(\"\\n            Укажите между какими элементами нужно найти геометрический коллизии.\\n        \")]),_c('div',{staticClass:\"m-text--size12 m-text--color-black\"},[_vm._v(\"\\n            Выбрать набор правил\\n        \")]),_c(VSelect,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\",\"label\":\"\",\"placeholder\":\" \",\"items\":_vm.groupList,\"item-text\":\"name\",\"item-value\":\"id\",\"return-object\":\"\",\"append-outer-icon\":\"trd-group-add\",\"hide-details\":\"\"},on:{\"click:append-outer\":function($event){return _vm.groupAdd()}},model:{value:(_vm.group),callback:function ($$v) {_vm.group=$$v},expression:\"group\"}}),_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n            Название проверки\\n        \")]),_c(VTextField,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\"},model:{value:(_vm.ruleName),callback:function ($$v) {_vm.ruleName=$$v},expression:\"ruleName\"}}),_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n            Описание\\n        \")]),_c(VTextarea,{attrs:{\"placeholder\":\" \",\"label\":\"\",\"multi-line\":\"\",\"rows\":\"2\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c('div',{staticClass:\"m-text--size12 m-text--color-black\"},[_vm._v(\"\\n            Выбрать тип стандарта\\n        \")]),_c(VSelect,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\",\"label\":\"\",\"placeholder\":\" \",\"items\":_vm.standartList,\"item-text\":\"title\",\"item-value\":\"value\"},on:{\"change\":_vm.setStandart},model:{value:(_vm.standart),callback:function ($$v) {_vm.standart=$$v},expression:\"standart\"}}),_c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":6}},[_c(VCard,{staticClass:\"mr-2 pa-0\",attrs:{\"flat\":\"\",\"min-height\":\"250\",\"outlined\":\"\"}},[_c(VCardText,{staticClass:\"m-text--color-black pa-0\"},[_c(VList,{staticClass:\"pa-0\",attrs:{\"flat\":\"\",\"dense\":\"\"}},[_c(VListItemGroup,{staticClass:\"pa-0\",attrs:{\"multiple\":\"\",\"color\":\"primary\"},model:{value:(_vm.list_1_selected),callback:function ($$v) {_vm.list_1_selected=$$v},expression:\"list_1_selected\"}},_vm._l((_vm.list_1),function(item){return _c(VListItem,{key:item,staticClass:\"m-panel__collision--list-item\",attrs:{\"dense\":\"\",\"value\":item}},[_vm._v(_vm._s(item)+\"\\n                                \")])}),1)],1)],1)],1),_c(VCardActions,[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"disabled\":!_vm.standart,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.elementAdd(1)}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\"Добавить элемент\\n                    \")],1),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"disabled\":!_vm.list_1_selected.length},on:{\"click\":function($event){return _vm.removeElement('list_1')}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"trd-trash\")]),_vm._v(\"Удалить\\n                    \")],1)],1)],1),_c(VCol,{attrs:{\"cols\":6}},[_c(VCard,{staticClass:\"ml-2 pa-0\",attrs:{\"flat\":\"\",\"min-height\":\"250\",\"outlined\":\"\"}},[_c(VCardText,{staticClass:\"m-text--color-black pa-0\"},[_c(VList,{staticClass:\"pa-0\",attrs:{\"flat\":\"\",\"dense\":\"\"}},[_c(VListItemGroup,{staticClass:\"pa-0\",attrs:{\"multiple\":\"\",\"color\":\"primary\"},model:{value:(_vm.list_2_selected),callback:function ($$v) {_vm.list_2_selected=$$v},expression:\"list_2_selected\"}},_vm._l((_vm.list_2),function(item){return _c(VListItem,{key:item,staticClass:\"m-panel__collision--list-item\",attrs:{\"dense\":\"\",\"value\":item}},[_vm._v(_vm._s(item)+\"\\n                                \")])}),1)],1)],1)],1),_c(VCardActions,[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"disabled\":!_vm.standart,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.elementAdd(2)}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\"Добавить элемент\\n                    \")],1),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"disabled\":!_vm.list_2_selected.length},on:{\"click\":function($event){return _vm.removeElement('list_2')}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"trd-trash\")]),_vm._v(\"Удалить\\n                    \")],1)],1)],1)],1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"disabled\":!_vm.verify,\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveTemplate}},[_vm._v(\"Сохранить как шаблон\\n        \")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"disabled\":!_vm.verify,\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveRules}},[_vm._v(\"Сохранить\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-panel__collision\">\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Геометрические коллизии\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"pa-4\" style=\"background-color: #fbfbfb;\">\n            <div class=\"m-text--size14 m-text--color-black pb-3\">\n                Укажите между какими элементами нужно найти геометрический коллизии.\n            </div>\n            <div class=\"m-text--size12 m-text--color-black \">\n                Выбрать набор правил\n            </div>\n            <v-select\n                class=\"m-text--size14\"\n                dense\n                label=\"\"\n                placeholder=\" \"\n                v-model=\"group\"\n                :items=\"groupList\"\n                item-text=\"name\"\n                item-value=\"id\"\n                return-object\n                append-outer-icon=\"trd-group-add\"\n                @click:append-outer=\"groupAdd()\"\n                hide-details\n            />\n            <div class=\"m-text--size12 m-text--color-black pt-4\">\n                Название проверки\n            </div>\n            <v-text-field\n                v-model=\"ruleName\"\n                class=\"m-text--size14\"\n                dense\n            ></v-text-field>\n            <div class=\"m-text--size12 m-text--color-black pt-4\">\n                Описание\n            </div>\n            <v-textarea\n                placeholder=\" \"\n                label=\"\"\n                v-model=\"description\"\n                multi-line\n                rows=\"2\">\n            </v-textarea>\n            <div class=\"m-text--size12 m-text--color-black \">\n                Выбрать тип стандарта\n            </div>\n            <v-select\n                class=\"m-text--size14\"\n                dense\n                label=\"\"\n                placeholder=\" \"\n                v-model=\"standart\"\n                :items=\"standartList\"\n                @change=\"setStandart\"\n                item-text=\"title\"\n                item-value=\"value\"\n            />\n            <v-row dense>\n                <v-col\n                    :cols=\"6\"\n                >\n                    <v-card\n                        class=\"mr-2 pa-0\"\n                        flat\n                        min-height=\"250\"\n                        outlined\n                        >\n                        <v-card-text class=\"m-text--color-black pa-0\">\n                            <v-list flat dense class=\"pa-0\">\n                                <v-list-item-group\n                                    v-model=\"list_1_selected\"\n                                    multiple\n                                    color=\"primary\"\n                                    class=\"pa-0\">\n                                    <v-list-item\n                                        v-for=\"item in list_1\"\n                                        class=\"m-panel__collision--list-item\"\n                                        dense\n                                        :key=\"item\"\n                                        :value=\"item\"\n                                        >{{item}}\n                                    </v-list-item>\n                                </v-list-item-group>\n                            </v-list>\n                        </v-card-text>\n                    </v-card>\n                    <v-card-actions>\n                        <v-btn\n                            text\n                            :disabled=\"!standart\"\n                            @click=\"elementAdd(1)\"\n                            color=\"primary\"\n                            class=\"m-btn\">\n                            <v-icon\n                                size=\"20\"\n                                left>mdi-plus-circle-outline</v-icon>Добавить элемент\n                        </v-btn>\n                        <v-btn\n                            text\n                            :disabled=\"!list_1_selected.length\"\n                            @click=\"removeElement('list_1')\"\n                            class=\"m-btn\">\n                            <v-icon\n                                size=\"20\"\n                                left>trd-trash</v-icon>Удалить\n                        </v-btn>\n                    </v-card-actions>\n                </v-col>\n\n                <v-col\n                    :cols=\"6\"\n                >\n                    <v-card\n                        class=\"ml-2 pa-0\"\n                        flat\n                        min-height=\"250\"\n                        outlined\n                    >\n                        <v-card-text class=\"m-text--color-black pa-0\">\n                            <v-list flat dense class=\"pa-0\">\n                                <v-list-item-group\n                                    v-model=\"list_2_selected\"\n                                    multiple\n                                    color=\"primary\"\n                                    class=\"pa-0\">\n                                    <v-list-item\n                                        v-for=\"item in list_2\"\n                                        class=\"m-panel__collision--list-item\"\n                                        dense\n                                        :key=\"item\"\n                                        :value=\"item\"\n                                        >{{item}}\n                                    </v-list-item>\n                                </v-list-item-group>\n                            </v-list>\n                        </v-card-text>\n                    </v-card>\n                    <v-card-actions>\n                        <v-btn\n                            text\n                            :disabled=\"!standart\"\n                            @click=\"elementAdd(2)\"\n                            color=\"primary\"\n                            class=\"m-btn\">\n                            <v-icon\n                                size=\"20\"\n                                left>mdi-plus-circle-outline</v-icon>Добавить элемент\n                        </v-btn>\n                        <v-btn\n                            text\n                            :disabled=\"!list_2_selected.length\"\n                            @click=\"removeElement('list_2')\"\n                            class=\"m-btn\">\n                            <v-icon\n                                size=\"20\"\n                                left>trd-trash</v-icon>Удалить\n                        </v-btn>\n                    </v-card-actions>\n                </v-col>\n            </v-row>\n\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-btn\n                :disabled=\"!verify\"\n                outlined\n                color=\"primary\"\n                class=\"m-btn\"\n                @click=\"saveTemplate\">Сохранить как шаблон\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"back\">Отмена</v-btn>\n            <v-btn :disabled=\"!verify\" outlined color=\"primary\" class=\"m-btn\" @click=\"saveRules\">Сохранить\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\nexport default {\n    name: 'RulesSettings',\n    props: ['temp', 'componentNames'],\n    data(){\n        return {\n            group: this.temp.group || '',\n            ruleName: this.temp.ruleName || '',\n            list_1_selected: [],\n            list_2_selected: [],\n            description: this.temp.desc || '',\n            standart: this.temp.std || '',\n            standartList: [{\n                    name: 'ksi',\n                    value: 'ksi',\n                    title: 'Классификатор строительной информации'\n                },{\n                    name: 'bim',\n                    value: 'bim',\n                    title: 'BIM Standart'\n            }]\n        }\n    },\n    computed: {\n        groupList(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            return groups // groups.filter(f => f.part == 'geom' || f.part == null)\n        },\n        groupAll(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            return groups\n        },\n        list_1(){\n            if(!this.standart){\n                return []\n            }\n            else{\n                let list = Object.keys(this.componentNames[this.standart])\n                let temp_list = this.temp.list_1 || []\n                return list.filter(f => temp_list.some(s => s == f))\n            }\n        },\n        list_2(){\n            if(!this.standart){\n                return []\n            }\n            else{\n                let list = Object.keys(this.componentNames[this.standart])\n                let temp_list = this.temp.list_2 || []\n                return list.filter(f => temp_list.some(s => s == f))\n            }\n        },\n        verify(){\n            return !!this.group && !!this.ruleName && !!this.list_1.length && !!this.list_2.length\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('cancel')\n        },\n        back(){\n            this.$emit('setParams', {})\n            this.setComponent()\n        },\n        removeElement(l){\n            let list = this[l].filter(f => !this[l + '_selected'].some(s => s == f))\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update, [l]: list}\n            this[l + '_selected'] = []\n            this.$emit('setParams', update)\n        },\n        setComponent(v){\n            this.$emit('setComponent', v)\n        },\n        setStandart(v){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update,\n                    std: v\n                }\n            this.$emit('setParams', update)\n        },\n        elementAdd(l){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update,\n                    list: l,\n                    ruleName: this.ruleName,\n                    group: this.group,\n                    desc: this.description\n                }\n            this.$emit('setParams', update)\n            this.setComponent('RulesElement')\n        },\n        groupAdd(){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update,\n                    ruleName: this.ruleName,\n                    group: this.group,\n                    desc: this.description\n                }\n            this.$emit('setParams', update)\n            this.setComponent('GroupAdd')\n        },\n        saveRules(){\n            this.$emit('save', {groups: this.groupAll.map(g => {\n                if(g.id == this.group.id){\n                    return {\n                        ...g,\n                        part: 'geom',\n                        children: !!this.temp.edit\n                            ? g.children.map(c => {\n                                if(c.id == this.temp.edit){\n                                    c.part = 'geom'\n                                    c.std = this.standart\n                                    c.name = this.ruleName\n                                    c.list_1 = this.list_1\n                                    c.list_2 = this.list_2\n                                    c.desc = this.description\n                                }\n\n                                return c\n                        })\n                            : [...g.children, {\n                            id: uuidv4(),\n                            parent: g.id,\n                            type: 'rules',\n                            part: 'geom',\n                            std: this.standart,\n                            name: this.ruleName,\n                            status: -1,\n                            list_1: this.list_1,\n                            list_2: this.list_2,\n                            desc: this.description\n                        }]\n                    }\n                }\n                else{\n                    return g\n                }\n            })})\n            this.cancel()\n        },\n        saveTemplate(){\n            let templates = this.$store.state.workflow.templates_collision\n            let group = templates.find(f => f.name == this.group.name)\n            if(group){\n                let ruleName = this.ruleName\n                let ruleId = uuidv4()\n                group.children.map(c => {\n                    if(c.name == ruleName){\n                        ruleName += '_' + ruleId\n                    }\n                })\n                group = {\n                    ...group,\n                    part: 'geom',\n                    children: [...group.children, {\n                        id: ruleId,\n                        parent: group.id,\n                        type: 'rules',\n                        part: 'geom',\n                        std: this.standart,\n                        name: ruleName,\n                        status: -1,\n                        list_1: this.list_1,\n                        list_2: this.list_2,\n                        desc: this.description\n                    }]\n                }\n            }\n            else{\n                let groupId = uuidv4()\n                group = {\n                    id: groupId,\n                    name: this.group.name,\n                    status: -1,\n                    part: 'geom',\n                    type: 'group',\n                    children: [{\n                        id: uuidv4(),\n                        parent: groupId,\n                        type: 'rules',\n                        part: 'geom',\n                        std: this.standart,\n                        name: this.ruleName,\n                        status: -1,\n                        list_1: this.list_1,\n                        list_2: this.list_2,\n                        desc: this.description\n                    }]\n                }\n            }\n            this.$store.dispatch('workflow/updateCollisionTemplates', [group])\n            .then(res => {\n                if(res.error){\n                    this.$notify({\n                        group: 'note',\n                        type: 'error',\n                        text: 'Ошибка сохранения шаблона. ' + res.data.error\n                    })\n                }\n                else{\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Шаблон сохранен.'\n                    })\n                }\n            })\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        }\n    },\n    mounted(){\n        document.addEventListener('keyup', this.enter, false)\n    },\n    beforeDestroy(){\n        document.removeEventListener('keyup', this.enter, false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSettings.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSettings.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RulesSettings.vue?vue&type=template&id=500da00b\"\nimport script from \"./RulesSettings.vue?vue&type=script&lang=js\"\nexport * from \"./RulesSettings.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__collision\"},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        Параметры элемента\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pa-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"m-text--size14 m-text--color-black pb-3\"},[_vm._v(\"\\n            Укажите между какими элементами нужно найти геометрический коллизии.\\n        \")]),_c('div',{staticClass:\"m-text--size12 m-text--color-black\"},[_vm._v(\"\\n            Выбрать набор правил\\n        \")]),_c(VSelect,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\",\"label\":\"\",\"placeholder\":\" \",\"items\":_vm.groupList,\"item-text\":\"name\",\"item-value\":\"id\",\"return-object\":\"\",\"append-outer-icon\":\"trd-group-add\",\"hide-details\":\"\"},on:{\"click:append-outer\":function($event){return _vm.groupAdd()}},model:{value:(_vm.group),callback:function ($$v) {_vm.group=$$v},expression:\"group\"}}),_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n            Название проверки\\n        \")]),_c(VTextField,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\"},model:{value:(_vm.ruleName),callback:function ($$v) {_vm.ruleName=$$v},expression:\"ruleName\"}}),_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n            Описание\\n        \")]),_c(VTextarea,{attrs:{\"placeholder\":\" \",\"label\":\"\",\"multi-line\":\"\",\"rows\":\"2\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c('div',{staticClass:\"m-text--size12 m-text--color-black\"},[_vm._v(\"\\n            Выбрать тип стандарта\\n        \")]),_c(VSelect,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\",\"label\":\"\",\"placeholder\":\" \",\"items\":_vm.standartList,\"item-text\":\"title\",\"item-value\":\"value\"},on:{\"change\":_vm.setStandart},model:{value:(_vm.standart),callback:function ($$v) {_vm.standart=$$v},expression:\"standart\"}}),_vm._l((_vm.getElements),function(item){return _c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":12}},[_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n                    Название элемента\\n                \")]),_c('div',{staticClass:\"d-flex\"},[_c(VTextField,{staticClass:\"m-text--size14\",attrs:{\"value\":item.name,\"readonly\":\"\",\"dense\":\"\"}}),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.removeElement(item)}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"trd-trash\")]),_vm._v(\"Удалить\\n                    \")],1)],1),_c(VCard,{staticClass:\"pa-0\",attrs:{\"min-height\":\"80\",\"outlined\":\"\"}},[_c(VCardText,{staticClass:\"m-text--color-black pa-0\"},[_c(VList,{staticClass:\"pa-0\",attrs:{\"flat\":\"\",\"dense\":\"\"}},_vm._l((item.values),function(value){return _c(VListItem,{key:value.name,staticClass:\"m-panel__collision--list-item\",class:{'v-list-item--active': item.selected.some(s => s == value.name)},attrs:{\"dense\":\"\",\"color\":'primary',\"value\":value.name}},[_c('div',{staticClass:\"m-flex\"},[_c('span',{staticClass:\"m-flex--item\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.selectParameter(item, value.name)}}},[_vm._v(\" \"+_vm._s(value.name)+\"\\n                                        \")]),_c('span',{staticClass:\"m-flex--item m-card-list__cell select-cell\"},[_c(VSelect,{staticClass:\"m-flex--item\",attrs:{\"hide-details\":\"\",\"persistent-hint\":\"\",\"items\":_vm.equalList(value.type),\"item-text\":\"title\",\"item-value\":\"value\",\"value\":value.equal,\"dense\":\"\"},on:{\"change\":function($event){return _vm.equalParameter($event, item, value.name)}}})],1),_c('span',{staticClass:\"m-flex--item py-0 px-4 m-card-list__cell parameter-cell\"},[(value.type == 'boolean')?_c(VSimpleCheckbox,{staticClass:\"ma-0\",attrs:{\"dense\":\"\",\"placeholder\":\" \",\"hide-details\":\"\",\"color\":\"primary\"},model:{value:(value.value),callback:function ($$v) {_vm.$set(value, \"value\", $$v)},expression:\"value.value\"}}):(value.type == 'list')?_c(VAutocomplete,{staticClass:\"pa-0 ma-0\",attrs:{\"items\":value.list,\"item-text\":\"name\",\"item-value\":\"name\",\"persistent-hint\":\"\",\"placeholder\":\" \",\"hide-details\":\"\",\"dense\":\"\"},model:{value:(value.value),callback:function ($$v) {_vm.$set(value, \"value\", $$v)},expression:\"value.value\"}}):(value.type == 'integer')?_c('input',{staticClass:\"ma-0 pa-0 m-input--noattr\",domProps:{\"value\":value.value},on:{\"input\":function($event){return _vm.onlyInteger($event, item, value.name)}}}):(value.type == 'float')?_c('input',{staticClass:\"ma-0 pa-0 m-input--noattr\",domProps:{\"value\":value.value},on:{\"input\":function($event){return _vm.onlyFloat($event, item, value.name)}}}):(value.type == 'string')?_c(VTextField,{staticClass:\"ma-0 pa-0\",attrs:{\"placeholder\":\" \",\"hide-details\":\"\",\"value\":value.value},on:{\"input\":function($event){return _vm.valueParameter($event, item, value.name)}}}):_c(VTextField,{staticClass:\"ma-0 pa-0\",attrs:{\"placeholder\":\" \",\"hide-details\":\"\",\"value\":value.value},on:{\"change\":function($event){return _vm.valueParameter($event, item, value.name)}}})],1)])])}),1)],1)],1),_c(VCardActions,[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.parametersAdd(item)}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\"Добавить параметр\\n                    \")],1),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"disabled\":!item.selected.length},on:{\"click\":function($event){return _vm.removeParameter(item)}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"trd-trash\")]),_vm._v(\"Удалить\\n                    \")],1)],1)],1)],1)}),_c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":12}},[_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n                    Название элемента\\n                \")]),_c('div',{staticClass:\"d-flex\"},[_c(VTextField,{staticClass:\"m-text--size14\",attrs:{\"disabled\":!_vm.standart,\"value\":'',\"readonly\":\"\",\"dense\":\"\"}}),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"disabled\":!_vm.standart,\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.elementAdd(1)}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\"Добавить элемент\\n                    \")],1)],1)])],1)],2),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"disabled\":!_vm.verify,\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveTemplate}},[_vm._v(\"Сохранить как шаблон\\n        \")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"disabled\":!_vm.verify,\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveRules}},[_vm._v(\"Сохранить\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-panel__collision\">\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Параметры элемента\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"pa-4\" style=\"background-color: #fbfbfb;\">\n            <div class=\"m-text--size14 m-text--color-black pb-3\">\n                Укажите между какими элементами нужно найти геометрический коллизии.\n            </div>\n            <div class=\"m-text--size12 m-text--color-black \">\n                Выбрать набор правил\n            </div>\n            <v-select\n                class=\"m-text--size14\"\n                dense\n                label=\"\"\n                placeholder=\" \"\n                v-model=\"group\"\n                :items=\"groupList\"\n                item-text=\"name\"\n                item-value=\"id\"\n                return-object\n                append-outer-icon=\"trd-group-add\"\n                @click:append-outer=\"groupAdd()\"\n                hide-details\n            />\n            <div class=\"m-text--size12 m-text--color-black pt-4\">\n                Название проверки\n            </div>\n            <v-text-field\n                v-model=\"ruleName\"\n                class=\"m-text--size14\"\n                dense\n            ></v-text-field>\n            <div class=\"m-text--size12 m-text--color-black pt-4\">\n                Описание\n            </div>\n            <v-textarea\n                placeholder=\" \"\n                label=\"\"\n                v-model=\"description\"\n                multi-line\n                rows=\"2\">\n            </v-textarea>\n            <div class=\"m-text--size12 m-text--color-black \">\n                Выбрать тип стандарта\n            </div>\n            <v-select\n                class=\"m-text--size14\"\n                dense\n                label=\"\"\n                placeholder=\" \"\n                v-model=\"standart\"\n                :items=\"standartList\"\n                @change=\"setStandart\"\n                item-text=\"title\"\n                item-value=\"value\"\n            />\n\n            <v-row dense v-for=\"item in getElements\">\n                <v-col\n                    :cols=\"12\"\n                >\n                    <div class=\"m-text--size12 m-text--color-black pt-4\">\n                        Название элемента\n                    </div>\n                    <div\n                        class=\"d-flex\">\n                        <v-text-field\n                            :value=\"item.name\"\n                            class=\"m-text--size14\"\n                            readonly\n                            dense\n                        ></v-text-field>\n                        <v-btn\n                            text\n                            @click=\"removeElement(item)\"\n                            class=\"m-btn\">\n                            <v-icon\n                                size=\"20\"\n                                left>trd-trash</v-icon>Удалить\n                        </v-btn>\n                    </div>\n                    <v-card\n                        class=\"pa-0\"\n                        min-height=\"80\"\n                        outlined\n                    >\n                        <v-card-text class=\"m-text--color-black pa-0\">\n                            <v-list flat dense class=\"pa-0\">\n                                    <v-list-item\n                                        v-for=\"value in item.values\"\n                                        class=\"m-panel__collision--list-item\"\n                                        dense\n                                        :color=\"'primary'\"\n                                        :class=\"{'v-list-item--active': item.selected.some(s => s == value.name)}\"\n                                        :key=\"value.name\"\n                                        :value=\"value.name\"\n                                        >\n                                        <div class=\"m-flex\">\n                                            <span\n                                                class=\"m-flex--item\"\n                                                style=\"cursor: pointer\"\n                                                @click=\"selectParameter(item, value.name)\"> {{value.name}}\n                                            </span>\n                                            <span\n                                                class=\"m-flex--item m-card-list__cell select-cell\">\n                                                <v-select\n                                                    class=\"m-flex--item\"\n                                                    hide-details\n                                                    persistent-hint\n                                                    :items=\"equalList(value.type)\"\n                                                    item-text=\"title\"\n                                                    item-value=\"value\"\n                                                    :value=\"value.equal\"\n                                                    @change=\"equalParameter($event, item, value.name)\"\n                                                    dense\n                                                />\n                                            </span>\n                                            <span\n                                                class=\"m-flex--item py-0 px-4 m-card-list__cell parameter-cell\">\n                                                <v-simple-checkbox\n                                                    v-if=\"value.type == 'boolean'\"\n                                                    v-model=\"value.value\"\n                                                    class=\"ma-0\"\n                                                    dense\n                                                    placeholder=\" \"\n                                                    hide-details\n                                                    color=\"primary\"\n                                                ></v-simple-checkbox>\n                                                <v-autocomplete\n                                                    v-else-if=\"value.type == 'list'\"\n                                                    class=\"pa-0 ma-0\"\n                                                    v-model=\"value.value\"\n                                                    :items=\"value.list\"\n                                                    item-text=\"name\"\n                                                    item-value=\"name\"\n                                                    persistent-hint\n                                                    placeholder=\" \"\n                                                    hide-details\n                                                    dense\n                                                    />\n                                                <input\n                                                    v-else-if=\"value.type == 'integer'\"\n                                                    class=\"ma-0 pa-0 m-input--noattr\"\n                                                    :value=\"value.value\"\n                                                    @input=\"onlyInteger($event, item, value.name)\"\n                                                ></input>\n                                                <input\n                                                    v-else-if=\"value.type == 'float'\"\n                                                    class=\"ma-0 pa-0 m-input--noattr\"\n                                                    :value=\"value.value\"\n                                                    @input=\"onlyFloat($event, item, value.name)\"\n                                                ></input>\n                                                <v-text-field\n                                                    v-else-if=\"value.type == 'string'\"\n                                                    class=\"ma-0 pa-0\"\n                                                    placeholder=\" \"\n                                                    hide-details\n                                                    :value=\"value.value\"\n                                                    @input=\"valueParameter($event, item, value.name)\"\n                                                    >\n                                                </v-text-field>\n                                                <v-text-field\n                                                    v-else\n                                                    class=\"ma-0 pa-0\"\n                                                    placeholder=\" \"\n                                                    hide-details\n                                                    :value=\"value.value\"\n                                                    @change=\"valueParameter($event, item, value.name)\"\n                                                    >\n                                                </v-text-field>\n                                            </span>\n                                        </div>\n                                    </v-list-item>\n                            </v-list>\n                        </v-card-text>\n                    </v-card>\n                    <v-card-actions>\n                        <v-btn\n                            text\n                            @click=\"parametersAdd(item)\"\n                            color=\"primary\"\n                            class=\"m-btn\">\n                            <v-icon\n                                size=\"20\"\n                                left>mdi-plus-circle-outline</v-icon>Добавить параметр\n                        </v-btn>\n                        <v-btn\n                            text\n                            :disabled=\"!item.selected.length\"\n                            @click=\"removeParameter(item)\"\n                            class=\"m-btn\">\n                            <v-icon\n                                size=\"20\"\n                                left>trd-trash</v-icon>Удалить\n                        </v-btn>\n                    </v-card-actions>\n                </v-col>\n            </v-row>\n            <v-row dense>\n                <v-col\n                    :cols=\"12\"\n                >\n                    <div class=\"m-text--size12 m-text--color-black pt-4\">\n                        Название элемента\n                    </div>\n                    <div\n                        class=\"d-flex\">\n                        <v-text-field\n                            :disabled=\"!standart\"\n                            :value=\"''\"\n                            class=\"m-text--size14\"\n                            readonly\n                            dense\n                        ></v-text-field>\n                        <v-btn\n                            :disabled=\"!standart\"\n                            text\n                            @click=\"elementAdd(1)\"\n                            color=\"primary\"\n                            class=\"m-btn\">\n                            <v-icon\n                                size=\"20\"\n                                left>mdi-plus-circle-outline</v-icon>Добавить элемент\n                        </v-btn>\n                    </div>\n                </v-col>\n            </v-row>\n\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-btn\n                :disabled=\"!verify\"\n                outlined\n                color=\"primary\"\n                class=\"m-btn\"\n                @click=\"saveTemplate\">Сохранить как шаблон\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"back\">Отмена</v-btn>\n            <v-btn :disabled=\"!verify\" outlined color=\"primary\" class=\"m-btn\" @click=\"saveRules\">Сохранить\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\nimport {html2text} from '@/utils/services'\n\nexport default {\n    name: 'RulesSettingsParams',\n    props: ['temp', 'model', 'componentNames'],\n    data(){\n        return {\n            group: this.temp.group || '',\n            ruleName: this.temp.ruleName || '',\n            list_1_selected: [],\n            description: this.temp.desc || '',\n            elementName: '',\n            signList: [{\n                title:'>',\n                value: 0\n            },{\n                title: '=',\n                value: 1\n            },{\n                title: '<',\n                value: 2\n            },{\n                title: html2text('&ge;'),\n                value: 3\n            },{\n                title: html2text('&le;'),\n                value: 4\n            },{\n                title: html2text('&ne;'),\n                value: 5\n            }],\n            standart: this.temp.std || '',\n            standartList: [{\n                    name: 'ksi',\n                    value: 'ksi',\n                    title: 'Классификатор строительной информации'\n                },{\n                    name: 'bim',\n                    value: 'bim',\n                    title: 'BIM Standart'\n            }]\n        }\n    },\n    computed: {\n        groupList(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            return groups\n        },\n        groupAll(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            return groups\n        },\n        elements(){\n            if(!this.standart){\n                return []\n            }\n            else{\n                let list = this.temp.list_1 || []\n                let elements = this.temp.elements || []\n                elements = elements.map(e => {\n                    return {\n                        ...e,\n                        selected: e.selected\n                            ? e.selected\n                            : []\n                    }\n                })\n\n                list = list\n                    .filter(f => !elements.some(s => s.name == f))\n                    .map(l => {\n                        return {\n                            name: l,\n                            values: [],\n                            selected: []\n                        }\n                    })\n                return [...elements, ...list]\n            }\n        },\n        getElements(){\n            if(!this.standart){\n                return []\n            }\n            else{\n                let componentNames = this.componentNames\n                    ? Object.keys(this.componentNames[this.standart])\n                    : []\n                return this.elements.filter(f => componentNames.some(s => s == f.name))\n            }\n        },\n        verify(){\n            return !!this.group && !!this.ruleName && !!this.elements.length\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('cancel')\n        },\n        onlyInteger(e, o, n){\n            let value = e.target.value.replace(/[^0-9]/g, '')\n            this.valueParameter(value, o, n)\n        },\n        onlyFloat(e, o, n){\n            let value = e.target.value.replace(/[^0-9.]/g, '')\n            this.valueParameter(value, o, n)\n        },\n        equalList(type){\n            let list = []\n            switch(type){\n                case 'string': ;\n                case 'boolean': ;\n                case 'list': list = this.signList.filter(f => f.value == 1 || f.value == 5)\n                    break\n                case 'integer': ;\n                case 'float': list = this.signList\n                    break\n                default: ;\n            }\n            return list\n        },\n        back(){\n            this.$emit('setParams', {})\n            this.setComponent()\n        },\n        removeElement(i){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            let list_1 = []\n            if(update.list_1){\n                list_1 = update.list_1.filter(f => f != i.name)\n            }\n            let elements = []\n            if(update.elements){\n                elements = update.elements.filter(f => f.name != i.name)\n            }\n            update = {...update, list_1, elements}\n            this.$emit('setParams', update)\n        },\n        setComponent(v){\n            this.$emit('setComponent', v)\n        },\n        setStandart(v){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update,\n                    std: v\n                }\n            this.$emit('setParams', update)\n        },\n        elementAdd(l){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update,\n                    list: l,\n                    list_1: this.elements.map(e => {\n                        return e.name\n                    }),\n                    ruleName: this.ruleName,\n                    group: this.group,\n                    desc: this.description\n                }\n            this.$emit('setParams', update)\n            this.setComponent('RulesElement')\n        },\n        parametersAdd(n){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update,\n                    element: n,\n                    elements: this.elements\n                }\n            this.$emit('setParams', update)\n            this.setComponent('GetParams')\n        },\n        equalParameter(event, i, v){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            let elements = update.elements\n            elements = elements.map(e => {\n                return {\n                    ...e,\n                    values: i.name == e.name\n                        ? e.values.map(val => {\n                            if(val.name == v){\n                                val.equal = event\n                            }\n                            return val\n                        })\n                        : e.values\n                }\n            })\n\n            update = {...update, elements}\n            this.$emit('setParams', update)\n        },\n        valueParameter(event, i, v){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            let elements = this.temp.elements\n            elements = elements.map(e => {\n                return {\n                    ...e,\n                    values: i.name == e.name\n                        ? e.values.map(val => {\n                            if(val.name == v){\n                                val.value = event\n                            }\n                            return val\n                        })\n                        : e.values\n                }\n            })\n\n            update = {...update, elements}\n            this.$emit('setParams', update)\n        },\n        selectParameter(i, v){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            let elements = update.elements\n            elements = elements.map(e => {\n                return {\n                    ...e,\n                    selected: i.name == e.name\n                        ? e.selected.some(s => s == v)\n                            ? e.selected.filter(f => f != v)\n                            : [...e.selected, v]\n                        : e.selected\n                }\n            })\n            update = {...update, elements}\n            this.$emit('setParams', update)\n        },\n        removeParameter(i){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            let elements =update.elements\n            elements = elements.map(e => {\n                return {\n                    ...e,\n                    selected: [],\n                    values: i.name == e.name\n                        ? e.values.filter(f => !e.selected.some(s => s == f.name))\n                        : e.values\n                }\n            })\n\n            update = {...update, elements}\n            this.$emit('setParams', update)\n        },\n        groupAdd(){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update,\n                    ruleName: this.ruleName,\n                    group: this.group,\n                    desc: this.description\n                }\n            this.$emit('setParams', update)\n            this.setComponent('GroupAdd')\n        },\n        saveRules(){\n            this.$emit('save', {groups: this.groupAll.map(g => {\n                if(g.id == this.group.id){\n                    return {\n                        ...g,\n                        part: null,\n                        children: !!this.temp.edit\n                            ? g.children.map(c => {\n                                if(c.id == this.temp.edit){\n                                    c.part = 'params'\n                                    c.std = this.standart\n                                    c.name = this.ruleName\n                                    c.elements = this.elements.map(e => {\n                                        return {\n                                            name: e.name,\n                                            values: e.values\n                                        }\n                                    })\n                                    c.desc = this.description\n                                }\n\n                                return c\n                        })\n                            : [...g.children, {\n                            id: uuidv4(),\n                            parent: g.id,\n                            type: 'rules',\n                            part: 'params',\n                            std: this.standart,\n                            name: this.ruleName,\n                            status: -1,\n                            elements: this.elements.map(e => {\n                                return {\n                                    name: e.name,\n                                    values: e.values\n                                }\n                            }),\n                            desc: this.description\n                        }]\n                    }\n                }\n                else{\n                    return g\n                }\n            })})\n            this.cancel()\n        },\n        saveTemplate(){\n            let templates = this.$store.state.workflow.templates_collision\n            let group = templates.find(f => f.name == this.group.name)\n            if(group){\n                let ruleName = this.ruleName\n                let ruleId = uuidv4()\n                group.children.map(c => {\n                    if(c.name == ruleName){\n                        ruleName += '_' + ruleId\n                    }\n                })\n                group = {\n                    ...group,\n                    part: null,\n                    children: [...group.children, {\n                        id: ruleId,\n                        parent: group.id,\n                        type: 'rules',\n                        part: 'params',\n                        std: this.standart,\n                        name: ruleName,\n                        status: -1,\n                        elements: this.elements.map(e => {\n                            return {\n                                name: e.name,\n                                values: e.values\n                            }\n                        }),\n                        desc: this.description\n                    }]\n                }\n            }\n            else{\n                let groupId = uuidv4()\n                group = {\n                    id: groupId,\n                    name: this.group.name,\n                    status: -1,\n                    part: 'geom',\n                    type: 'group',\n                    children: [{\n                        id: uuidv4(),\n                        parent: groupId,\n                        type: 'rules',\n                        part: 'params',\n                        std: this.standart,\n                        name: this.ruleName,\n                        status: -1,\n                        elements: this.elements.map(e => {\n                            return {\n                                name: e.name,\n                                values: e.values\n                            }\n                        }),\n                        desc: this.description\n                    }]\n                }\n            }\n            this.$store.dispatch('workflow/updateCollisionTemplates', [group])\n            .then(res => {\n                if(res.error){\n                    this.$notify({\n                        group: 'note',\n                        type: 'error',\n                        text: 'Ошибка сохранения шаблона. ' + res.data.error\n                    })\n                }\n                else{\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Шаблон сохранен.'\n                    })\n                }\n            })\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        }\n    },\n    mounted(){\n        document.addEventListener('keyup', this.enter, false)\n    },\n    beforeDestroy(){\n        document.removeEventListener('keyup', this.enter, false)\n    }\n}\n</script>\n\n<style lang=\"css\" scoped>\n.select-cell{\n    border-bottom: 0;\n    border-left: 1px solid rgba(0, 0, 0, 0.12);\n    min-height: auto;\n    padding: 0 0 0 14px;\n    max-width: 56px;\n}\n.parameter-cell{\n    border: 0;\n    min-height: auto;\n    height: auto;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSettingsParams.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSettingsParams.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RulesSettingsParams.vue?vue&type=template&id=2a1fc30e&scoped=true\"\nimport script from \"./RulesSettingsParams.vue?vue&type=script&lang=js\"\nexport * from \"./RulesSettingsParams.vue?vue&type=script&lang=js\"\nimport style0 from \"./RulesSettingsParams.vue?vue&type=style&index=0&id=2a1fc30e&prod&lang=css&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a1fc30e\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__collision\"},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        Дублирование элементов\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pa-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"m-text--size12 m-text--color-black\"},[_vm._v(\"\\n            Выбрать набор правил\\n        \")]),_c(VSelect,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\",\"label\":\"\",\"placeholder\":\" \",\"items\":_vm.groupList,\"item-text\":\"name\",\"item-value\":\"id\",\"return-object\":\"\",\"append-outer-icon\":\"trd-group-add\",\"hide-details\":\"\"},on:{\"click:append-outer\":function($event){return _vm.groupAdd()}},model:{value:(_vm.group),callback:function ($$v) {_vm.group=$$v},expression:\"group\"}}),_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n            Название проверки\\n        \")]),_c(VTextField,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\"},model:{value:(_vm.ruleName),callback:function ($$v) {_vm.ruleName=$$v},expression:\"ruleName\"}}),_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n            Описание\\n        \")]),_c(VTextarea,{attrs:{\"placeholder\":\" \",\"label\":\"\",\"multi-line\":\"\",\"rows\":\"2\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"disabled\":!_vm.verify,\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveTemplate}},[_vm._v(\"Сохранить как шаблон\\n        \")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"disabled\":!_vm.verify,\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveRules}},[_vm._v(\"Сохранить\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-panel__collision\">\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Дублирование элементов\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"pa-4\" style=\"background-color: #fbfbfb;\">\n            <div class=\"m-text--size12 m-text--color-black \">\n                Выбрать набор правил\n            </div>\n            <v-select\n                class=\"m-text--size14\"\n                dense\n                label=\"\"\n                placeholder=\" \"\n                v-model=\"group\"\n                :items=\"groupList\"\n                item-text=\"name\"\n                item-value=\"id\"\n                return-object\n                append-outer-icon=\"trd-group-add\"\n                @click:append-outer=\"groupAdd()\"\n                hide-details\n            />\n            <div class=\"m-text--size12 m-text--color-black pt-4\">\n                Название проверки\n            </div>\n            <v-text-field\n                v-model=\"ruleName\"\n                class=\"m-text--size14\"\n                dense\n            ></v-text-field>\n            <div class=\"m-text--size12 m-text--color-black pt-4\">\n                Описание\n            </div>\n            <v-textarea\n                placeholder=\" \"\n                label=\"\"\n                v-model=\"description\"\n                multi-line\n                rows=\"2\">\n            </v-textarea>\n\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-btn\n                :disabled=\"!verify\"\n                outlined\n                color=\"primary\"\n                class=\"m-btn\"\n                @click=\"saveTemplate\">Сохранить как шаблон\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"back\">Отмена</v-btn>\n            <v-btn :disabled=\"!verify\" outlined color=\"primary\" class=\"m-btn\" @click=\"saveRules\">Сохранить\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\nexport default {\n    name: 'RulesSettingsRepeat',\n    props: ['temp'],\n    data(){\n        return {\n            group: this.temp.group || '',\n            ruleName: this.temp.ruleName || '',\n            description: this.temp.desc || ''\n        }\n    },\n    computed: {\n        groupList(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            return groups // groups.filter(f => f.part == 'geom' || f.part == null)\n        },\n        groupAll(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            return groups\n        },\n        verify(){\n            return !!this.group && !!this.ruleName\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('cancel')\n        },\n        back(){\n            this.$emit('setParams', {})\n            this.setComponent()\n        },\n        setComponent(v){\n            this.$emit('setComponent', v)\n        },\n        groupAdd(){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            update = {...update,\n                    ruleName: this.ruleName,\n                    group: this.group,\n                    desc: this.description\n                }\n            this.$emit('setParams', update)\n            this.setComponent('GroupAdd')\n        },\n        saveRules(){\n            this.$emit('save', {groups: this.groupAll.map(g => {\n                if(g.id == this.group.id){\n                    return {\n                        ...g,\n                        part: 'repeat',\n                        children: !!this.temp.edit\n                            ? g.children.map(c => {\n                                if(c.id == this.temp.edit){\n                                    c.part = 'repeat'\n                                    c.name = this.ruleName\n                                    c.desc = this.description\n                                }\n\n                                return c\n                        })\n                            : [...g.children, {\n                            id: uuidv4(),\n                            parent: g.id,\n                            type: 'rules',\n                            part: 'repeat',\n                            name: this.ruleName,\n                            status: -1,\n                            desc: this.description\n                        }]\n                    }\n                }\n                else{\n                    return g\n                }\n            })})\n            this.cancel()\n        },\n        saveTemplate(){\n            let templates = this.$store.state.workflow.templates_collision\n            let group = templates.find(f => f.name == this.group.name)\n            if(group){\n                let ruleName = this.ruleName\n                let ruleId = uuidv4()\n                group.children.map(c => {\n                    if(c.name == ruleName){\n                        ruleName += '_' + ruleId\n                    }\n                })\n                group = {\n                    ...group,\n                    part: 'repeat',\n                    children: [...group.children, {\n                        id: ruleId,\n                        parent: group.id,\n                        type: 'rules',\n                        part: 'repeat',\n                        name: ruleName,\n                        status: -1,\n                        desc: this.description\n                    }]\n                }\n            }\n            else{\n                let groupId = uuidv4()\n                group = {\n                    id: groupId,\n                    name: this.group.name,\n                    status: -1,\n                    part: 'repeat',\n                    type: 'group',\n                    children: [{\n                        id: uuidv4(),\n                        parent: groupId,\n                        type: 'rules',\n                        part: 'repeat',\n                        name: this.ruleName,\n                        status: -1,\n                        desc: this.description\n                    }]\n                }\n            }\n            this.$store.dispatch('workflow/updateCollisionTemplates', [group])\n            .then(res => {\n                if(res.error){\n                    this.$notify({\n                        group: 'note',\n                        type: 'error',\n                        text: 'Ошибка сохранения шаблона. ' + res.data.error\n                    })\n                }\n                else{\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Шаблон сохранен.'\n                    })\n                }\n            })\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        }\n    },\n    mounted(){\n        document.addEventListener('keyup', this.enter, false)\n    },\n    beforeDestroy(){\n        document.removeEventListener('keyup', this.enter, false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSettingsRepeat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSettingsRepeat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RulesSettingsRepeat.vue?vue&type=template&id=722e8b0e\"\nimport script from \"./RulesSettingsRepeat.vue?vue&type=script&lang=js\"\nexport * from \"./RulesSettingsRepeat.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__collision\"},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        Выберите элемент\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_c(VTextField,{staticClass:\"ma-0 pl-0 pr-4 pb-2 pt-0\",attrs:{\"type\":\"text\",\"clearable\":\"\",\"prepend-inner-icon\":\"search\",\"placeholder\":\"Поиск...\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c(VDivider),_c(VCardText,{staticClass:\"pa-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":12}},[_c(VCard,{staticClass:\"ml-2 pa-0\",attrs:{\"flat\":\"\",\"min-height\":\"250\",\"outlined\":\"\"}},[_c(VCardText,{staticClass:\"m-text--color-black pa-0\"},[_c(VList,{staticClass:\"pa-0\",attrs:{\"flat\":\"\",\"dense\":\"\"}},[_c(VListItem,{directives:[{name:\"show\",rawName:\"v-show\",value:(this.list.length),expression:\"this.list.length\"}],class:[{'v-list-item--active': this.selected.length == this.list.length}, 'primary--text'],on:{\"click\":function($event){return _vm.onAll()}}},[_vm._v(\"Все\\n                            \")]),_c(VListItemGroup,{staticClass:\"pa-0\",attrs:{\"multiple\":\"\",\"color\":\"primary\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},_vm._l((_vm.list),function(item){return _c(VListItem,{attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\"\\n                                \")])}),1)],1)],1)],1)],1)],1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setComponent.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"Добавить\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-panel__collision\">\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Выберите элемент\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            <v-text-field\n                class=\"ma-0 pl-0 pr-4 pb-2 pt-0\"\n                v-model=\"search\"\n                type=\"text\"\n                clearable\n                prepend-inner-icon=\"search\"\n                placeholder=\"Поиск...\"\n                single-line\n                hide-details\n            ></v-text-field>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"pa-4\" style=\"background-color: #fbfbfb;\">\n            <v-row dense>\n                <v-col\n                    :cols=\"12\"\n                >\n                    <v-card\n                        class=\"ml-2 pa-0\"\n                        flat\n                        min-height=\"250\"\n                        outlined\n                    >\n                        <v-card-text class=\"m-text--color-black pa-0\">\n                            <v-list flat dense class=\"pa-0\">\n                                <v-list-item\n                                    v-show=\"this.list.length\"\n                                    @click=\"onAll()\"\n                                    :class=\"[{'v-list-item--active': this.selected.length == this.list.length}, 'primary--text']\"\n                                    >Все\n                                </v-list-item>\n                                <v-list-item-group\n                                    v-model=\"selected\"\n                                    multiple\n                                    color=\"primary\"\n                                    class=\"pa-0\">\n                                    <v-list-item\n                                        v-for=\"item in list\"\n                                        :value=\"item\"\n                                        >{{item}}\n                                    </v-list-item>\n                                </v-list-item-group>\n                            </v-list>\n                        </v-card-text>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"setComponent\">Отмена</v-btn>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"add\">Добавить\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\n\nexport default {\n    name: 'RulesSettings',\n    props: ['temp', 'componentNames'],\n    data(){\n        return {\n            search: '',\n            selected: []\n        }\n    },\n    computed: {\n        list(){\n            let list = this.temp['list_' + this.temp.list] || []\n            let std = this.temp.std || 'ksi'\n            let elems = Object.keys(this.componentNames[std])\n            return elems\n                .filter(f => !list.some(s => s == f))\n                .filter(f => f.toLowerCase().includes((this.search || '').toLowerCase()))\n                .sort()\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('cancel')\n        },\n        setComponent(){\n            this.$emit('setComponent')\n        },\n        add(){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            let list = this.temp['list_' + this.temp.list] || []\n            update = {...update, ['list_' + update.list]: [...list, ...this.selected]}\n            this.$emit('setParams', update)\n\n            this.setComponent()\n        },\n        onAll(){\n            if(this.selected.length == this.list.length){\n                this.selected = []\n            }\n            else{\n                this.selected = this.list\n            }\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        }\n    },\n    mounted(){\n        document.addEventListener('keyup', this.enter, false)\n    },\n    beforeDestroy(){\n        document.removeEventListener('keyup', this.enter, false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesElement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesElement.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RulesElement.vue?vue&type=template&id=6f648a43\"\nimport script from \"./RulesElement.vue?vue&type=script&lang=js\"\nexport * from \"./RulesElement.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__collision\"},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        Выбрать набор правил\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"px-4 pt-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"d-flex\"},[_c(VCard,{staticStyle:{\"flex\":\"1\",\"overflow\":\"hidden\"},attrs:{\"flat\":\"\",\"outlined\":\"\",\"min-height\":\"150\"}},[_c(VTreeview,{staticClass:\"m-panel__collision--tree m-text--size12\",attrs:{\"items\":_vm.getListOut,\"dense\":\"\",\"activatable\":\"\",\"hoverable\":\"\",\"multiple-active\":\"\",\"active\":_vm.selectedOut,\"return-object\":\"\",\"expand-icon\":\"mdi-chevron-down\",\"transition\":\"\",\"item-key\":\"id\"},on:{\"update:active\":function($event){_vm.selectedOut=$event}},scopedSlots:_vm._u([{key:\"prepend\",fn:function({item}){return [_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                            \"+_vm._s('trd-' + item.type)+\"\\n                        \")])]}}])})],1),_c('div',{staticClass:\"d-flex flex-column justify-center\"},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.add}},[_c(VIcon,{attrs:{\"color\":_vm.selectedOut.length ? '#000' : '#c7c7c7',\"size\":\"30\"}},[_vm._v(\"mdi-chevron-double-right\")])],1)]),_c(VCard,{staticStyle:{\"flex\":\"1\",\"overflow\":\"hidden\"},attrs:{\"flat\":\"\",\"outlined\":\"\",\"min-height\":\"150\"}},[_c(VTreeview,{staticClass:\"m-panel__collision--tree m-text--size12\",attrs:{\"items\":_vm.getListIn,\"dense\":\"\",\"hoverable\":\"\",\"expand-icon\":\"mdi-chevron-down\",\"transition\":\"\",\"item-key\":\"id\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function({item}){return [_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                            \"+_vm._s('trd-' + item.type)+\"\\n                        \")])]}}])})],1)],1)]),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.download}},[_vm._v(\"Скачать\\n        \")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.upload}},[_vm._v(\"Загрузить\\n        \")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.remove}},[_vm._v(\"Удалить шаблон\\n        \")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cancel.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"Выбрать\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-panel__collision\">\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Выбрать набор правил\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"px-4 pt-4\" style=\"background-color: #fbfbfb;\">\n            <div class=\"d-flex\">\n                <v-card flat outlined min-height=\"150\" style=\"flex:1;overflow: hidden;\">\n                    <v-treeview\n                        :items=\"getListOut\"\n                        class=\"m-panel__collision--tree m-text--size12\"\n                        dense\n                        activatable\n                        hoverable\n                        multiple-active\n                        :active.sync=\"selectedOut\"\n                        return-object\n                        expand-icon=\"mdi-chevron-down\"\n                        transition\n                        item-key=\"id\"\n                        >\n                        <template v-slot:prepend=\"{item}\">\n                            <v-icon size=\"20\">\n                                {{'trd-' + item.type}}\n                            </v-icon>\n                        </template>\n                    </v-treeview>\n                </v-card>\n                <div class=\"d-flex flex-column justify-center\">\n                    <span @click=\"add\" style=\"cursor: pointer\">\n                        <v-icon\n                            :color=\"selectedOut.length ? '#000' : '#c7c7c7'\"\n                            size=\"30\">mdi-chevron-double-right</v-icon>\n                    </span>\n                </div>\n                <v-card flat outlined min-height=\"150\" style=\"flex:1;overflow: hidden;\">\n                    <v-treeview\n                        :items=\"getListIn\"\n                        class=\"m-panel__collision--tree m-text--size12\"\n                        dense\n                        hoverable\n                        expand-icon=\"mdi-chevron-down\"\n                        transition\n                        item-key=\"id\"\n                        >\n                        <template v-slot:prepend=\"{item}\">\n                            <v-icon size=\"20\">\n                                {{'trd-' + item.type}}\n                            </v-icon>\n                        </template>\n                    </v-treeview>\n                </v-card>\n            </div>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"download\">Скачать\n            </v-btn>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"upload\">Загрузить\n            </v-btn>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"remove\">Удалить шаблон\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"cancel\">Отмена</v-btn>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"submit\">Выбрать\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\nexport default {\n    name: 'RulesSelect',\n    props: ['temp'],\n    data(){\n        return {\n            selectedOut: [],\n            listIn: [],\n            selectedIn: []\n        }\n    },\n    computed: {\n        getListOut(){\n            let list = []\n            let templates = JSON.parse(JSON.stringify( this.$store.state.workflow.templates_collision || []))\n            templates.map(l => {\n                if(this.getListIn.some(s => s.name == l.name)){\n                    let group = this.getListIn.find(f => f.name == l.name)\n                    if(group){\n                        let temp = l.children.filter(f => !group.children.some(s => s.name == f.name))\n                        if(temp.length){\n                            l.children = temp\n                            list.push(l)\n                        }\n                    }\n                }\n                else{\n                    list.push(l)\n                }\n            })\n            return list\n        },\n        getListIn(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            groups = JSON.parse(JSON.stringify(groups))\n            this.listIn.map(item => {\n                if(item.type == 'rules'){\n                    let groupOut = this.templates.find(f => f.id == item.parent)\n                    let groupIn = groups.find(f => f.name == groupOut.name)\n                    if(groupIn){\n                        if(!groupIn.children.some(s => s.name == item.name)){\n                            groups = groups.map(l => {\n                                if(l.name == groupIn.name){\n                                    l.children = [...l.children, {...item, id: uuidv4(), parent: l.id}]\n                                }\n                                return l\n                            })\n                        }\n                    }\n                    else{\n                        let groupId = uuidv4()\n                        groups = [...groups, {...groupOut, status: -1, id: groupId, children: groupOut.children.filter(f => f.id == item.id).map(m => ({...m, id: uuidv4(), parent: groupId}))}]\n                    }\n                }\n                else{\n                    let groupIn = groups.find(f => f.name == item.name)\n                    let groupId = uuidv4()\n                    if(!groupIn){\n                        groups = [...groups, {...item, status: -1, id: groupId, children: item.children.map(m => ({...m, id: uuidv4(), parent: groupId}))}]\n                    }\n                    else{\n                        groups = groups.map(l => {\n                            if(l.name == groupIn.name){\n                                item.children.map(c => {\n                                    if(!l.children.some(s => s.name == c.name)){\n                                        l.children = [...l.children, {...c, id: uuidv4(), parent: l.id}]\n                                    }\n                                })\n                            }\n                            return l\n                        })\n                    }\n                }\n            })\n            return groups\n        },\n        templates(){\n            let templates = JSON.parse(JSON.stringify( this.$store.state.workflow.templates_collision || []))\n            return templates\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('cancel')\n        },\n        add(){\n            if(!this.selectedOut){\n                return\n            }\n            this.addItem(this.selectedOut)\n            this.selectedOut = []\n        },\n        download(){\n            let tmpl = JSON.stringify(this.$store.state.workflow.templates_collision)\n            let blob = new Blob([tmpl], {type: \"application/json\"})\n            let a = document.createElement(\"a\")\n            let objectURL = URL.createObjectURL(blob)\n            a.href = objectURL\n            a.download = 'Templates'\n            document.body.appendChild(a)\n            a.click()\n            URL.revokeObjectURL(objectURL)\n            a.remove()\n        },\n        upload(){\n\n        },\n        remove(){\n            let groupsDel = this.selectedOut.filter(f => f.type == 'group' || f.type == '')\n            let rules = this.selectedOut.filter(f => !groupsDel.some(s => s.id == f.parent))\n\n            let list = []\n            groupsDel.map(g => {\n                list.push(this.$store.dispatch('workflow/deleteCollisionTemplates', {\n                    id: g.id\n                }))\n            })\n            let groupsUpd = this.templates\n                .filter(f => rules.some(s => f.id == s.parent))\n                .map(g => {\n                    g.children = g.children.filter(f => !rules.some(s => f.id == s.id))\n                    return g\n                })\n            if(groupsUpd.length){\n                list.push(this.$store.dispatch('workflow/updateCollisionTemplates', groupsUpd))\n            }\n\n            Promise.all(list)\n            .then(res => {\n                console.log('remove')\n            })\n            .catch(er => {\n                console.log('remove error', er)\n            })\n\n            this.selectedOut = []\n        },\n        addItem(list){\n            this.listIn = [...this.listIn, ...list]\n        },\n        setComponent(v){\n            this.$emit('setComponent', v)\n        },\n        submit(){\n            this.$emit('save', {groups: this.getListIn})\n            this.listIn = []\n            this.setComponent()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        }\n    },\n    mounted(){\n        document.addEventListener('keyup', this.enter, false)\n    },\n    beforeDestroy(){\n        document.removeEventListener('keyup', this.enter, false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSelect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesSelect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RulesSelect.vue?vue&type=template&id=50206c60\"\nimport script from \"./RulesSelect.vue?vue&type=script&lang=js\"\nexport * from \"./RulesSelect.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__collision\"},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        Добавить группу\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"px-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"m-text--size12 m-text--color-black pt-4\"},[_vm._v(\"\\n            Название группы\\n        \")]),_c(VTextField,{staticClass:\"m-text--size14\",attrs:{\"dense\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setComponent.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"Сохранить\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-panel__collision\">\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Добавить группу\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"px-4\" style=\"background-color: #fbfbfb;\">\n\n\n            <div class=\"m-text--size12 m-text--color-black pt-4\">\n                Название группы\n            </div>\n            <v-text-field\n                v-model=\"name\"\n                class=\"m-text--size14\"\n                dense\n            ></v-text-field>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"setComponent\">Отмена</v-btn>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"save\">Сохранить\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\nexport default {\n    name: 'GroupAdd',\n    props: ['temp'],\n    data(){\n        return {\n            name: this.temp.editName || ''\n        }\n    },\n    computed: {\n        getGroups(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            return groups\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('cancel')\n        },\n        setComponent(){\n            this.$emit('setComponent')\n        },\n        save(){\n            // let file\n            // if(this.model.version == null){\n            //     file = this.model.files[0]\n            // }\n            // else{\n            //     file = this.model.files.find(i => i.id == this.model.version) || this.model.files[0]\n            // }\n            let update = []\n            if(!!this.temp.edit){\n                update = this.getGroups.map(g => {\n                    if(g.id == this.temp.edit){\n                        if(!this.getGroups.some(s => s.name == this.name)){\n                            g.name = this.name\n                        }\n                    }\n                    return g\n                })\n            }\n            else{\n                let ID = uuidv4()\n                let name = this.getGroups.some(s => s.name == this.name)\n                    ? this.name + '_' + ID\n                    : this.name\n                update = [...this.getGroups, {\n                    id: ID,\n                    name: name,\n                    status: -1,\n                    part: null,\n                    type: 'group',\n                    children: []\n                }]\n            }\n            this.$emit('save', {groups: update})\n            this.setComponent()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        }\n    },\n    mounted(){\n        document.addEventListener('keyup', this.enter, false)\n    },\n    beforeDestroy(){\n        document.removeEventListener('keyup', this.enter, false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupAdd.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupAdd.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GroupAdd.vue?vue&type=template&id=39c72dd6\"\nimport script from \"./GroupAdd.vue?vue&type=script&lang=js\"\nexport * from \"./GroupAdd.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__collision\"},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n        Выберите параметр\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_c(VTextField,{staticClass:\"ma-0 pl-0 pr-4 pb-2 pt-0\",attrs:{\"type\":\"text\",\"clearable\":\"\",\"prepend-inner-icon\":\"search\",\"placeholder\":\"Поиск...\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c(VDivider),_c(VCardText,{staticClass:\"pa-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c(VRow,{attrs:{\"dense\":\"\"}},[_c(VCol,{attrs:{\"cols\":12}},[_c(VCard,{staticClass:\"ml-2 pa-0\",attrs:{\"flat\":\"\",\"min-height\":\"250\",\"outlined\":\"\"}},[_c(VCardText,{staticClass:\"m-text--color-black pa-0\"},[_c(VList,{staticClass:\"pa-0\",attrs:{\"flat\":\"\",\"dense\":\"\"}},[_c(VListItem,{directives:[{name:\"show\",rawName:\"v-show\",value:(this.list.length),expression:\"this.list.length\"}],class:[{'v-list-item--active': this.selected.length == this.list.length}, 'primary--text'],on:{\"click\":function($event){return _vm.onAll()}}},[_vm._v(\"Все\\n                            \")]),_c(VListItemGroup,{staticClass:\"pa-0\",attrs:{\"multiple\":\"\",\"color\":\"primary\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},_vm._l((_vm.list),function(item){return _c(VListItem,{attrs:{\"value\":item}},[_vm._v(_vm._s(item.name)+\"\\n                                \")])}),1)],1)],1)],1)],1)],1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setComponent.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"Добавить\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-panel__collision\">\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Выберите параметр\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            <v-text-field\n                class=\"ma-0 pl-0 pr-4 pb-2 pt-0\"\n                v-model=\"search\"\n                type=\"text\"\n                clearable\n                prepend-inner-icon=\"search\"\n                placeholder=\"Поиск...\"\n                single-line\n                hide-details\n            ></v-text-field>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"pa-4\" style=\"background-color: #fbfbfb;\">\n            <v-row dense>\n                <v-col\n                    :cols=\"12\"\n                >\n                    <v-card\n                        class=\"ml-2 pa-0\"\n                        flat\n                        min-height=\"250\"\n                        outlined\n                    >\n                        <v-card-text class=\"m-text--color-black pa-0\">\n                            <v-list flat dense class=\"pa-0\">\n                                <v-list-item\n                                    v-show=\"this.list.length\"\n                                    @click=\"onAll()\"\n                                    :class=\"[{'v-list-item--active': this.selected.length == this.list.length}, 'primary--text']\"\n                                    >Все\n                                </v-list-item>\n                                <v-list-item-group\n                                    v-model=\"selected\"\n                                    multiple\n                                    color=\"primary\"\n                                    class=\"pa-0\">\n                                    <v-list-item\n                                        v-for=\"item in list\"\n                                        :value=\"item\"\n                                        >{{item.name}}\n                                    </v-list-item>\n                                </v-list-item-group>\n                            </v-list>\n                        </v-card-text>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"setComponent\">Отмена</v-btn>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"add\">Добавить\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\n\nexport default {\n    name: 'GetParams',\n    props: ['temp', 'elementParameters', 'source', 'model'],\n    data(){\n        return {\n            search: '',\n            selected: []\n        }\n    },\n    computed: {\n        list(){\n            let list = this.elementParameters.find(p => p.name == this.temp.element.name)\n            list = list\n                ? list.values\n                    .filter(f => !this.temp.element.values.some(s => s.name == f.name))\n                    .filter(f => f.name.toLowerCase().includes((this.search || '').toLowerCase()))\n                : []\n            return list\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('cancel')\n        },\n        setComponent(){\n            this.$emit('setComponent')\n        },\n        add(){\n            let update = JSON.parse(JSON.stringify(this.temp))\n            let elements = update.elements || []\n            if(elements.length){\n                elements = elements.map(e => {\n                    return {\n                        ...e,\n                        selected: [],\n                        values: update.element.name == e.name\n                            ? [...e.values, ...this.selected]\n                            : e.values\n                    }\n                })\n            }\n            else{\n                elements = [{\n                    name: update.element.name,\n                    selected: [],\n                    values: this.selected\n                }]\n            }\n            update = {...update, elements}\n            this.$emit('setParams', update)\n\n            this.setComponent()\n        },\n        onAll(){\n            if(this.selected.length == this.list.length){\n                this.selected = []\n            }\n            else{\n                this.selected = this.list\n            }\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        },\n    },\n    created(){\n        let name = this.elementParameters.find(s => s.name == this.temp.element.name)\n// console.log('elementParameters', this.temp)\n        if(!name){\n            if(this.temp.std == 'ksi'){\n                this.$store.dispatch('workflow/getParameters', {name: this.temp.element.name, source: this.source})\n                .then(res => {\n                    if(res){\n                        this.elementParameters.push({\n                            name: this.temp.element.name,\n                            values: Object.entries(res).map(([k, v]) => {\n                                return {\n                                    name: k,\n                                    syn: v.syn || null,\n                                    value: v.ftype == 'boolean'\n                                        ? false\n                                        : '',\n                                    code: 0,\n                                    equal: '',\n                                    type: v.list\n                                        ? 'list'\n                                        : v.ftype,\n                                    list: v.list\n                                        ? v.list\n                                        : null\n                                }\n                            })\n                        })\n                    }\n                })\n                .catch(er => {\n                    console.log('Error get parameters:', er)\n                })\n            }\n            else if(this.temp.std == 'bim'){\n                let prmslist = []\n                if(this.model.type == 'consolidations'){\n                    this.model.consolidations.map(c => {\n                        let doc = this.$store.state.workflow.listDocs.find(f => f.id == c)\n                        let url = ''\n                        if(doc.version == null){\n                            url = doc.files[0].url\n                        }\n                        else{\n                            let file = doc.files.find(i => i.version == doc.version)\n                            url = file ? file.url : doc.files[0].url\n                        }\n                        prmslist.push(this.$store.dispatch('common/getFileInfo', {id: url + '/allattrs.json'}))\n                    })\n                }\n                else{\n                    let url = ''\n                    if(this.model.version == null){\n                        url = this.model.files[0].url\n                    }\n                    else{\n                        let file = this.model.files.find(i => i.version == this.model.version)\n                        url = file ? file.url : this.model.files[0].url\n                    }\n                    prmslist.push(this.$store.dispatch('common/getFileInfo', {id: url + '/allattrs.json'}))\n                }\n                Promise.all(prmslist)\n                .then(res => {\n                    console.log('elementParameters model', res)\n                    let params = {}\n                    res.map(r => {\n                        let cnames = Object.keys(r)\n                        cnames.map(cn => {\n                            if(!params[cn]){\n                                params[cn] = r[cn]\n                            }\n                            else{\n                                let enames = Object.keys(r[cn])\n                                enames.map(en => {\n                                    if(!params[cn][en]){\n                                        params[cn][en] = r[cn][en]\n                                    }\n                                    else{\n                                        params[cn][en].syn = [...(params[cn][en].syn || []), ...(r[cn][en].syn || [])]\n                                    }\n                                })\n                            }\n                        })\n                    })\n                    // console.log('elementParameters allattrs.json', res)\n                    // if(res){\n                    let el = params[this.temp.element.name]\n                    this.elementParameters.push({\n                        name: this.temp.element.name,\n                        values: Object.entries(el).map(([k, v]) => {\n                            let item = {\n                                name: k,\n                                value: v.ftype == 'boolean'\n                                    ? false\n                                    : '',\n                                code: 0,\n                                equal: '',\n                                type: v.list\n                                    ? 'list'\n                                    : v.ftype,\n                                list: v.list\n                                    ? v.list\n                                    : null\n                            }\n                            if(v.syn){\n                                item.syn = v.syn\n                            }\n                            return item\n                        })\n                    })\n                    // }\n                })\n                .catch(er => {\n                    console.log('Error get parameters:', er)\n                })\n            }\n            else{\n                ;\n            }\n        }\n    },\n    mounted(){\n        document.addEventListener('keyup', this.enter, false)\n    },\n    beforeDestroy(){\n        document.removeEventListener('keyup', this.enter, false)\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GetParams.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GetParams.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GetParams.vue?vue&type=template&id=eec8403e\"\nimport script from \"./GetParams.vue?vue&type=script&lang=js\"\nexport * from \"./GetParams.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-dialog class=\"m-panel__collision\" hide-overlay :value=\"component\" scrollable max-width=\"800px\" @input=\"v => v || cancel()\">\n    <component\n        :is=\"component\"\n        :temp=\"temp\"\n        :elementParameters.sync=\"elementParameters\"\n        :componentNames.sync=\"componentNames\"\n        :source=\"source\"\n        :model=\"model\"\n        @setComponent=\"setComponent\"\n        @setParams=\"setParams\"\n        @save=\"save\"\n        @cancel=\"cancel\"\n    />\n</v-dialog>\n</template>\n\n<script>\nimport RulesTypes from \"./RulesTypes\"\nimport RulesSettings from \"./RulesSettings\"\nimport RulesSettingsParams from \"./RulesSettingsParams\"\nimport RulesSettingsRepeat from \"./RulesSettingsRepeat\"\nimport RulesElement from \"./RulesElement\"\nimport RulesSelect from \"./RulesSelect\"\nimport GroupAdd from \"./GroupAdd\"\nimport GetParams from \"./GetParams\"\n\nexport default {\n    name: 'DialogView',\n    components: {\n        RulesTypes,\n        RulesSettings,\n        RulesSettingsRepeat,\n        RulesSettingsParams,\n        RulesElement,\n        GroupAdd,\n        GetParams,\n        RulesSelect\n    },\n    props: ['component', 'temp', 'elementParameters', 'source', 'componentNames', 'model'],\n    data(){\n        return {\n            path: []\n        }\n    },\n    watch: {\n        component(v){\n            if(v && !this.path.length){\n                this.path.push(v)\n            }\n        }\n    },\n    methods: {\n        cancel(){\n            this.path = []\n            this.$emit('cancel')\n        },\n        setComponent(v){\n            v = v || false\n\n            if(v){\n                this.path.push(v)\n            }\n            else{\n                this.path.pop()\n                v = this.path[this.path.length - 1] || false\n            }\n            this.$emit('update:component', v)\n        },\n        setParams(v){\n            this.$emit('updateTemp', v)\n        },\n        save(v){\n            this.$emit('saveMeta', v)\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DialogView.vue?vue&type=template&id=c79e4690\"\nimport script from \"./DialogView.vue?vue&type=script&lang=js\"\nexport * from \"./DialogView.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-card\n        class=\"m-card-scrollable\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Правила проверки\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-title class=\"pa-0\">\n            <div class=\"pr-0 pl-4 py-1 m-panel__collision--options\">\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!compute_ready\"\n                    @onClick=\"component = 'RulesSelect'\"\n                    >trd-template\n                </icon-botton>\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!compute_ready\"\n                    @onClick=\"component = 'GroupAdd'\"\n                    >trd-group-add\n                </icon-botton>\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!checkGroups || !compute_ready\"\n                    @onClick=\"removeItem\"\n                    >trd-group-delete\n                </icon-botton>\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!compute_ready\"\n                    @onClick=\"component = 'RulesTypes'\"\n                    >trd-rules-add\n                </icon-botton>\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!checkRules || !compute_ready\"\n                    @onClick=\"removeItem\"\n                    >trd-rules-delete\n                </icon-botton>\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!(checkGroups || checkRules) || !compute_ready\"\n                    @onClick=\"editItem\"\n                    >trd-edit\n                </icon-botton>\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    small\n                    tile\n                    class=\"m-btn\"\n                    color=\"primary\"\n                    :disabled=\"!checkRules || !compute_ready\"\n                    @click=\"onComputeCollisions\"\n                    >\n                    <v-icon left size=\"20\">\n                        trd-checked\n                    </v-icon>\n                    Проверить\n                </v-btn>\n            </div>\n        </v-card-title>\n\n        <v-divider class=\"pb-2\"></v-divider>\n\n        <v-card-text\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n\n            <v-skeleton-loader\n                v-show=\"!compute_ready\"\n                type=\"list-item-three-line, list-item-three-line\"\n            ></v-skeleton-loader>\n\n            <v-treeview\n                v-show=\"compute_ready\"\n                :key=\"change\"\n                :active.sync=\"selected\"\n                :items=\"getGroups\"\n                return-object\n                class=\"m-panel__collision--tree m-text--size12\"\n                dense\n                activatable\n                expand-icon=\"mdi-chevron-down\"\n                transition\n                item-key=\"id\"\n                >\n                <template v-slot:prepend=\"{item}\">\n                    <v-icon size=\"20\">\n                        {{'trd-' + item.type}}\n                    </v-icon>\n                </template>\n                <template v-slot:append=\"{item}\">\n                    <template v-if=\"item.status != -1\">\n                        <v-icon v-if=\"!item.status\" size=\"20\" color=\"error\">\n                            mdi-alert-outline\n                        </v-icon>\n                        <v-icon v-else-if=\"item.status\" size=\"20\" color=\"success\">\n                            trd-checked-ok\n                        </v-icon>\n                    </template>\n                </template>\n            </v-treeview>\n        </v-card-text>\n\n        <dialog-view\n            :component.sync=\"component\"\n            :temp.sync=\"temp\"\n            :model=\"model\"\n            :componentNames.sync=\"componentNames\"\n            :source=\"source\"\n            :elementParameters.sync=\"elementParameters\"\n            @updateTemp=\"updateTemp\"\n            @saveMeta=\"saveMeta\"\n            @cancel=\"hideDialog\"\n            />\n\n    </v-card>\n</template>\n\n<script>\nimport IconBotton from '@/components/custom/IconBotton'\nimport DialogView from './panel_collision_settings/DialogView'\n\nexport default {\n    name: 'PanelCollisionSettings',\n    props: ['menuItem', 'collision_settings', 'collisions_compiling', 'styleP', 'model', 'source', 'compute_ready'],\n    components: {\n        IconBotton,\n        DialogView\n    },\n    data(){\n        return {\n            minimize: false,\n            component: false,\n            elementParameters: [],\n            temp: {},\n            change: 0,\n            componentNames: null,\n            selected: [],\n            compilingQueue: {\n                active: 0,\n                group: 0,\n                rule: 0\n            }\n        }\n    },\n    computed: {\n        checkGroups(){\n            return this.selected.some(s => s.type == 'group')\n        },\n        checkRules(){\n            return this.selected.some(s => s.type == 'rules')\n        },\n        getGroups(){\n            let meta = this.$store.state.common.meta\n            let collisions = meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            return groups\n        }\n    },\n    watch: {\n        collision_settings(v){\n            if(v && !this.componentNames){\n                if(this.model.type == 'consolidations'){\n                    let prmslist = []\n                    this.model.consolidations.map(c => {\n                        let doc = this.$store.state.workflow.listDocs.find(f => f.id == c)\n                        let url = ''\n                        if(doc.version == null){\n                            url = doc.files[0].url\n                        }\n                        else{\n                            let file = doc.files.find(i => i.version == doc.version)\n                            url = file ? file.url : doc.files[0].url\n                        }\n                        prmslist.push(this.$store.dispatch('common/getFileInfo', {id: url + '/elems.json'}))\n                    })\n                    Promise.all(prmslist)\n                    .then(res => {\n                        let elems = {bim: {}, ksi: {}}\n                        res.map(r => {\n                            let keys = Object.keys(r.bim).map(k => {\n                                if(elems.bim[k]){\n                                    elems.bim[k] = [...elems.bim[k], ...r.bim[k]]\n                                }\n                                else{\n                                    elems.bim[k] = r.bim[k]\n                                }\n                            })\n                            keys = Object.keys(r.ksi).map(k => {\n                                if(elems.ksi[k]){\n                                    elems.ksi[k] = [...elems.ksi[k], ...r.ksi[k]]\n                                }\n                                else{\n                                    elems.ksi[k] = r.ksi[k]\n                                }\n                            })\n                        })\n                        this.componentNames = elems\n                    })\n                    .catch(er => {\n                        console.log('Get tag elems.json error:', er)\n                    })\n\n                    // this.model.consolidations.map(c => {\n                    //     prmslist.push(this.$store.dispatch('common/getFileInfo', {id: c + '/elems.json'}))\n                    // })\n                    // Promise.all(prmslist)\n                    // .then(res => {\n                    //     console.log('>>>>res',res)\n                    // })\n                }\n                else{\n                    if(this.model.tags['elems.json'] == 1){\n                        let url = ''\n                        if(this.model.version == null){\n                            url = this.model.files[0].url\n                        }\n                        else{\n                            let file = this.model.files.find(i => i.version == this.model.version)\n                            url = file ? file.url : this.model.files[0].url\n                        }\n                        this.$store.dispatch('common/getFileInfo', {id: url + '/elems.json'})\n                        .then(res => {\n                            this.componentNames = res\n                        })\n                        .catch(er => {\n                            console.log('Get tag elems.json error:', er)\n                        })\n                    }\n                }\n            }\n        },\n        collisions_compiling(v){\n            if(v){\n                if(!this.compilingQueue.active){\n                    this.compilingQueue.active = 1\n                    this.compilingQueue.group = this.getGroups.length\n                    this.compilingQueue.rule = this.getGroups[0].children.length\n                    this.activeAutoCompiling(false)\n                }\n                else{\n                    if(this.compilingQueue.rule != 0){\n                        this.compilingQueue.rule -= 1\n                    }\n                    else if(this.compilingQueue.group != 0){\n                        this.compilingQueue.group -= 1\n                        let ind = this.getGroups.length - this.compilingQueue.group\n                        this.compilingQueue.rule = this.getGroups[ind].children.length\n                    }\n                    else{\n                        this.compilingQueue.active = 0\n                        this.activeAutoCompiling(false)\n                    }\n                    let g = this.getGroups.length - this.compilingQueue.group\n                    let r = this.getGroups[g].children.length - this.compilingQueue.rule\n                    let item = this.getGroups[g].children[r]\n                    this.computeRule(item)\n                }\n            }\n            else{\n                if(this.compilingQueue.active){\n                    this.activeAutoCompiling(true)\n                }\n            }\n        }\n    },\n    methods: {\n        hideDialog(){\n            this.temp = {}\n            this.component = false\n        },\n        cancel(){\n            this.temp = {}\n            this.$emit('setOption', this.menuItem)\n        },\n        activeAutoCompiling(v){\n            this.$emit('update:collisions_compiling', v)\n        },\n        onComputeCollisions(){\n            this.computeRule()\n        },\n        getElementIdList(list, std = 'ksi'){\n            let ids = []\n            list.map(l => {\n                ids = [...ids, ...this.componentNames[std][l]]\n\n                // let elem = this.componentNames[std].find(f => f.name == l)\n                // if(elem){\n                //     ids = [...ids, ...elem.list]\n                // }\n            })\n            return ids\n        },\n        computeRule(item = null){\n            if(!this.selected.length && !item){\n                return\n            }\n            item = item\n                ? item\n                : this.selected.length\n                    ? this.selected[0]\n                    : {part: 'none'}\n            this.getGroups.map(g => {\n                g.children.map(r => {\n                    if(r.id == item.id){\n                        item = r\n                    }\n                })\n            })\n            if(!item){\n                return\n            }\n            if(item.part == 'geom'){\n                let data = {\n                    list_1: this.getElementIdList(item.list_1, item.std),\n                    list_2: this.getElementIdList(item.list_2, item.std),\n                    group: item.parent,\n                    rule: item.id,\n                    part: item.part\n                }\n                this.$emit('onComputeCollisions', data)\n            }\n            if(item.part == 'params'){\n                let group = this.getGroups.find(f => f.id == item.parent)\n                let elems = group.children.find(c => c.id == item.id).elements\n                let data = {\n                    elements: elems\n                        .filter(f => Object.keys(this.componentNames[item.std]).some(s => s == f.name))\n                        .map(e => {\n                            return {\n                                ...e,\n                                list: this.getElementIdList([e.name], item.std)\n                            }\n                    }),\n                    group: item.parent,\n                    std: item.std,\n                    rule: item.id,\n                    part: item.part\n                }\n                this.$emit('onComputeParameters', data)\n            }\n            if(item.part == 'repeat'){\n                let data = {\n                    group: item.parent,\n                    rule: item.id,\n                    part: item.part\n                }\n                this.$emit('onComputeRepeat', data)\n            }\n        },\n        editItem(){\n            let item = this.selected[0]\n            if(item.type == 'rules'){\n                if(this.selected[0].part == 'geom'){\n                    this.temp.group = this.getGroups.find(f => f.id == item.parent)\n                    this.temp.ruleName = item.name\n                    this.temp.std = item.std\n                    this.temp.desc = item.desc\n                    this.temp.list_1 = item.list_1\n                    this.temp.list_2 = item.list_2\n                    this.temp.edit = item.id\n\n                    this.component = 'RulesSettings'\n                }\n                if(this.selected[0].part == 'params'){\n\n                    this.temp.group = this.getGroups.find(f => f.id == item.parent)\n                    let elems = this.temp.group.children.find(c => c.id == item.id).elements\n                    this.temp.ruleName = item.name\n                    this.temp.std = item.std\n                    this.temp.desc = item.desc\n                    this.temp.elements = elems\n                    this.temp.edit = item.id\n                    this.component = 'RulesSettingsParams'\n                }\n                if(this.selected[0].part == 'repeat'){\n\n                    this.temp.group = this.getGroups.find(f => f.id == item.parent)\n                    let elems = this.temp.group.children.find(c => c.id == item.id).elements\n                    this.temp.ruleName = item.name\n                    this.temp.desc = item.desc\n                    this.temp.edit = item.id\n\n                    this.component = 'RulesSettingsRepeat'\n                }\n            }\n            else{\n                this.temp.edit = item.id\n                this.temp.editName = item.name\n\n                this.component = 'GroupAdd'\n            }\n        },\n        removeItem(){\n            let item = this.selected[0]\n            if(!item){\n                return\n            }\n            if(item.type == 'group'){\n                this.saveMeta({groups: this.getGroups.filter(f => f.id != item.id)})\n            }\n            else{\n                this.saveMeta({groups: this.getGroups.map(g => {\n                    if(g.id == item.parent){\n                        g.children = g.children.filter(f => f.id != item.id)\n                    }\n                    if(!g.children.length){\n                        g.status = -1\n                    }\n                    return g\n                })})\n            }\n            this.selected = []\n        },\n        updateTemp(v){\n            this.temp = v\n        },\n        saveMeta(v){\n            let meta = JSON.parse(JSON.stringify(this.$store.state.common.meta))\n            if(meta.collisions){\n                meta.collisions = {...meta.collisions, ...v, version: this.model.version}\n            }\n            else{\n                meta.collisions = {...v, version: this.model.version}\n            }\n\n            this.$store.dispatch('common/setFileMeta', {\n                id: this.model.id,\n                body: JSON.stringify(meta)\n            })\n            .then(res => {\n                return  this.$store.dispatch('common/getFileMeta', {\n                    id: this.model.id\n                })\n            })\n            .then(res => {\n                if(res.error){\n                    this.$notify({\n                        group: 'note',\n                        type: 'error',\n                        text: res.data.error\n                    })\n                }\n                else{\n                    // this.change += 1\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Изменения сохранены.'\n                    })\n                }\n            })\n        }\n    }\n}\n\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelCollisionSettings.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelCollisionSettings.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelCollisionSettings.vue?vue&type=template&id=5554633a\"\nimport script from \"./PanelCollisionSettings.vue?vue&type=script&lang=js\"\nexport * from \"./PanelCollisionSettings.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable m-report\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Результаты проверки\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardTitle,{staticClass:\"pa-0\"},[_c('div',{staticClass:\"pr-0 pl-1 py-1 m-panel__collision--options\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\",\"disabled\":!_vm.selected.length || !_vm.activeClsn || !_vm.compute_ready,\"color\":_vm.activeBox ? 'primary' : 'default'},on:{\"click\":_vm.turnActiveBox}},[_c(VIcon,{attrs:{\"left\":\"\",\"size\":\"20\"}},[_vm._v(\"trd-section\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Показать\")])],1),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"tile\":\"\",\"dense\":\"\",\"disabled\":!_vm.getReports.length},on:{\"click\":_vm.jsonToXlsx}},[_c(VIcon,{attrs:{\"left\":\"\",\"size\":\"20\"}},[_vm._v(\"trd-download\")]),_c('span',{staticClass:\"m-text--size12\"},[_vm._v(\"Отчет\")])],1),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.selected.length || !_vm.compute_ready,\"color\":(_vm.activeClsn && _vm.selected.length) ? 'primary' : 'default'},on:{\"onClick\":_vm.turnActiveClsn}},[_vm._v(\"trd-cube_hide\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.selected.length || !_vm.compute_ready,\"color\":(_vm.activeOnly && _vm.selected.length) ? 'primary' : 'default'},on:{\"onClick\":_vm.turnActiveOnly}},[_vm._v(\"trd-cube_show\\n            \")]),_c(VSpacer)],1)]),_c(VDivider,{staticClass:\"pb-2\"}),_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[_c(VSkeletonLoader,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.compute_ready),expression:\"!compute_ready\"}],attrs:{\"type\":\"list-item-three-line, list-item-three-line\"}}),_c(VTreeview,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compute_ready),expression:\"compute_ready\"}],staticClass:\"m-panel__collision--tree m-text--size12\",attrs:{\"active\":_vm.selected,\"items\":_vm.getReports,\"dense\":\"\",\"activatable\":\"\",\"return-object\":\"\",\"expand-icon\":\"mdi-chevron-down\",\"transition\":\"\",\"item-key\":\"id\"},on:{\"update:active\":[function($event){_vm.selected=$event},_vm.checkSelected]},scopedSlots:_vm._u([{key:\"label\",fn:function({item, index}){return [_c('span',[_vm._v(\"\\n                \"+_vm._s(item.type == 'group'\n                    ? item.name + ' [' + item.children.length + ']'\n                    : item.type == 'rules'\n                        ? item.name + ' [' + item.pair + '/' + item.pairs + ']'\n                        : item.name)+\"\\n                    \"),(item.valueRule)?_c('span',{staticClass:\"m-text--color-red\"},[_vm._v(\"\\n                        \"+_vm._s(item.valueRule)+\"\\n                    \")]):_vm._e()])]}},{key:\"prepend\",fn:function({item}){return [_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                    \"+_vm._s('trd-' + item.type)+\"\\n                \")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-card-scrollable m-report\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Результаты проверки\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-title class=\"pa-0\">\n            <div class=\"pr-0 pl-1 py-1 m-panel__collision--options\">\n\n                <v-btn\n                    class=\"m-btn\"\n                    text\n                    tile\n                    dense\n                    :disabled=\"!selected.length || !activeClsn || !compute_ready\"\n                    :color=\"activeBox ? 'primary' : 'default'\"\n                    @click=\"turnActiveBox\">\n                    <v-icon\n                        left\n                        size=\"20\">trd-section</v-icon><span class=\"m-text--size12\">Показать</span>\n                </v-btn>\n\n                <v-btn\n                    class=\"m-btn\"\n                    text\n                    tile\n                    dense\n                    :disabled=\"!getReports.length\"\n                    @click=\"jsonToXlsx\">\n                    <v-icon\n                        left\n                        size=\"20\">trd-download</v-icon><span class=\"m-text--size12\">Отчет</span>\n                </v-btn>\n\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!selected.length || !compute_ready\"\n                    :color=\"(activeClsn && selected.length) ? 'primary' : 'default'\"\n                    @onClick=\"turnActiveClsn\"\n                    >trd-cube_hide\n                </icon-botton>\n\n                <icon-botton\n                    class=\"mr-4\"\n                    :disabled=\"!selected.length || !compute_ready\"\n                    :color=\"(activeOnly && selected.length) ? 'primary' : 'default'\"\n                    @onClick=\"turnActiveOnly\"\n                    >trd-cube_show\n                </icon-botton>\n\n                <v-spacer></v-spacer>\n            </div>\n        </v-card-title>\n\n        <v-divider class=\"pb-2\"></v-divider>\n\n        <v-card-text\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n\n            <v-skeleton-loader\n                v-show=\"!compute_ready\"\n                type=\"list-item-three-line, list-item-three-line\"\n            ></v-skeleton-loader>\n\n            <v-treeview\n                v-show=\"compute_ready\"\n                :active.sync=\"selected\"\n                :items=\"getReports\"\n                class=\"m-panel__collision--tree m-text--size12\"\n                dense\n                activatable\n                return-object\n                expand-icon=\"mdi-chevron-down\"\n                transition\n                item-key=\"id\"\n                @update:active=\"checkSelected\"\n                >\n                <template v-slot:label=\"{item, index}\">\n                    <span>\n                    {{item.type == 'group'\n                        ? item.name + ' [' + item.children.length + ']'\n                        : item.type == 'rules'\n                            ? item.name + ' [' + item.pair + '/' + item.pairs + ']'\n                            : item.name\n                    }}\n                        <span v-if=\"item.valueRule\" class=\"m-text--color-red\">\n                            {{item.valueRule}}\n                        </span>\n                    </span>\n                </template>\n                <template v-slot:prepend=\"{item}\">\n                    <v-icon size=\"20\">\n                        {{'trd-' + item.type}}\n                    </v-icon>\n                </template>\n            </v-treeview>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nimport IconBotton from '@/components/custom/IconBotton'\n\nexport default {\n    name: 'PanelCollisionReport',\n    props: ['menuItem', 'collisions', 'planes', 'styleP', 'model', 'compute_ready', 'onLoadsOptions'],\n    components: {\n        IconBotton\n    },\n    data(){\n        return {\n            minimize: false,\n            selected: [],\n            activated: null,\n            mode: [{\n                name: 'clsn',\n                value: false\n            },{\n                name: 'box',\n                value: false\n            },{\n                name: 'only',\n                value: false\n            }]\n        }\n    },\n    computed: {\n        activeClsn: {\n            get(){\n                return this.mode.find(f => f.name == 'clsn').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'clsn'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        activeBox: {\n            get(){\n                return this.mode.find(f => f.name == 'box').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'box'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        activeOnly: {\n            get(){\n                return this.mode.find(f => f.name == 'only').value\n            },\n            set(v){\n                this.mode = this.mode.map(m => {\n                    if(m.name == 'only'){\n                        m.value = v\n                    }\n                    return m\n                })\n            }\n        },\n        getReports(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            if(groups.length){\n                let version = collisions.version || null\n                if(this.model.version != null && version != this.model.version){\n                    groups = []\n                }\n            }\n            let list = []\n            groups.map((g, j) => {\n                if(g.status == 0){\n                    let group = {\n                        id: 'g' + j,\n                        name: 'Ошибка: ' + g.name,\n                        type: 'group',\n                        children: []\n                    }\n                    g.children\n                        .filter(f => f.status == 0)\n                        .map((ru, i, a) => {\n                            ru.reports.map((r, k) => {\n                                if(ru.part == 'geom'){\n                                    group.children.push({\n                                        id: 'r_geom' + i + k,\n                                        name: 'Ошибка: ' + ru.name,\n                                        type: 'rules',\n                                        part: 'geom',\n                                        collisionId: r.collisionId,\n                                        children: [{\n                                            id: 'f_g_' + k,\n                                            name: 'ID ' + r.first.id + ' | ' + r.first.name,\n                                            type: 'cube'\n                                        },{\n                                            id: 's_g_' + k,\n                                            name: 'ID ' + r.second.id + ' | ' + r.second.name,\n                                            type: 'cube'\n                                        }]\n                                    })\n                                }\n                                if(ru.part == 'params'){\n                                    group.children.push({\n                                        id: 'r_params' + i + k,\n                                        name: 'Ошибка: ' + ru.name,\n                                        type: 'rules',\n                                        part: 'params',\n                                        elemId: r.id,\n                                        children: [{\n                                            id: 'f_p_' + k,\n                                            name: 'ID ' + r.id + ' | ' + r.name,\n                                            type: 'cube'\n                                        },{\n                                            id: 's_p_' + k,\n                                            name: r.property + ' ' + r.value + ' | ',\n                                            valueRule: r.valueRule,\n                                            type: ''\n                                        }]\n                                    })\n                                }\n                                if(ru.part == 'repeat'){\n                                    group.children.push({\n                                        id: 'r_repeat' + i + k,\n                                        name: 'Ошибка: ' + ru.name,\n                                        type: 'rules',\n                                        part: 'repeat',\n                                        collisionId: r.collisionId,\n                                        children: [{\n                                            id: 'f_g_' + k,\n                                            name: 'ID ' + r.first.id + ' | ' + r.first.name,\n                                            type: 'cube'\n                                        },{\n                                            id: 's_g_' + k,\n                                            name: 'ID ' + r.second.id + ' | ' + r.second.name,\n                                            type: 'cube'\n                                        }]\n                                    })\n                                }\n                            })\n                        })\n                    group.children = group.children.map((c, i, a) => {\n                        return {\n                            ...c,\n                            pairs: a.length,\n                            pair: (i + 1)\n                        }\n                    })\n                    list.push(group)\n                }\n            })\n\n            return list\n        }\n    },\n    watch: {\n        menuItem: {\n            handler(v){\n                if(!v.active){\n                    if(this.activeClsn){\n                        this.turnActiveClsn()\n                    }\n                    if(this.activeOnly){\n                        this.turnActiveOnly()\n                    }\n                }\n            },\n            deep: true\n        }\n    },\n    methods: {\n        jsonToXlsx(){\n            let collisions = this.$store.state.common.meta.collisions\n            let groups = collisions ? collisions.groups || [] : []\n            let list = []\n            groups.map((g, j) => {\n                if(g.status == 0){\n                    g.children\n                        .filter(f => f.status == 0)\n                        .map((ru, i, a) => {\n                            ru.reports.map((r, k) => {\n                                if(ru.part == 'geom'){\n                                    list.push({\n                                        part: 'geom',\n                                        report: {\n                                            elem: {\n                                                elemid: r.first.id,\n                                                name: r.first.name\n                                            },\n                                            param: {\n                                                elemid: r.second.id,\n                                                name: r.second.name\n                                            }\n                                        }\n                                    })\n                                }\n                                if(ru.part == 'params'){\n                                    list.push({\n                                        part: 'params',\n                                        report: {\n                                            elem: {\n                                                elemid: r.id,\n                                                name: r.name\n                                            },\n                                            param: {\n                                \t\t\t\tname: r.property,\n                                \t\t\t\tvalue: r.value,\n                                \t\t\t\tvalueRule: r.valueRule\n                                            }\n                                        }\n                                    })\n                                }\n                                if(ru.part == 'repeat'){\n                                    list.push({\n                                        part: 'repeat',\n                                        report: {\n                                            elem: {\n                                                elemid: r.first.id,\n                                                name: r.first.name\n                                            },\n                                            param: {\n                                                elemid: r.second.id,\n                                                name: r.second.name\n                                            }\n                                        }\n                                    })\n                                }\n                            })\n                        })\n                }\n            })\n            this.$store.dispatch('workflow/jsonToXlsx', list)\n            .then(res => {\n                if(!res.error){\n                    let a = document.createElement(\"a\")\n                    let objectURL = URL.createObjectURL(res.file)\n                    a.href = objectURL\n                    a.download = this.model.name_short + '.xlsx'\n                    document.body.appendChild(a)\n                    a.click()\n                    URL.revokeObjectURL(objectURL)\n                    a.remove()\n                }\n                else{\n                    console.log('jsonToXlsx error ', res.error)\n                }\n            })\n            .catch(err => {\n                console.log('jsonToXlsx error ', err.error)\n            })\n        },\n        cancel(){\n            if(this.activeClsn){\n                this.turnActiveClsn()\n            }\n            if(this.activeOnly){\n                this.turnActiveOnly()\n            }\n\n            this.$emit('setOption', this.menuItem)\n        },\n        checkSelected(){\n            if(this.selected.some(s => s.type == 'cube')){\n                return\n            }\n            else{\n                if(!this.selected.length){\n                    if(this.activated){\n                        this.mode.map(m => {\n                            this.onActive(m.name, false)\n                        })\n                        this.activated = null\n                    }\n                }\n                else{\n                    if(this.activeClsn){\n                        this.onActive('clsn', false)\n                    }\n                    this.activated = this.selected[0]\n\n                    this.mode.map(m => {\n                        if(m.value){\n                            this.onActive(m.name, true)\n                        }\n                    })\n                }\n            }\n        },\n        onOptions(name, active){\n            this.$emit('setOption', {\n                name: name,\n                active: active\n            })\n        },\n        turnActiveClsn(){\n            this.activeClsn = !this.activeClsn\n            if(this.activeOnly){\n                this.onActive('only', false)\n                this.activeOnly = false\n            }\n            if(!this.activeClsn){\n                if(this.activeBox){\n                    this.turnActiveBox()\n                }\n            }\n            this.onActive('clsn', this.activeClsn)\n        },\n        turnActiveBox(){\n            this.activeBox = !this.activeBox\n            if(this.activeOnly){\n                this.onActive('only', false)\n                this.activeOnly = false\n            }\n            this.onActive('box', this.activeBox)\n        },\n        turnActiveOnly(){\n            this.activeOnly = !this.activeOnly\n            if(this.activeBox){\n                this.onActive('box', false)\n                this.activeBox = false\n            }\n            if(this.activeClsn){\n                this.onActive('clsn', false)\n                this.activeClsn = false\n            }\n            this.onActive('only', this.activeOnly)\n        },\n        onActive(mode, a){\n            // console.log('onActive', mode, a, this.activated)\n            // return\n            let items = this.activated\n            if(!items){\n                return\n            }\n\n            let list = []\n            let objectList = []\n            let collisionList = []\n\n            if(items.type == 'group'){\n                items.children.map(c => {\n                    if(c.part == 'geom'){\n                        if(!collisionList.some(l => l == c.collisionId)){\n                            collisionList.push(c.collisionId)\n                        }\n                    }\n                    if(c.part == 'params'){\n                        if(!objectList.some(l => l == c.elemId)){\n                            objectList.push(c.elemId)\n                        }\n                    }\n                    if(c.part == 'repeat'){\n                        if(!collisionList.some(l => l == c.collisionId)){\n                            collisionList.push(c.collisionId)\n                        }\n                    }\n                })\n            }\n            else{\n                if(items.part == 'geom'){\n                    collisionList.push(items.collisionId)\n                }\n                if(items.part == 'params'){\n                    objectList.push(items.elemId)\n                }\n                if(items.part == 'repeat'){\n                    collisionList.push(items.collisionId)\n                }\n            }\n\n            switch(mode){\n                case 'clsn':\n                    if(collisionList.length){\n                        this.$emit('onCollisionsActive', {list: collisionList, active: a})\n                    }\n                    if(objectList.length){\n                        this.$emit('onObjectsHighlight', {list: objectList, active: a})\n                    }\n                    break\n                case 'box':\n                    if(collisionList.length){\n                        this.$emit('onCreateSectionBoxForCollisions', {list: collisionList, active: a})\n                    }\n                    if(objectList.length){\n                        this.$emit('onCreateSectionBoxForObjects', {list: objectList, active: a})\n                    }\n                    break\n                case 'only':\n                    if(collisionList.length){\n                        this.$emit('onShowCollisionsOnly', {list: collisionList, active: a})\n                    }\n                    if(objectList.length){\n                        this.$emit('onShowObjectsOnly', {list: objectList, active: a})\n                    }\n                    break\n                default: ;\n            }\n        }\n    }\n}\n</script>\n\n<style>\n.m-report .v-treeview-node__content{\n    align-items: start !important;\n}\n.m-report .v-treeview-node__label{\n    overflow: auto !important;\n    white-space: normal !important;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelCollisionReport.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelCollisionReport.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelCollisionReport.vue?vue&type=template&id=417a7a46\"\nimport script from \"./PanelCollisionReport.vue?vue&type=script&lang=js\"\nexport * from \"./PanelCollisionReport.vue?vue&type=script&lang=js\"\nimport style0 from \"./PanelCollisionReport.vue?vue&type=style&index=0&id=417a7a46&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-card-scrollable m-work-list\",class:{'m-panel__hidden': _vm.minimize},style:(_vm.styleP)},[_c(VCardTitle,{staticClass:\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\"},[_vm._v(\"Список работ\\n        \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":function($event){_vm.minimize = !_vm.minimize}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardTitle,{staticClass:\"py-1 px-0\"},[_c('div',{staticClass:\"pr-0 pl-3 py-1 m-panel__collision--options\"},[_c('icon-botton',{staticClass:\"mr-2\",attrs:{\"color\":_vm.selectMode && !_vm.checkSelected.auto ? 'primary' : 'default',\"disabled\":!_vm.checkSelected.work || _vm.checkSelected.auto},on:{\"onClick\":_vm.onSetSelectionMode}},[_vm._v(\"mdi-plus-circle-outline\\n            \")]),_c('icon-botton',{staticClass:\"mr-3\",attrs:{\"color\":1 != 1 ? 'primary' : 'default',\"disabled\":!_vm.checkSelected.elem},on:{\"onClick\":_vm.removeElement}},[_vm._v(\"mdi-trash-can-outline\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"color\":_vm.showMode == 'showOnly' ? 'primary' : 'default',\"disabled\":_vm.checkSelected.auto},on:{\"onClick\":function($event){return _vm.turnShowMode('showOnly')}}},[_vm._v(\"trd-cube_hide\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"color\":_vm.showMode == 'showColor' ? 'primary' : 'default',\"disabled\":_vm.checkSelected.auto},on:{\"onClick\":function($event){return _vm.turnShowMode('showColor')}}},[_vm._v(\"trd-cube_show\\n            \")]),_c('icon-botton',{staticClass:\"mr-4\",attrs:{\"color\":_vm.showMode == 'showAuto' ? 'primary' : 'default',\"disabled\":!_vm.checkSelected.some},on:{\"onClick\":function($event){return _vm.turnShowMode('showAuto')}}},[_vm._v(\"trd-calendar-range\\n            \")]),_c(VSpacer)],1)]),_c(VDivider,{staticClass:\"pb-2\"}),_c(VCardText,{staticClass:\"pa-0 pb-5 m-card-scrollable__text\"},[_c(VSkeletonLoader,{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.load),expression:\"!load\"}],attrs:{\"type\":\"list-item-three-line, list-item-three-line\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!!_vm.error),expression:\"!!error\"}],staticClass:\"pl-4\"},[_vm._v(\"\\n            \"+_vm._s(_vm.error)+\"\\n        \")]),_c(VAlert,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.load),expression:\"load\"}],staticClass:\"m-alert mx-3 m-text--size12 py-1\",attrs:{\"outlined\":\"\",\"type\":\"warning\",\"prominent\":\"\",\"border\":\"left\"}},[_vm._v(\"Для того, чтобы выбрать несколько объектов, зажмите Ctrl + левую кнопку мыши или OPTION + левую кнопку мыши\\n        \")]),_c(VTreeview,{staticClass:\"m-worllist m-panel__collision--tree m-text--size12\",attrs:{\"active\":_vm.selected,\"items\":_vm.getItems,\"dense\":\"\",\"activatable\":\"\",\"return-object\":\"\",\"expand-icon\":\"mdi-chevron-down\",\"transition\":\"\",\"item-key\":\"id\"},on:{\"update:active\":[function($event){_vm.selected=$event},_vm.onSelect]},scopedSlots:_vm._u([{key:\"label\",fn:function({item, index}){return [(item.type == 'work')?_c('div',{staticClass:\"pl-1 mb-1\",style:(item.border)},[_c('div',[_c('span',{staticClass:\"code-job\"},[_vm._v(\"\\n                            \"+_vm._s(item.parent_id + ' ' + item.schedule_id)+\"\\n                        \")]),_vm._v(\"\\n                        \"+_vm._s(item.name + (item.children.length\n                            ? ' (' + (item.children.length - 1) + ')'\n                            : ''))+\"\\n                    \")]),_c(VRow,{staticClass:\"m-date ma-0\"},[_c(VCol,[_c(VIcon,{attrs:{\"size\":\"14\"}},[_vm._v(\"\\n                                trd-play\\n                            \")]),_vm._v(\"\\n                            \"+_vm._s(_vm.transDate(item.cdate)))],1),_c(VCol,[_c(VIcon,{attrs:{\"size\":\"14\"}},[_vm._v(\"\\n                                trd-play-track-next\\n                            \")]),_vm._v(\"\\n                            \"+_vm._s(_vm.transDate(item.edate)))],1),_c(VCol,[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                                mdi-clock-outline\\n                            \")]),_vm._v(\"\\n                            \"+_vm._s(item.days)+\"\\n                        \")],1),_c(VCol,{staticClass:\"mr-3\"},[_c(VIcon,{attrs:{\"size\":\"14\"}},[_vm._v(\"\\n                                trd-construct\\n                            \")]),_vm._v(\"\\n                            \"+_vm._s(item.volume_actual + ' ' + _vm.job_unit[item.job_unit])+\"\\n                        \")],1)],1)],1):(item.type == 'remove')?_c('div',[_c('span',{staticClass:\"m-link\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeAll(item)}}},[_vm._v(\"\\n                        Удалить все\\n                    \")])]):(item.type == 'elem')?_c('div',[_c(VTooltip,{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('span',_vm._g(_vm._b({attrs:{\"role\":\"empty\"}},'span',attrs,false),on),[_vm._v(\"\\n                                \"+_vm._s(item.name + ' | ' + item.elemid)+\"\\n                            \")])]}}],null,true)},[_vm._v(\"\\n                        \"+_vm._s(item.name + ' | ' + item.elemid)+\"\\n                    \")])],1):_c('div',[_vm._v(\"\\n                    \"+_vm._s(item.name)+\"\\n                \")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-card-scrollable m-work-list\"\n        :class=\"{'m-panel__hidden': minimize}\"\n        :style=\"styleP\"\n        >\n        <v-card-title class=\"pr-0 pl-4 py-1 m-modal--title-size14 m-card-scrollable__title\">Список работ\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"minimize = !minimize\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-title class=\"py-1 px-0\">\n            <div class=\"pr-0 pl-3 py-1 m-panel__collision--options\">\n\n                <icon-botton\n                    class=\"mr-2\"\n                    :color=\"selectMode && !checkSelected.auto ? 'primary' : 'default'\"\n                    :disabled=\"!checkSelected.work || checkSelected.auto\"\n                    @onClick=\"onSetSelectionMode\"\n                    >mdi-plus-circle-outline\n                </icon-botton>\n\n                <icon-botton\n                    class=\"mr-3\"\n                    :color=\"1 != 1 ? 'primary' : 'default'\"\n                    :disabled=\"!checkSelected.elem\"\n                    @onClick=\"removeElement\"\n                    >mdi-trash-can-outline\n                </icon-botton>\n\n                <icon-botton\n                    class=\"mr-4\"\n                    :color=\"showMode == 'showOnly' ? 'primary' : 'default'\"\n                    :disabled=\"checkSelected.auto\"\n                    @onClick=\"turnShowMode('showOnly')\"\n                    >trd-cube_hide\n                </icon-botton>\n\n                <icon-botton\n                    class=\"mr-4\"\n                    :color=\"showMode == 'showColor' ? 'primary' : 'default'\"\n                    :disabled=\"checkSelected.auto\"\n                    @onClick=\"turnShowMode('showColor')\"\n                    >trd-cube_show\n                </icon-botton>\n\n                <icon-botton\n                    class=\"mr-4\"\n                    :color=\"showMode == 'showAuto' ? 'primary' : 'default'\"\n                    :disabled=\"!checkSelected.some\"\n                    @onClick=\"turnShowMode('showAuto')\"\n                    >trd-calendar-range\n                </icon-botton>\n\n                <v-spacer></v-spacer>\n            </div>\n        </v-card-title>\n\n        <v-divider class=\"pb-2\"></v-divider>\n\n        <v-card-text\n            class=\"pa-0 pb-5 m-card-scrollable__text\">\n\n            <v-skeleton-loader\n                v-show=\"!load\"\n                type=\"list-item-three-line, list-item-three-line\"\n            ></v-skeleton-loader>\n\n            <div v-show=\"!!error\" class=\"pl-4\">\n                {{error}}\n            </div>\n\n            <v-alert\n                v-show=\"load\"\n                outlined\n                type=\"warning\"\n                prominent\n                border=\"left\"\n                class=\"m-alert mx-3 m-text--size12 py-1\"\n            >Для того, чтобы выбрать несколько объектов, зажмите Ctrl + левую кнопку мыши или OPTION + левую кнопку мыши\n            </v-alert>\n\n            <v-treeview\n                :active.sync=\"selected\"\n                :items=\"getItems\"\n                class=\"m-worllist m-panel__collision--tree m-text--size12\"\n                dense\n                activatable\n                return-object\n                expand-icon=\"mdi-chevron-down\"\n                transition\n                item-key=\"id\"\n                @update:active=\"onSelect\"\n                >\n                <template v-slot:label=\"{item, index}\">\n                    <div\n                        v-if=\"item.type == 'work'\"\n                        class=\"pl-1 mb-1\"\n                        :style=\"item.border\"\n                        >\n                        <div>\n                            <span class=\"code-job\">\n                                {{item.parent_id + ' ' + item.schedule_id}}\n                            </span>\n                            {{item.name + (item.children.length\n                                ? ' (' + (item.children.length - 1) + ')'\n                                : '')}}\n                        </div>\n                        <v-row class=\"m-date ma-0\">\n                            <v-col>\n                                <v-icon\n                                    size=\"14\">\n                                    trd-play\n                                </v-icon>\n                                {{transDate(item.cdate)}}</v-col>\n                            <v-col>\n                                <v-icon\n                                    size=\"14\">\n                                    trd-play-track-next\n                                </v-icon>\n                                {{transDate(item.edate)}}</v-col>\n                            <v-col>\n                                <v-icon\n                                    size=\"20\">\n                                    mdi-clock-outline\n                                </v-icon>\n                                {{item.days}}\n                            </v-col>\n                            <v-col class=\"mr-3\">\n                                <v-icon\n                                    size=\"14\">\n                                    trd-construct\n                                </v-icon>\n                                {{item.volume_actual + ' ' + job_unit[item.job_unit]}}\n                            </v-col>\n                        </v-row>\n                    </div>\n                    <div v-else-if=\"item.type == 'remove'\">\n                        <span @click.stop=\"removeAll(item)\" class=\"m-link\">\n                            Удалить все\n                        </span>\n                    </div>\n                    <div v-else-if=\"item.type == 'elem'\">\n                        <v-tooltip top>\n                            <template v-slot:activator=\"{ on, attrs }\">\n                                <span\n                                    role=\"empty\"\n                                    v-bind=\"attrs\"\n                                    v-on=\"on\">\n                                    {{item.name + ' | ' + item.elemid}}\n                                </span>\n                            </template>\n                            {{item.name + ' | ' + item.elemid}}\n                        </v-tooltip>\n                    </div>\n                    <div v-else>\n                        {{item.name}}\n                    </div>\n                </template>\n            </v-treeview>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nimport IconBotton from '@/components/custom/IconBotton'\n\nexport default {\n    name: 'WorkList',\n    props: ['menuItem', 'styleP', 'model', 'selectedObjID', 'selectedObjIDList', 'propertyJson', 'source'],\n    components: {\n        IconBotton\n    },\n    data(){\n        return {\n            minimize: false,\n            items: [],\n            opened: [],\n            selected: [],\n            selectedItem: null,\n            colorStatus: ['0', '#ff5338', '#ffbf00', '#2ac279', '#8c95a9'],\n            works: null,\n            type_id: {\n                'IFC': 'Guid',\n                'Revit': 'Id'\n            },\n            job_unit: {\n                cubic_meter: 'м.куб.',\n                ton: 'т',\n                square_meter: 'м.кв.',\n                piece: 'ед',\n                linear_meter: 'п.м',\n                meter: 'м',\n                percent: '%',\n                centimeter: 'см',\n                millimeter: 'мм',\n                square_centimeter: 'см2',\n                cubic_centimeter: 'см3',\n                liter: 'л',\n                milliliter: 'мл',\n                gram: 'г',\n                kilogram_per_cubic_meter: 'кг/м3',\n                gram_per_cubic_centimeter: 'г/см3',\n                megapascal: 'МПа',\n                pascal: 'Па',\n                kilometer: 'км',\n                hectare: 'га',\n                ar: 'а',\n                kilogram: 'кг',\n                kit: 'компл'\n            },\n            selectMode: false,\n            showMode: false,\n            load: false,\n            error: false\n        }\n    },\n    computed: {\n        checkSelected(){\n            let group = false\n            let work = false\n            let elem = false\n            let auto = this.showMode == 'showAuto'\n            let some = true //false\n\n            if(this.selected.length){\n                 group = this.selected.some(s => s.type == 'group')\n                 work = this.selected.some(s => s.type == 'work')\n                 elem = this.selected.some(s => s.type == 'elem')\n            }\n\n            return {\n                group, work, elem, auto, some\n            }\n        },\n        getItems(){\n            let list = []\n            if(this.works !== null){\n                list = this.works\n            }\n            return list\n        }\n    },\n    watch: {\n        menuItem: {\n            handler(v){\n                if(v.active){\n                    this.load = false\n                    this.$store.dispatch('workflow/getWorkList_', {file: this.model.id, bearer: this.bearer})\n                    .then(res => {\n                        this.items = res.result.schedule\n                        this.works = this.buildTree(this.items, 0)\n                        this.load = true\n                    })\n                    .catch(er => {\n                        this.works = null\n                        this.load = true\n                    })\n                }\n                else{\n                    this.turnShowMode(false)\n                    if(this.selectMode){\n                        this.selectMode = false\n                        this.$emit('onSetSelectionMode', false)\n                    }\n                }\n            },\n            deep: true\n        },\n        showMode(n, o){\n            if(!n){\n                this.onAction(o, false)\n            }\n            else{\n                this.onAction(o, false)\n                this.onAction(n, true)\n            }\n        },\n        selectedObjID(v){\n            if(v){\n                this.selectedItem = [v]\n            }\n        },\n        selectedObjIDList(v){\n            if(v != null){\n                this.selectedItem = v\n            }\n        },\n        selectedItem(v){\n            this.getElement(v)\n        }\n    },\n    methods: {\n        buildTree(elems, pid){\n            let list = elems\n                .filter(f => f.parent_id == pid)\n                .map(e => {\n                    if(!e.job){\n                        e.id = 'g' + e.schedule_id\n                        e.type = 'group'\n                        e.groupid = pid\n                        e.children = this.buildTree(elems, e.schedule_id)\n                    }\n                    else{\n                        e.id = 'w' + e.schedule_id\n                        e.task_id = e.schedule_id\n                        e.name = e.name || '...'\n                        e.type = 'work'\n                        e.groupid = pid\n                        e.cdate = e.date_start\n                        e.edate = e.date_finish\n                        e.days = e.date_interval_day\n                        e.border = {\n                            'border-left': '4px solid ' + this.colorStatus[e.status]\n                        }\n                        e.color = this.colorStatus[e.status]\n                        e.children = []\n                        if(e.external_data != null && e.external_data.elemsid){\n                            let list = JSON.parse(e.external_data.elemsid)\n\n                            if(typeof list == \"string\"){\n                                list = JSON.parse(list)\n                            }\n                            if(!Array.isArray(list)){\n                                list = []\n                            }\n                            if(list.length){\n                                e.children = [{\n                                    id: 'remove' + e.id,\n                                    workid: e.id,\n                                    workname: e.name,\n                                    task_id: e.task_id,\n                                    groupid: pid,\n                                    type: 'remove'\n                                }]\n                            }\n                            e.children = [...e.children, ...list.map(i => {\n                                let elem = this.propertyJson.find(f => f[this.type_id[this.source]] == i)\n                                return {\n                                    id: e.task_id + '_' + i,\n                                    elemid: i,\n                                    type: 'elem',\n                                    name: elem ? elem.Name : '----',\n                                    parent: 'w' + e.task_id,\n                                    task_id: e.task_id,\n                                    groupid: pid,\n                                    color: this.colorStatus[e.status]\n                                }\n                            })]\n                        }\n                    }\n                    return e\n                })\n            return list\n        },\n        onSelect(){\n            if(this.checkSelected.auto){\n                return\n            }\n            else{\n                this.onAction()\n            }\n        },\n        onAction(mode = null, value = true){\n            mode = mode === null\n                ? this.showMode\n                : mode\n            switch(mode){\n                case 'showOnly': this.onShowObjectsOnly(value)\n                    break\n                case 'showColor': (value\n                        ? this.onSetColorForObjects()\n                        : this.onUnsetColorsForObjects()\n                    )\n                    break\n                case 'showAuto': (value\n                        ? this.onSetColorAuto()\n                        : this.onUnsetColorsForObjects()\n                    )\n                    break\n                default: ;\n            }\n        },\n        turnShowMode(v){\n            if(this.showMode == v){\n                this.showMode = false\n            }\n            else{\n                this.showMode = v\n            }\n        },\n        cancel(){\n            this.selectMode = false\n            this.works = null\n            this.items = []\n            this.selected = []\n            this.$emit('onSetSelectionMode', false)\n            this.$emit('setOption', this.menuItem)\n        },\n        getElement(selectedItem){\n            if(this.selected.length && selectedItem.length && !this.checkSelected.auto && this.selectMode){\n                let work = this.selected[0]\n                if(work.type == 'work'){\n                    let elemlist = []\n                    selectedItem.map(s => {\n                        let e = this.propertyJson.find(f => f[this.type_id[this.source]] == s)\n                        if(e){\n                            let item = work.children.find(f => f.elemid == e[this.type_id[this.source]])\n                            if(!item){\n                                this.items = JSON.parse(JSON.stringify(this.items)).map(i => {\n                                    if(i.schedule_id == work.task_id){\n                                        elemlist = [e[this.type_id[this.source]]]\n\n                                        if(i.external_data == null){\n                                            elemlist = JSON.stringify(elemlist)\n                                            i.external_data = {\n                                                elemsid: elemlist\n                                            }\n                                        }\n                                        else{\n                                            elemlist = JSON.stringify([...JSON.parse(i.external_data.elemsid), e[this.type_id[this.source]]])\n\n                                            i.external_data.elemsid = elemlist\n                                        }\n                                    }\n                                    return i\n                                })\n                            }\n                        }\n                    })\n                    this.works = this.buildTree(this.items, 0)\n                    this.onAction()\n                    this.$emit('onClearSelection')\n                    if(typeof elemlist != 'string'){\n                        elemlist = JSON.stringify(elemlist)\n                    }\n                    let body = {\n                        schedule: [{\n                            schedule_id: work.task_id,\n                            external_data: {\n                                elemsid: elemlist\n                            }\n                        }]\n                    }\n                    this.$store.dispatch('workflow/setWorkList_', {body})\n                    .then(res => {\n                        let elems = JSON.parse(elemlist).filter(f => selectedItem.some(s => s == f)).join(', ')\n                        let text = selectedItem.length > 1\n                            ? 'Элементы ' + elems + ' добавлены в работу ' + work.name\n                            : 'Элемент ' + elems + ' добавлен в работу ' + work.name\n                        this.$notify({\n                            group: 'note',\n                            type: 'success',\n                            text: text\n                        })\n                    })\n                    .catch(er => {\n                        this.$notify({\n                            group: 'note',\n                            type: 'error',\n                            text: 'Ошибка сервера. Элемент не добавлен.'\n                        })\n                    })\n                }\n            }\n        },\n        onSetSelectionMode(){\n            this.selectMode = !this.selectMode\n            this.$emit('onSetSelectionMode', this.selectMode)\n        },\n        removeAll(item){\n            let elemlist = []\n            let body = {\n                schedule: [{\n                    schedule_id: item.task_id,\n                    external_data: {\n                        elemsid: JSON.stringify(elemlist)\n                    },\n                }]\n            }\n            this.$store.dispatch('workflow/setWorkList_', {body})\n            .then(res => {\n                this.$notify({\n                    group: 'note',\n                    type: 'success',\n                    text: 'Из работы ' + item.workname + ' удалены все элементы '\n                })\n            })\n            .catch(er => {\n                this.$notify({\n                    group: 'note',\n                    type: 'error',\n                    text: 'Ошибка сервера. Элементы не удалены.'\n                })\n            })\n            this.items = this.items.map(i => {\n                if(i.id == item.workid){\n                    let elem = JSON.parse(JSON.stringify(i))\n                    elem.external_data = {\n                        ...elem.external_data,\n                        elemsid: JSON.stringify(elemlist)\n                    }\n                    elem.children = []\n                    i = elem\n                }\n                return i\n            })\n            this.works = JSON.parse(JSON.stringify(this.buildTree(this.items, 0)))\n            this.onAction()\n        },\n        removeElement(item = null){\n            item = item === null\n                ? this.selected[0]\n                : item\n            if(item){\n                let elemlist = []\n                let workname = ''\n                this.items = this.items.map(i => {\n                    if(i.schedule_id == item.task_id){\n                        workname = i.name\n                        elemlist = JSON.parse(i.external_data.elemsid)\n                        elemlist = elemlist.filter(f => f != item.elemid)\n                        i.external_data.elemsid = JSON.stringify(elemlist)\n                    }\n                    return i\n                })\n                let body = {\n                    schedule: [{\n                        schedule_id: item.task_id,\n                        external_data: {\n                            elemsid: JSON.stringify(elemlist)\n                        },\n                    }]\n                }\n                this.$store.dispatch('workflow/setWorkList_', {body})\n                .then(res => {\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Элемент ' + item.elemid + ' удален из работы ' + workname\n                    })\n                })\n                .catch(er => {\n                    this.$notify({\n                        group: 'note',\n                        type: 'error',\n                        text: 'Ошибка сервера. Элемент не удален.'\n                    })\n                })\n\n                this.works = JSON.parse(JSON.stringify(this.buildTree(this.items, 0)))\n                this.onAction()\n            }\n        },\n        onShowObjectsOnly(v){\n            let list = []\n            if(!this.selected.length){\n                list = []\n                v = false\n            }\n            else if(this.selected[0].type == 'group'){\n                list = this.getElemsId(this.selected[0]).map(i => i.elemid)\n            }\n            else if(this.selected[0].type == 'work'){\n                list = this.selected[0].children.filter(f => f.type == 'elem').map(i => i.elemid)\n            }\n            else{\n                list = [this.selected[0].elemid]\n            }\n            this.$emit('onShowObjectsOnly', {list: list, active: v})\n        },\n        onOptions(name, active){\n            this.$emit('setOption', {\n                name: name,\n                active: active\n            })\n        },\n        getElemsId(item){\n            let list = []\n            if(item.type == 'work'){\n                list = item.children\n                    .filter(f => f.type == 'elem')\n                    .map(i => {\n                        return {\n                            ...i,\n                            status: item.status\n                        }\n                    })\n            }\n            else{\n                item.children.map(i => {\n                    list = [...list, ...this.getElemsId(i)]\n                })\n            }\n            return list\n        },\n        onSetColorForObjects(){\n            let item = this.selected[0]\n            if(!item){\n                this.$emit('onSetColorForObjects', {\n                    list: [],\n                    color: '#000000'\n                })\n            }\n            else if(item.type == 'group'){\n                let body = {id2color: []}\n                let items = {}\n                let elems = this.getElemsId(item)\n                elems.map(i => {\n                    if(items[i.elemid]){\n                        if(i.status < items[i.elemid].sts){\n                            items[i.elemid] = {\n                                id: i.elemid,\n                                color: i.color,\n                                sts: i.status\n                            }\n                        }\n                    }\n                    else{\n                        items[i.elemid] = {\n                            id: i.elemid,\n                            color: i.color,\n                            sts: i.status\n                        }\n                    }\n                })\n                items = Object.values(items).reduce((r, i) => {\n                    r[i.color] = r[i.color] || []\n                    r[i.color].push(i.id)\n                    return r\n                }, {})\n                Object.entries(items).map(([k, v]) => {\n                    body.id2color.push({\n                        ids: v,\n                        color: k\n                    })\n                })\n                this.$emit('onSetColorsForObjects', body)\n            }\n            else if(this.selected[0].type == 'work'){\n                this.$emit('onSetColorForObjects', {\n                    list: item.children.filter(f => f.type == 'elem').map(c => c.elemid),\n                    color: item.color\n                })\n            }\n            else{\n                this.$emit('onSetColorForObjects', {\n                    list: [item.elemid],\n                    color: item.color\n                })\n            }\n        },\n        onSetColorAuto(){\n            let body = {id2color: []}\n            let items = {}\n\n            let elems = []\n            this.getItems.map(i => {\n                elems = [...elems, ...this.getElemsId(i)]\n            })\n            elems.map(i => {\n                if(items[i.elemid]){\n                    if(i.status < items[i.elemid].sts){\n                        items[i.elemid] = {\n                            id: i.elemid,\n                            color: i.color,\n                            sts: i.status\n                        }\n                    }\n                }\n                else{\n                    items[i.elemid] = {\n                        id: i.elemid,\n                        color: i.color,\n                        sts: i.status\n                    }\n                }\n            })\n            items = Object.values(items).reduce((r, i) => {\n                r[i.color] = r[i.color] || []\n                r[i.color].push(i.id)\n                return r\n            }, {})\n            Object.entries(items).map(([k, v]) => {\n                body.id2color.push({\n                    ids: v,\n                    color: k\n                })\n            })\n            this.$emit('onSetColorsForObjects', body)\n        },\n        onUnsetColorsForObjects(){\n            this.$emit('onUnsetColorsForObjects')\n        },\n        transDate(d){\n            let options = {year: '2-digit', month: '2-digit', day: '2-digit'}\n            let date = new Date(d)\n            return date.toLocaleDateString(\"ru-RU\", options)\n        }\n    }\n}\n</script>\n\n<style scoped>\n.m-panel__collision--tree .v-treeview-node__root{\n    align-items: start !important;\n}\n.m-work-list .v-treeview-node__content{\n    align-items: flex-start !important;\n    padding-top: 2px !important;\n}\n.m-work-list .m-date{\n    color: initial !important;\n}\n.m-work-list .m-date > div{\n    max-width: 25%;\n    padding: 12px 4px;\n}\n.m-work-list .m-alert{\n    font-weight: bold !important;\n}\n.code-job{\n    background-color: #e5f3ff;\n    color: #4e93e9;\n    font-size: 10px;\n    padding: 2px 2px 2px 5px;\n    margin-right: 8px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelWorkList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelWorkList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelWorkList.vue?vue&type=template&id=3de18cf2&scoped=true\"\nimport script from \"./PanelWorkList.vue?vue&type=script&lang=js\"\nexport * from \"./PanelWorkList.vue?vue&type=script&lang=js\"\nimport style0 from \"./PanelWorkList.vue?vue&type=style&index=0&id=3de18cf2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3de18cf2\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-panel__property m-card-scrollable\",staticStyle:{\"width\":\"auto !important\"}},[_c(VCardTitle,{staticClass:\"pr-18 pl-0 py-0 m-modal--title-size14 m-card-scrollable__title\"},[_c(VTabs,{ref:\"tabs\",attrs:{\"color\":\"primary\",\"height\":\"45\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c(VTabsSlider,{attrs:{\"color\":\"primary\"}}),_vm._l((_vm.items),function(item){return _c(VTab,{key:item.name},[_vm._v(_vm._s(item.title)+\"\\n            \")])})],2),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn--close-top m-btn--close-top__right2\",attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.minimizeTabs}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(!_vm.minimize ? 'mdi-window-minimize' : 'mdi-window-maximize')+\"\\n            \")])],1),_c(VBtn,{staticClass:\"m-btn--close-top\",attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c('div',{staticClass:\"panel-tabs--wrap d-flex\"},[_c('components',{attrs:{\"elems\":_vm.getItems,\"part\":_vm.part,\"level\":_vm.level,\"cname\":_vm.cname}}),_c(VCard,{staticClass:\"panel-tabs--options pa-3\",attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('div',{staticClass:\"m-text--size12 m-text--color-2c2c2c\"},[_vm._v(\"Фильтры\")]),_c(VCardActions,{staticClass:\"pa-5 px-0 d-block\"},[_c(VBtn,{staticClass:\"m-btn m-btn--float\",class:{'m-btn-normal': !_vm.part},attrs:{\"outlined\":\"\",\"color\":_vm.part ? 'primary' : 'normal'},on:{\"click\":function($event){return _vm.setFilter('part')}}},[_vm._v(\"Раздел П87\")]),_c(VBtn,{staticClass:\"m-btn m-btn--float\",class:{'m-btn-normal': !_vm.level},attrs:{\"outlined\":\"\",\"color\":_vm.level ? 'primary' : 'normal'},on:{\"click\":function($event){return _vm.setFilter('level')}}},[_vm._v(\"Местоположение\")]),_c(VBtn,{staticClass:\"m-btn m-btn--float\",class:{'m-btn-normal': !_vm.cname},attrs:{\"outlined\":\"\",\"color\":_vm.cname ? 'primary' : 'normal'},on:{\"click\":function($event){return _vm.setFilter('cname')}}},[_vm._v(\"Компоненты\")])],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-0\"},[_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"Показать\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":_vm.getXLSX}},[_vm._v(\"Выгрузить XLSX\\n                \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"m-panel__property m-card-scrollable\"\n        style=\"width: auto !important;\"\n        >\n        <v-card-title class=\"pr-18 pl-0 py-0 m-modal--title-size14 m-card-scrollable__title\">\n\n            <v-tabs\n                v-model=\"tab\"\n                ref=\"tabs\"\n                color=\"primary\"\n                height=\"45\"\n            >\n                <v-tabs-slider color=\"primary\"></v-tabs-slider>\n                <v-tab\n                    v-for=\"item in items\"\n                    :key=\"item.name\"\n                >{{item.title}}\n                </v-tab>\n            </v-tabs>\n\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                class=\"m-btn--close-top m-btn--close-top__right2\"\n                @click=\"minimizeTabs\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">\n                    {{!minimize ? 'mdi-window-minimize' : 'mdi-window-maximize'}}\n                </v-icon>\n            </v-btn>\n            <v-btn\n                text\n                icon\n                class=\"m-btn--close-top\"\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <div class=\"panel-tabs--wrap d-flex\">\n            <!--\n                <component\n                    v-for=\"(item, index) in items\"\n                    v-show=\"index == tab\"\n                    :is=\"item.component\"\n                    :model=\"model\"\n                    :active=\"active\"\n                    :part=\"part\"\n                    :level=\"level\"\n                    :cname=\"cname\"\n                />\n            -->\n            <components\n                :elems=\"getItems\"\n                :part=\"part\"\n                :level=\"level\"\n                :cname=\"cname\"\n            />\n\n            <v-card\n                flat\n                tile\n                class=\"panel-tabs--options pa-3\"\n                >\n                <div class=\"m-text--size12 m-text--color-2c2c2c\">Фильтры</div>\n\n                <v-card-actions class=\"pa-5 px-0 d-block\">\n                    <v-btn\n                        outlined\n                        :color=\"part ? 'primary' : 'normal'\"\n                        class=\"m-btn m-btn--float\"\n                        :class=\"{'m-btn-normal': !part}\"\n                        @click=\"setFilter('part')\">Раздел П87</v-btn>\n                    <v-btn\n                        outlined\n                        :color=\"level ? 'primary' : 'normal'\"\n                        class=\"m-btn m-btn--float\"\n                        :class=\"{'m-btn-normal': !level}\"\n                        @click=\"setFilter('level')\">Местоположение</v-btn>\n                    <v-btn\n                        outlined\n                        :color=\"cname ? 'primary' : 'normal'\"\n                        class=\"m-btn m-btn--float\"\n                        :class=\"{'m-btn-normal': !cname}\"\n                        @click=\"setFilter('cname')\">Компоненты</v-btn>\n                </v-card-actions>\n\n                <v-divider></v-divider>\n                <v-card-actions class=\"pa-5 px-0\">\n                    <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"\">Показать</v-btn>\n                    <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click=\"getXLSX\">Выгрузить XLSX\n                    </v-btn>\n                </v-card-actions>\n            </v-card>\n\n        </div>\n    </v-card>\n</template>\n\n<script>\nimport Components from './panel-tabs/Components'\n// import Rooms from './panel-tabs/Rooms'\nimport { v4 as uuidv4 } from 'uuid'\n\nexport default {\n    name: 'PanelTabs',\n    components: {\n        Components,\n        // Rooms\n    },\n    props: ['menuItem', 'model', 'active', 'minimize'],\n    data: () => ({\n        items: [{\n            name: 'components',\n            title: 'Компоненты',\n            component: 'Components',\n            propName: 'Elements'\n        },{\n            name: 'rooms',\n            title: 'Зоны и помещения',\n            component: 'Rooms',\n            propName: 'Zones'\n        }],\n        tab: null,\n        part: false,\n        level: false,\n        cname: false,\n        params: null\n    }),\n    computed: {\n        getItems(){\n            if(!this.params){\n                return null\n            }\n            else{\n                return this.params[this.items[this.tab]['propName']]\n            }\n        }\n    },\n    watch: {\n        active(v){\n            if(v && !this.params){\n                if(!this.tab){\n                    this.tab = 0\n                }\n                // let file = ''\n                // if(this.model.version == null){\n                //     file = this.model.files[0]\n                // }\n                // else{\n                //     file = this.model.files.find(i => i.id == this.model.version)\n                //     file = file ? file : this.model.files[0]\n                // }\n\n                let urllist = []\n                if(this.model.type == 'consolidations'){\n                    this.$store.state.workflow.listDocs\n                        .filter(f => this.model.consolidations.some(s => s == f.id))\n                        .map(f => {\n                            if(f.version == null){\n                                urllist.push(f.files[0].url)\n                            }\n                            else{\n                                let file = f.files.find(i => i.id == f.version)\n                                urllist.push(file ? file.url : f.files[0].url)\n                            }\n                        })\n                }\n                else{\n                    if(this.model.version == null){\n                        urllist.push(this.model.files[0].url)\n                    }\n                    else{\n                        let file = this.model.files.find(i => i.id == this.model.version)\n                        urllist.push(file ? file.url : this.model.files[0].url)\n                    }\n                }\n\n                let prmslist = []\n                urllist.map(u => {\n                    prmslist.push(this.$store.dispatch('common/getFileInfo', {id: u + '/group.json'}))\n                })\n\n\n                Promise.all(prmslist)\n                .then(result => {\n                    console.log('ssssss', result)\n                    let params = {}\n                    result.map(res => {\n                        params.Elements = params.Elements\n                            ? {...params.Elements, ...res.Elements}\n                            : res.Elements\n                        params.Zones = params.Zones\n                            ? {...params.Zones, ...res.Zones}\n                            : res.Zones\n                    })\n                    this.params = params\n                })\n                .catch(er => {\n                    console.log(er)\n                })\n                // this.$store.dispatch('common/getFileInfo', {id: file.url + '/group.json'})\n                // .then(res => {\n                //     this.params = res\n                // })\n                // .catch(er => {\n                //     console.log(er)\n                // })\n            }\n            if(v){\n                this.$refs.tabs.callSlider()\n            }\n        },\n    },\n    methods: {\n        cancel(){\n            this.$emit('setOption', this.menuItem)\n        },\n        minimizeTabs(){\n            this.$emit('updateOption', {\n                item: this.menuItem,\n                prop: 'minimize',\n                value: !this.minimize\n            })\n        },\n        setFilter(filter){\n            switch(filter){\n                case 'part': this.part = !this.part\n                    break\n                case 'level': this.level = !this.level\n                    break\n                case 'cname': this.cname = !this.cname\n                    break\n                default: ;\n            }\n        },\n        getXLSX(){\n            let file = ''\n            if(this.model.version == null){\n                file = this.model.files[0]\n            }\n            else{\n                file = this.model.files.find(i => i.version == this.model.version)\n                file = file ? file : this.model.files[0]\n            }\n\n            let uuid = uuidv4()\n            this.$store.dispatch('common/setUploadNote', [{\n                name: this.model.name,\n                uuid: uuid,\n                action: 'download',\n                pushin: true\n            }])\n            this.$store.dispatch('common/getFile', {\n                id: file.url + '/group.xlsx',\n                uuid: uuid,\n                typeBlob: 'blob'\n            })\n            .then(res => {\n                this.$store.dispatch('common/setUploadNote', [{\n                    uuid: uuid,\n                    action: 'download',\n                    pushin: false\n                }])\n                if(!res.error){\n                    let a = document.createElement(\"a\")\n                    let objectURL = URL.createObjectURL(res.file)\n                    a.href = objectURL\n                    a.download = this.model.name_short + '.xlsx'\n                    document.body.appendChild(a)\n                    a.click()\n                    URL.revokeObjectURL(objectURL)\n                    a.remove()\n                }\n                else{\n                    console.log('downloadFile error', err)\n                }\n            })\n            .catch(err => {\n                console.log('downloadFile error', err)\n            })\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n.panel-tabs--options{\n    min-width: 300px;\n    height: 100%;\n    z-index: 100;\n}\n.panel-tabs--wrap{\n    flex: 1 1 auto;\n    overflow-y: auto;\n}\n\n&.v-application--is-ltr .v-card__actions > .v-btn.v-btn + .v-btn.m-btn--float {\n    margin-left: 0 !important;\n}\n&.v-application--is-ltr .v-card__actions > .v-btn.v-btn.m-btn--float{\n    margin-right: 8px !important;\n    margin-bottom: 8px !important;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelTabs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelTabs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PanelTabs.vue?vue&type=template&id=2b36a9c2\"\nimport script from \"./PanelTabs.vue?vue&type=script&lang=js\"\nexport * from \"./PanelTabs.vue?vue&type=script&lang=js\"\nimport style0 from \"./PanelTabs.vue?vue&type=style&index=0&id=2b36a9c2&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-container fluid fill-height text-xs-center pa-0 class=\"m-container\">\n        <v-layout wrap ma-0 style=\"position: relative;\" id=\"fullscreen\">\n            <div\n                class=\"m-3d-wrap\"\n                ref=\"canvas-wrap\"\n                id=\"canvas-wrap\"\n                >\n\n            <iframe :src=\"viewer\" ref=\"viewer\" id=\"viewer\" name=\"viewer\" style=\"height:100%; width:100%; border: 0;\"/>\n        <!--<canvas id=\"canvas\" ref=\"canvas\"></canvas>-->\n\n            </div>\n\n            <panel-options\n                :options=\"options\"\n                @setOption=\"setOption\"\n                @setSubOption=\"setSubOption\"/>\n            <div\n                class=\"m-panel__wrap--left\"\n                :class=\"{multy: multy}\"\n                >\n                <panel-property\n                    v-show=\"options.property.active\"\n                    :menuItem=\"options.property\"\n                    @setOption=\"setOption\"\n                    @onHideObject=\"onHideObject\"\n                    @onShowObject=\"onShowObject\"\n                    :hiddenList=\"hiddenList\"\n                    :selectedObjID=\"selectedObjID\"\n                    :properties=\"propertiesObj\"\n                    :classifications=\"classifierList\"\n                    :styleP=\"getStylePanelsLeft.style\"/>\n\n                <panel-resurs\n                    v-show=\"options.resurs.active\"\n                    :menuItem=\"options.resurs\"\n                    :model=\"model\"\n                    :source=\"source\"\n                    @setOption=\"setOption\"\n                    @onHideObject=\"onHideObject\"\n                    @onShowObject=\"onShowObject\"\n                    @onObjectsHighlight=\"onObjectsHighlight\"\n                    @onShowObjectsOnly=\"onShowObjectsOnly\"\n                    @onCreateSectionBoxForObjects=\"onCreateSectionBoxForObjects\"\n                    @onRemoveSectionBox=\"onRemoveSectionBox\"\n                    :postMessage=\"postMessage\"\n                    :selectedObjID.sync=\"selectedObjID\"\n                    :hiddenList=\"hiddenList\"\n                    :styleP=\"getStylePanelsLeft.style\"/>\n\n            </div>\n\n            <div\n                class=\"m-panel__wrap--right\"\n                :class=\"{multy: multy}\"\n                >\n                <panel-filters\n                    v-show=\"options.filters.active\"\n                    :menuItem=\"options.filters\"\n                    @onFilter=\"onFilter\"\n                    @setFilters=\"setFilters\"\n                    @setOption=\"setOption\"\n                    :filters.sync=\"filters\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-dispatcher\n                    v-show=\"options.dispatcher.active\"\n                    :menuItem=\"options.dispatcher\"\n                    @setOption=\"setOption\"\n                    @onHideObject=\"onHideObject\"\n                    @onShowObject=\"onShowObject\"\n                    @onDispatcher=\"onDispatcher\"\n                    @getJsonFile=\"getJsonFile\"\n                    :levelsMap=\"levelsMap\"\n                    :hiddenList=\"hiddenList\"\n                    :postMessage=\"postMessage\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-hidden\n                    v-show=\"options.hidden.active\"\n                    :menuItem=\"options.hidden\"\n                    @setOption=\"setOption\"\n                    @onShowObject=\"onShowObject\"\n                    :hiddenList=\"hiddenList\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-delta\n                    v-show=\"options.delta.active\"\n                    :menuItem=\"options.delta\"\n                    @setOption=\"setOption\"\n                    :delta=\"deltaList\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-search\n                    v-show=\"options.search.active\"\n                    @setOption=\"setOption\"\n                    @onSearch=\"onSearch\"\n                    :worker=\"worker\"\n                    :ParamSearch.sync=\"ParamSearch\"\n                    :styleP=\"getStylePanels.style\"\n                    :postMessage=\"postMessage\"\n                    :menuItem=\"options.search\"\n                    :list.sync=\"ParamSearchId\"\n                    />\n\n                <panel-rooms\n                    v-show=\"options.rooms.active\"\n                    :menuItem=\"options.rooms\"\n                    @setOption=\"setOption\"\n                    @onRoomVisibilityItem=\"onRoomVisibilityItem\"\n                    @onRoomVisibility=\"onRoomVisibility\"\n                    :rooms.sync=\"rooms\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-collision-settings\n                    v-show=\"options.collision_settings.active\"\n                    :menuItem=\"options.collision_settings\"\n                    :model=\"model\"\n                    :source=\"source\"\n                    :compute_ready=\"compute_ready\"\n                    @setOption=\"setOption\"\n                    @onComputeCollisions=\"onComputeCollisions\"\n                    @onComputeParameters=\"onComputeParameters\"\n                    @onComputeRepeat=\"onComputeRepeat\"\n                    :collision_settings=\"collision_settings\"\n                    :collisions_compiling.sync=\"collisions_compiling\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-collision-report\n                    v-show=\"options.collision_reports.active\"\n                    :menuItem=\"options.collision_reports\"\n                    :planes=\"options.planes.active\"\n                    :collisions=\"options.collisions.active\"\n                    :model=\"model\"\n                    :compute_ready=\"compute_ready\"\n                    :onLoadsOptions.sync=\"onLoads.options\"\n                    @setOption=\"setOption\"\n                    @onCollisionsActive=\"onCollisionsActive\"\n                    @onShowCollisionsOnly=\"onShowCollisionsOnly\"\n                    @onCreateSectionBoxForCollisions=\"onCreateSectionBoxForCollisions\"\n\n                    @onObjectsHighlight=\"onObjectsHighlight\"\n                    @onShowObjectsOnly=\"onShowObjectsOnly\"\n                    @onCreateSectionBoxForObjects=\"onCreateSectionBoxForObjects\"\n                    @onRemoveSectionBox=\"onRemoveSectionBox\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-work-list\n                    v-show=\"options.work_list.active\"\n                    :menuItem=\"options.work_list\"\n                    :model=\"model\"\n                    :selectedObjID=\"selectedObjID\"\n                    :selectedObjIDList=\"selectedObjIDList\"\n                    :propertyJson=\"properties\"\n                    :source=\"source\"\n                    @setOption=\"setOption\"\n                    @onSetSelectionMode=\"onSetSelectionMode\"\n                    @onClearSelection=\"onClearSelection\"\n                    @onShowObjectsOnly=\"onShowObjectsOnly\"\n                    @onSetColorForObjects=\"onSetColorForObjects\"\n                    @onSetColorsForObjects=\"onSetColorsForObjects\"\n                    @onUnsetColorsForObjects=\"onUnsetColorsForObjects\"\n                    :styleP=\"getStylePanels.style\"/>\n            </div>\n            <div\n                v-show=\"options.tabs.active\"\n                class=\"m-panel__wrap--bottom\"\n                :class=\"{multy: multy || options.tabs.minimize}\"\n                >\n                <panel-tabs\n                    :active=\"options.tabs.active\"\n                    :model=\"model\"\n                    :menuItem=\"options.tabs\"\n                    :minimize=\"options.tabs.minimize\"\n                    @setOption=\"setOption\"\n                    @updateOption=\"updateOption\"\n                     />\n            </div>\n\n            <div\n                v-show=\"!onLoadsCheck\"\n                class=\"m-back\"\n                :class=\"{'m-back--trans': onLoads.model}\"\n                >\n                <div class=\"vm-progress\">\n                    <div class=\"loader\">\n                        <svg class=\"circular\" viewBox=\"25 25 50 50\">\n                            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\n                        </svg>\n                        <div class=\"vm-progress--percent\"><span>{{getPercent}}%</span></div>\n                    </div>\n                    <span>{{preloaderTitle}}</span>\n                </div>\n            </div>\n\n        </v-layout>\n\t\t<tools3d\n            :toolsbar.sync=\"toolsbar\"\n            ref=\"tools\"\n            />\n    </v-container>\n</template>\n\n<script>\nimport { checklicense } from '@/utils/services'\nimport * as JSZip from 'jszip'\nimport * as JSZipUtils from 'jszip-utils'\nimport { v4 as uuidv4 } from 'uuid'\nimport Tools3d from \"./Tools3d\"\nimport PanelOptions from \"./PanelOptions\"\nimport PanelProperty from \"./PanelProperty\"\nimport PanelDispatcher from \"./PanelDispatcher\"\nimport PanelResurs from \"./PanelResurs\"\nimport PanelHidden from \"./PanelHidden\"\nimport PanelFilters from \"./PanelFilters\"\nimport PanelDelta from \"./PanelDelta\"\nimport PanelRooms from \"./PanelRooms\"\nimport PanelSearch from \"./PanelSearch\"\nimport PanelCollisionSettings from \"./PanelCollisionSettings\"\nimport PanelCollisionReport from \"./PanelCollisionReport\"\nimport PanelWorkList from \"./PanelWorkList\"\nimport PanelTabs from \"./PanelTabs\"\n//import PanelPlanes from \"./PanelPlanes\"\n\nexport default {\n    name: 'ViewObj',\n    components: {\n        Tools3d,\n        PanelOptions,\n        PanelProperty,\n        PanelDispatcher,\n        PanelResurs,\n        PanelHidden,\n        PanelFilters,\n        PanelDelta,\n        PanelSearch,\n        PanelRooms,\n        PanelCollisionSettings,\n        PanelCollisionReport,\n        PanelWorkList,\n        PanelTabs,\n//        PanelPlanes\n    },\n    props: ['model', 'doc'],\n    data: () => ({\n        canvas: null,\n        worker: null,\n        ready: false,\n        ParamSearch: [],\n        ParamSearchId: [],\n        indexModel: 0,\n        listModel: [],\n        viewer: '/ubviewer/',\n        toolsbar: true,\n        properties: [],\n        propertyJson: [],\n        propertiesObj: {\n            Name: '',\n            Properties: []\n        },\n        classifierList: null,\n        source: null,\n        classifierJson: [],\n        jsonLoad: {\n            classifier: false,\n            property: false\n        },\n        filters: [],\n        delta: [],\n        deltaList: {\n            del: 0,\n            mod: 0,\n            add: 0,\n            list: []\n        },\n        search: {\n            list: [],\n            colors: [],\n            load: false\n        },\n        rooms: {\n            list: [],\n            colors: [],\n            load: false\n        },\n        selectedObjID: null,\n        selectedObjIDList: null,\n        selectionModeCount: 0,\n        hiddenList: [],\n        levelsMap: [],\n        collision_settings: false,\n        collisions_version: null,\n        collisions_compiling: false,\n        compute_ready: true,\n        options: {\n            '3d-view': {\n                name: '3d-view',\n                title: '3d виды',\n                active: false,\n                action: false,\n                disabled: false,\n                children: {\n                    left: {\n                        parent: '3d-view',\n                        name: 'left',\n                        title: 'Слева',\n                        active: false,\n                        action: 'setView',\n                        icon: 'trd-left'\n                    },\n                    right: {\n                        parent: '3d-view',\n                        name: 'right',\n                        title: 'Справа',\n                        active: false,\n                        action: 'setView',\n                        icon: 'trd-right'\n                    },\n                    top: {\n                        parent: '3d-view',\n                        name: 'top',\n                        title: 'Сверху',\n                        active: false,\n                        action: 'setView',\n                        icon: 'trd-top'\n                    },\n                    front: {\n                        parent: '3d-view',\n                        name: 'front',\n                        title: 'Спереди',\n                        active: false,\n                        action: 'setView',\n                        icon: 'trd-front'\n                    },\n                    back: {\n                        parent: '3d-view',\n                        name: 'back',\n                        title: 'Сзади',\n                        active: false,\n                        action: 'setView',\n                        icon: 'trd-back'\n                    },\n                },\n                icon: 'trd-d_view',\n                hidden: false,\n                divider: false\n            },\n            grid: {\n                name: 'grid',\n                title: 'Сетка',\n                active: false,\n                action: 'displayGrid',\n                disabled: false,\n                children: null,\n                icon: 'trd-grid',\n                hidden: false,\n                divider: false\n            },\n            axis: {\n                name: 'axis',\n                title: 'Ось',\n                active: true,\n                action: 'displayAxes',\n                disabled: false,\n                children: null,\n                icon: 'trd-axis',\n                hidden: false,\n                divider: false\n            },\n            walkview: {\n                name: 'walkview',\n                title: 'Вид от первого лица',\n                active: false,\n                action: 'setWalkView',\n                disabled: false,\n                children: null,\n                icon: 'trd-street-view',\n                hidden: false,\n                divider: true\n            },\n            /*\n            screenshot: {\n                name: 'screenshot',\n                title: 'Снимок сцены',\n                active: false,\n                action: false,\n                children: null,\n                icon: 'trd-screenshot',\n                divider: false\n            },\n            */\n            hidden: {\n                name: 'hidden',\n                title: 'Скрытые объекты',\n                active: false,\n                action: 'getHiddenObjects',\n                disabled: false,\n                children: null,\n                icon: 'mdi-eye-off',\n                hidden: false,\n                divider: false\n            },\n            property: {\n                name: 'property',\n                title: 'Свойства объекта',\n                active: false,\n                action: 'setSelectionMode',\n                disabled: false,\n                children: null,\n                icon: 'trd-propriety',\n                hidden: false,\n                divider: false\n            },\n            dispatcher: {\n                name: 'dispatcher',\n                title: 'Диспетчер проекта',\n                active: false,\n                action: 'onDispatcher',\n                disabled: false,\n                children: null,\n                icon: 'trd-tree',\n                hidden: false,\n                divider: false\n            },\n            filters: {\n                name: 'filters',\n                title: 'Постановление 87',\n                active: false,\n                action: 'setFilters',\n                disabled: false,\n                children: null,\n                icon: 'trd-P87',\n                hidden: false,\n                divider: false\n            },\n            delta: {\n                name: 'delta',\n                title: 'Версионность',\n                active: false,\n                action: 'onDelta',\n                disabled: false,\n                children: null,\n                icon: 'trd-version1',\n                hidden: true,\n                divider: false\n            },\n            planes: {\n                name: 'planes',\n                title: '3d сечение',\n                active: false,\n                action: 'onSection',\n                disabled: false,\n                children: null,\n                icon: 'trd-section',\n                hidden: false,\n                divider: false\n            },\n            rooms: {\n                name: 'rooms',\n                title: 'Комнаты',\n                active: false,\n                action: 'onRooms',\n                disabled: false,\n                children: null,\n                icon: 'trd-zone',\n                hidden: false,\n                divider: false\n            },\n            tabs: {\n                name: 'tabs',\n                title: 'Спецификация',\n                active: false,\n                action: false,\n                disabled: false,\n                children: null,\n                icon: 'trd-table',\n                hidden: false,\n                minimize: true,\n                divider: false\n            },\n            search: {\n                name: 'search',\n                title: 'Поиск',\n                active: false,\n                action: 'onSearch',\n                disabled: false,\n                children: null,\n                icon: 'trd-search',\n                hidden: false,\n                divider: true\n            },\n            collisions: {\n                name: 'collisions',\n                title: 'Геометрические коллизии',\n                active: false,\n                action: 'setCollisions',\n                disabled: false,\n                children: null,\n                icon: 'mdi-alert-outline',\n                hidden: false,\n                divider: false\n            },\n            collision_settings: {\n                name: 'collision_settings',\n                title: 'Правила проверки',\n                active: false,\n                action: 'onCollisionSettings',\n                disabled: false,\n                children: null,\n                icon: 'trd-collision-settings',\n                hidden: false,\n                divider: false\n            },\n            collision_reports: {\n                name: 'collision_reports',\n                title: 'Результаты проверки',\n                active: false,\n                action: 'onCollisionReports',\n                disabled: false,\n                children: null,\n                icon: 'trd-report',\n                hidden: false,\n                divider: true\n            },\n            resurs: {\n                name: 'resurs',\n                title: 'Ресурсы',\n                active: false,\n                action: 'onResurs',\n                disabled: false,\n                children: null,\n                icon: 'trd-source',\n                hidden: false,\n                divider: false\n            },\n            work_list: {\n                name: 'work_list',\n                title: 'Список работ',\n                active: false,\n                action: 'onWorkList',\n                disabled: false,\n                children: null,\n                icon: 'trd-list-work',\n                hidden: false,\n                divider: true\n            },\n            download: {\n                name: 'download',\n                title: 'Скачать',\n                active: false,\n                action: false,\n                disabled: false,\n                children: {\n                    original: {\n                        parent: 'download',\n                        name: 'original',\n                        title: 'Скачать файл',\n                        active: false,\n                        action: 'downloadF',\n                        icon: null\n                    },\n                    ifcxml: {\n                        parent: 'download',\n                        name: 'ifcxml',\n                        title: 'Скачать РСИМ (ifcxmlRUS)',\n                        active: false,\n                        action: 'downloadI',\n                        icon: null\n                    },\n                },\n                icon: 'trd-download',\n                hidden: false,\n                divider: false\n            },\n            // textures: {\n            //     name: 'textures',\n            //     title: 'Текстуры',\n            //     active: true,\n            //     action: 'enableTextures',\n            //     children: null,\n            //     icon: 'trd-texture',\n            //     divider: false\n            // },\n            // scene_property: {\n            //     name: 'scene_property',\n            //     title: 'Свойства сцены',\n            //     active: false,\n            //     action: false,\n            //     children: null,\n            //     icon: 'trd-settings',\n            //     divider: false\n            // },\n            // fullscreen: {\n            //     name: 'fullscreen',\n            //     title: 'Во весь экран',\n            //     active: false,\n            //     action: 'fullScreen',\n            //     children: null,\n            //     icon: 'trd-fullscreen',\n            //     divider: false\n            // }\n        },\n        onLoads: {\n            model: 0,\n            filters: 100,\n            applyFilters: 0,\n            worker: false,\n            property: false,\n            classifier: true,\n            options: true\n        },\n        preloaderTitle: '',\n        preloaderInit: {\n            step: 0,\n            amount: 1\n        }\n    }),\n    computed: {\n        getPercent(){\n            let amount = this.model.type == 'consolidations'\n                ? this.model.consolidations.length\n                : 1\n            amount = amount * 2 + this.preloaderInit.amount\n            return Math.round((100 / amount) * this.preloaderInit.step)\n        },\n        getStylePanelsLeft(){\n            let p = [\n                this.options.property.active,\n                this.options.resurs.active].filter(Boolean).length\n            return {\n                style: {\n                    'margin-bottom': '10px',\n                    height: 'calc(' + 100 / (p || 1) + '% - 10px)'\n                },\n                active: !!p\n            }\n        },\n        getStylePanels(){\n            let p = [\n                this.options.hidden.active,\n                this.options.filters.active,\n                this.options.dispatcher.active,\n                this.options.delta.active,\n                this.options.rooms.active,\n                this.options.search.active,\n                this.options.collision_settings.active,\n                this.options.collision_reports.active,\n                this.options.work_list.active].filter(Boolean).length\n            return {\n                style: {\n                    'margin-bottom': '10px',\n                    height: 'calc(' + 100 / (p || 1) + '% - 10px)'\n                },\n                active: !!p\n            }\n        },\n        multy(){\n            return this.options.tabs.active && (this.options.property.active || this.getStylePanels.active || this.getStylePanelsLeft.active)\n        },\n        // getObjectProperties(){\n        //     let id = this.selectedObjID\n        //\n        //     let prop = this.propertyJson.filter(c => (c.Guid != undefined && c.Guid == id)\n        //         || (c.Id != undefined && c.Id == id))\n        //\n        //     return !prop.length\n        //         ? {\n        //             Name: '',\n        //             Properties: []\n        //         }\n        //         : prop[0]\n        // },\n        // getClassifications(){\n        //     let id = this.selectedObjID\n        //     let prop = this.classifierJson != 'none'\n        //         ? this.classifierJson.filter(c => (c.Guid != undefined && c.Guid == id)\n        //             || (c.Id != undefined && c.Id == id))\n        //         : []\n        //     return prop.length\n        //         ? prop[0]\n        //         : this.classifierJson == 'none'\n        //             ? id\n        //                 ? 'none'\n        //                 : null\n        //             : null\n        // },\n        onLoadsCheck(){\n            let flag = this.onLoads.model       >= 100\n                && this.onLoads.filters         >= 100\n                && this.onLoads.applyFilters    >= 100\n                && this.onLoads.worker\n                && this.onLoads.property\n                && this.onLoads.classifier\n                && this.onLoads.options\n\n            return flag\n        }\n    },\n    watch: {\n        selectedObjID(v){\n            if(v){\n                this.worker.postMessage({\n                    action: 'getObjectProperties',\n                    id: v\n                })\n            }\n            else{\n                this.propertiesObj = {\n                    Name: '',\n                    Properties: []\n                }\n                this.classifierList = null\n            }\n        }\n    },\n    methods: {\n        getObjectProperties(d){\n            this.propertiesObj = d.properties\n            this.classifierList = d.classifierList\n        },\n        downloadF(){\n            this.downloadFile({\n                file: this.model,\n                type: 'origin'\n            })\n        },\n        downloadI(){\n            if(this.model.tags['ifcxml.zip'] != 1){\n                return\n            }\n            this.downloadFile({\n                file: this.model,\n                type: 'ifcxml'\n            })\n        },\n        downloadFile(f){\n            let url = ''\n            let name = ''\n            if(f.type !== 'ifcxml'){\n                url = this.getFileByVersion(f.file).url\n                name = f.file.name\n            }\n            else{\n                url = this.getFileByVersion(f.file).url + '/ifcxml.zip'\n                name = f.file.name_short + '.ifcxml.zip'\n            }\n\n            let uuid = uuidv4()\n            this.$store.dispatch('common/setUploadNote', [{\n                name: f.file.name,\n                uuid: uuid,\n                action: 'download',\n                pushin: true\n            }])\n            this.$store.dispatch('common/getFile', {\n                id: url,\n                uuid: uuid,\n                typeBlob: 'blob'\n            })\n            .then(res => {\n                this.$store.dispatch('common/setUploadNote', [{\n                    uuid: uuid,\n                    action: 'download',\n                    pushin: false\n                }])\n                if(!res.error){\n                    let a = document.createElement(\"a\")\n                    let objectURL = URL.createObjectURL(res.file)\n                    a.href = objectURL\n                    a.download = name\n                    document.body.appendChild(a)\n                    a.click()\n                    URL.revokeObjectURL(objectURL)\n                    a.remove()\n                }\n                else{\n                    console.log('downloadFile error', err)\n                }\n            })\n            .catch(err => {\n                console.log('downloadFile error', err)\n            })\n        },\n        initFilters(filters){\n            let list = []\n            // let list = filters.map(f => {\n            //     return {\n            //         title: f.title,\n            //         name: f.title,\n            //         items: f.items.map(i => {\n            //             return {\n            //                 name:  i.title,\n            //                 title: i.title,\n            //                 active: false,\n            //                 filter: 'category',\n            //                 items: i.grouppedByElementTypes.map(t => {\n            //                     return {\n            //                         active: false,\n            //                         filter: 'type',\n            //                         category: i.title,\n            //                         name: t.title,\n            //                         title: t.title,\n            //                         items: []\n            //                     }\n            //                 })\n            //             }\n            //         })\n            //     }\n            // })\n            // let e = []\n            // list.map(bi => {\n            //     if(this.filters.some(ai => ai.title == bi.title)){\n            //     \tlet e1 = []\n            //         this.filters = this.filters.map(ai => {\n            //         \tif(ai.title != bi.title){\n            //             \treturn ai\n            //             }\n            //             else{\n            //             \tbi.items.map(bi1 => {\n            //                 \tif(ai.items.some(ai1 => ai1.name == bi1.name)){\n            //                 \t\tlet e2 = []\n            //                         ai.items = ai.items.map(ai1 => {\n            //                         \tif(ai1.name != bi1.name){\n            //                             \treturn ai1\n            //                             }\n            //                             else{\n            //                             \tbi1.items.map(bi2 => {\n            //                                 \tif(!ai1.items.some(ai2 => ai2.name == bi2.name)){\n            //                                     \te2 = [...e2, bi2]\n            //                                     }\n            //                                 })\n            //                                 ai1.items = [...ai1.items, ...e2]\n            //                                 return ai1\n            //                             }\n            //                         })\n            //                     }\n            //                     else{\n            //                     \te1 = [...e1, bi1]\n            //                     }\n            //                 })\n            //                 ai.items = [...ai.items, ...e1]\n            //                 return ai\n            //             }\n            //         })\n            //     }\n            //     else{\n            //     \te = [...e, bi]\n            //     }\n            // })\n            // this.filters = [...this.filters, ...e]\n            //\n            return list\n        },\n        setWalkView(v){\n            this.postMessage({\n                action: 'setWalkView',\n                value: v\n            })\n        },\n        onSection(v){\n            this.postMessage({\n                action: 'onSection',\n                value: v\n            })\n        },\n        onPreloader(){\n            if(!this.onLoadsCheck){\n                return new Promise(resolve => {\n                    resolve(true)\n                })\n            }\n            this.onLoads.applyFilters = 0\n            return new Promise(resolve => {\n\n                setTimeout(resolve, 2000)\n            })\n        },\n        onComputeRepeat(o){\n            this.compute_ready = false\n            this.postMessage({\n                action: 'onComputeRepeat',\n                value: {\n                    group: o.group,\n                    rule: o.rule,\n                    part: 'repeat'\n                }\n            })\n        },\n        onComputeCollisions(o){\n            this.compute_ready = false\n            this.postMessage({\n                action: 'onComputeCollisions',\n                value: {\n                    list_1: o.list_1,\n                    list_2: o.list_2,\n                    group: o.group,\n                    rule: o.rule,\n                    part: 'geom'\n                }\n            })\n        },\n        onComputeParameters(o){\n            this.compute_ready = false\n// console.log('onComputeParameters(o)', o)\n            this.worker.postMessage({\n                action: 'onComputeParameters',\n                value: {...o, source: this.source}\n            })\n\n            // const typeOf = (o, v) => {\n            //     let list = []\n            //     switch(o.type){\n            //         case 'boolean': list = [o.value ? 1 : 0, v == 'Да' ? 1 : 0]\n            //             break\n            //         case 'list': ;\n            //         case 'string': list = [o.value, v]\n            //             break\n            //         case 'integer': list = [parseInt(o.value), parseInt(v)]\n            //             break\n            //         case 'float': list = [Number(o.value), Number(v)]\n            //             break\n            //         default: ;\n            //     }\n            //     return list\n            // }\n            // this.loadPropertyJson()\n            // .then(res => {\n            //     let list = []\n            //     this.propertyJson.map(prop => {\n            //         // let test = prop.Parameters.find(param => param.PropertyGroupTitle == 'Dimensions')\n            //         let general = prop.Parameters.find(g => g.PropertyGroupTitle == 'Общие')\n            //         if(general){\n            //             // let comp = general.PropertyList.find(f => f.Title == 'наименование компонента')\n            //             // if(comp && o.elements.some(s => s.name == comp.Value)){\n            //             //     let elem = o.elements.find(f => f.name == comp.Value)\n            //             let elem = o.elements.find(f => f.list.some(s => s == prop.Id))\n            //\n            //                 if(elem){\n            //                     elem.values.map(v => {\n            //                         let dimensions = prop.Parameters.find(d => d.PropertyGroupTitle == 'Размеры')\n            //                         let val = false\n            //                         if(dimensions){\n            //                             val = dimensions.PropertyList.find(f => f.Title.toLowerCase() == v.name)\n            //                         }\n            //\n            //                         if(val){\n            //                             let equal = false\n            //                             let values = typeOf(v, val.Value)\n            //                         console.log('check 1', values, v.equal)\n            //                             switch(v.equal){\n            //                                 case 0: equal = values[1] > values[0]\n            //                                     break\n            //                                 case 1: equal = values[1] == values[0]\n            //                                     break\n            //                                 case 2: equal = values[1] < values[0]\n            //                                     break\n            //                                 case 3: equal = values[1] >= values[0]\n            //                                     break\n            //                                 case 4: equal = values[1] <= values[0]\n            //                                     break\n            //                                 case 5: equal = values[1] != values[0]\n            //                                     break\n            //                                 default: ;\n            //                             }\n            //                         console.log('check', values, equal)\n            //                             if(!equal){\n            //                                 list.push({\n            //                                     name: prop.Name,\n            //                                     id: prop.Id,\n            //                                     property: val.Title,\n            //                                     value: val.Value,\n            //                                     valueRule: v.type == 'boolean'\n            //                                         ? values[0] || 0\n            //                                             ? 'Да'\n            //                                             : 'Нет'\n            //                                         : values[0],\n            //                                     part: o.part\n            //                                 })\n            //                             }\n            //                         }\n            //                     })\n            //                 }\n            //             // }\n            //         }\n            //     })\n            //\n            //     this.saveCollisionReports({\n            //         value: {\n            //             group: o.group,\n            //             rule: o.rule,\n            //             part: o.part,\n            //             parameters: list\n            //         }\n            //     })\n            // })\n\n        },\n        onRender(){\n            this.onLoads.options = true\n        },\n        onCollisionsActive(v){\n            this.onLoads.options = false\n            this.postMessage({\n                action: 'onCollisionsActive',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n            // this.onLoads.options = true\n        },\n        onShowCollisionsOnly(v){\n            this.postMessage({\n                action: 'onShowCollisionsOnly',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onCreateSectionBoxForCollisions(v){\n            this.postMessage({\n                action: 'onCreateSectionBoxForCollisions',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onSetColorForObjects(v){\n            this.postMessage({\n                action: 'onSetColorForObjects',\n                value: {\n                    list: v.list,\n                    color: v.color\n                }\n            })\n        },\n        onSetColorsForObjects(v){\n            this.postMessage({\n                action: 'onSetColorsForObjects',\n                value: v\n            })\n        },\n        onUnsetColorsForObjects(){\n            this.postMessage({\n                action: 'onUnsetColorsForObjects',\n                value: {}\n            })\n        },\n        onObjectsHighlight(v){\n            this.postMessage({\n                action: 'onObjectsHighlight',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onShowObjectsOnly(v){\n            this.postMessage({\n                action: 'onShowObjectsOnly',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onCreateSectionBoxForObjects(v){\n            this.postMessage({\n                action: 'onCreateSectionBoxForObjects',\n                value: {\n                    list: v.list,\n                    active: v.active\n                }\n            })\n        },\n        onRemoveSectionBox(){\n            this.postMessage({\n                action: 'onRemoveSectionBox'\n            })\n        },\n        saveCollisionReports(v){\n            let meta = JSON.parse(JSON.stringify(this.$store.state.common.meta))\n            meta.collisions.version = this.model.version\n                // console.log('saveCollisionReports', v, meta.collisions)\n\n            meta.collisions.groups = meta.collisions.groups.map(g => {\n                if(g.id == v.value.group){\n                    g.status = 1\n                    g.children = g.children.map(r => {\n                        if(r.id == v.value.rule){\n                            let reports = []\n                            let status = 0\n                            if(v.value.part == 'geom'){\n                                reports = v.value.collision_pairs\n                                status = v.value.collision_pairs.length\n                                    ? 0\n                                    : 1\n                            }\n                            if(v.value.part == 'params'){\n                                reports = v.value.parameters\n                                status = v.value.parameters.length\n                                    ? 0\n                                    : 1\n                            }\n                            if(v.value.part == 'repeat'){\n                                reports = v.value.collision_pairs\n                                status = v.value.collision_pairs.length\n                                    ? 0\n                                    : 1\n                            }\n                            r.reports = reports\n                            r.status = status\n                            r.part = v.value.part\n                        }\n                        return r\n                    })\n                }\n                g.children.map(r => {\n                    if(!r.status){\n                        g.status = 0\n                    }\n                })\n                return g\n            })\n\n            this.$store.dispatch('common/setFileMeta', {\n                id: this.model.id,\n                body: JSON.stringify(meta)\n            })\n            .then(res => {\n                return  this.$store.dispatch('common/getFileMeta', {\n                    id: this.model.id\n                })\n            })\n            .then(res => {\n                this.collisions_compiling = false\n                this.compute_ready = true\n                if(res.error){\n                    this.$notify({\n                        group: 'note',\n                        type: 'error',\n                        text: res.data.error\n                    })\n                }\n                else{\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Проверка выполнена.'\n                    })\n                }\n            })\n            .catch(e => {\n                this.collisions_compiling = false\n                this.compute_ready = true\n            })\n        },\n        getRooms(d){\n            this.rooms.list = d.rooms.list\n            this.rooms.load = true\n        },\n        getRoomsColors(o){\n            this.rooms.colors = o.value\n        },\n        onRoomVisibilityItem(o){\n            this.postMessage({\n                action: 'onRoomVisibilityItem',\n                value: {\n                    ids: o.ids,\n                    val: o.value\n                }\n            })\n        },\n        onRoomVisibility(v){\n            this.postMessage({\n                action: 'onRoomVisibility',\n                value: v.value\n            })\n        },\n        onRooms(v){\n            this.onRoomVisibility({value: v})\n            if(v){\n                this.worker.postMessage({\n                    action: 'getRooms'\n                })\n            }\n\n            return\n            if(v){\n                return new Promise(resolve => {\n                    if(!this.jsonLoad.property){\n                        this.onLoads.property = false\n\n                        let promisesList = []\n                        if(this.model.type == 'consolidations'){\n                            this.listModel.map(l => {\n                                // if(l.tags['mini.json'] == 1){\n                                //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/mini.json'}))\n                                // }\n                                // else\n                                if(l.tags['json'] == 1){\n                                    promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n                                }\n                                else if(l.tags['json.zip'] == 1){\n                                    promisesList.push(new Promise(resolve => {\n                                        this.$store.dispatch('common/getFile', {\n                                            id: this.getFileByVersion(l).url + '/json.zip',\n                                            typeBlob: 'blob'\n                                        })\n                                        .then(res => {\n                                            return Promise.resolve(res.file)\n                                        })\n                                        .then(res => JSZip.loadAsync(res))\n                                        .then(zip => {\n                                            let filesList = Object.keys(zip.files)\n                                            return zip.file(filesList[0]).async(\"string\")\n                                        })\n                                        .then(text => {\n                                            resolve(JSON.parse(text))\n                                        })\n                                    }))\n                                }\n                            })\n                        }\n                        else{\n                            // if(this.model.tags['mini.json'] == 1){\n                            //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'}))\n                            // }\n                            // else\n                            if(this.model.tags['json'] == 1){\n                                promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n                            }\n                            else if(this.model.tags['json.zip'] == 1){\n                                promisesList.push(new Promise(resolve => {\n                                    this.$store.dispatch('common/getFile', {\n                                        id: this.getFileByVersion(this.model).url + '/json.zip',\n                                        typeBlob: 'blob'\n                                    })\n                                    .then(res => {\n                                        return Promise.resolve(res.file)\n                                    })\n                                    .then(res => JSZip.loadAsync(res))\n                                    .then(zip => {\n                                        let filesList = Object.keys(zip.files)\n                                        return zip.file(filesList[0]).async(\"string\")\n                                    })\n                                    .then(text => {\n                                        resolve(JSON.parse(text))\n                                    })\n                                }))\n                            }\n                        }\n\n                        Promise.all(promisesList)\n                        .then(res => {\n                            res.map(r => {\n                                this.propertyJson = [\n                                    ...this.propertyJson,\n                                    ...this.setProperties(r)\n                                ]\n                                let filters = r.GrouppedByCategories || []\n                                this.filters = this.initFilters(filters)\n                                this.rooms.list = this.propertyJson\n                                    .filter(f => f.object == 'Room')\n                                    .map(m => {\n                                        return {\n                                            ...m,\n                                            active: true\n                                        }\n                                    })\n                            })\n                            this.rooms.load = true\n                            this.jsonLoad.property = true\n                            this.onLoads.property = true\n                            resolve(true)\n                        })\n                    }\n                    else{\n                        this.rooms.list = this.propertyJson\n                            .filter(f => f.object == 'Room')\n                            .map(m => {\n                                return {\n                                    ...m,\n                                    active: true\n                                }\n                            })\n                        this.rooms.load = true\n                        resolve(true)\n                    }\n                })\n            }\n        },\n        loadFilters(){\n            return new Promise(resolve => {\n                if(!this.jsonLoad.property){\n                    this.onLoads.property = false\n\n                    let promisesList = []\n                    if(this.model.type == 'consolidations'){\n                        this.listModel.map(l => {\n                            // if(l.tags['mini.json'] == 1){\n                            //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/mini.json'}))\n                            // }\n                            // else\n                            if(l.tags['json'] == 1){\n                                promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n                            }\n                            else if(l.tags['json.zip'] == 1){\n                                promisesList.push(new Promise(resolve => {\n                                    this.$store.dispatch('common/getFile', {\n                                        id: this.getFileByVersion(l).url + '/json.zip',\n                                        typeBlob: 'blob'\n                                    })\n                                    .then(res => {\n                                        return Promise.resolve(res.file)\n                                    })\n                                    .then(res => JSZip.loadAsync(res))\n                                    .then(zip => {\n                                        let filesList = Object.keys(zip.files)\n                                        return zip.file(filesList[0]).async(\"string\")\n                                    })\n                                    .then(text => {\n                                        resolve(JSON.parse(text))\n                                    })\n                                }))\n                            }\n                        })\n                    }\n                    else{\n                        // if(this.model.tags['mini.json'] == 1){\n                        //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'}))\n                        // }\n                        // else\n                        if(this.model.tags['json'] == 1){\n                            promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n                        }\n                        else if(this.model.tags['json.zip'] == 1){\n                            promisesList.push(new Promise(resolve => {\n                                this.$store.dispatch('common/getFile', {\n                                    id: this.getFileByVersion(this.model).url + '/json.zip',\n                                    typeBlob: 'blob'\n                                })\n                                .then(res => {\n                                    return Promise.resolve(res.file)\n                                })\n                                .then(res => JSZip.loadAsync(res))\n                                .then(zip => {\n                                    let filesList = Object.keys(zip.files)\n                                    return zip.file(filesList[0]).async(\"string\")\n                                })\n                                .then(text => {\n                                    resolve(JSON.parse(text))\n                                })\n                            }))\n                        }\n                    }\n\n                    Promise.all(promisesList)\n                    .then(res => {\n                        res.map(r => {\n                            this.propertyJson = [\n                                ...this.propertyJson,\n                                ...this.setProperties(r)\n                            ]\n                            let filters = r.GrouppedByCategories || []\n                            this.filters = this.initFilters(filters)\n                        })\n\n                        this.jsonLoad.property = true\n                        this.onLoads.property = true\n                        resolve(true)\n                    })\n                }\n                else{\n                    resolve(true)\n                }\n            })\n        },\n        onWorkList(v){\n            if(v){\n                this.worker.postMessage({\n                    action: 'getParameters',\n                    names: ['properties']\n                })\n            }\n            else{\n                this.properties = []\n            }\n        },\n        setFilters(v){\n            if(!this.filters.length){\n                this.worker.postMessage({\n                    action: 'getParameters',\n                    names: ['filters'],\n                    callback: {\n                        name: 'initFilters',\n                        arg: v\n                    }\n                })\n            }\n            else{\n                this.initFilters(v)\n            }\n        },\n        onSearch(v){\n            if (v){\n                console.log(' On Search is Run ');\n            }\n        },\n        initFilters(v){\n            this.onPreloader()\n            if(v){\n                this.filters.map(f => {\n                    f.items.map(i => {\n                        if(i.active){\n                            this.onFilter(i)\n                            if(i.items.length){\n                                i.items.map(t => {\n                                    this.onFilter(i)\n                                })\n                            }\n                        }\n                    })\n                })\n                this.onFilter({filter: 'enable'})\n            }\n            else{\n                this.onFilter({filter: 'clear'})\n                this.onFilter({filter: 'disable'})\n            }\n        },\n        onFilter(o){\n            this.onPreloader()\n            .then(r => {\n                this.postMessage({\n                    action: 'onFilter',\n                    value: o\n                })\n            })\n        },\n        setOption(o){\n            this.options[o.name].active = !o.active\n            if(this.options[o.name].action){\n                this[this.options[o.name].action](this.options[o.name].active)\n            }\n        },\n        setSubOption(o){\n            this.options[o.name].children[o.sub_name].active = !o.sub_active\n            if(this.options[o.name].children[o.sub_name].action){\n                this[this.options[o.name].children[o.sub_name].action](this.options[o.name].children[o.sub_name])\n            }\n            this.setOption(o)\n        },\n        updateOption(o){\n            this.options[o.item.name][o.prop] = o.value\n        },\n        hideOptions(list){\n            list.map(l => {\n                if(this.options[l].active){\n                    this.setOption({\n                        name: l,\n                        active: true\n                    })\n                }\n                this.options[l].disabled = true\n            })\n        },\n        showOptions(list = null){\n            if(!list){\n                Object.keys(this.options)\n                    .map(key => {\n                        this.options[key].disabled = false\n                    })\n            }\n            else{\n                list.map(l => {\n                    this.options[l].disabled = false\n                })\n            }\n        },\n        onCollisionSettings(v){\n            this.postMessage({\n                action: 'onLoadCollisions'\n            })\n            this.collision_settings = v\n            if(v){\n                this.$store.dispatch('workflow/getCollisionTemplates')\n                this.$store.dispatch('common/getFileMeta', {\n                    id: this.model.id\n                })\n                .then(res => {\n                    let meta = JSON.parse(res)\n                    if(meta){\n                        if(meta.collisions){\n                            let version = meta.collisions.version || null\n                            if(this.model.version != null && this.model.version != version){\n                                // this.collisions_compiling = true\n                            }\n                            // this.params = {...meta.collisions, temp: {}}\n                        }\n                    }\n                })\n            }\n        },\n        onCollisionReports(v){\n            this.postMessage({\n                action: 'onLoadCollisions'\n            })\n            if(v){\n                this.$store.dispatch('workflow/getCollisionTemplates')\n                this.$store.dispatch('common/getFileMeta', {\n                    id: this.model.id\n                })\n                .then(res => {\n                    let meta = JSON.parse(res)\n                    if(meta){\n                        if(meta.collisions){\n                            this.collisions_version = meta.collisions.version || null\n                            // this.params = {...meta.collisions, temp: {}}\n                        }\n                    }\n                })\n            }\n        },\n        setCollisions(v){\n            this.postMessage({\n                action: 'setCollisions',\n                value: v\n            })\n            // if(this.model.type == 'consolidations'){\n            //     if(this.listModel.some(s => s.tags['collisions.json'] == 1)){\n            //         this.postMessage({\n            //             action: 'setCollisions',\n            //             value: v\n            //         })\n            //     }\n            // }\n            // else{\n            //     if(this.model.tags['collisions.json'] == 1){\n            //         this.postMessage({\n            //             action: 'setCollisions',\n            //             value: v\n            //         })\n            //     }\n            // }\n        },\n        onResurs(v){\n            // this.$store.dispatch('common/getFile', {\n            //     id: this.getFileByVersion(this.model).url + '/json.zip',\n            //     typeBlob: 'blob'\n            // })\n            // .then(res => {\n            //\n            //         let a = document.createElement(\"a\")\n            //         let objectURL = URL.createObjectURL(res.file)\n            //         a.href = objectURL\n            //         a.download = name\n            //         document.body.appendChild(a)\n            //         a.click()\n            //         URL.revokeObjectURL(objectURL)\n            //         a.remove()\n            // })\n\n            // this.onDispatcher(v)\n\n\n            // this.postMessage({\n            //     action: 'onLoadCollisions'\n            // })\n            // if(v){\n            //     this.$store.dispatch('workflow/getCollisionTemplates')\n            //     this.$store.dispatch('common/getFileMeta', {\n            //         id: this.model.id\n            //     })\n            //     .then(res => {\n            //         let meta = JSON.parse(res)\n            //         if(meta){\n            //             if(meta.collisions){\n            //                 this.collisions_version = meta.collisions.version || null\n            //                 // this.params = {...meta.collisions, temp: {}}\n            //             }\n            //         }\n            //     })\n            // }\n        },\n        getHiddenObjects(v){\n            if(v){\n                this.postMessage({\n                    action: 'onGetHiddenObjects',\n                    value: v\n                })\n            }\n        },\n        onGetHiddenObjects(v){\n            console.log('onGetHiddenObjects', v)\n            this.worker.postMessage({\n                action: 'onGetHiddenObjects',\n                value: v\n            })\n            // let items = this.propertyJson.filter(c => (c.Guid != undefined && v.some(s => c.Guid == s))\n            //     || (c.Id != undefined && v.some(s => c.Id == s)))\n            //\n            // this.hiddenList = items.map(i => ({name: i.Name, id: i.Id || i.Guid}))\n        },\n        onHideObject(v){\n            this.postMessage({\n                action: 'onHideObject',\n                value: v\n            })\n        },\n        onShowObject(v){\n            this.postMessage({\n                action: 'onShowObject',\n                value: v\n            })\n            if(this.selectedObjID){\n                this.postMessage({\n                    action: 'selectObjectById',\n                    value: this.selectedObjID\n                })\n            }\n        },\n        hiddenOptionsBtn(){\n            this.options.delta.hidden = !(this.model.files.length > 1)\n                || !(this.model.tags['delta.json'] || false)\n\n            let optionKeyList = Object.keys(this.options)\n            optionKeyList.map(k => {\n                this.options[k].hidden = !checklicense(k)\n            })\n            // this.options.collisions.hidden = !checklicense('collisions')\n            // this.options.collision_reports.hidden = !checklicense('collision_reports')\n            // this.options.collision_settings.hidden = !checklicense('collision_settings')\n            // this.options.collisions.hidden = !(this.model.tags['collisions.json']\n            //         ? this.model.tags['collisions.json'] == 1\n            //             ? true\n            //             : false\n            //         : false)\n        },\n        onDelta(v){\n            if(v){\n                this.hideOptions(['hidden', 'property', 'filters', 'planes'])\n                this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/delta.json'})\n                .then(res => {\n                    this.delta = res.Elements\n                    if(!this.propertyJson.length){\n                        return this.loadFilters()\n                    }\n                    else{return true}\n                })\n                .then(() => {\n                    return this.$store.dispatch('common/getFileInfo', {id: this.model.files[1].url + '/info'})\n                })\n                .then(res => {\n                    if(res.tags['json.zip']){\n                        return new Promise(resolve => {\n                            this.$store.dispatch('common/getFile', {\n                                id: this.getFileByVersion(this.model).url + '/json.zip',\n                                typeBlob: 'blob'\n                            })\n                            .then(res => {\n                                return Promise.resolve(res.file)\n                            })\n                            .then(res => JSZip.loadAsync(res))\n                            .then(zip => {\n                                let filesList = Object.keys(zip.files)\n                                return zip.file(filesList[0]).async(\"string\")\n                            })\n                            .then(text => {\n                                resolve(JSON.parse(text))\n                            })\n                        })\n                    }\n                    else{\n                        return this.$store.dispatch('common/getFileInfo', {id: this.model.files[1].url + '/json'})\n                    }\n                })\n                .then(res => {\n                    return this.setProperties(res)\n                })\n                .then(json2 => {\n                    let mod = 0\n                    let del = 0\n                    let add = 0\n                    this.deltaList.list = this.delta.map(d => {\n                        let elem = {}\n                        Object.entries(d).map(([key, value]) => {\n                            elem = {...value}\n                        })\n                        return elem\n                    }).map(d => {\n                        if(d.Status == 'modified'){\n                            let elem = this.propertyJson.find(p => p.Id == d.Id)\n                            mod++\n                            let parameters = []\n                            if(d.hasOwnProperty('ParametersStatus')){\n                                d.Parameters.map(p => {\n                                    let group = elem.Parameters.find(f => f.PropertyGroupTitle == p.PropertyGroupTitle)\n                                    p.PropertyList.map(pr => {\n                                        let param = group.PropertyList.find(epr => epr.Title == pr.Title)\n                                        parameters.push({\n                                            name: param.Title,\n                                            value: param.Value || '---',\n                                            units: param.Units || ''\n                                        })\n                                    })\n                                })\n                            }\n                            return {\n                                id: elem.Id,\n                                name: elem.Name,\n                                status: d.Status,\n                                color: 'yellow',\n                                parameters: parameters\n                            }\n                        }\n                        else if(d.Status == 'deleted'){\n                            let elem = json2.find(p => p.Id == d.Id)\n                            del++\n                            return {\n                                id: elem.Id,\n                                name: elem.Name,\n                                status: d.Status,\n                                color: 'red'\n                            }\n                        }\n                        else{\n                            let elem = this.propertyJson.find(p => p.Id == d.Id)\n                            add++\n                            return {\n                                id: elem.Id,\n                                name: elem.Name,\n                                status: d.Status,\n                                color: 'green'\n                            }\n                        }\n                    }).map(d => {\n                        return {\n                            ...d,\n                            name: d.id + ' | ' + d.name,\n                            active: false,\n                            quantity: []\n                        }\n                    })\n                    this.deltaList.mod = mod\n                    this.deltaList.del = del\n                    this.deltaList.add = add\n                })\n            }\n            else{\n                this.showOptions()\n            }\n            this.postMessage({\n                action: 'onDelta',\n                token: this.$store.state.auth.access_token,\n                id: this.model.files[1].url,\n                value: v,\n                prop: {\n                    type: 'rvt'\n                }\n            })\n        },\n        setView(v){\n            let name = ''\n            switch(v.name){\n                case 'left':    name = 'setLeft'\n                                break\n                case 'right':   name = 'setRight'\n                                break\n                case 'top':     name = 'setTop'\n                                break\n                case 'front':   name = 'setFront'\n                                break\n                case 'back':    name = 'setBack'\n                                break\n                default: ;\n            }\n            this.postMessage({\n                action: 'setView',\n                name: name\n            })\n            v.active = false\n        },\n        displayAxes(v){\n            this.postMessage({\n                action: 'displayAxes',\n                value: v\n            })\n        },\n        displayGrid(v){\n            this.postMessage({\n                action: 'displayGrid',\n                value: v\n            })\n        },\n        getJsonFile(){\n            let tag = this.source == 'Revit' ? '/json.zip' : '/json'\n            this.$store.dispatch('common/getFile', {\n                id: this.getFileByVersion(this.model).url + tag,\n                typeBlob: 'blob'\n            })\n            .then(res => {\n                let a = document.createElement(\"a\")\n                let objectURL = URL.createObjectURL(res.file)\n                a.href = objectURL\n                a.download = name\n                document.body.appendChild(a)\n                a.click()\n                URL.revokeObjectURL(objectURL)\n                a.remove()\n            })\n        },\n        buildDispatcher(d){\n            this.levelsMap = d.value\n        },\n        onDispatcher(v){\n            this.worker.postMessage({\n                action: 'buildDispatcher',\n                fname: this.model.name\n            })\n            return\n\n            if(!this.levelsMap){\n                let promisesList = []\n                if(this.model.tags['json'] == 1){\n                    promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n                }\n                else if(this.model.tags['json.zip'] == 1){\n                    promisesList.push(new Promise(resolve => {\n                        this.$store.dispatch('common/getFile', {\n                            id: this.getFileByVersion(this.model).url + '/json.zip',\n                            typeBlob: 'blob'\n                        })\n                        .then(res => {\n                            return Promise.resolve(res.file)\n                        })\n                        .then(res => JSZip.loadAsync(res))\n                        .then(zip => {\n                            let filesList = Object.keys(zip.files)\n                            return zip.file(filesList[0]).async(\"string\")\n                        })\n                        .then(text => {\n                            resolve(JSON.parse(text))\n                        })\n                    }))\n                }\n                const getTree = (map, items, level) => {\n                    items\n                        .filter(f => f.level == level)\n                        .map((m, i, a) => {\n                            if(level != 'main'){\n                                map[level].size = a.length\n                            }\n                            getTree(map, items.filter(f => f.level != level), m.id)\n                        })\n                }\n\n                let map = {\n                    'all':{\n                        id: 'all',\n                        name: 'Генплан',\n                        level: 'main',\n                        hidden: false,\n                        type: 'level',\n                        size: 0,\n                        selected: 0\n                    }\n                }\n\n                Promise.all(promisesList)\n                .then(res => {\n                    res.map(r => {\n                        this.propertyJson = [\n                            ...this.propertyJson,\n                            ...this.setProperties(r)\n                        ]\n                        let levels = r.Levels || []\n                        levels.map(l => {\n                            map[l.Level.Id] = {\n                                name: l.Level.Name,\n                                id: l.Level.Id,\n                                level: 'all',\n                                hidden: false,\n                                type: 'level',\n                                size: 0,\n                                selected: 0\n                            }\n                            let elemList = this.propertyJson\n                                .filter(f => f.Level == l.Level.Id)\n                                // .map(m => {\n                                //     map[m.Id] = {\n                                //         name: m.Name,\n                                //         id: m.Id,\n                                //         level: l.Level.Id,\n                                //         hidden: false,\n                                //         type: 'item'\n                                //     }\n                                //     return m\n                                // })\n\n                            let groupList = elemList.reduce((r, i) => {\n                                r[i.Name] = r[i.Name] || []\n                                r[i.Name].push(i)\n                                return r\n                            }, {})\n\n                            Object.entries(groupList).map(([key, value], ind) => {\n                                let groupId = 'g' + l.Level.Id + '_' + ind\n                                map[groupId] = {\n                                    name: key,\n                                    id: groupId,\n                                    level: l.Level.Id,\n                                    type: 'level',\n                                    size: 0,\n                                    selected: 0\n                                }\n                                value.map(v => {\n                                    map[v.Id] = {\n                                        name: v.Name,\n                                        id: v.Id,\n                                        level: groupId,\n                                        hidden: false,\n                                        type: 'item'\n                                    }\n                                })\n                            })\n                        })\n                        getTree(map, Object.values(map), 'main')\n                        this.levelsMap = map\n                    })\n                })\n            }\n        },\n        loadPropertyJson(){\n            return new Promise(resolve => {\n                if(!this.jsonLoad.property){\n                    this.onLoads.property = false\n                    let promisesList = []\n                    if(this.model.type == 'consolidations'){\n                        this.listModel.map(l => {\n                            if(l.tags['json'] == 1){\n                                promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n                            }\n                        })\n                    }\n                    else{\n                        if(this.model.tags['json'] == 1){\n                            promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n                        }\n                        else if(this.model.tags['json.zip'] == 1){\n                            promisesList.push(new Promise(resolve => {\n                                this.$store.dispatch('common/getFile', {\n                                    id: this.getFileByVersion(this.model).url + '/json.zip',\n                                    typeBlob: 'blob'\n                                })\n                                .then(res => {\n                                    return Promise.resolve(res.file)\n                                })\n                                .then(res => JSZip.loadAsync(res))\n                                .then(zip => {\n                                    let filesList = Object.keys(zip.files)\n                                    return zip.file(filesList[0]).async(\"string\")\n                                })\n                                .then(text => {\n                                    resolve(JSON.parse(text))\n                                })\n                            }))\n                        }\n                    }\n                        // this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'})\n                        // .then(res => {\n                        //     console.log('mini.json',res)\n                        // })\n\n                    Promise.all(promisesList)\n                    .then(res => {\n                        res.map(r => {\n                            this.propertyJson = [\n                                ...this.propertyJson,\n                                ...this.setProperties(r)\n                            ]\n                            let filters = r.GrouppedByCategories || []\n                            this.filters = this.initFilters(filters)\n                            this.source = r.Source || null\n                        })\n\n                        this.jsonLoad.property = true\n                        this.onLoads.property = true\n                        resolve(true)\n                    })\n                }\n                else{\n                    resolve(true)\n                }\n            })\n        },\n        setSelectionMode(v){\n            // if(!this.jsonLoad.classifier){\n            //     this.onLoads.classifier = false\n            //\n            //     let promisesList = []\n            //     let no_classifier = false\n            //     if(this.model.type == 'consolidations'){\n            //         this.listModel.map(l => {\n            //             if(l.tags.hasOwnProperty('classifier.json')\n            //                 && l.tags['classifier.json'] == 1){\n            //                 promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/classifier.json'}))\n            //             }\n            //             else{\n            //                 no_classifier = true\n            //             }\n            //         })\n            //     }\n            //     else{\n            //         if(this.model.tags.hasOwnProperty('classifier.json')\n            //             && this.model.tags['classifier.json'] == 1){\n            //             promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/classifier.json'}))\n            //         }\n            //     }\n            //\n            //     Promise.all(promisesList)\n            //     .then(res => {\n            //         if(no_classifier){\n            //             this.classifierJson = 'none'\n            //         }\n            //         else{\n            //             res.map(r => {\n            //                 this.classifierJson = [\n            //                     ...this.classifierJson,\n            //                     ...this.setProperties(r)\n            //                 ]\n            //             })\n            //         }\n            //         this.jsonLoad.classifier = true\n            //         this.onLoads.classifier = true\n            //     })\n            // }\n            //\n            // this.loadPropertyJson()\n\n            if(!v){\n                this.selectedObjID = null\n                this.selectedObjIDList = null\n            }\n            this.onSetSelectionMode(v)\n        },\n        onSetSelectionMode(v){\n            if(this.selectionModeCount < 2){\n                this.postMessage({\n                    action: 'setSelectionMode',\n                    value: v\n                })\n                if(!v){\n                    this.onClearSelection()\n                }\n            }\n            if(v){\n                this.selectionModeCount++\n            }\n            else{\n                this.selectionModeCount--\n            }\n        },\n        onClearSelection(){\n            this.selectedObjID = null\n            this.selectedObjIDList = null\n            this.postMessage({\n                action: 'clearSelection',\n                value: true\n            })\n        },\n        onMouseDown(event){\n            event.preventDefault()\n        },\n        onSelected(v){\n            if(v.id.length > 1){\n                this.selectedObjIDList = v.id\n            }\n            else{\n                this.selectedObjID = v.id[0]\n            }\n        },\n        initModel(){\n            // this.loadPropertyJson()\n            if(this.model.type == 'consolidations'){\n                if(!this.listModel.length){\n                    let list = this.$store.state.workflow.listDocs\n                    this.listModel = list.filter(l => this.model.consolidations.some(s => s == l.id))\n                }\n                this.preloaderTitle = 'Загрузка файлов модели ' + this.listModel[this.indexModel].name\n                this.preloaderInit.step++\n                this.postMessage({\n                    token: this.$store.state.auth.access_token,\n                    id: this.getFileByVersion(this.listModel[this.indexModel]).url,\n                    action: 'loadModel',\n                    prop: {\n                        json: (() => {\n                                if(this.model.tags['json.zip']){\n                                    return 'json.zip'\n                                }\n                                else{\n                                    return 'json'\n                                }\n                            })()\n                    }\n                })\n            }\n            else{\n                this.preloaderTitle = 'Загрузка файлов модели ' + this.model.name\n                this.preloaderInit.step++\n                this.postMessage({\n                    token: this.$store.state.auth.access_token,\n                    id: this.getFileByVersion(this.model).url,\n                    action: 'loadModel',\n                    prop: {\n                        type: this.model.type,\n                        json: (() => {\n                                if(this.model.tags['json.zip']){\n                                    return 'json.zip'\n                                }\n                                else{\n                                    return 'json'\n                                }\n                            })()\n                    }\n                })\n            }\n        },\n        onLoadModel(v){\n            if(v.value == 100){\n                this.preloaderInit.step++\n            }\n            // console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! onLoadModel')\n            // if(this.model.type == 'consolidations'){\n            //     if(this.indexModel + 1 == this.listModel.length){\n            //         this.onLoads.model = v.value\n            //     }\n            // }\n            // else{\n            //     this.onLoads.model = v.value\n            // }\n        },\n        onLoadFilters(v){\n            this.onLoads.filters = v\n        },\n        onLoadApplyFilters(v){\n            // console.log('onLoadApplyFilters', v)\n            // if(this.model.type == 'consolidations'){\n            //     if(this.indexModel + 1 == this.listModel.length){\n            //         this.onLoads.applyFilters = v.value\n            //     }\n            //     else{\n            //         this.onLoads.applyFilters = 0\n            //         this.indexModel += 1\n            //         this.initModel()\n            //     }\n            // }\n            // else{\n            //     this.onLoads.applyFilters = v.value\n            // }\n\n\n            if(this.onLoads.applyFilters != v.value){\n                this.onLoads.applyFilters = v.value\n            }\n        },\n        onReadyModel(v){\n            if(this.model.type == 'consolidations'){\n                if(this.indexModel + 1 == this.listModel.length){\n                    this.initWorkerOptions()\n                    this.onLoads.model = 100\n                    this.onLoads.applyFilters = 100\n                    this.onLoads.property = true\n                }\n                else{\n                    this.onLoads.applyFilters = 0\n                    this.indexModel += 1\n                    this.initModel()\n                }\n            }\n            else{\n                this.initWorkerOptions()\n                this.onLoads.model = 100\n                this.onLoads.applyFilters = 100\n                this.onLoads.property = true\n            }\n        },\n        setProperties(o){\n            let list = o['Elements']\n                .map(e => {\n                    let elem = {}\n                    Object.entries(e).map(([key, value]) => {\n                        elem = {...value, object: key}\n                    })\n                    return elem\n            })\n            return list\n        },\n        updateCanvasSize(){\n            this.setCanvasSize()\n        },\n        getFileByVersion(f){\n            if(f.version == null){\n                return f.files[0]\n            }\n            else{\n                let file = f.files.find(i => i.id == f.version)\n                return file ? file : f.files[0]\n            }\n        },\n        onWindowResize(){\n            this.updateCanvasSize()\n        },\n        onKeyup(e){\n            let frame = this.$refs['viewer'].contentWindow.document.getElementById('canvas')\n            let newEvent = new Event('keyup', {key: e.key, code: e.code, composed: true, charCode: e.charCode, keyCode: e.keyCode, which: e.which, bubbles: true, cancelable: true, which: e.keyCode})\n            newEvent.keyCode = e.keyCode\n            newEvent.which = e.keyCode\n            frame.dispatchEvent(newEvent)\n        },\n        onKeydown(e){\n            let frame = this.$refs['viewer'].contentWindow.document.getElementById('canvas')\n            let newEvent = new Event('keydown', {key: e.key, code: e.code, composed: true, charCode: e.charCode, keyCode: e.keyCode, which: e.which, bubbles: true, cancelable: true, which: e.keyCode})\n            newEvent.keyCode = e.keyCode\n            newEvent.which = e.keyCode\n            frame.dispatchEvent(newEvent)\n        },\n        postMessage(v){\n            this.$refs['viewer'].contentWindow.postMessage(v, '*')\n        },\n        receiveMessage(e){\n            if(Object.prototype.hasOwnProperty.call(e.data, 'action')){\n                switch(e.data.action){\n                    case 'ready': this.initModel()\n                        document.addEventListener('keyup', this.onKeyup)\n                        document.addEventListener('keydown', this.onKeydown)\n                        break\n                    case 'onStartLoadFilters': this.preloaderTitle = 'Загрузка свойств модели.'\n                        this.preloaderInit.step++\n                        break\n                    case 'onSelected': this.onSelected(e.data)\n                        break\n                    case 'onLoadApplyFilters': this.onLoadApplyFilters(e.data)\n                        break\n                    case 'onLoadModel': this.onLoadModel(e.data)\n                        break\n                    case 'onReadyModel': this.onReadyModel(e.data)\n                        break\n                    case 'getRoomsColors': this.getRoomsColors(e.data)\n                        break\n                    case 'onGetHiddenObjects': this.onGetHiddenObjects(e.data.value)\n                        break\n                    case 'saveCollisionReports': this.saveCollisionReports(e.data)\n                        break\n                    case 'onRender': this.onRender(e.data)\n                        break\n                    default: ;\n                }\n            }\n        },\n        setCanvasSize(){\n            this.canvas = this.$refs['canvas']\n            let el = this.$el\n            let parent = this.$parent.$el\n            const devicePixelRatio = window.devicePixelRatio || 1\n            const widthC = parent.offsetWidth// * devicePixelRatio\n            const heightC = parent.offsetHeight// * devicePixelRatio\n            this.CanvasWidth = widthC * devicePixelRatio\n            this.CanvasHeight = heightC * devicePixelRatio\n            this.devicePixelRatio = devicePixelRatio\n\n            // this.canvas.style.width  = widthC + \"px\"\n            // this.canvas.style.height = heightC + \"px\"\n            this.canvas.width  = widthC\n            this.canvas.height = heightC\n\n            return {\n                widthC,\n                heightC\n            }\n        },\n        workerMessage(e){\n            console.log('workerMessage', e)\n            if(Object.prototype.hasOwnProperty.call(e.data, 'action')){\n                switch(e.data.action){\n                    case 'ready': this.initModel()\n                        document.addEventListener('keyup', this.onKeyup)\n                        document.addEventListener('keydown', this.onKeydown)\n                        break\n                    case 'onStartLoadFilters': this.preloaderTitle = 'Загрузка свойств модели.'\n                        this.preloaderInit.step++\n                        break\n                    case 'onSelected': this.onSelected(e.data)\n                        break\n                    case 'onLoadApplyFilters': this.onLoadApplyFilters(e.data)\n                        break\n                    case 'onLoadModel': this.onLoadModel(e.data)\n                        break\n                    case 'onReadyModel': this.onReadyModel(e.data)\n                        break\n                    case 'getRoomsColors': this.getRoomsColors(e.data)\n                        break\n                    case 'onGetHiddenObjects': this.onGetHiddenObjects(e.data.value)\n                        break\n                    case 'saveCollisionReports': this.saveCollisionReports(e.data)\n                        break\n                    case 'onRender': this.onRender(e.data)\n                        break\n                    default: ;\n                }\n            }\n        },\n        initWorkerOptions(){\n            this.worker.postMessage({\n                action: 'init',\n                token: this.$store.state.auth.token,\n                model: this.model,\n                listModel: this.listModel\n            })\n        },\n        getParamSearch(d){\n            console.log('Run is getParamSearch');\n\n            this.ParamSearch = d.listSearch;\n            this.ParamSearchId = d.listSearchId;\n        },\n        getParameters(d){\n            new Promise(resolve => {\n                resolve(d.props.map(p => {\n                    this[p.name] = p.value\n                }))\n            })\n            .then(r => {\n                if(d.callback){\n                    this[d.callback.name](d.callback.arg)\n                }\n            })\n        },\n        initWorkerParams(d){\n            this.onLoads.worker = d.value\n            if(!d.value){\n                console.warn('initWorkerParams error:', d.msg)\n            }\n        },\n        wubviewerMessage(e){\n            if(Object.prototype.hasOwnProperty.call(e.data, 'action')){\n                switch(e.data.action){\n                    case 'initWorkerParams': this.initWorkerParams(e.data)\n                        break\n                    case 'getObjectProperties': this.getObjectProperties(e.data)\n                        break\n                    case 'getParameters': this.getParameters(e.data)\n                        break\n                    case 'getParamSearch': this.getParamSearch(e.data)\n                        break\n                    case 'getPropertyJson':  this.getPropertyJson(e.data)\n                        break\n                    case 'buildDispatcher': this.buildDispatcher(e.data)\n                        break\n                    case 'saveCollisionReports': this.saveCollisionReports(e.data)\n                        break\n                    case 'getRooms': this.getRooms(e.data)\n                        break\n                    default: ;\n                }\n            }\n        }\n    },\n    mounted(){\n        this.worker = new Worker(window.location.origin + '/js/wubviewer.js')\n        // this.worker = new Worker(this.$url + '/js/wubviewer.js')\n        this.worker.addEventListener(\"message\", this.wubviewerMessage, false)\n        // this.$refs['viewer'].src = this.viewer\n        window.addEventListener(\"message\", this.receiveMessage, false)\n        // this.$nextTick(() => {\n        //     let worker = new Worker('../../../worker.js')\n        //     this.worker = worker\n        //     let cnvs = this.$refs['canvas']\n        //     let parent = this.$parent.$el\n        //     const widthC = parent.offsetWidth\n        //     const heightC = parent.offsetHeight\n        //     cnvs.width  = widthC\n        //     cnvs.height = heightC\n        //     let offscreen = cnvs.transferControlToOffscreen()\n        //\n        //     worker.addEventListener(\"message\", this.workerMessage, false)\n        //\n        //     cnvs.addEventListener('mousemove', (e) => {\n        //         worker.postMessage({mouseevent: {\n        //             btn: e.button,\n        //             btns: e.buttons,\n        //             type: 8,\n        //             ex: e.layerX,\n        //             ey: e.layerY\n        //         }})\n        //     })\n        //     cnvs.addEventListener('mousedown', (e) => {\n        //         console.log('event', e)\n        //         worker.postMessage({mouseevent: {\n        //             btn: e.button,\n        //             btns: e.buttons,\n        //             type: 6,\n        //             ex: e.layerX,\n        //             ey: e.layerY\n        //         }})\n        //     })\n        //     cnvs.addEventListener('mouseup', (e) => {\n        //         worker.postMessage({mouseevent: {\n        //             btn: e.button,\n        //             btns: e.buttons,\n        //             type: 5,\n        //             ex: e.layerX,\n        //             ey: e.layerY\n        //         }})\n        //     })\n        //     worker.postMessage({canvas: offscreen, pxlratio: window.devicePixelRatio}, [offscreen])\n        // })\n    },\n    created(){\n        this.preloaderTitle = 'Загрузка просмотрщика.'\n        this.hiddenOptionsBtn()\n        //window.addEventListener('keyup', this.onKeyup)\n    },\n    beforeDestroy(){\n        this.ready = false\n        window.removeEventListener(\"message\", this.receiveMessage, false)\n        this.worker.terminate()\n        this.worker = null\n\n        this.$el.removeEventListener('mousedown', this.onMouseDown, false)\n        document.removeEventListener('keyup', this.onKeyup)\n        document.removeEventListener('keydown', this.onKeydown)\n    }\n\n}\n</script>\n<style>\n#canvas{\n    position: relative;\n}\n#canvas canvas{\n    outline: none;\n}\n.test{\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100px;\n    height: 100px;\n    background-color: #fff;\n    z-index: 111111111;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewObj.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewObj.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ViewObj.vue?vue&type=template&id=86d99872\"\nimport script from \"./ViewObj.vue?vue&type=script&lang=js\"\nexport * from \"./ViewObj.vue?vue&type=script&lang=js\"\nimport style0 from \"./ViewObj.vue?vue&type=style&index=0&id=86d99872&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\",\"pa-0\":\"\"}},[_c(VLayout,{staticStyle:{\"position\":\"relative\"},attrs:{\"wrap\":\"\",\"ma-0\":\"\",\"id\":\"fullscreen\"}},[_c('div',{ref:\"canvas-wrap\",staticClass:\"m-3d-wrap\",attrs:{\"id\":\"canvas-wrap\"}},[_c('iframe',{ref:\"viewer\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"border\":\"0\"},attrs:{\"src\":_vm.viewer,\"id\":\"viewer\",\"name\":\"viewer\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onLoadsCheck),expression:\"!onLoadsCheck\"}],staticClass:\"m-back\",class:{'m-back--trans': _vm.onLoads.model}},[_c('div',{staticClass:\"vm-progress\"},[_c('div',{staticClass:\"loader\"},[_c('svg',{staticClass:\"circular\",attrs:{\"viewBox\":\"25 25 50 50\"}},[_c('circle',{staticClass:\"path\",attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"20\",\"fill\":\"none\",\"stroke-width\":\"2\",\"stroke-miterlimit\":\"10\"}})])]),_c('span',[_vm._v(_vm._s(_vm.preloaderTytle))])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid fill-height text-xs-center pa-0 class=\"m-container\">\n        <v-layout wrap ma-0 style=\"position: relative;\" id=\"fullscreen\">\n            <div\n                class=\"m-3d-wrap\"\n                ref=\"canvas-wrap\"\n                id=\"canvas-wrap\"\n                >\n\n                <iframe :src=\"viewer\" ref=\"viewer\" id=\"viewer\" name=\"viewer\" style=\"height:100%; width:100%; border: 0;\"/>\n\n            </div>\n        <!--\n            <panel-options\n                :options=\"options\"\n                @setOption=\"setOption\"\n                @setSubOption=\"setSubOption\"/>\n            <div\n                class=\"m-panel__wrap--left\"\n                :class=\"{multy: multy}\"\n                >\n                <panel-property\n                    v-show=\"options.property.active\"\n                    :menuItem=\"options.property\"\n                    @setOption=\"setOption\"\n                    @onHideObject=\"onHideObject\"\n                    @onShowObject=\"onShowObject\"\n                    :hiddenList=\"hiddenList\"\n                    :selectedObjID=\"selectedObjID\"\n                    :properties=\"getObjectProperties\"\n                    :classifications=\"getClassifications\"/>\n            </div>\n\n            <div\n                class=\"m-panel__wrap--right\"\n                :class=\"{multy: multy}\"\n                >\n                <panel-filters\n                    v-show=\"options.filters.active\"\n                    :menuItem=\"options.filters\"\n                    @onFilter=\"onFilter\"\n                    @setFilters=\"setFilters\"\n                    @setOption=\"setOption\"\n                    :filters.sync=\"filters\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-dispatcher\n                    v-show=\"options.dispatcher.active\"\n                    :menuItem=\"options.dispatcher\"\n                    @setOption=\"setOption\"\n                    @onHideObject=\"onHideObject\"\n                    @onShowObject=\"onShowObject\"\n                    :levelsMap=\"levelsMap\"\n                    :hiddenList=\"hiddenList\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-hidden\n                    v-show=\"options.hidden.active\"\n                    :menuItem=\"options.hidden\"\n                    @setOption=\"setOption\"\n                    @onShowObject=\"onShowObject\"\n                    :hiddenList=\"hiddenList\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-delta\n                    v-show=\"options.delta.active\"\n                    :menuItem=\"options.delta\"\n                    @setOption=\"setOption\"\n                    :delta=\"deltaList\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-rooms\n                    v-show=\"options.rooms.active\"\n                    :menuItem=\"options.rooms\"\n                    @setOption=\"setOption\"\n                    @onRoomVisibility=\"onRoomVisibility\"\n                    :rooms.sync=\"rooms\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-collision-settings\n                    v-show=\"options.collision_settings.active\"\n                    :menuItem=\"options.collision_settings\"\n                    :model=\"model\"\n                    :source=\"source\"\n                    :compute_ready=\"compute_ready\"\n                    @setOption=\"setOption\"\n                    @onComputeCollisions=\"onComputeCollisions\"\n                    @onComputeParameters=\"onComputeParameters\"\n                    :collision_settings=\"collision_settings\"\n                    :collisions_compiling.sync=\"collisions_compiling\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-collision-report\n                    v-show=\"options.collision_reports.active\"\n                    :menuItem=\"options.collision_reports\"\n                    :planes=\"options.planes.active\"\n                    :collisions=\"options.collisions.active\"\n                    :model=\"model\"\n                    :compute_ready=\"compute_ready\"\n                    :onLoadsOptions.sync=\"onLoads.options\"\n                    @setOption=\"setOption\"\n                    @onCollisionsActive=\"onCollisionsActive\"\n                    @onShowCollisionsOnly=\"onShowCollisionsOnly\"\n                    @onCreateSectionBoxForCollisions=\"onCreateSectionBoxForCollisions\"\n\n                    @onObjectsHighlight=\"onObjectsHighlight\"\n                    @onShowObjectsOnly=\"onShowObjectsOnly\"\n                    @onCreateSectionBoxForObjects=\"onCreateSectionBoxForObjects\"\n                    @onRemoveSectionBox=\"onRemoveSectionBox\"\n                    :styleP=\"getStylePanels.style\"/>\n            </div>\n            <div\n                v-show=\"options.tabs.active\"\n                class=\"m-panel__wrap--bottom\"\n                :class=\"{multy: multy || options.tabs.minimize}\"\n                >\n                <panel-tabs\n                    :active=\"options.tabs.active\"\n                    :model=\"model\"\n                    :menuItem=\"options.tabs\"\n                    :minimize=\"options.tabs.minimize\"\n                    @setOption=\"setOption\"\n                    @updateOption=\"updateOption\"\n                     />\n            </div>\n        -->\n\n            <div\n                v-show=\"!onLoadsCheck\"\n                class=\"m-back\"\n                :class=\"{'m-back--trans': onLoads.model}\"\n                >\n                <div class=\"vm-progress\">\n                    <div class=\"loader\">\n                        <svg class=\"circular\" viewBox=\"25 25 50 50\">\n                            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\n                        </svg>\n                    </div>\n                    <span>{{preloaderTytle}}</span>\n                </div>\n            </div>\n\n        </v-layout>\n        <!--\n\t\t<tools3d\n            :toolsbar.sync=\"toolsbar\"\n            ref=\"tools\"\n            />\n        -->\n    </v-container>\n</template>\n\n<script>\n// import * as JSZip from 'jszip'\n// import * as JSZipUtils from 'jszip-utils'\n// import Tools3d from \"./Tools3d\"\n// import PanelOptions from \"./PanelOptions\"\n// import PanelProperty from \"./PanelProperty\"\n// import PanelDispatcher from \"./PanelDispatcher\"\n// import PanelHidden from \"./PanelHidden\"\n// import PanelFilters from \"./PanelFilters\"\n// import PanelDelta from \"./PanelDelta\"\n// import PanelRooms from \"./PanelRooms\"\n// import PanelCollisionSettings from \"./PanelCollisionSettings\"\n// import PanelCollisionReport from \"./PanelCollisionReport\"\n// import PanelTabs from \"./PanelTabs\"\n\n\n//import PanelPlanes from \"./PanelPlanes\"\n\nexport default {\n    name: 'ViewDwg',\n    components: {\n        // Tools3d,\n        // PanelOptions,\n        // PanelProperty,\n        // PanelDispatcher,\n        // PanelHidden,\n        // PanelFilters,\n        // PanelDelta,\n        // PanelRooms,\n        // PanelCollisionSettings,\n        // PanelCollisionReport,\n        // PanelTabs,\n//        PanelPlanes\n    },\n    props: ['model', 'doc'],\n    data: () => ({\n        ready: false,\n        indexModel: 0,\n        listModel: [],\n        viewer: '/ubviewer/',\n        toolsbar: true,\n        propertyJson: [],\n        source: null,\n        classifierJson: [],\n        jsonLoad: {\n            classifier: false,\n            property: false\n        },\n        filters: [],\n        delta: [],\n        deltaList: {\n            del: 0,\n            mod: 0,\n            add: 0,\n            list: []\n        },\n        rooms: {\n            list: [],\n            colors: [],\n            load: false\n        },\n        selectedObjID: null,\n        hiddenList: [],\n        levelsMap: null,\n        collision_settings: false,\n        collisions_version: null,\n        collisions_compiling: false,\n        compute_ready: true,\n        // options: {\n        //     '3d-view': {\n        //         name: '3d-view',\n        //         title: '3d виды',\n        //         active: false,\n        //         action: false,\n        //         disabled: false,\n        //         children: {\n        //             left: {\n        //                 parent: '3d-view',\n        //                 name: 'left',\n        //                 title: 'Слева',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-left'\n        //             },\n        //             right: {\n        //                 parent: '3d-view',\n        //                 name: 'right',\n        //                 title: 'Справа',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-right'\n        //             },\n        //             top: {\n        //                 parent: '3d-view',\n        //                 name: 'top',\n        //                 title: 'Сверху',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-top'\n        //             },\n        //             front: {\n        //                 parent: '3d-view',\n        //                 name: 'front',\n        //                 title: 'Спереди',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-front'\n        //             },\n        //             back: {\n        //                 parent: '3d-view',\n        //                 name: 'back',\n        //                 title: 'Сзади',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-back'\n        //             },\n        //         },\n        //         icon: 'trd-d_view',\n        //         divider: false\n        //     },\n        //     grid: {\n        //         name: 'grid',\n        //         title: 'Сетка',\n        //         active: false,\n        //         action: 'displayGrid',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-grid',\n        //         divider: false\n        //     },\n        //     axis: {\n        //         name: 'axis',\n        //         title: 'Ось',\n        //         active: true,\n        //         action: 'displayAxes',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-axis',\n        //         divider: false\n        //     },\n        //     walkview: {\n        //         name: 'walkview',\n        //         title: 'Вид от первого лица',\n        //         active: false,\n        //         action: 'setWalkView',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-street-view',\n        //         divider: true\n        //     },\n        //     /*\n        //     screenshot: {\n        //         name: 'screenshot',\n        //         title: 'Снимок сцены',\n        //         active: false,\n        //         action: false,\n        //         children: null,\n        //         icon: 'trd-screenshot',\n        //         divider: false\n        //     },\n        //     */\n        //     hidden: {\n        //         name: 'hidden',\n        //         title: 'Скрытые объекты',\n        //         active: false,\n        //         action: 'getHiddenObjects',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'mdi-eye-off',\n        //         divider: false\n        //     },\n        //     property: {\n        //         name: 'property',\n        //         title: 'Свойства объекта',\n        //         active: false,\n        //         action: 'setSelectionMode',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-propriety',\n        //         divider: false\n        //     },\n        //     dispatcher: {\n        //         name: 'dispatcher',\n        //         title: 'Диспетчер проекта',\n        //         active: false,\n        //         action: 'onDispatcher',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-tree',\n        //         divider: false\n        //     },\n        //     filters: {\n        //         name: 'filters',\n        //         title: 'Постановление 87',\n        //         active: false,\n        //         action: 'setFilters',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-P87',\n        //         divider: false\n        //     },\n        //     delta: {\n        //         name: 'delta',\n        //         title: 'Версионность',\n        //         active: false,\n        //         action: 'onDelta',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-version1',\n        //         hidden: true,\n        //         divider: false\n        //     },\n        //     planes: {\n        //         name: 'planes',\n        //         title: '3d сечение',\n        //         active: false,\n        //         action: 'onSection',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-section',\n        //         divider: false\n        //     },\n        //     rooms: {\n        //         name: 'rooms',\n        //         title: 'Комнаты',\n        //         active: false,\n        //         action: 'onRooms',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-zone',\n        //         divider: false\n        //     },\n        //     tabs: {\n        //         name: 'tabs',\n        //         title: 'Спецификация',\n        //         active: false,\n        //         action: false,\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-table',\n        //         hidden: false,\n        //         minimize: true,\n        //         divider: true\n        //     },\n        //     collisions: {\n        //         name: 'collisions',\n        //         title: 'Геометрические коллизии',\n        //         active: false,\n        //         action: 'setCollisions',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'mdi-alert-outline',\n        //         hidden: false,\n        //         divider: false\n        //     },\n        //     collision_settings: {\n        //         name: 'collision_settings',\n        //         title: 'Правила проверки',\n        //         active: false,\n        //         action: 'onCollisionSettings',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-collision-settings',\n        //         hidden: false,\n        //         divider: false\n        //     },\n        //     collision_reports: {\n        //         name: 'collision_reports',\n        //         title: 'Результаты проверки',\n        //         active: false,\n        //         action: 'onCollisionReports',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-report',\n        //         hidden: false,\n        //         divider: true\n        //     },\n        //     download: {\n        //         name: 'download',\n        //         title: 'Скачать',\n        //         active: false,\n        //         action: false,\n        //         disabled: false,\n        //         children: {\n        //             original: {\n        //                 parent: 'download',\n        //                 name: 'original',\n        //                 title: 'Скачать файл',\n        //                 active: false,\n        //                 action: false,//'downloadFile',\n        //                 icon: null\n        //             },\n        //             ifcxml: {\n        //                 parent: 'download',\n        //                 name: 'ifcxml',\n        //                 title: 'Скачать РСИМ (ifcxmlRUS)',\n        //                 active: false,\n        //                 action: false,//'downloadFile',\n        //                 icon: null\n        //             },\n        //         },\n        //         icon: 'trd-download',\n        //         //divider: true\n        //         divider: false\n        //     },\n            // textures: {\n            //     name: 'textures',\n            //     title: 'Текстуры',\n            //     active: true,\n            //     action: 'enableTextures',\n            //     children: null,\n            //     icon: 'trd-texture',\n            //     divider: false\n            // },\n            // scene_property: {\n            //     name: 'scene_property',\n            //     title: 'Свойства сцены',\n            //     active: false,\n            //     action: false,\n            //     children: null,\n            //     icon: 'trd-settings',\n            //     divider: false\n            // },\n            // fullscreen: {\n            //     name: 'fullscreen',\n            //     title: 'Во весь экран',\n            //     active: false,\n            //     action: 'fullScreen',\n            //     children: null,\n            //     icon: 'trd-fullscreen',\n            //     divider: false\n            // }\n        // },\n        onLoads: {\n            model: 0,\n            filters: 100,\n            applyFilters: 0,\n            property: true,\n            classifier: true,\n            options: true\n        },\n        preloaderTytle: ''\n    }),\n    computed: {\n        // getStylePanels(){\n        //     let p = [\n        //         this.options.hidden.active,\n        //         this.options.filters.active,\n        //         this.options.dispatcher.active,\n        //         this.options.delta.active,\n        //         this.options.rooms.active,\n        //         this.options.collision_settings.active,\n        //         this.options.collision_reports.active].filter(Boolean).length\n        //     return {\n        //         style: {\n        //             'margin-bottom': '10px',\n        //             height: 'calc(' + 100 / (p || 1) + '% - 10px)'\n        //         },\n        //         active: !!p\n        //     }\n        // },\n        // multy(){\n        //     return this.options.tabs.active && (this.options.property.active || this.getStylePanels.active)\n        // },\n        // getObjectProperties(){\n        //     let id = this.selectedObjID\n        //\n        //     let prop = this.propertyJson.filter(c => (c.Guid != undefined && c.Guid == id)\n        //         || (c.Id != undefined && c.Id == id))\n        //\n        //     return !prop.length\n        //         ? {\n        //             Name: '',\n        //             Properties: []\n        //         }\n        //         : prop[0]\n        // },\n        // getClassifications(){\n        //     let id = this.selectedObjID\n        //     let prop = this.classifierJson != 'none'\n        //         ? this.classifierJson.filter(c => (c.Guid != undefined && c.Guid == id)\n        //             || (c.Id != undefined && c.Id == id))\n        //         : []\n        //     return prop.length\n        //         ? prop[0]\n        //         : this.classifierJson == 'none'\n        //             ? id\n        //                 ? 'none'\n        //                 : null\n        //             : null\n        // },\n        onLoadsCheck(){\n            let flag = this.onLoads.model       >= 100\n                && this.onLoads.filters         >= 100\n                && this.onLoads.applyFilters    >= 100\n                && this.onLoads.property\n                && this.onLoads.classifier\n                && this.onLoads.options\n\n            return flag\n        }\n    },\n    methods: {\n        // initFilters(filters){\n        //     let list = filters.map(f => {\n        //         return {\n        //             title: f.title,\n        //             name: f.title,\n        //             items: f.items.map(i => {\n        //                 return {\n        //                     name:  i.title,\n        //                     title: i.title,\n        //                     active: false,\n        //                     filter: 'category',\n        //                     items: i.grouppedByElementTypes.map(t => {\n        //                         return {\n        //                             active: false,\n        //                             filter: 'type',\n        //                             category: i.title,\n        //                             name: t.title,\n        //                             title: t.title,\n        //                             items: []\n        //                         }\n        //                     })\n        //                 }\n        //             })\n        //         }\n        //     })\n        //     let e = []\n        //     list.map(bi => {\n        //         if(this.filters.some(ai => ai.title == bi.title)){\n        //         \tlet e1 = []\n        //             this.filters = this.filters.map(ai => {\n        //             \tif(ai.title != bi.title){\n        //                 \treturn ai\n        //                 }\n        //                 else{\n        //                 \tbi.items.map(bi1 => {\n        //                     \tif(ai.items.some(ai1 => ai1.name == bi1.name)){\n        //                     \t\tlet e2 = []\n        //                             ai.items = ai.items.map(ai1 => {\n        //                             \tif(ai1.name != bi1.name){\n        //                                 \treturn ai1\n        //                                 }\n        //                                 else{\n        //                                 \tbi1.items.map(bi2 => {\n        //                                     \tif(!ai1.items.some(ai2 => ai2.name == bi2.name)){\n        //                                         \te2 = [...e2, bi2]\n        //                                         }\n        //                                     })\n        //                                     ai1.items = [...ai1.items, ...e2]\n        //                                     return ai1\n        //                                 }\n        //                             })\n        //                         }\n        //                         else{\n        //                         \te1 = [...e1, bi1]\n        //                         }\n        //                     })\n        //                     ai.items = [...ai.items, ...e1]\n        //                     return ai\n        //                 }\n        //             })\n        //         }\n        //         else{\n        //         \te = [...e, bi]\n        //         }\n        //     })\n        //     this.filters = [...this.filters, ...e]\n        //\n        //     return list\n        // },\n        // setWalkView(v){\n        //     this.postMessage({\n        //         action: 'setWalkView',\n        //         value: v\n        //     })\n        // },\n        // onSection(v){\n        //     this.postMessage({\n        //         action: 'onSection',\n        //         value: v\n        //     })\n        // },\n        onPreloader(){\n            if(!this.onLoadsCheck){\n                return new Promise(resolve => {\n                    resolve(true)\n                })\n            }\n            this.onLoads.applyFilters = 0\n            return new Promise(resolve => {\n\n                setTimeout(resolve, 2000)\n            })\n        },\n        // getRoomsColors(o){\n        //     this.rooms.colors = o.value\n        // },\n        // onRoomVisibility(o){\n        //     this.postMessage({\n        //         action: 'onRoomVisibilityItem',\n        //         value: {\n        //             id: o.id,\n        //             val: o.value\n        //         }\n        //     })\n        // },\n        // onComputeCollisions(o){\n        //     this.compute_ready = false\n        //     this.postMessage({\n        //         action: 'onComputeCollisions',\n        //         value: {\n        //             list_1: o.list_1,\n        //             list_2: o.list_2,\n        //             group: o.group,\n        //             rule: o.rule,\n        //             part: 'geom'\n        //         }\n        //     })\n        // },\n        // onComputeParameters(o){\n        //     this.compute_ready = false\n        //     const typeOf = (o, v) => {\n        //         let list = []\n        //         switch(o.type){\n        //             case 'boolean': list = [o.value ? 1 : 0, v == 'Да' ? 1 : 0]\n        //                 break\n        //             case 'list': ;\n        //             case 'string': list = [o.value, v]\n        //                 break\n        //             case 'integer': list = [parseInt(o.value), parseInt(v)]\n        //                 break\n        //             case 'float': list = [Number(o.value), Number(v)]\n        //                 break\n        //             default: ;\n        //         }\n        //         return list\n        //     }\n        //     this.loadPropertyJson()\n        //     .then(res => {\n        //         let list = []\n        //         this.propertyJson.map(prop => {\n        //             // let test = prop.Parameters.find(param => param.PropertyGroupTitle == 'Dimensions')\n        //             let general = prop.Parameters.find(g => g.PropertyGroupTitle == 'Общие')\n        //             if(general){\n        //                 // let comp = general.PropertyList.find(f => f.Title == 'наименование компонента')\n        //                 // if(comp && o.elements.some(s => s.name == comp.Value)){\n        //                 //     let elem = o.elements.find(f => f.name == comp.Value)\n        //                 let elem = o.elements.find(f => f.list.some(s => s == prop.Id))\n        //\n        //                     if(elem){\n        //                         elem.values.map(v => {\n        //                             let dimensions = prop.Parameters.find(d => d.PropertyGroupTitle == 'Размеры')\n        //                             let val = false\n        //                             if(dimensions){\n        //                                 val = dimensions.PropertyList.find(f => f.Title.toLowerCase() == v.name)\n        //                             }\n        //\n        //                             if(val){\n        //                                 let equal = false\n        //                                 let values = typeOf(v, val.Value)\n        //                             console.log('check 1', values, v.equal)\n        //                                 switch(v.equal){\n        //                                     case 0: equal = values[1] > values[0]\n        //                                         break\n        //                                     case 1: equal = values[1] == values[0]\n        //                                         break\n        //                                     case 2: equal = values[1] < values[0]\n        //                                         break\n        //                                     case 3: equal = values[1] >= values[0]\n        //                                         break\n        //                                     case 4: equal = values[1] <= values[0]\n        //                                         break\n        //                                     case 5: equal = values[1] != values[0]\n        //                                         break\n        //                                     default: ;\n        //                                 }\n        //                             console.log('check', values, equal)\n        //                                 if(!equal){\n        //                                     list.push({\n        //                                         name: prop.Name,\n        //                                         id: prop.Id,\n        //                                         property: val.Title,\n        //                                         value: val.Value,\n        //                                         valueRule: v.type == 'boolean'\n        //                                             ? values[0] || 0\n        //                                                 ? 'Да'\n        //                                                 : 'Нет'\n        //                                             : values[0],\n        //                                         part: o.part\n        //                                     })\n        //                                 }\n        //                             }\n        //                         })\n        //                     }\n        //                 // }\n        //             }\n        //         })\n        //\n        //         this.saveCollisionReports({\n        //             value: {\n        //                 group: o.group,\n        //                 rule: o.rule,\n        //                 part: o.part,\n        //                 parameters: list\n        //             }\n        //         })\n        //     })\n        //\n        // },\n        // onCollisionsActive(v){\n        //     this.postMessage({\n        //         action: 'onCollisionsActive',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onShowCollisionsOnly(v){\n        //     this.postMessage({\n        //         action: 'onShowCollisionsOnly',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onCreateSectionBoxForCollisions(v){\n        //     this.postMessage({\n        //         action: 'onCreateSectionBoxForCollisions',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onObjectsHighlight(v){\n        //     this.postMessage({\n        //         action: 'onObjectsHighlight',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onShowObjectsOnly(v){\n        //     this.postMessage({\n        //         action: 'onShowObjectsOnly',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onCreateSectionBoxForObjects(v){\n        //     this.postMessage({\n        //         action: 'onCreateSectionBoxForObjects',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onRemoveSectionBox(){\n        //     this.postMessage({\n        //         action: 'onRemoveSectionBox'\n        //     })\n        // },\n        // saveCollisionReports(v){\n        //     let meta = JSON.parse(JSON.stringify(this.$store.state.common.meta))\n        //     meta.collisions.version = this.model.version\n        //     meta.collisions.groups = meta.collisions.groups.map(g => {\n        //         if(g.id == v.value.group){\n        //             g.status = 1\n        //             g.children = g.children.map(r => {\n        //                 if(r.id == v.value.rule){\n        //                     let reports = []\n        //                     let status = 0\n        //                     if(v.value.part == 'geom'){\n        //                         reports = v.value.collision_pairs\n        //                         status = v.value.collision_pairs.length\n        //                             ? 0\n        //                             : 1\n        //                     }\n        //                     if(v.value.part == 'params'){\n        //                         reports = v.value.parameters\n        //                         status = v.value.parameters.length\n        //                             ? 0\n        //                             : 1\n        //                     }\n        //                     r.reports = reports\n        //                     r.status = status\n        //                     r.part = v.value.part\n        //                 }\n        //                 return r\n        //             })\n        //         }\n        //         g.children.map(r => {\n        //             if(!r.status){\n        //                 g.status = 0\n        //             }\n        //         })\n        //         return g\n        //     })\n        //\n        //     this.$store.dispatch('common/setFileMeta', {\n        //         id: this.model.id,\n        //         body: JSON.stringify(meta)\n        //     })\n        //     .then(res => {\n        //         return  this.$store.dispatch('common/getFileMeta', {\n        //             id: this.model.id\n        //         })\n        //     })\n        //     .then(res => {\n        //         this.collisions_compiling = false\n        //         this.compute_ready = true\n        //         if(res.error){\n        //             this.$notify({\n        //                 group: 'note',\n        //                 type: 'error',\n        //                 text: res.data.error\n        //             })\n        //         }\n        //         else{\n        //             this.$notify({\n        //                 group: 'note',\n        //                 type: 'success',\n        //                 text: 'Проверка выполнена.'\n        //             })\n        //         }\n        //     })\n        //     .catch(e => {\n        //         this.collisions_compiling = false\n        //         this.compute_ready = true\n        //     })\n        // },\n        // onRooms(v){\n        //     this.postMessage({\n        //         action: 'onRoomVisibility',\n        //         value: v\n        //     })\n        //     if(v){\n        //         return new Promise(resolve => {\n        //             if(!this.jsonLoad.property){\n        //                 this.onLoads.property = false\n        //\n        //                 let promisesList = []\n        //                 if(this.model.type == 'consolidations'){\n        //                     this.listModel.map(l => {\n        //                         // if(l.tags['mini.json'] == 1){\n        //                         //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/mini.json'}))\n        //                         // }\n        //                         // else\n        //                         if(l.tags['json'] == 1){\n        //                             promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n        //                         }\n        //                         else if(l.tags['json.zip'] == 1){\n        //                             promisesList.push(new Promise(resolve => {\n        //                                 this.$store.dispatch('common/getFile', {\n        //                                     id: this.getFileByVersion(l).url + '/json.zip',\n        //                                     typeBlob: 'blob'\n        //                                 })\n        //                                 .then(res => {\n        //                                     return Promise.resolve(res.file)\n        //                                 })\n        //                                 .then(res => JSZip.loadAsync(res))\n        //                                 .then(zip => {\n        //                                     let filesList = Object.keys(zip.files)\n        //                                     return zip.file(filesList[0]).async(\"string\")\n        //                                 })\n        //                                 .then(text => {\n        //                                     resolve(JSON.parse(text))\n        //                                 })\n        //                             }))\n        //                         }\n        //                     })\n        //                 }\n        //                 else{\n        //                     // if(this.model.tags['mini.json'] == 1){\n        //                     //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'}))\n        //                     // }\n        //                     // else\n        //                     if(this.model.tags['json'] == 1){\n        //                         promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n        //                     }\n        //                     else if(this.model.tags['json.zip'] == 1){\n        //                         promisesList.push(new Promise(resolve => {\n        //                             this.$store.dispatch('common/getFile', {\n        //                                 id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                                 typeBlob: 'blob'\n        //                             })\n        //                             .then(res => {\n        //                                 return Promise.resolve(res.file)\n        //                             })\n        //                             .then(res => JSZip.loadAsync(res))\n        //                             .then(zip => {\n        //                                 let filesList = Object.keys(zip.files)\n        //                                 return zip.file(filesList[0]).async(\"string\")\n        //                             })\n        //                             .then(text => {\n        //                                 resolve(JSON.parse(text))\n        //                             })\n        //                         }))\n        //                     }\n        //                 }\n        //\n        //                 Promise.all(promisesList)\n        //                 .then(res => {\n        //                     res.map(r => {\n        //                         this.propertyJson = [\n        //                             ...this.propertyJson,\n        //                             ...this.setProperties(r)\n        //                         ]\n        //                         let filters = r.GrouppedByCategories || []\n        //                         this.filters = this.initFilters(filters)\n        //                         this.rooms.list = this.propertyJson\n        //                             .filter(f => f.object == 'Room')\n        //                             .map(m => {\n        //                                 return {\n        //                                     ...m,\n        //                                     active: true\n        //                                 }\n        //                             })\n        //                     })\n        //                     this.rooms.load = true\n        //                     this.jsonLoad.property = true\n        //                     this.onLoads.property = true\n        //                     resolve(true)\n        //                 })\n        //             }\n        //             else{\n        //                 this.rooms.list = this.propertyJson\n        //                     .filter(f => f.object == 'Room')\n        //                     .map(m => {\n        //                         return {\n        //                             ...m,\n        //                             active: true\n        //                         }\n        //                     })\n        //                 this.rooms.load = true\n        //                 resolve(true)\n        //             }\n        //         })\n        //     }\n        // },\n        // loadFilters(){\n        //     return new Promise(resolve => {\n        //         if(!this.jsonLoad.property){\n        //             this.onLoads.property = false\n        //\n        //             let promisesList = []\n        //             if(this.model.type == 'consolidations'){\n        //                 this.listModel.map(l => {\n        //                     // if(l.tags['mini.json'] == 1){\n        //                     //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/mini.json'}))\n        //                     // }\n        //                     // else\n        //                     if(l.tags['json'] == 1){\n        //                         promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n        //                     }\n        //                     else if(l.tags['json.zip'] == 1){\n        //                         promisesList.push(new Promise(resolve => {\n        //                             this.$store.dispatch('common/getFile', {\n        //                                 id: this.getFileByVersion(l).url + '/json.zip',\n        //                                 typeBlob: 'blob'\n        //                             })\n        //                             .then(res => {\n        //                                 return Promise.resolve(res.file)\n        //                             })\n        //                             .then(res => JSZip.loadAsync(res))\n        //                             .then(zip => {\n        //                                 let filesList = Object.keys(zip.files)\n        //                                 return zip.file(filesList[0]).async(\"string\")\n        //                             })\n        //                             .then(text => {\n        //                                 resolve(JSON.parse(text))\n        //                             })\n        //                         }))\n        //                     }\n        //                 })\n        //             }\n        //             else{\n        //                 // if(this.model.tags['mini.json'] == 1){\n        //                 //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'}))\n        //                 // }\n        //                 // else\n        //                 if(this.model.tags['json'] == 1){\n        //                     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n        //                 }\n        //                 else if(this.model.tags['json.zip'] == 1){\n        //                     promisesList.push(new Promise(resolve => {\n        //                         this.$store.dispatch('common/getFile', {\n        //                             id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                             typeBlob: 'blob'\n        //                         })\n        //                         .then(res => {\n        //                             return Promise.resolve(res.file)\n        //                         })\n        //                         .then(res => JSZip.loadAsync(res))\n        //                         .then(zip => {\n        //                             let filesList = Object.keys(zip.files)\n        //                             return zip.file(filesList[0]).async(\"string\")\n        //                         })\n        //                         .then(text => {\n        //                             resolve(JSON.parse(text))\n        //                         })\n        //                     }))\n        //                 }\n        //             }\n        //\n        //             Promise.all(promisesList)\n        //             .then(res => {\n        //         console.log('filters', res)\n        //                 res.map(r => {\n        //                     this.propertyJson = [\n        //                         ...this.propertyJson,\n        //                         ...this.setProperties(r)\n        //                     ]\n        //                     let filters = r.GrouppedByCategories || []\n        //                     this.filters = this.initFilters(filters)\n        //                 })\n        //\n        //                 this.jsonLoad.property = true\n        //                 this.onLoads.property = true\n        //                 resolve(true)\n        //             })\n        //         }\n        //         else{\n        //             resolve(true)\n        //         }\n        //     })\n        // },\n        // setFilters(v){\n        //     this.onPreloader()\n        //     .then(r => {\n        //         return this.loadFilters()\n        //     })\n        //     .then(r => {\n        //         if(v){\n        //             this.filters.map(f => {\n        //                 f.items.map(i => {\n        //                     if(i.active){\n        //                         this.onFilter(i)\n        //                         if(i.items.length){\n        //                             i.items.map(t => {\n        //                                 this.onFilter(i)\n        //                             })\n        //                         }\n        //                     }\n        //                 })\n        //             })\n        //             this.onFilter({filter: 'enable'})\n        //         }\n        //         else{\n        //             this.onFilter({filter: 'clear'})\n        //             this.onFilter({filter: 'disable'})\n        //         }\n        //     })\n        // },\n        // onFilter(o){\n        //     this.onPreloader()\n        //     .then(r => {\n        //         this.postMessage({\n        //             action: 'onFilter',\n        //             value: o\n        //         })\n        //     })\n        // },\n        // setOption(o){\n        //     this.options[o.name].active = !o.active\n        //     if(this.options[o.name].action){\n        //         this[this.options[o.name].action](this.options[o.name].active)\n        //     }\n        // },\n        // setSubOption(o){\n        //     this.options[o.name].children[o.sub_name].active = !o.sub_active\n        //     if(this.options[o.name].children[o.sub_name].action){\n        //         this[this.options[o.name].children[o.sub_name].action](this.options[o.name].children[o.sub_name])\n        //     }\n        //     this.setOption(o)\n        // },\n        // updateOption(o){\n        //     this.options[o.item.name][o.prop] = o.value\n        // },\n        // hideOptions(list){\n        //     list.map(l => {\n        //         if(this.options[l].active){\n        //             this.setOption({\n        //                 name: l,\n        //                 active: true\n        //             })\n        //         }\n        //         this.options[l].disabled = true\n        //     })\n        // },\n        // showOptions(list = null){\n        //     if(!list){\n        //         Object.keys(this.options)\n        //             .map(key => {\n        //                 this.options[key].disabled = false\n        //             })\n        //     }\n        //     else{\n        //         list.map(l => {\n        //             this.options[l].disabled = false\n        //         })\n        //     }\n        // },\n        // onCollisionSettings(v){\n        //     this.postMessage({\n        //         action: 'onLoadCollisions'\n        //     })\n        //     this.collision_settings = v\n        //     if(v){\n        //         this.$store.dispatch('workflow/getCollisionTemplates')\n        //         this.$store.dispatch('common/getFileMeta', {\n        //             id: this.model.id\n        //         })\n        //         .then(res => {\n        //             let meta = JSON.parse(res)\n        //             if(meta){\n        //                 if(meta.collisions){\n        //                     let version = meta.collisions.version || null\n        //                     if(this.model.version != null && this.model.version != version){\n        //                         // this.collisions_compiling = true\n        //                     }\n        //                     // this.params = {...meta.collisions, temp: {}}\n        //                 }\n        //             }\n        //         })\n        //     }\n        // },\n        // onCollisionReports(v){\n        //     this.postMessage({\n        //         action: 'onLoadCollisions'\n        //     })\n        //     if(v){\n        //         this.$store.dispatch('workflow/getCollisionTemplates')\n        //         this.$store.dispatch('common/getFileMeta', {\n        //             id: this.model.id\n        //         })\n        //         .then(res => {\n        //             let meta = JSON.parse(res)\n        //             if(meta){\n        //                 if(meta.collisions){\n        //                     this.collisions_version = meta.collisions.version || null\n        //                     // this.params = {...meta.collisions, temp: {}}\n        //                 }\n        //             }\n        //         })\n        //     }\n        // },\n        // setCollisions(v){\n        //     if(this.model.type == 'consolidations'){\n        //         if(this.listModel.some(s => s.tags['collisions.json'] == 1)){\n        //             this.postMessage({\n        //                 action: 'setCollisions',\n        //                 value: v\n        //             })\n        //         }\n        //     }\n        //     else{\n        //         if(this.model.tags['collisions.json'] == 1){\n        //             this.postMessage({\n        //                 action: 'setCollisions',\n        //                 value: v\n        //             })\n        //         }\n        //     }\n        // },\n        // getHiddenObjects(v){\n        //     if(v){\n        //         this.postMessage({\n        //             action: 'onGetHiddenObjects',\n        //             value: v\n        //         })\n        //     }\n        // },\n        // onGetHiddenObjects(v){\n        //     let items = this.propertyJson.filter(c => (c.Guid != undefined && v.some(s => c.Guid == s))\n        //         || (c.Id != undefined && v.some(s => c.Id == s)))\n        //\n        //     this.hiddenList = items.map(i => ({name: i.Name, id: i.Id || i.Guid}))\n        // },\n        // onHideObject(v){\n        //     this.postMessage({\n        //         action: 'onHideObject',\n        //         value: v\n        //     })\n        // },\n        // onShowObject(v){\n        //     this.postMessage({\n        //         action: 'onShowObject',\n        //         value: v\n        //     })\n        //     if(this.selectedObjID){\n        //         this.postMessage({\n        //             action: 'selectObjectById',\n        //             value: this.selectedObjID\n        //         })\n        //     }\n        // },\n        // hiddenOptionsBtn(){\n        //     this.options.delta.hidden = !(this.model.files.length > 1)\n        //         || !(this.model.tags['delta.json'] || false)\n        //     // this.options.collisions.hidden = !(this.model.tags['collisions.json']\n        //     //         ? this.model.tags['collisions.json'] == 1\n        //     //             ? true\n        //     //             : false\n        //     //         : false)\n        // },\n        // onDelta(v){\n        //     if(v){\n        //         this.hideOptions(['hidden', 'property', 'filters', 'planes'])\n        //         this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/delta.json'})\n        //         .then(res => {\n        //             this.delta = res.Elements\n        //             if(!this.propertyJson.length){\n        //                 return this.loadFilters()\n        //             }\n        //             else{return true}\n        //         })\n        //         .then(() => {\n        //             return this.$store.dispatch('common/getFileInfo', {id: this.model.files[1].url + '/info'})\n        //         })\n        //         .then(res => {\n        //             if(res.tags['json.zip']){\n        //                 return new Promise(resolve => {\n        //                     this.$store.dispatch('common/getFile', {\n        //                         id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                         typeBlob: 'blob'\n        //                     })\n        //                     .then(res => {\n        //                         return Promise.resolve(res.file)\n        //                     })\n        //                     .then(res => JSZip.loadAsync(res))\n        //                     .then(zip => {\n        //                         let filesList = Object.keys(zip.files)\n        //                         return zip.file(filesList[0]).async(\"string\")\n        //                     })\n        //                     .then(text => {\n        //                         resolve(JSON.parse(text))\n        //                     })\n        //                 })\n        //             }\n        //             else{\n        //                 return this.$store.dispatch('common/getFileInfo', {id: this.model.files[1].url + '/json'})\n        //             }\n        //         })\n        //         .then(res => {\n        //             return this.setProperties(res)\n        //         })\n        //         .then(json2 => {\n        //             let mod = 0\n        //             let del = 0\n        //             let add = 0\n        //             this.deltaList.list = this.delta.map(d => {\n        //                 let elem = {}\n        //                 Object.entries(d).map(([key, value]) => {\n        //                     elem = {...value}\n        //                 })\n        //                 return elem\n        //             }).map(d => {\n        //                 if(d.Status == 'modified'){\n        //                     let elem = this.propertyJson.find(p => p.Id == d.Id)\n        //                     mod++\n        //                     let parameters = []\n        //                     if(d.hasOwnProperty('ParametersStatus')){\n        //                         d.Parameters.map(p => {\n        //                             let group = elem.Parameters.find(f => f.PropertyGroupTitle == p.PropertyGroupTitle)\n        //                             p.PropertyList.map(pr => {\n        //                                 let param = group.PropertyList.find(epr => epr.Title == pr.Title)\n        //                                 parameters.push({\n        //                                     name: param.Title,\n        //                                     value: param.Value || '---',\n        //                                     units: param.Units || ''\n        //                                 })\n        //                             })\n        //                         })\n        //                     }\n        //                     return {\n        //                         id: elem.Id,\n        //                         name: elem.Name,\n        //                         status: d.Status,\n        //                         color: 'yellow',\n        //                         parameters: parameters\n        //                     }\n        //                 }\n        //                 else if(d.Status == 'deleted'){\n        //                     let elem = json2.find(p => p.Id == d.Id)\n        //                     del++\n        //                     return {\n        //                         id: elem.Id,\n        //                         name: elem.Name,\n        //                         status: d.Status,\n        //                         color: 'red'\n        //                     }\n        //                 }\n        //                 else{\n        //                     let elem = this.propertyJson.find(p => p.Id == d.Id)\n        //                     add++\n        //                     return {\n        //                         id: elem.Id,\n        //                         name: elem.Name,\n        //                         status: d.Status,\n        //                         color: 'green'\n        //                     }\n        //                 }\n        //             }).map(d => {\n        //                 return {\n        //                     ...d,\n        //                     name: d.id + ' | ' + d.name,\n        //                     active: false,\n        //                     quantity: []\n        //                 }\n        //             })\n        //             this.deltaList.mod = mod\n        //             this.deltaList.del = del\n        //             this.deltaList.add = add\n        //         })\n        //     }\n        //     else{\n        //         this.showOptions()\n        //     }\n        //     this.postMessage({\n        //         action: 'onDelta',\n        //         token: this.$store.state.auth.access_token,\n        //         id: this.model.files[1].url,\n        //         value: v,\n        //         prop: {\n        //             type: 'rvt'\n        //         }\n        //     })\n        // },\n        // setView(v){\n        //     let name = ''\n        //     switch(v.name){\n        //         case 'left':    name = 'setLeft'\n        //                         break\n        //         case 'right':   name = 'setRight'\n        //                         break\n        //         case 'top':     name = 'setTop'\n        //                         break\n        //         case 'front':   name = 'setFront'\n        //                         break\n        //         case 'back':    name = 'setBack'\n        //                         break\n        //         default: ;\n        //     }\n        //     this.postMessage({\n        //         action: 'setView',\n        //         name: name\n        //     })\n        //     v.active = false\n        // },\n        // displayAxes(v){\n        //     this.postMessage({\n        //         action: 'displayAxes',\n        //         value: v\n        //     })\n        // },\n        // displayGrid(v){\n        //     this.postMessage({\n        //         action: 'displayGrid',\n        //         value: v\n        //     })\n        // },\n        // onDispatcher(v){\n        //     if(!this.levelsMap){\n        //         let promisesList = []\n        //         if(this.model.tags['json'] == 1){\n        //             promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n        //         }\n        //         else if(this.model.tags['json.zip'] == 1){\n        //             promisesList.push(new Promise(resolve => {\n        //                 this.$store.dispatch('common/getFile', {\n        //                     id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                     typeBlob: 'blob'\n        //                 })\n        //                 .then(res => {\n        //                     return Promise.resolve(res.file)\n        //                 })\n        //                 .then(res => JSZip.loadAsync(res))\n        //                 .then(zip => {\n        //                     let filesList = Object.keys(zip.files)\n        //                     return zip.file(filesList[0]).async(\"string\")\n        //                 })\n        //                 .then(text => {\n        //                     resolve(JSON.parse(text))\n        //                 })\n        //             }))\n        //         }\n        //         const getTree = (map, items, level) => {\n        //             items\n        //                 .filter(f => f.level == level)\n        //                 .map((m, i, a) => {\n        //                     if(level != 'main'){\n        //                         map[level].size = a.length\n        //                     }\n        //                     getTree(map, items.filter(f => f.level != level), m.id)\n        //                 })\n        //         }\n        //\n        //         let map = {\n        //             'all':{\n        //                 id: 'all',\n        //                 name: 'Генплан',\n        //                 level: 'main',\n        //                 hidden: false,\n        //                 type: 'level',\n        //                 size: 0,\n        //                 selected: 0\n        //             }\n        //         }\n        //\n        //         Promise.all(promisesList)\n        //         .then(res => {\n        //             res.map(r => {\n        //                 this.propertyJson = [\n        //                     ...this.propertyJson,\n        //                     ...this.setProperties(r)\n        //                 ]\n        //                 let levels = r.Levels || []\n        //                 levels.map(l => {\n        //                     map[l.Level.Id] = {\n        //                         name: l.Level.Name,\n        //                         id: l.Level.Id,\n        //                         level: 'all',\n        //                         hidden: false,\n        //                         type: 'level',\n        //                         size: 0,\n        //                         selected: 0\n        //                     }\n        //                     this.propertyJson\n        //                         .filter(f => f.Level == l.Level.Id)\n        //                         .map(m => {\n        //                             map[m.Id] = {\n        //                                 name: m.Name,\n        //                                 id: m.Id,\n        //                                 level: l.Level.Id,\n        //                                 hidden: false,\n        //                                 type: 'item'\n        //                             }\n        //                         })\n        //                 })\n        //                 getTree(map, Object.values(map), 'main')\n        //                 this.levelsMap = map\n        //             })\n        //         })\n        //     }\n        // },\n        // loadPropertyJson(){\n        //     return new Promise(resolve => {\n        //         if(!this.jsonLoad.property){\n        //             this.onLoads.property = false\n        //             let promisesList = []\n        //             if(this.model.type == 'consolidations'){\n        //                 this.listModel.map(l => {\n        //                     if(l.tags['json'] == 1){\n        //                         promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n        //                     }\n        //                 })\n        //             }\n        //             else{\n        //                 if(this.model.tags['json'] == 1){\n        //                     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n        //                 }\n        //                 else if(this.model.tags['json.zip'] == 1){\n        //                     promisesList.push(new Promise(resolve => {\n        //                         this.$store.dispatch('common/getFile', {\n        //                             id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                             typeBlob: 'blob'\n        //                         })\n        //                         .then(res => {\n        //                             return Promise.resolve(res.file)\n        //                         })\n        //                         .then(res => JSZip.loadAsync(res))\n        //                         .then(zip => {\n        //                             let filesList = Object.keys(zip.files)\n        //                             return zip.file(filesList[0]).async(\"string\")\n        //                         })\n        //                         .then(text => {\n        //                             resolve(JSON.parse(text))\n        //                         })\n        //                     }))\n        //                 }\n        //             }\n        //                 // this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'})\n        //                 // .then(res => {\n        //                 //     console.log('mini.json',res)\n        //                 // })\n        //\n        //             Promise.all(promisesList)\n        //             .then(res => {\n        //                 res.map(r => {\n        //                     this.propertyJson = [\n        //                         ...this.propertyJson,\n        //                         ...this.setProperties(r)\n        //                     ]\n        //                     let filters = r.GrouppedByCategories || []\n        //                     this.filters = this.initFilters(filters)\n        //                     this.source = r.Source || null\n        //                 })\n        //\n        //                 this.jsonLoad.property = true\n        //                 this.onLoads.property = true\n        //                 resolve(true)\n        //             })\n        //         }\n        //         else{\n        //             resolve(true)\n        //         }\n        //     })\n        // },\n        // setSelectionMode(v){\n        //     if(!this.jsonLoad.classifier){\n        //         this.onLoads.classifier = false\n        //\n        //         let promisesList = []\n        //         let no_classifier = false\n        //         if(this.model.type == 'consolidations'){\n        //             this.listModel.map(l => {\n        //                 if(l.tags.hasOwnProperty('classifier.json')\n        //                     && l.tags['classifier.json'] == 1){\n        //                     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/classifier.json'}))\n        //                 }\n        //                 else{\n        //                     no_classifier = true\n        //                 }\n        //             })\n        //         }\n        //         else{\n        //             if(this.model.tags.hasOwnProperty('classifier.json')\n        //                 && this.model.tags['classifier.json'] == 1){\n        //                 promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/classifier.json'}))\n        //             }\n        //         }\n        //\n        //         Promise.all(promisesList)\n        //         .then(res => {\n        //             if(no_classifier){\n        //                 this.classifierJson = 'none'\n        //             }\n        //             else{\n        //                 res.map(r => {\n        //                     this.classifierJson = [\n        //                         ...this.classifierJson,\n        //                         ...this.setProperties(r)\n        //                     ]\n        //                 })\n        //             }\n        //             this.jsonLoad.classifier = true\n        //             this.onLoads.classifier = true\n        //         })\n        //\n        //\n        //         // if(this.model.tags.hasOwnProperty('classifier.json')\n        //         //     && this.model.tags['classifier.json'] == 1\n        //         // ){\n        //         //     this.$store.dispatch('common/getFileInfo', {id: this.model.files[0].url + '/classifier.json'})\n        //         //     .then(res => {\n        //         //         this.classifierJson = this.setProperties(res)\n        //         //         this.jsonLoad.classifier = true\n        //         //         this.onLoads.classifier = true\n        //         //     })\n        //         // }\n        //         // else{\n        //         //     this.classifierJson = 'none'\n        //         //     this.jsonLoad.classifier = true\n        //         //     this.onLoads.classifier = true\n        //         // }\n        //     }\n        //\n        //     this.loadPropertyJson()\n        //\n        //     if(!v){\n        //         this.selectedObjID = null\n        //     }\n        //     this.postMessage({\n        //         action: 'setSelectionMode',\n        //         value: v\n        //     })\n        // },\n        onMouseDown(event){\n            event.preventDefault()\n        },\n        onSelected(v){\n            this.selectedObjID = v.id\n        },\n        initModel(){\n            this.preloaderTytle = 'Загрузка файлов модели.'\n            this.postMessage({\n                token: this.$store.state.auth.access_token,\n                id: this.getFileByVersion(this.model).url,\n                action: 'loadExt',\n                type: this.model.type\n            })\n        },\n        onLoadModel(v){\n            // if(this.model.type == 'consolidations'){\n            //     if(this.indexModel + 1 == this.listModel.length){\n            //         this.onLoads.model = v.value\n            //     }\n            // }\n            // else{\n            //     this.onLoads.model = v.value\n            // }\n        },\n        onLoadFilters(v){\n            this.onLoads.filters = v\n        },\n        onLoadApplyFilters(v){\n            console.log('onLoadApplyFilters', v)\n            // if(this.model.type == 'consolidations'){\n            //     if(this.indexModel + 1 == this.listModel.length){\n            //         this.onLoads.applyFilters = v.value\n            //     }\n            //     else{\n            //         this.onLoads.applyFilters = 0\n            //         this.indexModel += 1\n            //         this.initModel()\n            //     }\n            // }\n            // else{\n            //     this.onLoads.applyFilters = v.value\n            // }\n\n\n            if(this.onLoads.applyFilters != v.value){\n                this.onLoads.applyFilters = v.value\n            }\n        },\n        onReadyModel(v){\n            if(this.model.type == 'consolidations'){\n                if(this.indexModel + 1 == this.listModel.length){\n                    this.onLoads.model = 100\n                    this.onLoads.applyFilters = 100\n                }\n                else{\n                    this.onLoads.applyFilters = 0\n                    this.indexModel += 1\n                    this.initModel()\n                }\n            }\n            else{\n                this.onLoads.model = 100\n                this.onLoads.applyFilters = 100\n            }\n        },\n        setProperties(o){\n            let list = o['Elements']\n                .map(e => {\n                    let elem = {}\n                    Object.entries(e).map(([key, value]) => {\n                        elem = {...value, object: key}\n                    })\n                    return elem\n            })\n            return list\n        },\n        updateCanvasSize(){\n            this.setCanvasSize()\n        },\n        getFileByVersion(f){\n            if(f.version == null){\n                return f.files[0]\n            }\n            else{\n                let file = f.files.find(i => i.version == f.version)\n                return file ? file : f.files[0]\n            }\n        },\n        onWindowResize(){\n            this.updateCanvasSize()\n        },\n        onKeyup(e){\n            let frame = this.$refs['viewer'].contentWindow.document.getElementById('canvas')\n            let newEvent = new Event('keyup', {key: e.key, code: e.code, composed: true, charCode: e.charCode, keyCode: e.keyCode, which: e.which, bubbles: true, cancelable: true, which: e.keyCode})\n            newEvent.keyCode = e.keyCode\n            newEvent.which = e.keyCode\n            frame.dispatchEvent(newEvent)\n        },\n        onKeydown(e){\n            let frame = this.$refs['viewer'].contentWindow.document.getElementById('canvas')\n            let newEvent = new Event('keydown', {key: e.key, code: e.code, composed: true, charCode: e.charCode, keyCode: e.keyCode, which: e.which, bubbles: true, cancelable: true, which: e.keyCode})\n            newEvent.keyCode = e.keyCode\n            newEvent.which = e.keyCode\n            frame.dispatchEvent(newEvent)\n        },\n        postMessage(v){\n            this.$refs['viewer'].contentWindow.postMessage(v, '*')\n        },\n        receiveMessage(e){\n            if(Object.prototype.hasOwnProperty.call(e.data, 'action')){\n                switch(e.data.action){\n                    case 'ready': this.initModel()\n                        document.addEventListener('keyup', this.onKeyup)\n                        document.addEventListener('keydown', this.onKeydown)\n                        break\n                    // case 'onStartLoadFilters': this.preloaderTytle = 'Загрузка свойств модели.'\n                    //     break\n                    // case 'onSelected': this.onSelected(e.data)\n                    //     break\n                    // case 'onLoadApplyFilters': this.onLoadApplyFilters(e.data)\n                    //     break\n                    case 'onLoadModel': this.onLoadModel(e.data)\n                        break\n                    case 'onReadyModel': this.onReadyModel(e.data)\n                        break\n                    // case 'getRoomsColors': this.getRoomsColors(e.data)\n                    //     break\n                    // case 'onGetHiddenObjects': this.onGetHiddenObjects(e.data.value)\n                    //     break\n                    // case 'saveCollisionReports': this.saveCollisionReports(e.data)\n                    //     break\n                    default: ;\n                }\n            }\n        }\n    },\n    mounted(){\n        // this.$refs['viewer'].src = this.viewer\n        window.addEventListener(\"message\", this.receiveMessage, false)\n    },\n    created(){\n        this.preloaderTytle = 'Загрузка просмотрщика.'\n        // this.hiddenOptionsBtn()\n        //window.addEventListener('keyup', this.onKeyup)\n    },\n    beforeDestroy(){\n        this.ready = false\n        window.removeEventListener(\"message\", this.receiveMessage, false)\n\n        this.$el.removeEventListener('mousedown', this.onMouseDown, false)\n        window.removeEventListener('keyup', this.onKeyup)\n        window.removeEventListener('keydown', this.onKeydown)\n    }\n\n}\n</script>\n<style>\n#canvas{\n    position: relative;\n}\n#canvas canvas{\n    outline: none;\n}\n.test{\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100px;\n    height: 100px;\n    background-color: #fff;\n    z-index: 111111111;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDwg.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDwg.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ViewDwg.vue?vue&type=template&id=27d946a1\"\nimport script from \"./ViewDwg.vue?vue&type=script&lang=js\"\nexport * from \"./ViewDwg.vue?vue&type=script&lang=js\"\nimport style0 from \"./ViewDwg.vue?vue&type=style&index=0&id=27d946a1&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\",\"pa-0\":\"\"}},[_c(VLayout,{staticStyle:{\"position\":\"relative\"},attrs:{\"wrap\":\"\",\"ma-0\":\"\",\"id\":\"fullscreen\"}},[_c('div',{ref:\"canvas-wrap\",staticClass:\"m-3d-wrap\",attrs:{\"id\":\"canvas-wrap\"}},[_c('iframe',{ref:\"viewer\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"border\":\"0\"},attrs:{\"src\":_vm.viewer,\"id\":\"viewer\",\"name\":\"viewer\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onLoadsCheck),expression:\"!onLoadsCheck\"}],staticClass:\"m-back\",class:{'m-back--trans': _vm.onLoads.model}},[_c('div',{staticClass:\"vm-progress\"},[_c('div',{staticClass:\"loader\"},[_c('svg',{staticClass:\"circular\",attrs:{\"viewBox\":\"25 25 50 50\"}},[_c('circle',{staticClass:\"path\",attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"20\",\"fill\":\"none\",\"stroke-width\":\"2\",\"stroke-miterlimit\":\"10\"}})])]),_c('span',[_vm._v(_vm._s(_vm.preloaderTytle))])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid fill-height text-xs-center pa-0 class=\"m-container\">\n        <v-layout wrap ma-0 style=\"position: relative;\" id=\"fullscreen\">\n            <div\n                class=\"m-3d-wrap\"\n                ref=\"canvas-wrap\"\n                id=\"canvas-wrap\"\n                >\n\n                <iframe :src=\"viewer\" ref=\"viewer\" id=\"viewer\" name=\"viewer\" style=\"height:100%; width:100%; border: 0;\"/>\n\n            </div>\n        <!--\n            <panel-options\n                :options=\"options\"\n                @setOption=\"setOption\"\n                @setSubOption=\"setSubOption\"/>\n            <div\n                class=\"m-panel__wrap--left\"\n                :class=\"{multy: multy}\"\n                >\n                <panel-property\n                    v-show=\"options.property.active\"\n                    :menuItem=\"options.property\"\n                    @setOption=\"setOption\"\n                    @onHideObject=\"onHideObject\"\n                    @onShowObject=\"onShowObject\"\n                    :hiddenList=\"hiddenList\"\n                    :selectedObjID=\"selectedObjID\"\n                    :properties=\"getObjectProperties\"\n                    :classifications=\"getClassifications\"/>\n            </div>\n\n            <div\n                class=\"m-panel__wrap--right\"\n                :class=\"{multy: multy}\"\n                >\n                <panel-filters\n                    v-show=\"options.filters.active\"\n                    :menuItem=\"options.filters\"\n                    @onFilter=\"onFilter\"\n                    @setFilters=\"setFilters\"\n                    @setOption=\"setOption\"\n                    :filters.sync=\"filters\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-dispatcher\n                    v-show=\"options.dispatcher.active\"\n                    :menuItem=\"options.dispatcher\"\n                    @setOption=\"setOption\"\n                    @onHideObject=\"onHideObject\"\n                    @onShowObject=\"onShowObject\"\n                    :levelsMap=\"levelsMap\"\n                    :hiddenList=\"hiddenList\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-hidden\n                    v-show=\"options.hidden.active\"\n                    :menuItem=\"options.hidden\"\n                    @setOption=\"setOption\"\n                    @onShowObject=\"onShowObject\"\n                    :hiddenList=\"hiddenList\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-delta\n                    v-show=\"options.delta.active\"\n                    :menuItem=\"options.delta\"\n                    @setOption=\"setOption\"\n                    :delta=\"deltaList\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-rooms\n                    v-show=\"options.rooms.active\"\n                    :menuItem=\"options.rooms\"\n                    @setOption=\"setOption\"\n                    @onRoomVisibility=\"onRoomVisibility\"\n                    :rooms.sync=\"rooms\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-collision-settings\n                    v-show=\"options.collision_settings.active\"\n                    :menuItem=\"options.collision_settings\"\n                    :model=\"model\"\n                    :source=\"source\"\n                    :compute_ready=\"compute_ready\"\n                    @setOption=\"setOption\"\n                    @onComputeCollisions=\"onComputeCollisions\"\n                    @onComputeParameters=\"onComputeParameters\"\n                    :collision_settings=\"collision_settings\"\n                    :collisions_compiling.sync=\"collisions_compiling\"\n                    :styleP=\"getStylePanels.style\"/>\n                <panel-collision-report\n                    v-show=\"options.collision_reports.active\"\n                    :menuItem=\"options.collision_reports\"\n                    :planes=\"options.planes.active\"\n                    :collisions=\"options.collisions.active\"\n                    :model=\"model\"\n                    :compute_ready=\"compute_ready\"\n                    :onLoadsOptions.sync=\"onLoads.options\"\n                    @setOption=\"setOption\"\n                    @onCollisionsActive=\"onCollisionsActive\"\n                    @onShowCollisionsOnly=\"onShowCollisionsOnly\"\n                    @onCreateSectionBoxForCollisions=\"onCreateSectionBoxForCollisions\"\n\n                    @onObjectsHighlight=\"onObjectsHighlight\"\n                    @onShowObjectsOnly=\"onShowObjectsOnly\"\n                    @onCreateSectionBoxForObjects=\"onCreateSectionBoxForObjects\"\n                    @onRemoveSectionBox=\"onRemoveSectionBox\"\n                    :styleP=\"getStylePanels.style\"/>\n            </div>\n            <div\n                v-show=\"options.tabs.active\"\n                class=\"m-panel__wrap--bottom\"\n                :class=\"{multy: multy || options.tabs.minimize}\"\n                >\n                <panel-tabs\n                    :active=\"options.tabs.active\"\n                    :model=\"model\"\n                    :menuItem=\"options.tabs\"\n                    :minimize=\"options.tabs.minimize\"\n                    @setOption=\"setOption\"\n                    @updateOption=\"updateOption\"\n                     />\n            </div>\n        -->\n\n            <div\n                v-show=\"!onLoadsCheck\"\n                class=\"m-back\"\n                :class=\"{'m-back--trans': onLoads.model}\"\n                >\n                <div class=\"vm-progress\">\n                    <div class=\"loader\">\n                        <svg class=\"circular\" viewBox=\"25 25 50 50\">\n                            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\n                        </svg>\n                    </div>\n                    <span>{{preloaderTytle}}</span>\n                </div>\n            </div>\n\n        </v-layout>\n        <!--\n\t\t<tools3d\n            :toolsbar.sync=\"toolsbar\"\n            ref=\"tools\"\n            />\n        -->\n    </v-container>\n</template>\n\n<script>\n// import * as JSZip from 'jszip'\n// import * as JSZipUtils from 'jszip-utils'\n// import Tools3d from \"./Tools3d\"\n// import PanelOptions from \"./PanelOptions\"\n// import PanelProperty from \"./PanelProperty\"\n// import PanelDispatcher from \"./PanelDispatcher\"\n// import PanelHidden from \"./PanelHidden\"\n// import PanelFilters from \"./PanelFilters\"\n// import PanelDelta from \"./PanelDelta\"\n// import PanelRooms from \"./PanelRooms\"\n// import PanelCollisionSettings from \"./PanelCollisionSettings\"\n// import PanelCollisionReport from \"./PanelCollisionReport\"\n// import PanelTabs from \"./PanelTabs\"\n\n\n//import PanelPlanes from \"./PanelPlanes\"\n\nexport default {\n    name: 'ViewDxf',\n    components: {\n        // Tools3d,\n        // PanelOptions,\n        // PanelProperty,\n        // PanelDispatcher,\n        // PanelHidden,\n        // PanelFilters,\n        // PanelDelta,\n        // PanelRooms,\n        // PanelCollisionSettings,\n        // PanelCollisionReport,\n        // PanelTabs,\n//        PanelPlanes\n    },\n    props: ['model', 'doc'],\n    data: () => ({\n        ready: false,\n        indexModel: 0,\n        listModel: [],\n        viewer: '/ubviewer/',\n        toolsbar: true,\n        propertyJson: [],\n        source: null,\n        classifierJson: [],\n        jsonLoad: {\n            classifier: false,\n            property: false\n        },\n        filters: [],\n        delta: [],\n        deltaList: {\n            del: 0,\n            mod: 0,\n            add: 0,\n            list: []\n        },\n        rooms: {\n            list: [],\n            colors: [],\n            load: false\n        },\n        selectedObjID: null,\n        hiddenList: [],\n        levelsMap: null,\n        collision_settings: false,\n        collisions_version: null,\n        collisions_compiling: false,\n        compute_ready: true,\n        // options: {\n        //     '3d-view': {\n        //         name: '3d-view',\n        //         title: '3d виды',\n        //         active: false,\n        //         action: false,\n        //         disabled: false,\n        //         children: {\n        //             left: {\n        //                 parent: '3d-view',\n        //                 name: 'left',\n        //                 title: 'Слева',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-left'\n        //             },\n        //             right: {\n        //                 parent: '3d-view',\n        //                 name: 'right',\n        //                 title: 'Справа',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-right'\n        //             },\n        //             top: {\n        //                 parent: '3d-view',\n        //                 name: 'top',\n        //                 title: 'Сверху',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-top'\n        //             },\n        //             front: {\n        //                 parent: '3d-view',\n        //                 name: 'front',\n        //                 title: 'Спереди',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-front'\n        //             },\n        //             back: {\n        //                 parent: '3d-view',\n        //                 name: 'back',\n        //                 title: 'Сзади',\n        //                 active: false,\n        //                 action: 'setView',\n        //                 icon: 'trd-back'\n        //             },\n        //         },\n        //         icon: 'trd-d_view',\n        //         divider: false\n        //     },\n        //     grid: {\n        //         name: 'grid',\n        //         title: 'Сетка',\n        //         active: false,\n        //         action: 'displayGrid',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-grid',\n        //         divider: false\n        //     },\n        //     axis: {\n        //         name: 'axis',\n        //         title: 'Ось',\n        //         active: true,\n        //         action: 'displayAxes',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-axis',\n        //         divider: false\n        //     },\n        //     walkview: {\n        //         name: 'walkview',\n        //         title: 'Вид от первого лица',\n        //         active: false,\n        //         action: 'setWalkView',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-street-view',\n        //         divider: true\n        //     },\n        //     /*\n        //     screenshot: {\n        //         name: 'screenshot',\n        //         title: 'Снимок сцены',\n        //         active: false,\n        //         action: false,\n        //         children: null,\n        //         icon: 'trd-screenshot',\n        //         divider: false\n        //     },\n        //     */\n        //     hidden: {\n        //         name: 'hidden',\n        //         title: 'Скрытые объекты',\n        //         active: false,\n        //         action: 'getHiddenObjects',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'mdi-eye-off',\n        //         divider: false\n        //     },\n        //     property: {\n        //         name: 'property',\n        //         title: 'Свойства объекта',\n        //         active: false,\n        //         action: 'setSelectionMode',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-propriety',\n        //         divider: false\n        //     },\n        //     dispatcher: {\n        //         name: 'dispatcher',\n        //         title: 'Диспетчер проекта',\n        //         active: false,\n        //         action: 'onDispatcher',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-tree',\n        //         divider: false\n        //     },\n        //     filters: {\n        //         name: 'filters',\n        //         title: 'Постановление 87',\n        //         active: false,\n        //         action: 'setFilters',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-P87',\n        //         divider: false\n        //     },\n        //     delta: {\n        //         name: 'delta',\n        //         title: 'Версионность',\n        //         active: false,\n        //         action: 'onDelta',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-version1',\n        //         hidden: true,\n        //         divider: false\n        //     },\n        //     planes: {\n        //         name: 'planes',\n        //         title: '3d сечение',\n        //         active: false,\n        //         action: 'onSection',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-section',\n        //         divider: false\n        //     },\n        //     rooms: {\n        //         name: 'rooms',\n        //         title: 'Комнаты',\n        //         active: false,\n        //         action: 'onRooms',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-zone',\n        //         divider: false\n        //     },\n        //     tabs: {\n        //         name: 'tabs',\n        //         title: 'Спецификация',\n        //         active: false,\n        //         action: false,\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-table',\n        //         hidden: false,\n        //         minimize: true,\n        //         divider: true\n        //     },\n        //     collisions: {\n        //         name: 'collisions',\n        //         title: 'Геометрические коллизии',\n        //         active: false,\n        //         action: 'setCollisions',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'mdi-alert-outline',\n        //         hidden: false,\n        //         divider: false\n        //     },\n        //     collision_settings: {\n        //         name: 'collision_settings',\n        //         title: 'Правила проверки',\n        //         active: false,\n        //         action: 'onCollisionSettings',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-collision-settings',\n        //         hidden: false,\n        //         divider: false\n        //     },\n        //     collision_reports: {\n        //         name: 'collision_reports',\n        //         title: 'Результаты проверки',\n        //         active: false,\n        //         action: 'onCollisionReports',\n        //         disabled: false,\n        //         children: null,\n        //         icon: 'trd-report',\n        //         hidden: false,\n        //         divider: true\n        //     },\n        //     download: {\n        //         name: 'download',\n        //         title: 'Скачать',\n        //         active: false,\n        //         action: false,\n        //         disabled: false,\n        //         children: {\n        //             original: {\n        //                 parent: 'download',\n        //                 name: 'original',\n        //                 title: 'Скачать файл',\n        //                 active: false,\n        //                 action: false,//'downloadFile',\n        //                 icon: null\n        //             },\n        //             ifcxml: {\n        //                 parent: 'download',\n        //                 name: 'ifcxml',\n        //                 title: 'Скачать РСИМ (ifcxmlRUS)',\n        //                 active: false,\n        //                 action: false,//'downloadFile',\n        //                 icon: null\n        //             },\n        //         },\n        //         icon: 'trd-download',\n        //         //divider: true\n        //         divider: false\n        //     },\n            // textures: {\n            //     name: 'textures',\n            //     title: 'Текстуры',\n            //     active: true,\n            //     action: 'enableTextures',\n            //     children: null,\n            //     icon: 'trd-texture',\n            //     divider: false\n            // },\n            // scene_property: {\n            //     name: 'scene_property',\n            //     title: 'Свойства сцены',\n            //     active: false,\n            //     action: false,\n            //     children: null,\n            //     icon: 'trd-settings',\n            //     divider: false\n            // },\n            // fullscreen: {\n            //     name: 'fullscreen',\n            //     title: 'Во весь экран',\n            //     active: false,\n            //     action: 'fullScreen',\n            //     children: null,\n            //     icon: 'trd-fullscreen',\n            //     divider: false\n            // }\n        // },\n        onLoads: {\n            model: 0,\n            filters: 100,\n            applyFilters: 0,\n            property: true,\n            classifier: true,\n            options: true\n        },\n        preloaderTytle: ''\n    }),\n    computed: {\n        // getStylePanels(){\n        //     let p = [\n        //         this.options.hidden.active,\n        //         this.options.filters.active,\n        //         this.options.dispatcher.active,\n        //         this.options.delta.active,\n        //         this.options.rooms.active,\n        //         this.options.collision_settings.active,\n        //         this.options.collision_reports.active].filter(Boolean).length\n        //     return {\n        //         style: {\n        //             'margin-bottom': '10px',\n        //             height: 'calc(' + 100 / (p || 1) + '% - 10px)'\n        //         },\n        //         active: !!p\n        //     }\n        // },\n        // multy(){\n        //     return this.options.tabs.active && (this.options.property.active || this.getStylePanels.active)\n        // },\n        // getObjectProperties(){\n        //     let id = this.selectedObjID\n        //\n        //     let prop = this.propertyJson.filter(c => (c.Guid != undefined && c.Guid == id)\n        //         || (c.Id != undefined && c.Id == id))\n        //\n        //     return !prop.length\n        //         ? {\n        //             Name: '',\n        //             Properties: []\n        //         }\n        //         : prop[0]\n        // },\n        // getClassifications(){\n        //     let id = this.selectedObjID\n        //     let prop = this.classifierJson != 'none'\n        //         ? this.classifierJson.filter(c => (c.Guid != undefined && c.Guid == id)\n        //             || (c.Id != undefined && c.Id == id))\n        //         : []\n        //     return prop.length\n        //         ? prop[0]\n        //         : this.classifierJson == 'none'\n        //             ? id\n        //                 ? 'none'\n        //                 : null\n        //             : null\n        // },\n        onLoadsCheck(){\n            let flag = this.onLoads.model       >= 100\n                && this.onLoads.filters         >= 100\n                && this.onLoads.applyFilters    >= 100\n                && this.onLoads.property\n                && this.onLoads.classifier\n                && this.onLoads.options\n\n            return flag\n        }\n    },\n    methods: {\n        // initFilters(filters){\n        //     let list = filters.map(f => {\n        //         return {\n        //             title: f.title,\n        //             name: f.title,\n        //             items: f.items.map(i => {\n        //                 return {\n        //                     name:  i.title,\n        //                     title: i.title,\n        //                     active: false,\n        //                     filter: 'category',\n        //                     items: i.grouppedByElementTypes.map(t => {\n        //                         return {\n        //                             active: false,\n        //                             filter: 'type',\n        //                             category: i.title,\n        //                             name: t.title,\n        //                             title: t.title,\n        //                             items: []\n        //                         }\n        //                     })\n        //                 }\n        //             })\n        //         }\n        //     })\n        //     let e = []\n        //     list.map(bi => {\n        //         if(this.filters.some(ai => ai.title == bi.title)){\n        //         \tlet e1 = []\n        //             this.filters = this.filters.map(ai => {\n        //             \tif(ai.title != bi.title){\n        //                 \treturn ai\n        //                 }\n        //                 else{\n        //                 \tbi.items.map(bi1 => {\n        //                     \tif(ai.items.some(ai1 => ai1.name == bi1.name)){\n        //                     \t\tlet e2 = []\n        //                             ai.items = ai.items.map(ai1 => {\n        //                             \tif(ai1.name != bi1.name){\n        //                                 \treturn ai1\n        //                                 }\n        //                                 else{\n        //                                 \tbi1.items.map(bi2 => {\n        //                                     \tif(!ai1.items.some(ai2 => ai2.name == bi2.name)){\n        //                                         \te2 = [...e2, bi2]\n        //                                         }\n        //                                     })\n        //                                     ai1.items = [...ai1.items, ...e2]\n        //                                     return ai1\n        //                                 }\n        //                             })\n        //                         }\n        //                         else{\n        //                         \te1 = [...e1, bi1]\n        //                         }\n        //                     })\n        //                     ai.items = [...ai.items, ...e1]\n        //                     return ai\n        //                 }\n        //             })\n        //         }\n        //         else{\n        //         \te = [...e, bi]\n        //         }\n        //     })\n        //     this.filters = [...this.filters, ...e]\n        //\n        //     return list\n        // },\n        // setWalkView(v){\n        //     this.postMessage({\n        //         action: 'setWalkView',\n        //         value: v\n        //     })\n        // },\n        // onSection(v){\n        //     this.postMessage({\n        //         action: 'onSection',\n        //         value: v\n        //     })\n        // },\n        onPreloader(){\n            if(!this.onLoadsCheck){\n                return new Promise(resolve => {\n                    resolve(true)\n                })\n            }\n            this.onLoads.applyFilters = 0\n            return new Promise(resolve => {\n\n                setTimeout(resolve, 2000)\n            })\n        },\n        // getRoomsColors(o){\n        //     this.rooms.colors = o.value\n        // },\n        // onRoomVisibility(o){\n        //     this.postMessage({\n        //         action: 'onRoomVisibilityItem',\n        //         value: {\n        //             id: o.id,\n        //             val: o.value\n        //         }\n        //     })\n        // },\n        // onComputeCollisions(o){\n        //     this.compute_ready = false\n        //     this.postMessage({\n        //         action: 'onComputeCollisions',\n        //         value: {\n        //             list_1: o.list_1,\n        //             list_2: o.list_2,\n        //             group: o.group,\n        //             rule: o.rule,\n        //             part: 'geom'\n        //         }\n        //     })\n        // },\n        // onComputeParameters(o){\n        //     this.compute_ready = false\n        //     const typeOf = (o, v) => {\n        //         let list = []\n        //         switch(o.type){\n        //             case 'boolean': list = [o.value ? 1 : 0, v == 'Да' ? 1 : 0]\n        //                 break\n        //             case 'list': ;\n        //             case 'string': list = [o.value, v]\n        //                 break\n        //             case 'integer': list = [parseInt(o.value), parseInt(v)]\n        //                 break\n        //             case 'float': list = [Number(o.value), Number(v)]\n        //                 break\n        //             default: ;\n        //         }\n        //         return list\n        //     }\n        //     this.loadPropertyJson()\n        //     .then(res => {\n        //         let list = []\n        //         this.propertyJson.map(prop => {\n        //             // let test = prop.Parameters.find(param => param.PropertyGroupTitle == 'Dimensions')\n        //             let general = prop.Parameters.find(g => g.PropertyGroupTitle == 'Общие')\n        //             if(general){\n        //                 // let comp = general.PropertyList.find(f => f.Title == 'наименование компонента')\n        //                 // if(comp && o.elements.some(s => s.name == comp.Value)){\n        //                 //     let elem = o.elements.find(f => f.name == comp.Value)\n        //                 let elem = o.elements.find(f => f.list.some(s => s == prop.Id))\n        //\n        //                     if(elem){\n        //                         elem.values.map(v => {\n        //                             let dimensions = prop.Parameters.find(d => d.PropertyGroupTitle == 'Размеры')\n        //                             let val = false\n        //                             if(dimensions){\n        //                                 val = dimensions.PropertyList.find(f => f.Title.toLowerCase() == v.name)\n        //                             }\n        //\n        //                             if(val){\n        //                                 let equal = false\n        //                                 let values = typeOf(v, val.Value)\n        //                             console.log('check 1', values, v.equal)\n        //                                 switch(v.equal){\n        //                                     case 0: equal = values[1] > values[0]\n        //                                         break\n        //                                     case 1: equal = values[1] == values[0]\n        //                                         break\n        //                                     case 2: equal = values[1] < values[0]\n        //                                         break\n        //                                     case 3: equal = values[1] >= values[0]\n        //                                         break\n        //                                     case 4: equal = values[1] <= values[0]\n        //                                         break\n        //                                     case 5: equal = values[1] != values[0]\n        //                                         break\n        //                                     default: ;\n        //                                 }\n        //                             console.log('check', values, equal)\n        //                                 if(!equal){\n        //                                     list.push({\n        //                                         name: prop.Name,\n        //                                         id: prop.Id,\n        //                                         property: val.Title,\n        //                                         value: val.Value,\n        //                                         valueRule: v.type == 'boolean'\n        //                                             ? values[0] || 0\n        //                                                 ? 'Да'\n        //                                                 : 'Нет'\n        //                                             : values[0],\n        //                                         part: o.part\n        //                                     })\n        //                                 }\n        //                             }\n        //                         })\n        //                     }\n        //                 // }\n        //             }\n        //         })\n        //\n        //         this.saveCollisionReports({\n        //             value: {\n        //                 group: o.group,\n        //                 rule: o.rule,\n        //                 part: o.part,\n        //                 parameters: list\n        //             }\n        //         })\n        //     })\n        //\n        // },\n        // onCollisionsActive(v){\n        //     this.postMessage({\n        //         action: 'onCollisionsActive',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onShowCollisionsOnly(v){\n        //     this.postMessage({\n        //         action: 'onShowCollisionsOnly',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onCreateSectionBoxForCollisions(v){\n        //     this.postMessage({\n        //         action: 'onCreateSectionBoxForCollisions',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onObjectsHighlight(v){\n        //     this.postMessage({\n        //         action: 'onObjectsHighlight',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onShowObjectsOnly(v){\n        //     this.postMessage({\n        //         action: 'onShowObjectsOnly',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onCreateSectionBoxForObjects(v){\n        //     this.postMessage({\n        //         action: 'onCreateSectionBoxForObjects',\n        //         value: {\n        //             list: v.list,\n        //             active: v.active\n        //         }\n        //     })\n        // },\n        // onRemoveSectionBox(){\n        //     this.postMessage({\n        //         action: 'onRemoveSectionBox'\n        //     })\n        // },\n        // saveCollisionReports(v){\n        //     let meta = JSON.parse(JSON.stringify(this.$store.state.common.meta))\n        //     meta.collisions.version = this.model.version\n        //     meta.collisions.groups = meta.collisions.groups.map(g => {\n        //         if(g.id == v.value.group){\n        //             g.status = 1\n        //             g.children = g.children.map(r => {\n        //                 if(r.id == v.value.rule){\n        //                     let reports = []\n        //                     let status = 0\n        //                     if(v.value.part == 'geom'){\n        //                         reports = v.value.collision_pairs\n        //                         status = v.value.collision_pairs.length\n        //                             ? 0\n        //                             : 1\n        //                     }\n        //                     if(v.value.part == 'params'){\n        //                         reports = v.value.parameters\n        //                         status = v.value.parameters.length\n        //                             ? 0\n        //                             : 1\n        //                     }\n        //                     r.reports = reports\n        //                     r.status = status\n        //                     r.part = v.value.part\n        //                 }\n        //                 return r\n        //             })\n        //         }\n        //         g.children.map(r => {\n        //             if(!r.status){\n        //                 g.status = 0\n        //             }\n        //         })\n        //         return g\n        //     })\n        //\n        //     this.$store.dispatch('common/setFileMeta', {\n        //         id: this.model.id,\n        //         body: JSON.stringify(meta)\n        //     })\n        //     .then(res => {\n        //         return  this.$store.dispatch('common/getFileMeta', {\n        //             id: this.model.id\n        //         })\n        //     })\n        //     .then(res => {\n        //         this.collisions_compiling = false\n        //         this.compute_ready = true\n        //         if(res.error){\n        //             this.$notify({\n        //                 group: 'note',\n        //                 type: 'error',\n        //                 text: res.data.error\n        //             })\n        //         }\n        //         else{\n        //             this.$notify({\n        //                 group: 'note',\n        //                 type: 'success',\n        //                 text: 'Проверка выполнена.'\n        //             })\n        //         }\n        //     })\n        //     .catch(e => {\n        //         this.collisions_compiling = false\n        //         this.compute_ready = true\n        //     })\n        // },\n        // onRooms(v){\n        //     this.postMessage({\n        //         action: 'onRoomVisibility',\n        //         value: v\n        //     })\n        //     if(v){\n        //         return new Promise(resolve => {\n        //             if(!this.jsonLoad.property){\n        //                 this.onLoads.property = false\n        //\n        //                 let promisesList = []\n        //                 if(this.model.type == 'consolidations'){\n        //                     this.listModel.map(l => {\n        //                         // if(l.tags['mini.json'] == 1){\n        //                         //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/mini.json'}))\n        //                         // }\n        //                         // else\n        //                         if(l.tags['json'] == 1){\n        //                             promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n        //                         }\n        //                         else if(l.tags['json.zip'] == 1){\n        //                             promisesList.push(new Promise(resolve => {\n        //                                 this.$store.dispatch('common/getFile', {\n        //                                     id: this.getFileByVersion(l).url + '/json.zip',\n        //                                     typeBlob: 'blob'\n        //                                 })\n        //                                 .then(res => {\n        //                                     return Promise.resolve(res.file)\n        //                                 })\n        //                                 .then(res => JSZip.loadAsync(res))\n        //                                 .then(zip => {\n        //                                     let filesList = Object.keys(zip.files)\n        //                                     return zip.file(filesList[0]).async(\"string\")\n        //                                 })\n        //                                 .then(text => {\n        //                                     resolve(JSON.parse(text))\n        //                                 })\n        //                             }))\n        //                         }\n        //                     })\n        //                 }\n        //                 else{\n        //                     // if(this.model.tags['mini.json'] == 1){\n        //                     //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'}))\n        //                     // }\n        //                     // else\n        //                     if(this.model.tags['json'] == 1){\n        //                         promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n        //                     }\n        //                     else if(this.model.tags['json.zip'] == 1){\n        //                         promisesList.push(new Promise(resolve => {\n        //                             this.$store.dispatch('common/getFile', {\n        //                                 id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                                 typeBlob: 'blob'\n        //                             })\n        //                             .then(res => {\n        //                                 return Promise.resolve(res.file)\n        //                             })\n        //                             .then(res => JSZip.loadAsync(res))\n        //                             .then(zip => {\n        //                                 let filesList = Object.keys(zip.files)\n        //                                 return zip.file(filesList[0]).async(\"string\")\n        //                             })\n        //                             .then(text => {\n        //                                 resolve(JSON.parse(text))\n        //                             })\n        //                         }))\n        //                     }\n        //                 }\n        //\n        //                 Promise.all(promisesList)\n        //                 .then(res => {\n        //                     res.map(r => {\n        //                         this.propertyJson = [\n        //                             ...this.propertyJson,\n        //                             ...this.setProperties(r)\n        //                         ]\n        //                         let filters = r.GrouppedByCategories || []\n        //                         this.filters = this.initFilters(filters)\n        //                         this.rooms.list = this.propertyJson\n        //                             .filter(f => f.object == 'Room')\n        //                             .map(m => {\n        //                                 return {\n        //                                     ...m,\n        //                                     active: true\n        //                                 }\n        //                             })\n        //                     })\n        //                     this.rooms.load = true\n        //                     this.jsonLoad.property = true\n        //                     this.onLoads.property = true\n        //                     resolve(true)\n        //                 })\n        //             }\n        //             else{\n        //                 this.rooms.list = this.propertyJson\n        //                     .filter(f => f.object == 'Room')\n        //                     .map(m => {\n        //                         return {\n        //                             ...m,\n        //                             active: true\n        //                         }\n        //                     })\n        //                 this.rooms.load = true\n        //                 resolve(true)\n        //             }\n        //         })\n        //     }\n        // },\n        // loadFilters(){\n        //     return new Promise(resolve => {\n        //         if(!this.jsonLoad.property){\n        //             this.onLoads.property = false\n        //\n        //             let promisesList = []\n        //             if(this.model.type == 'consolidations'){\n        //                 this.listModel.map(l => {\n        //                     // if(l.tags['mini.json'] == 1){\n        //                     //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/mini.json'}))\n        //                     // }\n        //                     // else\n        //                     if(l.tags['json'] == 1){\n        //                         promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n        //                     }\n        //                     else if(l.tags['json.zip'] == 1){\n        //                         promisesList.push(new Promise(resolve => {\n        //                             this.$store.dispatch('common/getFile', {\n        //                                 id: this.getFileByVersion(l).url + '/json.zip',\n        //                                 typeBlob: 'blob'\n        //                             })\n        //                             .then(res => {\n        //                                 return Promise.resolve(res.file)\n        //                             })\n        //                             .then(res => JSZip.loadAsync(res))\n        //                             .then(zip => {\n        //                                 let filesList = Object.keys(zip.files)\n        //                                 return zip.file(filesList[0]).async(\"string\")\n        //                             })\n        //                             .then(text => {\n        //                                 resolve(JSON.parse(text))\n        //                             })\n        //                         }))\n        //                     }\n        //                 })\n        //             }\n        //             else{\n        //                 // if(this.model.tags['mini.json'] == 1){\n        //                 //     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'}))\n        //                 // }\n        //                 // else\n        //                 if(this.model.tags['json'] == 1){\n        //                     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n        //                 }\n        //                 else if(this.model.tags['json.zip'] == 1){\n        //                     promisesList.push(new Promise(resolve => {\n        //                         this.$store.dispatch('common/getFile', {\n        //                             id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                             typeBlob: 'blob'\n        //                         })\n        //                         .then(res => {\n        //                             return Promise.resolve(res.file)\n        //                         })\n        //                         .then(res => JSZip.loadAsync(res))\n        //                         .then(zip => {\n        //                             let filesList = Object.keys(zip.files)\n        //                             return zip.file(filesList[0]).async(\"string\")\n        //                         })\n        //                         .then(text => {\n        //                             resolve(JSON.parse(text))\n        //                         })\n        //                     }))\n        //                 }\n        //             }\n        //\n        //             Promise.all(promisesList)\n        //             .then(res => {\n        //         console.log('filters', res)\n        //                 res.map(r => {\n        //                     this.propertyJson = [\n        //                         ...this.propertyJson,\n        //                         ...this.setProperties(r)\n        //                     ]\n        //                     let filters = r.GrouppedByCategories || []\n        //                     this.filters = this.initFilters(filters)\n        //                 })\n        //\n        //                 this.jsonLoad.property = true\n        //                 this.onLoads.property = true\n        //                 resolve(true)\n        //             })\n        //         }\n        //         else{\n        //             resolve(true)\n        //         }\n        //     })\n        // },\n        // setFilters(v){\n        //     this.onPreloader()\n        //     .then(r => {\n        //         return this.loadFilters()\n        //     })\n        //     .then(r => {\n        //         if(v){\n        //             this.filters.map(f => {\n        //                 f.items.map(i => {\n        //                     if(i.active){\n        //                         this.onFilter(i)\n        //                         if(i.items.length){\n        //                             i.items.map(t => {\n        //                                 this.onFilter(i)\n        //                             })\n        //                         }\n        //                     }\n        //                 })\n        //             })\n        //             this.onFilter({filter: 'enable'})\n        //         }\n        //         else{\n        //             this.onFilter({filter: 'clear'})\n        //             this.onFilter({filter: 'disable'})\n        //         }\n        //     })\n        // },\n        // onFilter(o){\n        //     this.onPreloader()\n        //     .then(r => {\n        //         this.postMessage({\n        //             action: 'onFilter',\n        //             value: o\n        //         })\n        //     })\n        // },\n        // setOption(o){\n        //     this.options[o.name].active = !o.active\n        //     if(this.options[o.name].action){\n        //         this[this.options[o.name].action](this.options[o.name].active)\n        //     }\n        // },\n        // setSubOption(o){\n        //     this.options[o.name].children[o.sub_name].active = !o.sub_active\n        //     if(this.options[o.name].children[o.sub_name].action){\n        //         this[this.options[o.name].children[o.sub_name].action](this.options[o.name].children[o.sub_name])\n        //     }\n        //     this.setOption(o)\n        // },\n        // updateOption(o){\n        //     this.options[o.item.name][o.prop] = o.value\n        // },\n        // hideOptions(list){\n        //     list.map(l => {\n        //         if(this.options[l].active){\n        //             this.setOption({\n        //                 name: l,\n        //                 active: true\n        //             })\n        //         }\n        //         this.options[l].disabled = true\n        //     })\n        // },\n        // showOptions(list = null){\n        //     if(!list){\n        //         Object.keys(this.options)\n        //             .map(key => {\n        //                 this.options[key].disabled = false\n        //             })\n        //     }\n        //     else{\n        //         list.map(l => {\n        //             this.options[l].disabled = false\n        //         })\n        //     }\n        // },\n        // onCollisionSettings(v){\n        //     this.postMessage({\n        //         action: 'onLoadCollisions'\n        //     })\n        //     this.collision_settings = v\n        //     if(v){\n        //         this.$store.dispatch('workflow/getCollisionTemplates')\n        //         this.$store.dispatch('common/getFileMeta', {\n        //             id: this.model.id\n        //         })\n        //         .then(res => {\n        //             let meta = JSON.parse(res)\n        //             if(meta){\n        //                 if(meta.collisions){\n        //                     let version = meta.collisions.version || null\n        //                     if(this.model.version != null && this.model.version != version){\n        //                         // this.collisions_compiling = true\n        //                     }\n        //                     // this.params = {...meta.collisions, temp: {}}\n        //                 }\n        //             }\n        //         })\n        //     }\n        // },\n        // onCollisionReports(v){\n        //     this.postMessage({\n        //         action: 'onLoadCollisions'\n        //     })\n        //     if(v){\n        //         this.$store.dispatch('workflow/getCollisionTemplates')\n        //         this.$store.dispatch('common/getFileMeta', {\n        //             id: this.model.id\n        //         })\n        //         .then(res => {\n        //             let meta = JSON.parse(res)\n        //             if(meta){\n        //                 if(meta.collisions){\n        //                     this.collisions_version = meta.collisions.version || null\n        //                     // this.params = {...meta.collisions, temp: {}}\n        //                 }\n        //             }\n        //         })\n        //     }\n        // },\n        // setCollisions(v){\n        //     if(this.model.type == 'consolidations'){\n        //         if(this.listModel.some(s => s.tags['collisions.json'] == 1)){\n        //             this.postMessage({\n        //                 action: 'setCollisions',\n        //                 value: v\n        //             })\n        //         }\n        //     }\n        //     else{\n        //         if(this.model.tags['collisions.json'] == 1){\n        //             this.postMessage({\n        //                 action: 'setCollisions',\n        //                 value: v\n        //             })\n        //         }\n        //     }\n        // },\n        // getHiddenObjects(v){\n        //     if(v){\n        //         this.postMessage({\n        //             action: 'onGetHiddenObjects',\n        //             value: v\n        //         })\n        //     }\n        // },\n        // onGetHiddenObjects(v){\n        //     let items = this.propertyJson.filter(c => (c.Guid != undefined && v.some(s => c.Guid == s))\n        //         || (c.Id != undefined && v.some(s => c.Id == s)))\n        //\n        //     this.hiddenList = items.map(i => ({name: i.Name, id: i.Id || i.Guid}))\n        // },\n        // onHideObject(v){\n        //     this.postMessage({\n        //         action: 'onHideObject',\n        //         value: v\n        //     })\n        // },\n        // onShowObject(v){\n        //     this.postMessage({\n        //         action: 'onShowObject',\n        //         value: v\n        //     })\n        //     if(this.selectedObjID){\n        //         this.postMessage({\n        //             action: 'selectObjectById',\n        //             value: this.selectedObjID\n        //         })\n        //     }\n        // },\n        // hiddenOptionsBtn(){\n        //     this.options.delta.hidden = !(this.model.files.length > 1)\n        //         || !(this.model.tags['delta.json'] || false)\n        //     // this.options.collisions.hidden = !(this.model.tags['collisions.json']\n        //     //         ? this.model.tags['collisions.json'] == 1\n        //     //             ? true\n        //     //             : false\n        //     //         : false)\n        // },\n        // onDelta(v){\n        //     if(v){\n        //         this.hideOptions(['hidden', 'property', 'filters', 'planes'])\n        //         this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/delta.json'})\n        //         .then(res => {\n        //             this.delta = res.Elements\n        //             if(!this.propertyJson.length){\n        //                 return this.loadFilters()\n        //             }\n        //             else{return true}\n        //         })\n        //         .then(() => {\n        //             return this.$store.dispatch('common/getFileInfo', {id: this.model.files[1].url + '/info'})\n        //         })\n        //         .then(res => {\n        //             if(res.tags['json.zip']){\n        //                 return new Promise(resolve => {\n        //                     this.$store.dispatch('common/getFile', {\n        //                         id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                         typeBlob: 'blob'\n        //                     })\n        //                     .then(res => {\n        //                         return Promise.resolve(res.file)\n        //                     })\n        //                     .then(res => JSZip.loadAsync(res))\n        //                     .then(zip => {\n        //                         let filesList = Object.keys(zip.files)\n        //                         return zip.file(filesList[0]).async(\"string\")\n        //                     })\n        //                     .then(text => {\n        //                         resolve(JSON.parse(text))\n        //                     })\n        //                 })\n        //             }\n        //             else{\n        //                 return this.$store.dispatch('common/getFileInfo', {id: this.model.files[1].url + '/json'})\n        //             }\n        //         })\n        //         .then(res => {\n        //             return this.setProperties(res)\n        //         })\n        //         .then(json2 => {\n        //             let mod = 0\n        //             let del = 0\n        //             let add = 0\n        //             this.deltaList.list = this.delta.map(d => {\n        //                 let elem = {}\n        //                 Object.entries(d).map(([key, value]) => {\n        //                     elem = {...value}\n        //                 })\n        //                 return elem\n        //             }).map(d => {\n        //                 if(d.Status == 'modified'){\n        //                     let elem = this.propertyJson.find(p => p.Id == d.Id)\n        //                     mod++\n        //                     let parameters = []\n        //                     if(d.hasOwnProperty('ParametersStatus')){\n        //                         d.Parameters.map(p => {\n        //                             let group = elem.Parameters.find(f => f.PropertyGroupTitle == p.PropertyGroupTitle)\n        //                             p.PropertyList.map(pr => {\n        //                                 let param = group.PropertyList.find(epr => epr.Title == pr.Title)\n        //                                 parameters.push({\n        //                                     name: param.Title,\n        //                                     value: param.Value || '---',\n        //                                     units: param.Units || ''\n        //                                 })\n        //                             })\n        //                         })\n        //                     }\n        //                     return {\n        //                         id: elem.Id,\n        //                         name: elem.Name,\n        //                         status: d.Status,\n        //                         color: 'yellow',\n        //                         parameters: parameters\n        //                     }\n        //                 }\n        //                 else if(d.Status == 'deleted'){\n        //                     let elem = json2.find(p => p.Id == d.Id)\n        //                     del++\n        //                     return {\n        //                         id: elem.Id,\n        //                         name: elem.Name,\n        //                         status: d.Status,\n        //                         color: 'red'\n        //                     }\n        //                 }\n        //                 else{\n        //                     let elem = this.propertyJson.find(p => p.Id == d.Id)\n        //                     add++\n        //                     return {\n        //                         id: elem.Id,\n        //                         name: elem.Name,\n        //                         status: d.Status,\n        //                         color: 'green'\n        //                     }\n        //                 }\n        //             }).map(d => {\n        //                 return {\n        //                     ...d,\n        //                     name: d.id + ' | ' + d.name,\n        //                     active: false,\n        //                     quantity: []\n        //                 }\n        //             })\n        //             this.deltaList.mod = mod\n        //             this.deltaList.del = del\n        //             this.deltaList.add = add\n        //         })\n        //     }\n        //     else{\n        //         this.showOptions()\n        //     }\n        //     this.postMessage({\n        //         action: 'onDelta',\n        //         token: this.$store.state.auth.access_token,\n        //         id: this.model.files[1].url,\n        //         value: v,\n        //         prop: {\n        //             type: 'rvt'\n        //         }\n        //     })\n        // },\n        // setView(v){\n        //     let name = ''\n        //     switch(v.name){\n        //         case 'left':    name = 'setLeft'\n        //                         break\n        //         case 'right':   name = 'setRight'\n        //                         break\n        //         case 'top':     name = 'setTop'\n        //                         break\n        //         case 'front':   name = 'setFront'\n        //                         break\n        //         case 'back':    name = 'setBack'\n        //                         break\n        //         default: ;\n        //     }\n        //     this.postMessage({\n        //         action: 'setView',\n        //         name: name\n        //     })\n        //     v.active = false\n        // },\n        // displayAxes(v){\n        //     this.postMessage({\n        //         action: 'displayAxes',\n        //         value: v\n        //     })\n        // },\n        // displayGrid(v){\n        //     this.postMessage({\n        //         action: 'displayGrid',\n        //         value: v\n        //     })\n        // },\n        // onDispatcher(v){\n        //     if(!this.levelsMap){\n        //         let promisesList = []\n        //         if(this.model.tags['json'] == 1){\n        //             promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n        //         }\n        //         else if(this.model.tags['json.zip'] == 1){\n        //             promisesList.push(new Promise(resolve => {\n        //                 this.$store.dispatch('common/getFile', {\n        //                     id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                     typeBlob: 'blob'\n        //                 })\n        //                 .then(res => {\n        //                     return Promise.resolve(res.file)\n        //                 })\n        //                 .then(res => JSZip.loadAsync(res))\n        //                 .then(zip => {\n        //                     let filesList = Object.keys(zip.files)\n        //                     return zip.file(filesList[0]).async(\"string\")\n        //                 })\n        //                 .then(text => {\n        //                     resolve(JSON.parse(text))\n        //                 })\n        //             }))\n        //         }\n        //         const getTree = (map, items, level) => {\n        //             items\n        //                 .filter(f => f.level == level)\n        //                 .map((m, i, a) => {\n        //                     if(level != 'main'){\n        //                         map[level].size = a.length\n        //                     }\n        //                     getTree(map, items.filter(f => f.level != level), m.id)\n        //                 })\n        //         }\n        //\n        //         let map = {\n        //             'all':{\n        //                 id: 'all',\n        //                 name: 'Генплан',\n        //                 level: 'main',\n        //                 hidden: false,\n        //                 type: 'level',\n        //                 size: 0,\n        //                 selected: 0\n        //             }\n        //         }\n        //\n        //         Promise.all(promisesList)\n        //         .then(res => {\n        //             res.map(r => {\n        //                 this.propertyJson = [\n        //                     ...this.propertyJson,\n        //                     ...this.setProperties(r)\n        //                 ]\n        //                 let levels = r.Levels || []\n        //                 levels.map(l => {\n        //                     map[l.Level.Id] = {\n        //                         name: l.Level.Name,\n        //                         id: l.Level.Id,\n        //                         level: 'all',\n        //                         hidden: false,\n        //                         type: 'level',\n        //                         size: 0,\n        //                         selected: 0\n        //                     }\n        //                     this.propertyJson\n        //                         .filter(f => f.Level == l.Level.Id)\n        //                         .map(m => {\n        //                             map[m.Id] = {\n        //                                 name: m.Name,\n        //                                 id: m.Id,\n        //                                 level: l.Level.Id,\n        //                                 hidden: false,\n        //                                 type: 'item'\n        //                             }\n        //                         })\n        //                 })\n        //                 getTree(map, Object.values(map), 'main')\n        //                 this.levelsMap = map\n        //             })\n        //         })\n        //     }\n        // },\n        // loadPropertyJson(){\n        //     return new Promise(resolve => {\n        //         if(!this.jsonLoad.property){\n        //             this.onLoads.property = false\n        //             let promisesList = []\n        //             if(this.model.type == 'consolidations'){\n        //                 this.listModel.map(l => {\n        //                     if(l.tags['json'] == 1){\n        //                         promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/json'}))\n        //                     }\n        //                 })\n        //             }\n        //             else{\n        //                 if(this.model.tags['json'] == 1){\n        //                     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/json'}))\n        //                 }\n        //                 else if(this.model.tags['json.zip'] == 1){\n        //                     promisesList.push(new Promise(resolve => {\n        //                         this.$store.dispatch('common/getFile', {\n        //                             id: this.getFileByVersion(this.model).url + '/json.zip',\n        //                             typeBlob: 'blob'\n        //                         })\n        //                         .then(res => {\n        //                             return Promise.resolve(res.file)\n        //                         })\n        //                         .then(res => JSZip.loadAsync(res))\n        //                         .then(zip => {\n        //                             let filesList = Object.keys(zip.files)\n        //                             return zip.file(filesList[0]).async(\"string\")\n        //                         })\n        //                         .then(text => {\n        //                             resolve(JSON.parse(text))\n        //                         })\n        //                     }))\n        //                 }\n        //             }\n        //                 // this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/mini.json'})\n        //                 // .then(res => {\n        //                 //     console.log('mini.json',res)\n        //                 // })\n        //\n        //             Promise.all(promisesList)\n        //             .then(res => {\n        //                 res.map(r => {\n        //                     this.propertyJson = [\n        //                         ...this.propertyJson,\n        //                         ...this.setProperties(r)\n        //                     ]\n        //                     let filters = r.GrouppedByCategories || []\n        //                     this.filters = this.initFilters(filters)\n        //                     this.source = r.Source || null\n        //                 })\n        //\n        //                 this.jsonLoad.property = true\n        //                 this.onLoads.property = true\n        //                 resolve(true)\n        //             })\n        //         }\n        //         else{\n        //             resolve(true)\n        //         }\n        //     })\n        // },\n        // setSelectionMode(v){\n        //     if(!this.jsonLoad.classifier){\n        //         this.onLoads.classifier = false\n        //\n        //         let promisesList = []\n        //         let no_classifier = false\n        //         if(this.model.type == 'consolidations'){\n        //             this.listModel.map(l => {\n        //                 if(l.tags.hasOwnProperty('classifier.json')\n        //                     && l.tags['classifier.json'] == 1){\n        //                     promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(l).url + '/classifier.json'}))\n        //                 }\n        //                 else{\n        //                     no_classifier = true\n        //                 }\n        //             })\n        //         }\n        //         else{\n        //             if(this.model.tags.hasOwnProperty('classifier.json')\n        //                 && this.model.tags['classifier.json'] == 1){\n        //                 promisesList.push(this.$store.dispatch('common/getFileInfo', {id: this.getFileByVersion(this.model).url + '/classifier.json'}))\n        //             }\n        //         }\n        //\n        //         Promise.all(promisesList)\n        //         .then(res => {\n        //             if(no_classifier){\n        //                 this.classifierJson = 'none'\n        //             }\n        //             else{\n        //                 res.map(r => {\n        //                     this.classifierJson = [\n        //                         ...this.classifierJson,\n        //                         ...this.setProperties(r)\n        //                     ]\n        //                 })\n        //             }\n        //             this.jsonLoad.classifier = true\n        //             this.onLoads.classifier = true\n        //         })\n        //\n        //\n        //         // if(this.model.tags.hasOwnProperty('classifier.json')\n        //         //     && this.model.tags['classifier.json'] == 1\n        //         // ){\n        //         //     this.$store.dispatch('common/getFileInfo', {id: this.model.files[0].url + '/classifier.json'})\n        //         //     .then(res => {\n        //         //         this.classifierJson = this.setProperties(res)\n        //         //         this.jsonLoad.classifier = true\n        //         //         this.onLoads.classifier = true\n        //         //     })\n        //         // }\n        //         // else{\n        //         //     this.classifierJson = 'none'\n        //         //     this.jsonLoad.classifier = true\n        //         //     this.onLoads.classifier = true\n        //         // }\n        //     }\n        //\n        //     this.loadPropertyJson()\n        //\n        //     if(!v){\n        //         this.selectedObjID = null\n        //     }\n        //     this.postMessage({\n        //         action: 'setSelectionMode',\n        //         value: v\n        //     })\n        // },\n        onMouseDown(event){\n            event.preventDefault()\n        },\n        onSelected(v){\n            this.selectedObjID = v.id\n        },\n        initModel(){\n            this.preloaderTytle = 'Загрузка файлов модели.'\n            this.postMessage({\n                token: this.$store.state.auth.access_token,\n                id: this.getFileByVersion(this.model).url,\n                action: 'loadExt',\n                type: this.model.type\n            })\n        },\n        onLoadModel(v){\n            // if(this.model.type == 'consolidations'){\n            //     if(this.indexModel + 1 == this.listModel.length){\n            //         this.onLoads.model = v.value\n            //     }\n            // }\n            // else{\n            //     this.onLoads.model = v.value\n            // }\n        },\n        onLoadFilters(v){\n            this.onLoads.filters = v\n        },\n        onLoadApplyFilters(v){\n            console.log('onLoadApplyFilters', v)\n            // if(this.model.type == 'consolidations'){\n            //     if(this.indexModel + 1 == this.listModel.length){\n            //         this.onLoads.applyFilters = v.value\n            //     }\n            //     else{\n            //         this.onLoads.applyFilters = 0\n            //         this.indexModel += 1\n            //         this.initModel()\n            //     }\n            // }\n            // else{\n            //     this.onLoads.applyFilters = v.value\n            // }\n\n\n            if(this.onLoads.applyFilters != v.value){\n                this.onLoads.applyFilters = v.value\n            }\n        },\n        onReadyModel(v){\n            if(this.model.type == 'consolidations'){\n                if(this.indexModel + 1 == this.listModel.length){\n                    this.onLoads.model = 100\n                    this.onLoads.applyFilters = 100\n                }\n                else{\n                    this.onLoads.applyFilters = 0\n                    this.indexModel += 1\n                    this.initModel()\n                }\n            }\n            else{\n                this.onLoads.model = 100\n                this.onLoads.applyFilters = 100\n            }\n        },\n        setProperties(o){\n            let list = o['Elements']\n                .map(e => {\n                    let elem = {}\n                    Object.entries(e).map(([key, value]) => {\n                        elem = {...value, object: key}\n                    })\n                    return elem\n            })\n            return list\n        },\n        updateCanvasSize(){\n            this.setCanvasSize()\n        },\n        getFileByVersion(f){\n            if(f.version == null){\n                return f.files[0]\n            }\n            else{\n                let file = f.files.find(i => i.version == f.version)\n                return file ? file : f.files[0]\n            }\n        },\n        onWindowResize(){\n            this.updateCanvasSize()\n        },\n        onKeyup(e){\n            let frame = this.$refs['viewer'].contentWindow.document.getElementById('canvas')\n            let newEvent = new Event('keyup', {key: e.key, code: e.code, composed: true, charCode: e.charCode, keyCode: e.keyCode, which: e.which, bubbles: true, cancelable: true, which: e.keyCode})\n            newEvent.keyCode = e.keyCode\n            newEvent.which = e.keyCode\n            frame.dispatchEvent(newEvent)\n        },\n        onKeydown(e){\n            let frame = this.$refs['viewer'].contentWindow.document.getElementById('canvas')\n            let newEvent = new Event('keydown', {key: e.key, code: e.code, composed: true, charCode: e.charCode, keyCode: e.keyCode, which: e.which, bubbles: true, cancelable: true, which: e.keyCode})\n            newEvent.keyCode = e.keyCode\n            newEvent.which = e.keyCode\n            frame.dispatchEvent(newEvent)\n        },\n        postMessage(v){\n            this.$refs['viewer'].contentWindow.postMessage(v, '*')\n        },\n        receiveMessage(e){\n            if(Object.prototype.hasOwnProperty.call(e.data, 'action')){\n                switch(e.data.action){\n                    case 'ready': this.initModel()\n                        document.addEventListener('keyup', this.onKeyup)\n                        document.addEventListener('keydown', this.onKeydown)\n                        break\n                    // case 'onStartLoadFilters': this.preloaderTytle = 'Загрузка свойств модели.'\n                    //     break\n                    // case 'onSelected': this.onSelected(e.data)\n                    //     break\n                    // case 'onLoadApplyFilters': this.onLoadApplyFilters(e.data)\n                    //     break\n                    case 'onLoadModel': this.onLoadModel(e.data)\n                        break\n                    case 'onReadyModel': this.onReadyModel(e.data)\n                        break\n                    // case 'getRoomsColors': this.getRoomsColors(e.data)\n                    //     break\n                    // case 'onGetHiddenObjects': this.onGetHiddenObjects(e.data.value)\n                    //     break\n                    // case 'saveCollisionReports': this.saveCollisionReports(e.data)\n                    //     break\n                    default: ;\n                }\n            }\n        }\n    },\n    mounted(){\n        // this.$refs['viewer'].src = this.viewer\n        window.addEventListener(\"message\", this.receiveMessage, false)\n    },\n    created(){\n        this.preloaderTytle = 'Загрузка просмотрщика.'\n        // this.hiddenOptionsBtn()\n        //window.addEventListener('keyup', this.onKeyup)\n    },\n    beforeDestroy(){\n        this.ready = false\n        window.removeEventListener(\"message\", this.receiveMessage, false)\n\n        this.$el.removeEventListener('mousedown', this.onMouseDown, false)\n        window.removeEventListener('keyup', this.onKeyup)\n        window.removeEventListener('keydown', this.onKeydown)\n    }\n\n}\n</script>\n<style>\n#canvas{\n    position: relative;\n}\n#canvas canvas{\n    outline: none;\n}\n.test{\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100px;\n    height: 100px;\n    background-color: #fff;\n    z-index: 111111111;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDxf.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewDxf.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ViewDxf.vue?vue&type=template&id=b9af8e36\"\nimport script from \"./ViewDxf.vue?vue&type=script&lang=js\"\nexport * from \"./ViewDxf.vue?vue&type=script&lang=js\"\nimport style0 from \"./ViewDxf.vue?vue&type=style&index=0&id=b9af8e36&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <component\n        :is=\"getViewer\"\n        :model=\"model\"\n        :list=\"list\"\n        :doc=\"doc\"\n        :project_id=\"id\"\n    />\n</template>\n\n<script>\nimport ViewPdf from \"./dctview/ViewPdf\"\nimport ViewObj from \"./dctview/ViewObj\"\n// import ViewObj from \"./dctview/ViewObj_worker\"\nimport ViewDwg from \"./dctview/ViewDwg\"\nimport ViewDxf from \"./dctview/ViewDxf\"\n\nexport default {\n    name: 'DctView',\n    components: {\n        ViewPdf,\n        ViewObj,\n        ViewDwg,\n        ViewDxf\n    },\n    props: ['id', 'doc', 'list'],\n    data(){\n        return {\n            model: {\n                type: ''\n            },\n            permittedTypes: ['obj', 'pdf', 'dwg', 'dxf']\n        }\n    },\n    computed: {\n        getViewer(){\n            let state = this.$store.state.workflow\n            let type = state.fileTypeConversion.some(s => s == this.model.type)\n                ? 'obj'\n                : this.model.type == 'consolidations'\n                    ? 'obj'\n                    : this.model.type\n            let component = this.permittedTypes.includes(type)\n                ? 'view-' + type\n                : false\n            return component\n        }\n    },\n    methods: {\n        getModel(){\n            let list = this.$store.state.workflow.listDocs\n            let id = this.doc || ''\n            if(!list.length){\n                this.$store.dispatch('workflow/getFolders')\n                .then(() => {\n                    return this.$store.dispatch('workflow/getGroups')\n                })\n                .then(res => {\n                    return this.$store.dispatch('workflow/createFoldersMap')\n                })\n                .then(() => {\n                    list = this.$store.state.workflow.listDocs\n                    let file = list.filter(l => l.id == id)\n                    if(file.length){\n                        this.model = file[0]\n                    }\n                    let name = this.model.name || 'name'\n                    this.$store.commit('toolbar/setDctView', {name: name, status: ''})\n                })\n            }\n            else{\n                let file = list.filter(l => l.id == id)\n                if(file.length){\n                    this.model = file[0]\n                    let name = this.model.name || 'name'\n                    this.$store.commit('toolbar/setDctView', {name: name, status: ''})\n                }\n            }\n        },\n        // getModelList(){\n        //     this.model.type = 'obj'\n        //     let list = this.list\n        //     if(!list){\n        //         list = this.$route.query\n        //         if(list){\n        //             let listDocs = this.$store.state.workflow.listDocs\n        //             list = Object.entries(list).map(([k, v]) => {\n        //                 return listDocs.find(f => f.id == v)\n        //             })\n        //         }\n        //         else{\n        //             list = []\n        //         }\n        //     }\n        // },\n        checkInit(){\n            if(!this.$store.state.workflow.activeProject){\n                let project = {id: this.$route.params.id}\n                return new Promise(resolve => {\n                    Promise.all([\n                        this.$store.commit('workflow/setActiveProject', project),\n                        this.$store.commit('workflow/setExpanded', []),\n                        this.$store.commit('workflow/setCurrentFolder', 0),\n                        this.$store.dispatch('workflow/getFolders'),\n                        this.$store.dispatch('workflow/getGroups'),\n                        this.$store.dispatch('administration/getFoldersPermissions'),\n                        this.$store.dispatch('administration/getFilesPermissions')\n                    ])\n                    .finally(res => {\n                        resolve(this.$store.dispatch('workflow/createFoldersMap'))\n                    })\n                })\n            }\n            else{\n                return Promise.resolve(true)\n            }\n        }\n    },\n    created(){\n        this.checkInit()\n        .then(() => {\n            this.getModel()\n            // if(this.doc == 'consolidation'){\n            //     this.getModelList()\n            // }\n            // else{\n            //     this.getModel()\n            // }\n        })\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DctView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DctView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DctView.vue?vue&type=template&id=1beec75a\"\nimport script from \"./DctView.vue?vue&type=script&lang=js\"\nexport * from \"./DctView.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c(VContainer,{ref:\"wrap\",staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pb-10\":\"\",\"pt-0\":\"\"}},[_c(VToolbar,{staticClass:\"m-table-toolbar\",attrs:{\"flat\":\"\",\"height\":\"auto\"}},[_c(VTextField,{staticClass:\"m-table-toolbar--search ml-2\",attrs:{\"prepend-icon\":\"search\",\"placeholder\":\"Поиск...\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c(VSpacer),_c(VBtn,{staticClass:\"ma-0 m-btn--text_icon\",attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.newFolder = true}}},[_c(VIcon,{attrs:{\"size\":\"16\",\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\"Создать папку\\n            \")],1),_c(VBtn,{staticClass:\"ma-0 m-btn--text_icon\",attrs:{\"disabled\":!_vm.checkFolder,\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.upload.apply(null, arguments)}}},[_c(VIcon,{attrs:{\"size\":\"18\",\"left\":\"\"}},[_vm._v(\"icon-upload\")]),_vm._v(\"Загрузить\\n            \")],1)],1),_c(VToolbar,{staticClass:\"m-table-toolbar pa-3 m-table-toolbar--path\",attrs:{\"flat\":\"\",\"height\":\"auto\"}},_vm._l((_vm.getPath),function(folder,i){return _c('span',{key:folder.id + i + ''},[(folder.link)?_c('span',{staticClass:\"m-table-toolbar--path_link\",on:{\"click\":function($event){return _vm.openFolder(folder)}}},[_vm._v(_vm._s(folder.name))]):_vm._e(),(folder.link)?_c('span',[_vm._v(\"/\")]):_vm._e(),(!folder.link)?_c('span',[_vm._v(_vm._s(folder.name))]):_vm._e()])}),0),(_vm.workflow_project == 'list')?_c(VDataTable,{staticClass:\"m-table-custom\",attrs:{\"headers\":_vm.getHeaders,\"items\":_vm.getDocs,\"show-select\":\"\",\"search\":_vm.search,\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},on:{\"toggle-select-all\":_vm.selectRow},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\"\\n                \"+_vm._s(_vm.noData)+\"\\n            \")]},proxy:true},{key:\"header.collisions\",fn:function({item}){return [_c(VIcon,{attrs:{\"size\":\"20\",\"color\":\"#767676\"}},[_vm._v(\"table-collision\\n                \")])]}},{key:\"header.tasks\",fn:function({item}){return [_c(VIcon,{attrs:{\"size\":\"20\",\"color\":\"#767676\"}},[_vm._v(\"trd-ticket\\n                \")])]}},{key:\"item.tasks\",fn:function({item}){return [(item.task)?_c(VIcon,{attrs:{\"size\":\"20\",\"color\":\"#767676\"}},[_vm._v(\"trd-ticket\\n                \")]):_vm._e()]}},{key:\"item.sp333\",fn:function({item}){return [(item.inwork !== true && (item.sp333.type == 'error'\n                    && item.sp333.value == 1\n                    || item.sp333.type == 'classerror'\n                    || item.sp333.type == 'class.error'\n                    || item.sp333.type == 'attribute.error'\n                    || item.sp333.type == 'classerror.onlyempty'))?_c(VTooltip,{attrs:{\"bottom\":\"\",\"right\":\"\",\"color\":\"#fff\",\"max-width\":\"250px\",\"content-class\":\"m-tooltip--info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticStyle:{\"cursor\":\"pointer\"},attrs:{\"color\":\"#fc0000\",\"size\":\"20\"},on:{\"click\":function($event){return _vm.setSP333Attr(item)}}},on),[_vm._v(\"mdi-alert-outline\")])]}},{key:\"default\",fn:function(){return [_c('span',{},[_c('b',[_vm._v(\"Критическая ошибка.\")]),_c('br'),_vm._v(\"\\nПроект не прошел проверку на нормативные требования.\\n                        \")])]},proxy:true}],null,true)}):_vm._e(),(item.sp333.type == 'warning'\n                    && item.inwork !== true)?_c(VTooltip,{attrs:{\"bottom\":\"\",\"right\":\"\",\"color\":\"#fff\",\"max-width\":\"250px\",\"content-class\":\"m-tooltip--info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticStyle:{\"cursor\":\"pointer\"},attrs:{\"color\":\"#ff904b\",\"size\":\"20\"},on:{\"click\":function($event){return _vm.setSP333Attr(item)}}},on),[_vm._v(\"mdi-alert-outline\")])]}},{key:\"default\",fn:function(){return [_c('span',{},[_vm._v(\"Проект не прошел проверку на нормативные коллизии.\\n                        \")])]},proxy:true}],null,true)}):_vm._e()]}},{key:\"item.collisions\",fn:function({item}){return undefined}},{key:\"item.data-table-select\",fn:function({ item, isSelected, select }){return [(item.inwork !== true && _vm.getAccess(item.access, 'or', [1, 2]))?_c(VSimpleCheckbox,{attrs:{\"value\":isSelected && item.inwork !== true && _vm.getAccess(item.access, 'or', [1, 2]),\"disabled\":item.inwork === true && _vm.getAccess(item.access,'or', [1, 2])},on:{\"input\":function($event){return select($event)}}}):_vm._e()]}},{key:\"item.name\",fn:function({ item, index }){return [_c('div',{staticClass:\"m-table--name\"},[(item.type == 'folder' && _vm.getAccess(item.access, 'and', [0]))?_c('span',{staticClass:\"m-text--hover\",class:{'m-item--sub': item.sub},on:{\"click\":function($event){return _vm.openFolder(item)}}},[_vm._v(_vm._s(item.name)+\"\\n                    \")]):(item.type != 'folder'\n                            && !item.inwork\n                            && _vm.getAccess(item.access, 'and', [0]))?_c('span',{class:{'m-text--hover': item.status_file !== 3 && _vm.checkLicense('editRVT')},on:{\"click\":function($event){item.status_file !== 3 && _vm.checkLicense('editRVT') ? _vm.getDct(item) : ';'}}},[_c(VTooltip,{attrs:{\"top\":\"\",\"transition\":'100'},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('span',_vm._g(_vm._b({class:{'m-item--sub': item.sub},attrs:{\"role\":\"empty\"}},'span',attrs,false),on),[_vm._v(\"\\n                                    \"+_vm._s(item.name_short)+\"\\n                                \")])]}}],null,true)},[_vm._v(\"\\n                            \"+_vm._s(item.name)+\"\\n                        \")])],1):(item.type != 'folder' && item.inwork)?_c('span',{class:{'m-item--sub': item.sub}},[_vm._v(_vm._s(item.name_short)+\"\\n                    \")]):_c('span',{class:{'m-item--sub': item.sub}},[_vm._v(_vm._s(item.name_short || item.name)+\"\\n                    \")]),(item.status_file === 3)?_c(VTooltip,{attrs:{\"top\":\"\",\"right\":\"\",\"color\":\"#fff\",\"max-width\":\"250px\",\"content-class\":\"m-tooltip--info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"mr-1 m-info--file\",attrs:{\"size\":\"20\",\"color\":\"#ff0000\"}},on),[_vm._v(\"mdi-alert-outline\\n                            \")])]}},{key:\"default\",fn:function(){return [_c('span',{},[_vm._v(\"При обработке файла произошла ошибка. Проверьте файл и загрузите его еще раз.\")])]},proxy:true}],null,true)}):_vm._e()],1)]}},{key:\"item.sub\",fn:function({ item }){return [_c('span',{on:{\"click\":function($event){return _vm.expandSub(item)}}},[_c(VIcon,{directives:[{name:\"show\",rawName:\"v-show\",value:(!!item.group || !!item.consolidations),expression:\"!!item.group || !!item.consolidations\"}],class:{'m-item--expanded__icon': item.expanded},style:({margin: '0 -4px', cursor: 'pointer'}),attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-chevron-down\")])],1)]}},{key:\"item.src\",fn:function({ item }){return [(!!item.group)?_c(VIcon,{attrs:{\"size\":\"30\"}},[_vm._v(\"icon-group\")]):(item.type != 'folder' && item.inwork === true)?_c(VImg,{staticClass:\"mx-auto\",class:{'m-item--sub': item.sub},attrs:{\"width\":\"35\",\"src\":_vm.inwork}}):(item.type == 'folder')?_c(VIcon,{class:{'m-item--sub': item.sub},attrs:{\"size\":\"30\"}},[_vm._v(\"icon-folder\")]):_c(VIcon,{class:{'m-item--sub': item.sub},attrs:{\"size\":\"30\"}},[_vm._v(\"ft-\"+_vm._s(item.type == 'type' ? 'unknown' : item.type))])]}},{key:\"item.action\",fn:function({ item }){return [(item.inwork !== true && !_vm.checkSelected(item) && item.access)?_c('action-menu',{attrs:{\"access\":item.access,\"item\":item},on:{\"download\":_vm.downloadFile,\"convertationIFCXML\":_vm.convertationIFCXML,\"getDct\":_vm.getDct,\"removeItem\":_vm.removeItem,\"openFolder\":_vm.openFolder,\"replaceItems\":_vm.replaceItems,\"copyItems\":_vm.copyItems,\"renameitem\":_vm.renameitem,\"accessRights\":_vm.accessRights,\"versionJournal\":_vm.versionJournal,\"errorIFCXML\":_vm.errorIFCXML,\"onSpecificationXml\":_vm.onSpecificationXml}}):_vm._e()]}}],null,false,531754),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}):_vm._e(),(_vm.workflow_project == 'grid')?_c('table-grid',{attrs:{\"list\":_vm.getDocs,\"headers\":_vm.headers,\"actions\":[_vm.getDct]},scopedSlots:_vm._u([{key:\"name\",fn:function({item}){return [_c('div',[_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n                \")])]}}],null,false,4128990872)}):_vm._e(),_c('upload-files',{attrs:{\"uploadF\":_vm.uploadF,\"project_id\":_vm.id},on:{\"update:uploadF\":function($event){_vm.uploadF=$event},\"update:upload-f\":function($event){_vm.uploadF=$event}}}),_c(VCard,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected.length && _vm.getAccessSelected('or', [0, 1, 2])),expression:\"selected.length && getAccessSelected('or', [0, 1, 2])\"}],staticClass:\"m-table-custom--action\",style:(_vm.cardActionStyle)},[_c(VCardActions,[_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getAccessSelected('and', [2])),expression:\"getAccessSelected('and', [2])\"}],staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.download}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-download\")]),_vm._v(\"Скачать\")],1),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getAccessSelected('and', [1])),expression:\"getAccessSelected('and', [1])\"}],staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.removeSelectedFlag = true}}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-trash-can-outline\")]),_vm._v(\"\\n                    Удалить\\n                \")],1),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getAccessSelected('and', [1])),expression:\"getAccessSelected('and', [1])\"}],staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.copyItem = true}}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-content-copy\")]),_vm._v(\"\\n                    Копировать\\n                \")],1),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getAccessSelected('and', [1])),expression:\"getAccessSelected('and', [1])\"}],staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.replaceItem = true}}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-file-replace-outline\")]),_vm._v(\"\\n                    Переместить\\n                \")],1),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getAccessSelected('and', [0]) && _vm.checkTypeFiles({\n                        type: ['rvt', 'ifc'],\n                        count: 'lot'\n                        })),expression:\"getAccessSelected('and', [0]) && checkTypeFiles({\\n                        type: ['rvt', 'ifc'],\\n                        count: 'lot'\\n                        })\"}],staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.setConsolidations}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"trd-conect\")]),_vm._v(\"\\n                    Консолидация\\n                \")],1)],1)],1),_c('remove-selected',{attrs:{\"removeSelectedFlag\":_vm.removeSelectedFlag},on:{\"update:removeSelectedFlag\":function($event){_vm.removeSelectedFlag=$event},\"update:remove-selected-flag\":function($event){_vm.removeSelectedFlag=$event},\"removeSelected\":_vm.removeSelected}}),_c('replace-item',{attrs:{\"replaceItem\":_vm.replaceItem,\"selected\":_vm.getReplaceItems,\"items\":_vm.getDocs},on:{\"update:replaceItem\":function($event){_vm.replaceItem=$event},\"update:replace-item\":function($event){_vm.replaceItem=$event},\"clearSelected\":_vm.clearSelected}}),_c('copy-item',{attrs:{\"copyItem\":_vm.copyItem,\"selected\":_vm.getReplaceItems,\"items\":_vm.getDocs},on:{\"update:copyItem\":function($event){_vm.copyItem=$event},\"update:copy-item\":function($event){_vm.copyItem=$event},\"clearSelected\":_vm.clearSelected}}),_c('rename-item',{attrs:{\"renameItem\":_vm.renameItem,\"item\":_vm.workItem},on:{\"update:renameItem\":function($event){_vm.renameItem=$event},\"update:rename-item\":function($event){_vm.renameItem=$event}}}),_c('remove-item',{attrs:{\"remove_item\":_vm.remove_item,\"item\":_vm.workItem},on:{\"removeFolder\":_vm.removeFolder,\"removeDct\":_vm.removeDct,\"update:remove_item\":function($event){_vm.remove_item=$event}}}),_c('create-folder',{attrs:{\"newFolder\":_vm.newFolder},on:{\"update:newFolder\":function($event){_vm.newFolder=$event},\"update:new-folder\":function($event){_vm.newFolder=$event},\"createFolder\":_vm.createFolder}}),_c('create-xml',{attrs:{\"createXml\":_vm.createXml},on:{\"update:createXml\":function($event){_vm.createXml=$event},\"update:create-xml\":function($event){_vm.createXml=$event},\"createFolder\":_vm.createFolder}}),_c('access-rights',{attrs:{\"accessrights\":_vm.accessrights,\"item\":_vm.workItem},on:{\"update:accessrights\":function($event){_vm.accessrights=$event}}}),_c('version-journal',{attrs:{\"versionjournal\":_vm.versionjournal,\"item\":_vm.workItem},on:{\"update:versionjournal\":function($event){_vm.versionjournal=$event}}}),_c('error-ifcxml',{attrs:{\"error_ifcxml\":_vm.error_ifcxml},on:{\"update:error_ifcxml\":function($event){_vm.error_ifcxml=$event}}}),_c('set-sp333-attribute',{attrs:{\"SP333attr\":_vm.SP333attr,\"SP333JSON\":_vm.SP333JSON,\"item\":_vm.workItem},on:{\"update:SP333attr\":function($event){_vm.SP333attr=$event},\"update:s-p333attr\":function($event){_vm.SP333attr=$event}}}),_c('collisions',{attrs:{\"collisions\":_vm.collisions,\"collisionsJSON\":_vm.collisionsJSON},on:{\"update:collisions\":function($event){_vm.collisions=$event},\"update:collisionsJSON\":function($event){_vm.collisionsJSON=$event},\"update:collisions-j-s-o-n\":function($event){_vm.collisionsJSON=$event}}}),_c('specification-xml',{attrs:{\"specification_xml\":_vm.specification_xml,\"item\":_vm.workItem},on:{\"update:specification_xml\":function($event){_vm.specification_xml=$event}}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c(VRow,_vm._l((_vm.list),function(item,index){return _c(VCol,{key:index,attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\",\"lg\":\"3\"}},[_c(VCard,{staticClass:\"m-table-grid\",attrs:{\"outlined\":\"\",\"flat\":\"\",\"tile\":\"\"},nativeOn:{\"click\":function($event){return _vm.action(item)}}},[_c(VCardTitle,{staticClass:\"m-table-grid--name\"}),_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.getHeaders(_vm.headers)),function(i,j){return _c(VListItem,{key:j,staticClass:\"m-table-grid--item\"},[_c(VListItemContent,{staticClass:\"m-table-grid--item-cell\"}),_c(VListItemContent,{staticClass:\"align-end m-table-grid--item-cell m-table-grid--item-end\"})],1)}),1),_c(VDivider),_c(VCol,{staticClass:\"m-table-grid--item-bottom\"},[_c('div',[_vm._v(\"\\n                        \"+_vm._s(item.name)+\"\\n                    \")]),_c('div',[_c('span',{staticClass:\"m-table-grid--span\"},[_c('span',[_vm._v(\"V\"+_vm._s(item.version))])]),_c('span',{staticClass:\"m-table-grid--span\"},[_c(VIcon,{attrs:{\"color\":item.status == '1' ? '#c49e00' : '#6e6e6e',\"size\":\"16\"}},[_vm._v(\"mdi-alert-outline\")]),_c('span',[_vm._v(_vm._s(item.status != '0' ? item.status : ''))])],1)])])],1)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <v-row>\n            <v-col\n                v-for=\"(item, index) in list\"\n                :key=\"index\"\n                cols=\"12\"\n                sm=\"6\"\n                md=\"4\"\n                lg=\"3\"\n                >\n                <v-card\n                    outlined\n                    flat\n                    tile\n                    @click.native=\"action(item)\"\n                    class=\"m-table-grid\">\n                    <v-card-title class=\"m-table-grid--name\"></v-card-title>\n\n                    <v-list dense>\n                        <v-list-item\n                            v-for=\"(i, j) in getHeaders(headers)\"\n                            :key=\"j\"\n                            class=\"m-table-grid--item\"\n                        >\n                            <v-list-item-content class=\"m-table-grid--item-cell\">\n                            </v-list-item-content>\n                            <v-list-item-content class=\"align-end m-table-grid--item-cell m-table-grid--item-end\">\n                            </v-list-item-content>\n                        </v-list-item>\n                    </v-list>\n                    <v-divider></v-divider>\n                    <v-col class=\"m-table-grid--item-bottom\">\n                        <div>\n                            {{item.name}}\n                        </div>\n                        <div>\n                            <span class=\"m-table-grid--span\">\n                                <span>V{{item.version}}</span>\n                            </span>\n                            <span class=\"m-table-grid--span\">\n                                <v-icon\n                                    :color=\"item.status == '1' ? '#c49e00' : '#6e6e6e'\"\n                                    size=\"16\">mdi-alert-outline</v-icon>\n                                <span>{{item.status != '0' ? item.status : ''}}</span>\n                            </span>\n                        </div>\n                    </v-col>\n                </v-card>\n            </v-col>\n        </v-row>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'TableGrid',\n        props: ['headers', 'list', 'actions'],\n        methods: {\n            getHeaders(a){\n                let headers = a.filter(item => item.grid)\n                return headers\n            },\n            action(v){\n                this.actions[0](v)\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableGrid.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableGrid.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TableGrid.vue?vue&type=template&id=3c5b3620\"\nimport script from \"./TableGrid.vue?vue&type=script&lang=js\"\nexport * from \"./TableGrid.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.uploadF,\"scrollable\":\"\",\"max-width\":\"800px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"Загрузить файлы\\n            \"),_c(VSpacer),_c('div',{staticClass:\"m-card-title--desc\",class:{limit: _vm.limit.status}},[_vm._v(_vm._s(_vm.bytesToSize(_vm.getTotalSize))+\" / \"+_vm._s(_vm.checkSize)+\"Mb\\n\\n                \"),(_vm.checkSize != 2000)?_c(VTooltip,{attrs:{\"top\":\"\",\"right\":\"\",\"color\":\"#fff\",\"max-width\":\"250px\",\"content-class\":\"m-tooltip--info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"mr-1 m-info--file\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},on),[_vm._v(\"mdi-information-outline\\n                        \")])]}},{key:\"default\",fn:function(){return [_c('span',{},[_vm._v(\"Максимальный размер файлов 20 Мб, для того чтобы снять ограничения перейдите на пакет «Профи»\")])]},proxy:true}],null,false,2925166064)}):_vm._e()],1),_c(VDivider,{staticClass:\"mx-0\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-4\",staticStyle:{\"background-color\":\"#fbfbfb\",\"height\":\"650px\"}},[_c(VLayout,{staticClass:\"m-drop-area\",class:[{'m-dragging': _vm.dragging}, {over: !_vm.mouseOver}],attrs:{\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"},on:{\"drop\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onChange.apply(null, arguments)},\"dragenter\":function($event){$event.stopPropagation();$event.preventDefault();_vm.dragging = true},\"dragleave\":function($event){$event.stopPropagation();$event.preventDefault();_vm.dragging = false},\"dragover\":function($event){$event.stopPropagation();$event.preventDefault();},\"mouseenter\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.mouseEnter.apply(null, arguments)},\"mouseleave\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.mouseLeave.apply(null, arguments)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.items.length),expression:\"!items.length\"}],staticClass:\"m-img--file-wrap\"},_vm._l((_vm.file_format),function(i){return _c('div',{staticClass:\"m-img--file\"},[_vm._v(_vm._s(i))])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.items.length),expression:\"!items.length\"}]},[_vm._v(\"Перетащите сюда файлы для загрузки\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.items.length),expression:\"items.length\"}],staticClass:\"list\"},_vm._l((_vm.items),function(i,j){return _c('div',{key:'file-' + j,staticClass:\"item\",class:{selected: i.selected}},[_c('div',{staticClass:\"close\",on:{\"click\":function($event){return _vm.removeFile(i)}}},[_c(VIcon,{attrs:{\"size\":\"20\",\"left\":\"\"}},[_vm._v(\"close\")])],1),_c(VIcon,{attrs:{\"size\":\"80\",\"left\":\"\"}},[_vm._v(\"icon-upload\")]),_vm._v(\"\\n                        \"+_vm._s(i.item.name)+\"\\n                    \")],1)}),0)])],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"input-files\",attrs:{\"type\":\"file\",\"id\":\"items\",\"name\":\"items[]\",\"required\":\"\",\"multiple\":\"\"},on:{\"change\":_vm.onChange}}),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.inputFiles}},[_vm._v(\"Выбрать файл\")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.items.length || _vm.limit.status},on:{\"click\":_vm.submit}},[_vm._v(\"Подтвердить\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog\n        :value=\"uploadF\"\n        scrollable\n        max-width=\"800px\"\n        @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-0 pl-4 m-modal--title\">Загрузить файлы\n                <v-spacer></v-spacer>\n                <div\n                    :class=\"{limit: limit.status}\"\n                    class=\"m-card-title--desc\">{{bytesToSize(getTotalSize)}} / {{checkSize}}Mb\n\n                    <v-tooltip v-if=\"checkSize != 2000\" top right color=\"#fff\" max-width=\"250px\" content-class=\"m-tooltip--info\">\n                        <template v-slot:activator=\"{ on }\">\n                            <v-icon\n                                size=\"20\"\n                                v-on=\"on\"\n                                class=\"mr-1 m-info--file\"\n                                color=\"#0070e0\">mdi-information-outline\n                            </v-icon>\n                        </template>\n                        <template v-slot:default>\n                            <span class=\"\">Максимальный размер файлов 20 Мб, для того чтобы снять ограничения перейдите на пакет «Профи»</span>\n                        </template>\n                    </v-tooltip>\n                </div>\n                <v-divider\n                  class=\"mx-0\"\n                  inset\n                  vertical\n                ></v-divider>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; height: 650px;\" class=\"pt-5 px-4\">\n                <v-layout\n                    column\n                    align-center\n                    justify-center\n                    class=\"m-drop-area\"\n                    :class=\"[{'m-dragging': dragging}, {over: !mouseOver}]\"\n                    @drop.stop.prevent=\"onChange\"\n                    @dragenter.stop.prevent=\"dragging = true\"\n                    @dragleave.stop.prevent=\"dragging = false\"\n                    @dragover.stop.prevent=\"\"\n                    @mouseenter.stop.prevent=\"mouseEnter\"\n                    @mouseleave.stop.prevent=\"mouseLeave\"\n                    >\n                    <div\n                        v-show=\"!items.length\"\n                        class=\"m-img--file-wrap\"\n                        >\n                        <div class=\"m-img--file\" v-for=\"i in file_format\">{{i}}</div>\n                    </div>\n                    <div\n                        v-show=\"!items.length\"\n                        >Перетащите сюда файлы для загрузки</div>\n                    <div\n                        class=\"list\"\n                        v-show=\"items.length\"\n                    >\n                        <div\n                            v-for=\"(i, j) in items\"\n                            :key=\"'file-' + j\"\n                            class=\"item\"\n                            :class=\"{selected: i.selected}\"\n                        >\n                            <div\n                                @click=\"removeFile(i)\"\n                                class=\"close\">\n                                <v-icon\n                                    size=\"20\"\n                                    left>close</v-icon>\n                            </div>\n                            <v-icon\n                                size=\"80\"\n                                left>icon-upload</v-icon>\n                            {{i.item.name}}\n                        </div>\n                    </div>\n                </v-layout>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5 px-4\">\n                <input\n                    type=\"file\"\n                    v-show=\"false\"\n                    ref=\"input-files\"\n                    id=\"items\"\n                    name=\"items[]\"\n                    required\n                    multiple\n                    @change=\"onChange\">\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"inputFiles\">Выбрать файл</v-btn>\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    :disabled=\"!items.length || limit.status\"\n                    @click=\"submit\">Подтвердить</v-btn>\n                <v-btn outlined color=\"#2c2c2c\" class=\"m-btn m-btn-normal\" @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\nimport { sortObj, checklicense } from '@/utils/services'\n\nexport default {\n    props: ['uploadF', 'project_id'],\n    name: 'UploadFiles',\n    data () {\n        return {\n            dragging: false,\n            mouseOver: false,\n            items: [],\n            file: false,\n            fileName: '',\n            itemsNames: [],\n            itemsSizes: [],\n            limit: {\n                value: 20,\n                unit: 2,\n                status: false\n            },\n            totalSize: 0,\n            maxTotalSize: 20000000,\n            formData: '',\n            successMsg: '',\n            errorMsg: '',\n            file_format: ['.rvt', '.stp', '.iges', '.stl', '.pdf', '.ifc', '.zip', '.ply', '.dae', '.fbx', '.skp', '.obj', '.nwd', '.3ds', '.dwg', '.dxf', '.pln', '.bd1', '.max', '.rfa', '.ifcxml']\n        }\n    },\n    computed: {\n        isSelected(){\n            let list = this.items.filter(i => i.selected)\n            return list.length\n        },\n        getTotalSize(){\n            let size = 0\n            this.items.map(i => {\n                size += i.item.size\n            })\n            return size\n        },\n        checkSize(){\n            return checklicense('size2000') ? 2000 : 20\n        }\n    },\n    watch: {\n        uploadF(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        removeFile(item){\n            this.items = this.items.filter(i => i.id != item.id)\n            let total = 0\n            this.items.map(i => {\n                total += i.item.size\n            })\n            this.totalSize = total\n        },\n        removeFileAll(){\n            this.items = []\n            this.totalSize = 0\n        },\n        fileSelected(item){\n            this.items = this.items.map(i => i.id == item.id ? {...i, selected: !i.selected} : i)\n        },\n        inputFiles(){\n            this.$refs['input-files'].click()\n        },\n        mouseEnter(e){\n            this.mouseOver = true\n        },\n        mouseLeave(){\n            this.mouseOver = false\n        },\n        bytesToSize(bytes){\n            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB']\n            if(bytes === 0){\n                this.limit.status = false\n                return 0\n            }\n\n            let i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)))\n            if(i === 0){\n                this.limit.status = false\n                return bytes + ' ' + sizes[i]\n            }\n\n            let total = (bytes / Math.pow(1024, i)).toFixed(2)\n            let limitValue = this.checkSize\n            if(i >= this.limit.unit && total > limitValue){\n                this.limit.status = true\n            }\n            else{\n                this.limit.status = false\n            }\n\n            return total + sizes[i]\n        },\n        onChange(e){\n            this.dragging = false\n            this.fileOver = false\n            this.successMsg = ''\n            this.errorMsg = ''\n            let files = e.target.files || e.dataTransfer.files\n            for(let x in files){\n                if(!isNaN(x)){\n                    let file = {\n                        id: new Date().getTime(),\n                        selected: false,\n                        item: files[x]\n                    }\n                    if(!this.items.some(s => s.item.name == files[x].name)){\n                        this.items = [...this.items, file]\n                    }\n                }\n            }\n        },\n        cancel(){\n            this.items = []\n            this.totalSize = 0\n            this.$refs['input-files'].value = ''\n            this.$emit('update:uploadF', false)\n        },\n        getMetaTag(meta){\n            meta = meta != '' ? JSON.parse(meta) : {}\n            return meta\n        },\n        setMetaTag(o, meta = {}){\n            meta = {...meta, ...o}\n            meta = JSON.stringify(meta)\n            return meta\n        },\n        submit(){\n            let state = this.$store.state.workflow\n            let currentF = state.currentFolder\n            let listPromises = []\n            let filesList = []\n            let docID = []\n            let formDataList = []\n\n            let folder = null\n            if(currentF){\n                folder = state.foldersMap.filter(i => i.id == currentF)[0] || null\n                if(folder && !folder.group){\n                    filesList = folder.files ? folder.files.filter(i => !i.is_deleted) : []\n                    filesList = sortObj(filesList, 'order')\n                    formDataList = this.items.map(i => {\n                        let formData = new FormData()\n                        formData.append('file', i.item)\n                        formData.append('name', i.item.name)\n                        formData.append('project_id', this.project_id)\n                        formData.append('is_attachment', true)\n                        formData.append('uuid', uuidv4())\n                        return formData\n                    })\n                }\n            }\n\n            let uploadNoteList = []\n            this.$store.dispatch('common/setUploadNote', formDataList.map(d => {\n                return {\n                    name: d.get('name'),\n                    uuid: d.get('uuid'),\n                    action: 'upload',\n                    pushin: true\n                }\n            }))\n            .then(() => {\n                formDataList.map(d => {\n                    listPromises.push(this.$store.dispatch('common/uploadFile', d))\n                })\n                return Promise.all(listPromises)\n            })\n            .then(files => {\n                let list = []\n                // let listOrder = []\n                files\n                .filter(f => !f.error)\n                .map((i, j) => {\n                    uploadNoteList.push({\n                        name: i.name,\n                        uuid: i.uuid,\n                        action: 'upload',\n                        pushin: false\n                    })\n                    // let arName = i.name.split('.')\n                    // let type = arName.splice(-1, 1)[0]\n                    // let name = arName.join('.')\n\n                    // listOrder.push({order: j, id: false})\n                    let update = filesList.filter(s => s.name == i.name)\n                    if(update.length){\n                        filesList = filesList.filter(s => s.name != i.name)\n                        list.push(this.$store.dispatch('workflow/addDoc', {\n                            id: update[0].id,\n                            name: i.name,\n                            order: j,\n                            folder: folder.id || null,\n                            version: null,\n                            files: [{\n                                url: i.id,\n                                size: i.size,\n                                created_at: i.created_at,\n                                created_by: i.created_by\n                            }]\n                        }))\n                    }\n                    else{\n                        list.push(this.$store.dispatch('workflow/addDoc', {\n                            id: uuidv4(),\n                            name: i.name,\n                            order: j,\n                            folder: folder.id || null,\n                            files: [{\n                                url: i.id,\n                                size: i.size,\n                                created_at: i.created_at,\n                                created_by: i.created_by\n                            }]\n                        }))\n                    }\n                })\n                // listOrder = [...listOrder, ...filesList]\n                // listOrder.map((i, j) => {\n                //     if(i.id){\n                //         list.push(this.$store.dispatch('workflow/addDoc', {\n                //             id: i.id,\n                //             name: i.name,\n                //             order: j,\n                //             consolidations: i.consolidations,\n                //             folder: i.folder\n                //         }))\n                //     }\n                // })\n\n                return Promise.all(list)\n            })\n            .then(res => {\n                let list = []\n                res.map(r => {\n                    let perms = this.$store.state.administration.folderPermissions\n\n                    if(!perms || !perms.find(f => f.id == currentF)){\n                        let getUser = this.$store.state.administration.user\n                        perms = {\n                            users: [{\n                                id: getUser.id + '',\n                                email: getUser.email,\n                                full_name: getUser.first_name + ' ' + getUser.last_name,\n                                can_open: true,\n                                can_edit: true,\n                                can_download: true,\n                                can_comment: true\n                            }]\n                        }\n                    }\n                    else{\n                        perms = perms.find(f => f.id == currentF)\n                    }\n                    list.push(this.$store.dispatch('administration/setFilesPermissions', {\n                        id: r.id,\n                        body: {\n                            id: r.id,\n                            users: perms.users,\n                            groups: this.$store.state.administration.groupPermissions.map(p => {\n                                return {\n                                    id: p.id,\n                                    name: p.name,\n                                    can_open: true,\n                                    can_edit: true,\n                                    can_download: true,\n                                    can_comment: true\n                                }\n                            })\n                        }\n                    }))\n                })\n                return Promise.all(list)\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(() => {\n                return this.$store.dispatch('administration/getFilesPermissions')\n            })\n            .then(() => {\n                this.$store.dispatch('workflow/createFoldersMap')\n                this.$store.dispatch('common/setUploadNote', uploadNoteList)\n            })\n            this.cancel()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                if(!this.items.length || this.limit.status){\n                    return\n                }\n                this.submit()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFiles.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFiles.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UploadFiles.vue?vue&type=template&id=6beca9f9\"\nimport script from \"./UploadFiles.vue?vue&type=script&lang=js\"\nexport * from \"./UploadFiles.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"top\":\"\",\"right\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"m-icon-border\",attrs:{\"text\":\"\",\"icon\":\"\",\"size\":\"20\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"pevent\",undefined,$event.key,undefined))return null;$event.stopPropagation();}}},on),[_vm._v(\"\\n            mdi-dots-horizontal\\n        \")])]}}])},[_c(VCard,[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.createMenu()),function(note,i){return _c(VListItem,{key:i,staticClass:\"pr-10\",on:{\"click\":function($event){return _vm.action(note)}}},[_c(VListItemTitle,{class:['m-menu-title', {'m-text--color-red': note.color == 'red'}],domProps:{\"textContent\":_vm._s(note.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n      top\n      right\n      offset-y\n      transition=\"slide-y-transition\"\n    >\n        <template v-slot:activator=\"{ on }\">\n            <v-icon\n                v-on=\"on\"\n                text\n                icon\n                class=\"m-icon-border\"\n                @mousedown.stop.pevent=\"\"\n                size=\"20\">\n                mdi-dots-horizontal\n            </v-icon>\n        </template>\n        <v-card>\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(note, i) in createMenu()\"\n                    :key=\"i\"\n                    class=\"pr-10\"\n                    @click=\"action(note)\"\n                    >\n                    <v-list-item-title\n                        :class=\"['m-menu-title', {'m-text--color-red': note.color == 'red'}]\"\n                        v-text=\"note.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\nimport { checklicense } from '@/utils/services'\n\nexport default {\n    props: ['item', 'access'],\n    data: () => ({\n        doc: [{\n            title: 'Скачать файл',\n            value: 'original',\n            action: 'download',\n            access: 2\n        },{\n            title: '',\n            value: 'ifcxml',\n            action: '',\n            access: 2\n        },{\n            id: 3,\n            title: 'Открыть',\n            value: 'edit',\n            action: 'edit',\n            access: 0\n        },{\n            id: 4,\n            title: 'Описание XML',\n            value: 'specificationxml',\n            action: 'specificationxml',\n            access: 0\n        },{\n            title: 'Копировать',\n            value: 'copy',\n            action: 'copy',\n            access: 1\n        },{\n            title: 'Переместить',\n            value: 'replace',\n            action: 'replace',\n            access: 1\n        },{\n            id: 6,\n            title: 'Переименовать',\n            value: 'rename',\n            action: 'rename',\n            access: 1\n        },{\n            id: 7,\n            title: 'Удалить',\n            value: 'remove',\n            action: 'remove',\n            access: 1\n        },{\n            title: 'Права доступа',\n            value: 'accessright',\n            action: 'accessright',\n            access: 1\n        },{\n            title: 'Журнал версий',\n            value: 'versionjournal',\n            action: 'versionjournal',\n            access: 1\n        }],\n        folder: [{\n            title: 'Открыть',\n            value: 'open',\n            action: 'open',\n            access: 0\n        },{\n            title: 'Копировать',\n            value: 'copy',\n            action: 'copy',\n            access: 1\n        },{\n            title: 'Переместить',\n            value: 'replace',\n            action: 'replace',\n            access: 1\n        },{\n            title: 'Переименовать',\n            value: 'rename',\n            action: 'rename',\n            access: 1\n        },{\n            title: 'Удалить',\n            value: 'remove',\n            action: 'remove',\n            access: 1\n        },{\n            title: 'Права доступа',\n            value: 'accessright',\n            action: 'accessright',\n            access: 1\n        }]\n    }),\n    methods: {\n        getAccess(a){\n            return (this.access >> a) & 1\n        },\n        getIFCXMLforMenu(status){\n            if(status == -1){\n                return {\n                    title: 'Конвертировать в РСИМ',\n                    value: 'ifcxml',\n                    action: 'convertation',\n                    access: 1\n                }\n            }\n            else if(status == 1){\n                return {\n                    title: 'Скачать РСИМ (ifcxmlRUS)',\n                    value: 'ifcxml',\n                    action: 'download',\n                    access: 2\n                }\n            }\n            else if(status == 3){\n                return {\n                    title: 'Ошибка при конвертации РСИМ',\n                    value: 'ifcxml',\n                    color: 'red',\n                    action: '',\n                    access: 1\n                }\n            }\n            else if(status == 11){\n                return {\n                    title: 'Конвертировать в РСИМ',\n                    value: 'ifcxml',\n                    action: 'errorIFCXML',\n                    access: 1\n                }\n            }\n            else{\n                return {\n                    title: '',\n                    value: 'ifcxml',\n                    action: '',\n                    access: 5,\n                    remove: 1\n                }\n            }\n        },\n        createMenu(){\n            const type = this.item.type\n            let list = []\n            if(type == 'folder'){\n                list = this[type]\n                    .filter(f => this.getAccess(f.access)\n                        && (f.value == 'accessright' ? !this.item.group : true))\n            }\n            else{\n                list = this['doc']\n                if(this.$store.state.workflow.fileTypeConversion.some(s => s == type)){\n                    let statusIFCXML = this.item.tags['ifcxml.zip'] || 101\n                    if(statusIFCXML == -1){\n                        let error = this.item.tags['error.json'] == 1\n                                ||  this.item.tags['warning.json'] == 1\n                                ||  this.item.tags['classerror.json'] == 1\n                                ||  this.item.tags['class.error.json'] == 1\n                                ||  this.item.tags['classerror.onlyempty.json'] == 1\n                        statusIFCXML = error ? 11 : statusIFCXML\n                    }\n                    list = list.filter(f => this.getAccess(f.access))\n                        .map(m => {\n                            if(m.value == 'ifcxml'){\n                                if(checklicense('convertRSIM')){\n                                    return this.getIFCXMLforMenu(statusIFCXML)\n                                }\n                                else{\n                                    m.remove = 1\n                                    return m\n                                }\n                            }\n                            else if(m.value == 'specificationxml'){\n                                if(!checklicense('specificationxml')){\n                                    m.remove = 1\n                                }\n                                return m\n                            }\n                            else{\n                                return m\n                            }\n                        })\n                        .filter(f => !f.remove)\n                }\n                else if(type == 'consolidations'){\n                    list = list\n                        .filter(i => i.value != 'ifcxml' && (i.id == 3 || i.id == 6 || i.id == 7))\n                        .filter(f => this.getAccess(f.access))\n                }\n                else{\n                    list = list.filter(f => this.getAccess(f.access) && f.value != 'ifcxml')\n                }\n                if(type != 'pdf'){\n                    list = list\n                        .filter(i => i.id != 4)\n                }\n                if(this.item.status_file == 3){\n                    list = list.filter(f => f.id != 3)\n                }\n            }\n            return list\n        },\n        action(v){\n            const type = this.item.type\n            switch(v.action){\n                case 'remove':\n                    this.$emit('removeItem', this.item)\n                    break\n                case 'edit':\n                    this.$emit('getDct', this.item)\n                    break\n                case 'open':\n                    this.$emit('openFolder', this.item)\n                    break\n                case 'replace':\n                    this.$emit('replaceItems', [this.item])\n                    break\n                case 'copy':\n                    this.$emit('copyItems', [this.item])\n                    break\n                case 'rename':\n                    this.$emit('renameitem', this.item)\n                    break\n                case 'accessright':\n                    this.$emit('accessRights', this.item)\n                    break\n                case 'versionjournal':\n                    this.$emit('versionJournal', this.item)\n                    break\n                case 'errorIFCXML':\n                    this.$emit('errorIFCXML')\n                    break\n                case 'specificationxml':\n                    this.$emit('onSpecificationXml', this.item)\n                    break\n                case 'download':\n                    this.$emit('download', {\n                        file: this.item,\n                        type: v.value\n                    })\n                    break\n                case 'convertation':\n                    this.$emit('convertationIFCXML', this.item)\n                    break\n                default: return\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActionMenu.vue?vue&type=template&id=524100bc\"\nimport script from \"./ActionMenu.vue?vue&type=script&lang=js\"\nexport * from \"./ActionMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.removeSelectedFlag,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Удалить выбранные элементы?\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 pl-4\",staticStyle:{\"background-color\":\"#fbfbfb\",\"color\":\"#000\"}},[_vm._v(\"\\n            После удаления файлы в течение 30 дней будут находится в корзине, по истечению срока они будут удалены окончательно, без возможности восстановления.\\n        \")]),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.removeSelected}},[_vm._v(\"Да\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Нет\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"removeSelectedFlag\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Удалить выбранные элементы?\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; color: #000;\" class=\"pt-5 pl-4\">\n                После удаления файлы в течение 30 дней будут находится в корзине, по истечению срока они будут удалены окончательно, без возможности восстановления.\n            </v-card-text>\n            <v-divider></v-divider>\n\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"removeSelected\">Да</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Нет</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\n    export default {\n        props: ['removeSelectedFlag'],\n        name: 'RemoveSelected',\n        watch: {\n            removeSelectedFlag(v){\n                if(v){\n                    document.addEventListener('keyup', this.enter, false)\n                }\n                else{\n                    document.removeEventListener('keyup', this.enter, false)\n                }\n            }\n        },\n        methods: {\n            cancel(){\n                this.$emit('update:removeSelectedFlag', false)\n            },\n            removeSelected(){\n                this.$emit('removeSelected')\n                this.cancel()\n            },\n            enter(e){\n                if(e.keyCode === 13){\n                    e.preventDefault()\n                    this.removeSelected()\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveSelected.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveSelected.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RemoveSelected.vue?vue&type=template&id=02386f31\"\nimport script from \"./RemoveSelected.vue?vue&type=script&lang=js\"\nexport * from \"./RemoveSelected.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.replaceItem,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Переместить\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-4\",staticStyle:{\"height\":\"200px\"}},[_c('sl-vue-tree',{ref:\"tree\",on:{\"select\":_vm.selectNode},scopedSlots:_vm._u([{key:\"title\",fn:function({ node }){return [_vm._l((node.level - 1),function(i){return (node.level > 1)?_c('span',{staticClass:\"level-gap\"}):_vm._e()}),(!node.data.group)?_c('span',{staticClass:\"leaf-icon pl-1\",class:'level-' + node.level},[_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"icon-folder\")])],1):_vm._e(),_c('span',{staticClass:\"sl-vue-tree-title--name\",class:[{'sl-group': node.data.group}, 'level-' + node.level]},[_vm._v(\"\\n                        \"+_vm._s(node.title)+\"\\n                    \")])]}},{key:\"toggle\",fn:function({ node }){return [(node.data.group || (node.level != 3 && node.children.length))?_c('span',{class:[{expanded: node.isExpanded}, 'level-' + node.level]},[_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-chevron-down\")])],1):_vm._e(),(node.level == 2 && !node.children.length)?_c('span'):_vm._e()]}}]),model:{value:(_vm.folderslist),callback:function ($$v) {_vm.folderslist=$$v},expression:\"folderslist\"}})],1),_c(VDivider),_c('div',{staticClass:\"py-1 px-4 m-card--subtitle\"},[_vm._v(\"Выбранные папки или файлы:\")]),_c(VCardText,{staticClass:\"pa-4 pt-1\"},_vm._l((_vm.getSelected()),function(item){return _c('div',{staticClass:\"mb-1\"},[(item.type == 'folder')?_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"icon-folder\")]):_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"ft-\"+_vm._s(item.type == 'type' ? 'unknown' : item.type))]),_c('span',{staticClass:\"m-card--filename\"},[_vm._v(_vm._s(item.name))])],1)}),0),_c(VDivider),_c('div',{staticClass:\"py-2 px-4 m-card--subtitle\"},[_vm._v(\"Текущая папка\")]),_c('div',{staticClass:\"py-0 px-4 m-card--subtitle m-card--text-blue\"},[_vm._v(_vm._s(_vm.currentPath()))]),_c('div',{staticClass:\"py-2 px-4 m-card--subtitle\"},[_vm._v(\"Переместить в\")]),_c('div',{staticClass:\"py-0 px-4 m-card--subtitle m-card--text-blue\"},[_vm._v(_vm._s(_vm.pathName))]),_c(VCardActions,{staticClass:\"pa-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.checkFolder},on:{\"click\":_vm.replace}},[_vm._v(\"Переместить\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"replaceItem\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Переместить\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"height: 200px;\" class=\"pt-4\">\n                <sl-vue-tree\n                    ref=\"tree\"\n                    v-model=\"folderslist\"\n                    @select=\"selectNode\">\n\n                    <template slot=\"title\" slot-scope=\"{ node }\">\n                        <span\n                            v-if=\"node.level > 1\"\n                            class=\"level-gap\" v-for=\"i in node.level - 1\"\n                            >\n                        </span>\n                        <span\n                            class=\"leaf-icon pl-1\"\n                            :class=\"'level-' + node.level\"\n                            v-if=\"!node.data.group\">\n                            <v-icon size=\"18\">icon-folder</v-icon>\n                        </span>\n                        <span\n                            class=\"sl-vue-tree-title--name\"\n                            :class=\"[{'sl-group': node.data.group}, 'level-' + node.level]\"\n                            >\n                            {{ node.title }}\n                        </span>\n                    </template>\n\n                    <template\n                        slot=\"toggle\"\n                        slot-scope=\"{ node }\">\n                        <span\n                            v-if=\"node.data.group || (node.level != 3 && node.children.length)\"\n                            :class=\"[{expanded: node.isExpanded}, 'level-' + node.level]\">\n                            <v-icon size=\"18\">mdi-chevron-down</v-icon>\n                        </span>\n                        <span\n                            v-if=\"node.level == 2 && !node.children.length\">\n                        </span>\n                    </template>\n\n                </sl-vue-tree>\n            </v-card-text>\n\n            <v-divider></v-divider>\n\n            <div class=\"py-1 px-4 m-card--subtitle\">Выбранные папки или файлы:</div>\n\n            <v-card-text class=\"pa-4 pt-1\">\n                <div\n                    class=\"mb-1\"\n                    v-for=\"item in getSelected()\"\n                >\n                    <v-icon\n                        v-if=\"item.type == 'folder'\"\n                        size=\"18\">icon-folder</v-icon>\n                    <v-icon\n                        v-else\n                        size=\"18\">ft-{{item.type == 'type' ? 'unknown' : item.type}}</v-icon>\n                    </v-icon>\n                    <span class=\"m-card--filename\">{{item.name}}</span>\n                </div>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <div class=\"py-2 px-4 m-card--subtitle\">Текущая папка</div>\n            <div class=\"py-0 px-4 m-card--subtitle m-card--text-blue\">{{currentPath()}}</div>\n            <div class=\"py-2 px-4 m-card--subtitle\">Переместить в</div>\n            <div class=\"py-0 px-4 m-card--subtitle m-card--text-blue\">{{pathName}}</div>\n            <v-card-actions class=\"pa-4\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    :disabled=\"!checkFolder\"\n                    @click=\"replace\">Переместить</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nimport SlVueTree from 'sl-vue-tree'\nimport { service } from '@/utils/services'\n\nexport default {\n    props: ['replaceItem', 'items', 'selected'],\n    name: 'ReplaceItem',\n    components: {\n        SlVueTree\n    },\n    data(){\n        return {\n            folder: 0,\n            path: '',\n            pathName: '/',\n            selectedNode: 0,\n            done: false\n        }\n    },\n    computed: {\n        folderslist: {\n            get(){\n                let map = this.$store.state.workflow.foldersMap\n                    .filter(f => (f.access >> 1) & 1)\n                let tree = service.createTreeForSidebar(map, 0, 2, {\n                            isDraggable: false,\n                            isExpanded: false,\n                            isSelected: false\n                        })\n                return tree\n            },\n            set(v){\n            }\n        },\n        checkFolder(){\n            let state = this.$store.state.workflow\n            let currentF = state.currentFolder\n\n            let check = false\n            check = this.selectedNode\n                ? currentF !== this.selectedNode.id\n                : currentF !== this.selectedNode\n\n            return check\n        }\n    },\n    watch: {\n        replaceItem(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        selectNode(v){\n            this.selectedNode = v[0].data\n\n            let path = '/'\n            this.pathName = path + this.searchPath(v[0].data.id).reverse().join('/')\n        },\n        currentPath(){\n            let state = this.$store.state.workflow\n            let currentF = state.currentFolder\n            return '/' + this.searchPath(currentF).reverse().join('/')\n        },\n        searchPath(id){\n            let map = this.$store.state.workflow.foldersMap\n            let folder = map.filter(i => i.id == id)[0]\n            folder = folder || false\n            if(!folder){\n                return []\n            }\n            let path = [folder.name]\n            if(folder.parent){\n                path.push(...this.searchPath(folder.parent))\n            }\n            return path\n        },\n        getSelected(){\n            let list = this.selected.items\n            return list\n        },\n        cancel(){\n            this.path = ''\n            this.folder = 0\n            this.pathName = '/'\n            this.selectedNode = 0\n            this.$emit('clearSelected', this.done ? this.selected.type : false)\n            this.done = false\n            this.$emit('update:replaceItem', false)\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.replace()\n            }\n        },\n        replace(){\n            let state = this.$store.state.workflow\n            let currentF = state.currentFolder\n            let selectedNodeId = this.selectedNode ? this.selectedNode.id : 0\n            let countFolders = state.foldersMap.filter(i => i.type === 'folder' && i.group === false && i.parent === selectedNodeId).length\n            let countFiles = state.foldersMap.filter(i => i.id === selectedNodeId)\n            if(countFiles.length){\n                countFiles = countFiles[0].files\n                    ? countFiles[0].files.length\n                    : 0\n            }\n            let groupFolders = {\n                in: {\n                    name: '',\n                    order: 0,\n                    list: !!this.selectedNode.group\n                        ? this.selectedNode.list\n                            ? this.selectedNode.list\n                            : []\n                        : [],\n                    length: !!this.selectedNode.group\n                        ? this.selectedNode.list\n                            ? this.selectedNode.list.length\n                            : 0\n                        : 0\n                },\n                out: {\n                    id: 0,\n                    name: '',\n                    order: 0,\n                    list: []\n                }\n            }\n\n            let listPromises = []\n\n            this.selected.items.map(i => {\n                if(i.type == 'folder'){\n                    if(!i.group){\n                        let folder = state.foldersMap.filter(f => f.id == i.id)[0]\n                        let body = {\n                            id: i.id,\n                            name: i.name,\n                            parent: selectedNodeId\n                                ? !!this.selectedNode.group\n                                    ? i.id\n                                    : selectedNodeId\n                                : i.id,\n                            order: countFolders++\n                        }\n\n                        listPromises.push(this.$store.dispatch('workflow/addFolder', body))\n\n                        if(!!this.selectedNode.group){\n                            let order = groupFolders.in.length\n                            groupFolders.in.list.push({\n                                folder: i.id,\n                                order: order\n                            })\n                            groupFolders.in.length++\n                        }\n\n                        if(!!folder.toGroup){\n                            let group = state.foldersMap.filter(g => g.id == folder.toGroup)\n                            groupFolders.out.id = group[0].id\n                            groupFolders.out.name = group[0].name\n                            groupFolders.out.order = group[0].order\n                            groupFolders.out.list.push({\n                                folder: i.id\n                            })\n                        }\n                    }\n                }\n                else{\n                    if(!this.selectedNode.group && this.selectedNode){\n                        listPromises.push(this.$store.dispatch('workflow/addDoc', {\n                            id: i.id,\n                            name: i.name,\n                            order: countFiles++,\n                            folder: selectedNodeId\n                        }))\n                    }\n                }\n            })\n\n            if(groupFolders.out.list.length){\n                let group = state.foldersMap.filter(g => g.id == groupFolders.out.id)\n                let list = group[0].folders\n                groupFolders.out.list.map(f => {\n                    list = list.filter(l => l.folder != f.folder)\n                })\n                list = list.length ? list : null\n                listPromises.push(this.$store.dispatch('workflow/addGroup', {\n                    name: groupFolders.out.name,\n                    order: groupFolders.out.order,\n                    folders: list\n                }))\n            }\n\n            if(!!this.selectedNode.group){\n                let group = state.foldersMap.filter(g => g.id == this.selectedNode.id)\n                listPromises.push(this.$store.dispatch('workflow/addGroup', {\n                    name: group[0].name,\n                    order: group[0].order,\n                    folders: groupFolders.in.list.length ? groupFolders.in.list : null\n                }))\n            }\n\n            Promise.all(listPromises)\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                this.$store.dispatch('workflow/createFoldersMap')\n            })\n            .then(() => {\n                this.done = true\n                this.cancel()\n            })\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplaceItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplaceItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ReplaceItem.vue?vue&type=template&id=50f8d9cd\"\nimport script from \"./ReplaceItem.vue?vue&type=script&lang=js\"\nexport * from \"./ReplaceItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.copyItem,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Копировать\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-4\",staticStyle:{\"height\":\"200px\"}},[_c('sl-vue-tree',{ref:\"tree\",on:{\"select\":_vm.selectNode},scopedSlots:_vm._u([{key:\"title\",fn:function({ node }){return [_vm._l((node.level - 1),function(i){return (node.level > 1)?_c('span',{staticClass:\"level-gap\"}):_vm._e()}),(!node.data.group)?_c('span',{staticClass:\"leaf-icon pl-1\",class:'level-' + node.level},[_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"icon-folder\")])],1):_vm._e(),_c('span',{staticClass:\"sl-vue-tree-title--name\",class:[{'sl-group': node.data.group}, 'level-' + node.level]},[_vm._v(\"\\n                        \"+_vm._s(node.title)+\"\\n                    \")])]}},{key:\"toggle\",fn:function({ node }){return [(node.data.group || (node.level != 3 && node.children.length))?_c('span',{class:[{expanded: node.isExpanded}, 'level-' + node.level]},[_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-chevron-down\")])],1):_vm._e(),(node.level == 2 && !node.children.length)?_c('span'):_vm._e()]}}]),model:{value:(_vm.folderslist),callback:function ($$v) {_vm.folderslist=$$v},expression:\"folderslist\"}})],1),_c(VDivider),_c('div',{staticClass:\"py-1 px-4 m-card--subtitle\"},[_vm._v(\"Выбранные папки или файлы:\")]),_c(VCardText,{staticClass:\"pa-4 pt-1\"},_vm._l((_vm.getSelected()),function(item){return _c('div',{staticClass:\"mb-1\"},[(item.type == 'folder')?_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"icon-folder\")]):_c(VIcon,{attrs:{\"size\":\"18\"}},[_vm._v(\"ft-\"+_vm._s(item.type == 'type' ? 'unknown' : item.type))]),_c('span',{staticClass:\"m-card--filename\"},[_vm._v(_vm._s(item.name))])],1)}),0),_c(VDivider),_c('div',{staticClass:\"py-2 px-4 m-card--subtitle\"},[_vm._v(\"Текущая папка\")]),_c('div',{staticClass:\"py-0 px-4 m-card--subtitle m-card--text-blue\"},[_vm._v(_vm._s(_vm.currentPath()))]),_c('div',{staticClass:\"py-2 px-4 m-card--subtitle\"},[_vm._v(\"Копировать в\")]),_c('div',{staticClass:\"py-0 px-4 m-card--subtitle m-card--text-blue\"},[_vm._v(_vm._s(_vm.pathName))]),_c(VCardActions,{staticClass:\"pa-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.checkFolder},on:{\"click\":_vm.copy}},[_vm._v(\"Копировать\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"copyItem\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Копировать\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"height: 200px;\" class=\"pt-4\">\n                <sl-vue-tree\n                    ref=\"tree\"\n                    v-model=\"folderslist\"\n                    @select=\"selectNode\">\n\n                    <template slot=\"title\" slot-scope=\"{ node }\">\n                        <span\n                            v-if=\"node.level > 1\"\n                            class=\"level-gap\" v-for=\"i in node.level - 1\"\n                            >\n                        </span>\n                        <span\n                            class=\"leaf-icon pl-1\"\n                            :class=\"'level-' + node.level\"\n                            v-if=\"!node.data.group\">\n                            <v-icon size=\"18\">icon-folder</v-icon>\n                        </span>\n                        <span\n                            class=\"sl-vue-tree-title--name\"\n                            :class=\"[{'sl-group': node.data.group}, 'level-' + node.level]\"\n                            >\n                            {{ node.title }}\n                        </span>\n                    </template>\n\n                    <template\n                        slot=\"toggle\"\n                        slot-scope=\"{ node }\">\n                        <span\n                            v-if=\"node.data.group || (node.level != 3 && node.children.length)\"\n                            :class=\"[{expanded: node.isExpanded}, 'level-' + node.level]\">\n                            <v-icon size=\"18\">mdi-chevron-down</v-icon>\n                        </span>\n                        <span\n                            v-if=\"node.level == 2 && !node.children.length\">\n                        </span>\n                    </template>\n\n                </sl-vue-tree>\n            </v-card-text>\n\n            <v-divider></v-divider>\n\n            <div class=\"py-1 px-4 m-card--subtitle\">Выбранные папки или файлы:</div>\n\n            <v-card-text class=\"pa-4 pt-1\">\n                <div\n                    class=\"mb-1\"\n                    v-for=\"item in getSelected()\"\n                >\n                    <v-icon\n                        v-if=\"item.type == 'folder'\"\n                        size=\"18\">icon-folder</v-icon>\n                    <v-icon\n                        v-else\n                        size=\"18\">ft-{{item.type == 'type' ? 'unknown' : item.type}}</v-icon>\n                    </v-icon>\n                    <span class=\"m-card--filename\">{{item.name}}</span>\n                </div>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <div class=\"py-2 px-4 m-card--subtitle\">Текущая папка</div>\n            <div class=\"py-0 px-4 m-card--subtitle m-card--text-blue\">{{currentPath()}}</div>\n            <div class=\"py-2 px-4 m-card--subtitle\">Копировать в</div>\n            <div class=\"py-0 px-4 m-card--subtitle m-card--text-blue\">{{pathName}}</div>\n            <v-card-actions class=\"pa-4\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    :disabled=\"!checkFolder\"\n                    @click=\"copy\">Копировать</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nimport SlVueTree from 'sl-vue-tree'\nimport { service } from '@/utils/services'\nimport { v4 as uuidv4 } from 'uuid'\n\nexport default {\n    props: ['copyItem', 'items', 'selected'],\n    name: 'CopyItem',\n    components: {\n        SlVueTree\n    },\n    data(){\n        return {\n            folder: 0,\n            path: '',\n            pathName: '/',\n            selectedNode: 0,\n            done: false\n        }\n    },\n    computed: {\n        folderslist: {\n            get(){\n                let map = this.$store.state.workflow.foldersMap\n                    .filter(f => (f.access >> 1) & 1)\n                let tree = service.createTreeForSidebar(map, 0, 2, {\n                            isDraggable: false,\n                            isExpanded: false,\n                            isSelected: false\n                        })\n                return tree\n            },\n            set(v){\n            }\n        },\n        checkFolder(){\n            let state = this.$store.state.workflow\n            let currentF = state.currentFolder\n\n            let check = true\n\n            return check\n        }\n    },\n    watch: {\n        copyItem(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        selectNode(v){\n            this.selectedNode = v[0].data\n\n            let path = '/'\n            this.pathName = path + this.searchPath(v[0].data.id).reverse().join('/')\n        },\n        currentPath(){\n            let state = this.$store.state.workflow\n            let currentF = state.currentFolder\n            return '/' + this.searchPath(currentF).reverse().join('/')\n        },\n        searchPath(id){\n            let map = this.$store.state.workflow.foldersMap\n            let folder = map.filter(i => i.id == id)[0]\n            folder = folder || false\n            if(!folder){\n                return []\n            }\n            let path = [folder.name]\n            if(folder.parent){\n                path.push(...this.searchPath(folder.parent))\n            }\n            return path\n        },\n        getSelected(){\n            let list = this.selected.items\n            return list\n        },\n        cancel(){\n            this.path = ''\n            this.folder = 0\n            this.pathName = '/'\n            this.selectedNode = 0\n            this.$emit('clearSelected', this.done ? this.selected.type : false)\n            this.done = false\n            this.$emit('update:copyItem', false)\n        },\n        newDoc(s, state, folder, countFiles){\n            let doc = state.listDocs.find(d => d.id == s.id)\n            let name = s.name\n            if(doc.folder == folder.id){\n                let listDocs = state.listDocs.filter(d => d.folder == s.folder)\n                let filename = this.createShortName(s.name)\n                name = this.createCopyNameFile(filename.name, listDocs) + '.' + filename.type\n            }\n            return {\n                id: uuidv4(),\n                name: name,\n                order: countFiles === false ? doc.order : countFiles++,\n                folder: folder.id,\n                files: doc.files\n            }\n        },\n        newFolder(s, state, folderIn, countFolders){\n            let folder = state.foldersMap.find(f => f.id == s.id)\n            let listFiles = []\n            let listFolders = []\n            let listFolderIn = state.foldersMap.filter(f => f.parent == (folderIn.parent || 0))\n            let id = uuidv4()\n            let root = {\n                id: id,\n                parent: folderIn\n                            ? folderIn.group\n                                ? id\n                                : folderIn.id\n                            : id,\n                name: this.createCopyName(folder.name, listFolderIn),\n                order: countFolders === false ? folder.order : countFolders++\n            }\n            let toGroup = []\n            if(folderIn && folderIn.group){\n                toGroup = [{folder: id, order: root.order}]\n            }\n\n            listFolders.push(root)\n            if(folder.files){\n                folder.files.map(i => {\n                    listFiles.push(this.newDoc(i, state, root, false))\n                })\n            }\n            if(folder.folders){\n                folder.folders.map(i => {\n                    let res = this.newFolder(i, state, root, false)\n                    listFiles = [...listFiles, ...res.listFiles]\n                    listFolders = [...listFolders, ...res.listFolders]\n                })\n            }\n\n            return {\n                listFiles: listFiles,\n                listFolders: listFolders,\n                toGroup: toGroup\n            }\n        },\n        createShortName(str){\n            str = str.split('.')\n            let type = str.splice(-1, 1)[0]\n            return {\n                name: str.join('.'),\n                type: type\n            }\n        },\n        createCopyNameFile(name, list, count = 1){\n            let suf = ' копия ' + count\n            let newName = name\n            if(list.some(i => this.createShortName(i.name).name == name + suf)){\n                newName = this.createCopyName(name, list, count + 1)\n            }\n            else{\n                newName = name + suf\n            }\n            return newName\n        },\n        createCopyName(name, list, count = 1){\n            let suf = ' копия ' + count\n            let newName = name\n            if(list.some(i => i.name == name + suf)){\n                newName = this.createCopyName(name, list, count + 1)\n            }\n            else{\n                newName = name + suf\n            }\n            return newName\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.copy()\n            }\n        },\n        copy(){\n            let listPromisesFolders = []\n            let listPromisesFiles = []\n            let listPromisesGroups = []\n            let state = this.$store.state.workflow\n            let folderIn = state.foldersMap.find(f => f.id == this.selectedNode.id)\n            let countFiles = folderIn\n                                ? folderIn.files\n                                    ? folderIn.files.length\n                                    : 0\n                                : 0\n            let countFolders = folderIn\n                                ? folderIn.folders\n                                    ? folderIn.folders.length\n                                    : 0\n                                : state.foldersMap.filter(f => f.id == f.parent && !f.toGroup).length\n            let countGroups = state.foldersMap.filter(g => g.group !== false).length\n\n            let groupFolders = []\n\n            this.selected.items.map(s => {\n                if(s.type !== 'folder'){\n                    if(this.selectedNode && !this.selectedNode.group){\n                        listPromisesFiles = [...listPromisesFiles, this.newDoc(s, state, this.selectedNode, countFiles)]\n                    }\n                }\n                else if(s.type === 'folder' && !s.group){\n                    let res = this.newFolder(s, state, this.selectedNode || 0, countFolders)\n                    res.listFiles.map(i => {\n                        listPromisesFiles = [...listPromisesFiles, i]\n                    })\n                    res.listFolders.map(i => {\n                        listPromisesFolders = [...listPromisesFolders, i]\n                    })\n                    groupFolders = [...groupFolders, ...res.toGroup]\n                }\n                else{\n                    if(!this.selectedNode){\n                        let listGroups = state.foldersMap.filter(g => g.group !== false)\n                        let group = state.foldersMap.find(g => g.id === s.id)\n                        let groupName = this.createCopyName(s.name, listGroups)\n                        let listFoldersInGroup = []\n\n                        if(group.folders){\n                            group.folders.map(f => {\n                                let folder = state.foldersMap.find(i => i.id === f.folder)\n                                let res = this.newFolder(folder, state, 0, false)\n                                res.listFiles.map(i => {\n                                    listPromisesFiles = [...listPromisesFiles, i]\n                                })\n                                res.listFolders.map(i => {\n                                    if(i.id == i.parent){\n                                        listFoldersInGroup = [...listFoldersInGroup, {\n                                            folder: i.id,\n                                            order: i.order\n                                        }]\n                                    }\n                                    listPromisesFolders = [...listPromisesFolders, i]\n                                })\n                            })\n                        }\n\n                        listPromisesGroups = [...listPromisesGroups, {\n                            name: groupName,\n                            order: countGroups++,\n                            folders: listFoldersInGroup.length ? listFoldersInGroup : null\n                        }]\n                    }\n                }\n            })\n\n            if(this.selectedNode && this.selectedNode.group){\n                let list = this.selectedNode.folders || []\n                listPromisesGroups = [...listPromisesGroups, {\n                    name: this.selectedNode.name,\n                    order: this.selectedNode.order,\n                    folders: [...list, ...groupFolders]\n                }]\n            }\n\n            listPromisesFolders = listPromisesFolders.map(i => {\n                return this.$store.dispatch('workflow/addFolder', i)\n            })\n            Promise.all(listPromisesFolders)\n            .then(() => {\n                listPromisesFiles = listPromisesFiles.map(i => {\n                    return this.$store.dispatch('workflow/addDoc', i)\n                })\n                return Promise.all(listPromisesFiles)\n            })\n            .then(() => {\n                listPromisesGroups = listPromisesGroups.map(i => {\n                    return this.$store.dispatch('workflow/addGroup', i)\n                })\n                return Promise.all(listPromisesGroups)\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                this.$store.dispatch('workflow/createFoldersMap')\n            })\n            .then(() => {\n                this.done = true\n                this.cancel()\n            })\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CopyItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CopyItem.vue?vue&type=template&id=0cd64399\"\nimport script from \"./CopyItem.vue?vue&type=script&lang=js\"\nexport * from \"./CopyItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.renameItem,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(_vm._s(_vm.getTitle)+\"\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5\",staticStyle:{\"background-color\":\"#fbfbfb\",\"min-height\":\"120px\"}},[_c(VTextField,{attrs:{\"label\":_vm.getTitle,\"value\":_vm.item ? _vm.createShortName(_vm.item.name) : '',\"autocomplete\":'off'},on:{\"input\":_vm.editName}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":_vm.checkChange()},on:{\"click\":_vm.rename}},[_vm._v(\"Переименовать\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"renameItem\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">{{getTitle}}\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; min-height: 120px;\" class=\"pt-5\">\n                <v-text-field\n                    :label=\"getTitle\"\n                    :value=\"item ? createShortName(item.name) : ''\"\n                    @input=\"editName\"\n                    :autocomplete=\"'off'\"\n                ></v-text-field>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    :disabled=\"checkChange()\"\n                    @click=\"rename\">Переименовать</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    props: {\n        renameItem: {\n            type: Boolean,\n            default: false\n        },\n        item: {\n            type: Object,\n            default: null\n        }\n    },\n    name: 'RenameItem',\n    data(){\n        return {\n            name: '',\n            type: ''\n        }\n    },\n    computed: {\n        getTitle(){\n            let title = this.item   ? \"Имя \" + (this.item.type == 'folder'\n                                                            ? 'папки'\n                                                            : 'файла')\n                                    : \"Имя\"\n            return title\n        }\n    },\n    watch: {\n        renameItem(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        checkChange(){\n            if(!this.item){\n                return true\n            }\n            let check = !this.name || this.name == this.item.name\n            let list = this.$store.state.workflow.foldersMap.filter(i => i.parent == this.item.parent).map(i => {\n                if(i.name == this.name){\n                    check = true\n                }\n            })\n            return check\n        },\n        cancel(){\n            this.name = ''\n            this.type = ''\n            this.$emit('update:renameItem', false)\n        },\n        editName(v){\n            this.name = v\n        },\n        createShortName(str){\n            if(this.item.type == 'folder'){\n                return str\n            }\n            else{\n                str = str.split('.')\n                let type = str.splice(-1, 1)[0]\n                if(!this.type){\n                    this.type = type\n                }\n                return str.join('.')\n            }\n            return ''\n        },\n        rename(){\n            if(this.item.type == 'folder'){\n                if(!this.item.group){\n                    let list = this.$store.state.workflow.foldersMap\n                    let folder = list.find(i => i.id == this.item.id)\n                    this.$store.dispatch('workflow/addFolder', {\n                        id: this.item.id,\n                        parent: folder.parent || this.item.id,\n                        name: this.name,\n                        order: folder.order\n                    })\n                    .then(res => {\n                        list = list.map(i => i.id == this.item.id ? {...i, name: res.name} : i)\n                        this.$store.commit('workflow/setFoldersMap', list)\n                    })\n                }\n                else{\n                    let group = this.$store.state.workflow.foldersMap.find(i => i.id == this.item.id)\n                    let body = {\n                        name: group.name,\n                        order: group.order,\n                        created_at: group.created_at,\n                        created_by: group.created_by,\n                        updated_at: group.updated_at,\n                        updated_by: group.updated_by,\n                        folders: group.folders || null\n                    }\n                    this.$store.dispatch('workflow/removeGroup', body)\n                    body = {\n                        name: this.name,\n                        order: group.order,\n                        folders: group.folders || null\n                    }\n\n                    this.$store.dispatch('workflow/addGroup', body)\n                    .then(() => {\n                        return this.$store.dispatch('workflow/getFolders')\n                    })\n                    .then(() => {\n                        return this.$store.dispatch('workflow/getGroups')\n                    })\n                    .then(res => {\n                        return new Promise((resolve) => {\n                            resolve(this.$store.dispatch('workflow/createFoldersMap'))\n                        })\n                    })\n                }\n            }\n            else{\n                let file = this.$store.state.workflow.listDocs.find(i => i.id == this.item.id)\n                this.$store.dispatch('workflow/addDoc', {\n                    id: this.item.id,\n                    name: this.name + '.' + this.type,\n                    order: file.order,\n                    folder: file.folder\n                })\n                .then(res => {\n                    this.$store.dispatch('workflow/updateDocInState', {\n                        ...res,\n                        name_short: this.createShortName(res.name)\n                    })\n                })\n            }\n            this.cancel()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.rename()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RenameItem.vue?vue&type=template&id=7b726497\"\nimport script from \"./RenameItem.vue?vue&type=script&lang=js\"\nexport * from \"./RenameItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.remove_item,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Вы действительно хотите удалить \"+_vm._s(_vm.getItem.type == 'folder' ? ' папку' : ' файл')+\"?\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 pl-4\",staticStyle:{\"background-color\":\"#fbfbfb\",\"color\":\"#000\"}},[(_vm.getItem.type == 'folder')?_c('span',[_vm._v(\"После удаления папки вложенные файлы в течение 30 дней будут находится в корзине, по истечению срока они будут удалены окончательно, без возможности восстановления. \"),_c('br'),_vm._v(\"Удаленные папки восстановлению не подлежат.\\n            \")]):_c('span',[_vm._v(\"После удаления файл в течение 30 дней будет находится в корзине, по истечению срока он будет удален окончательно, без возможности восстановления.\\n            \")])]),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.remove}},[_vm._v(\"Да\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Нет\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"remove_item\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Вы действительно хотите удалить {{getItem.type == 'folder' ? ' папку' : ' файл'}}?\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; color: #000;\" class=\"pt-5 pl-4\">\n                <span v-if=\"getItem.type == 'folder'\">После удаления папки вложенные файлы в течение 30 дней будут находится в корзине, по истечению срока они будут удалены окончательно, без возможности восстановления. </br>Удаленные папки восстановлению не подлежат.\n                </span>\n                <span v-else>После удаления файл в течение 30 дней будет находится в корзине, по истечению срока он будет удален окончательно, без возможности восстановления.\n                </span>\n            </v-card-text>\n            <v-divider></v-divider>\n\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"remove\">Да</v-btn>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Нет</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\n    export default {\n        props: ['remove_item', 'item'],\n        name: 'RemoveItem',\n        computed: {\n            getItem(){\n                return this.item\n                    ? {\n                        type: this.item.type,\n                        name: this.item.name\n                    }\n                    : {\n                        type: '',\n                        name: ''\n                    }\n            }\n        },\n        watch: {\n            remove_item(v){\n                if(v){\n                    document.addEventListener('keyup', this.enter, false)\n                }\n                else{\n                    document.removeEventListener('keyup', this.enter, false)\n                }\n            }\n        },\n        methods: {\n            cancel(){\n                this.$emit('update:remove_item', false)\n            },\n            remove(){\n                if(this.item.type == 'folder'){\n                    this.$emit('removeFolder', this.item)\n                }\n                else{\n                    this.$emit('removeDct', this.item)\n                }\n                this.cancel()\n            },\n            enter(e){\n                if(e.keyCode === 13){\n                    e.preventDefault()\n                    this.remove()\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RemoveItem.vue?vue&type=template&id=46bcefdd\"\nimport script from \"./RemoveItem.vue?vue&type=script&lang=js\"\nexport * from \"./RemoveItem.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.createXml,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"Документ XML\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-4\",staticStyle:{\"background-color\":\"#fbfbfb\",\"min-height\":\"120px\"}},[_c(VCard,{attrs:{\"outlined\":\"\",\"tile\":\"\"}},[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.items),function(temple){return _c(VListItem,[_vm._v(\"\\n                        \"+_vm._s(temple)+\"\\n                    \")])}),1)],1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){}}},[_vm._v(\"Загрузить\")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){}}},[_vm._v(\"Создать\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"createXml\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">Документ XML\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; min-height: 120px;\" class=\"pt-5 px-4\">\n                <v-card\n                    outlined\n                    tile\n                    >\n                    <v-list dense>\n                        <v-list-item\n                            v-for=\"temple in items\"\n                        >\n                            {{temple}}\n                        </v-list-item>\n                    </v-list>\n                </v-card>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5\">\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"\">Загрузить</v-btn>\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Отмена</v-btn>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"\">Создать</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    props: ['createXml'],\n    name: 'CreateXml',\n    data () {\n        return {\n            folder_name: '',\n            items: ['First', 'Second', 'Thrrrr']\n        }\n    },\n    watch: {\n        createXml(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        checkChange(){\n            return !this.folder_name\n        },\n        cancel(){\n            this.folder_name = ''\n            this.$emit('update:createXml', false)\n        },\n        createFolder(){\n            // this.$emit('createFolder', {name: this.folder_name})\n            this.cancel()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.createFolder()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateXml.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateXml.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CreateXml.vue?vue&type=template&id=1dcdf6d0\"\nimport script from \"./CreateXml.vue?vue&type=script&lang=js\"\nexport * from \"./CreateXml.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.versionjournal,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"Журнал версий\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-4\"},[_c(VDataTable,{staticClass:\"m-table-custom\",attrs:{\"headers\":_vm.headers,\"items\":_vm.versions.list,\"disable-pagination\":\"\",\"hide-default-footer\":\"\",\"calculate-widths\":\"\"},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\"\\n                    \"+_vm._s(_vm.noData)+\"\\n                \")]},proxy:true},{key:\"item.action\",fn:function({ item }){return [(_vm.checkVersion(item))?_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"disabled\":\"\",\"color\":\"normal\"}},[_vm._v(\"\\n                        Текущая версия\\n                    \")]):_c(VBtn,{staticClass:\"m-btn m-btn-hidden\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.setVersion(item)}}},[_vm._v(\"\\n                        Сделать текущей\\n                    \")])]}}])})],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"Подтвердить\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"versionjournal\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-0 pl-4 m-modal--title\">Журнал версий\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text class=\"pt-5 px-4\">\n\n                <v-data-table\n                    :headers=\"headers\"\n                    :items=\"versions.list\"\n                    disable-pagination\n                    hide-default-footer\n                    class=\"m-table-custom\"\n                    calculate-widths\n                >\n                    <template v-slot:no-data>\n                        {{noData}}\n                    </template>\n\n                    <template v-slot:item.action=\"{ item }\">\n                        <v-btn\n                            v-if=\"checkVersion(item)\"\n                            outlined\n                            disabled\n                            class=\"m-btn\"\n                            color=\"normal\">\n                            Текущая версия\n                        </v-btn>\n                        <v-btn\n                            v-else\n                            outlined\n                            @click=\"setVersion(item)\"\n                            class=\"m-btn m-btn-hidden\"\n                            color=\"primary\">\n                            Сделать текущей\n                        </v-btn>\n                    </template>\n                </v-data-table>\n\n            </v-card-text>\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5 px-4\">\n                <v-spacer></v-spacer>\n                <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"save\">Подтвердить</v-btn>\n                <v-btn outlined color=\"normal\" class=\"m-btn\" @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    name: 'VersionJournal',\n    props: ['versionjournal', 'item'],\n    data(){\n        return {\n            version: 0,\n            versionID: null,\n            headers: [\n                { text: 'Имя файла', value: 'name', sortable: false },\n                { text: 'Дата загрузки', value: 'date',sortable: false, align: 'center' },\n                { text: 'Версия', value: 'version',sortable: false, align: 'center' },\n                { text: '', value: 'action', sortable: false, align: 'right' },\n            ],\n            noData: 'Нет данных',\n        }\n    },\n    computed: {\n        versions(){\n            let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n\n            let name = this.item ? this.item.name : ''\n            let version = this.item\n                ? this.item.type != 'folder'\n                    ? this.item.version\n                        ? this.item.version\n                        : this.item.files[0].id\n                    : 0\n                : 0\n\n            let list = this.item\n                ? this.item.type != 'folder'\n                    ? this.item.files.map((i, j) => {\n                        return {\n                            id: i.url,\n                            name: this.item.name,\n                            date: (new Date(i.created_at)).toLocaleDateString(\"ru-RU\", options),\n                            version: i.version,\n                            versionID: i.id\n                        }\n                    })\n                    : []\n                : []\n            return {\n                version,\n                name,\n                list\n            }\n        }\n    },\n    watch: {\n        versionjournal(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        checkVersion(item){\n            if(!this.version){\n                if(item.version == this.versions.version){\n                    return true\n                }\n            }\n            else{\n                if(item.version == this.version){\n                    return true\n                }\n            }\n\n            return false\n        },\n        setVersion(item){\n            this.version = item.version\n            this.versionID = item.versionID\n        },\n        cancel(){\n            this.version = 0\n            this.$emit('update:versionjournal', false)\n        },\n        save(){\n            if(this.version && this.version != this.versions.version){\n                this.$store.dispatch('workflow/addDoc', {\n                    id: this.item.id,\n                    name: this.versions.name,\n                    version: this.versionID,\n                    order: this.item.order,\n                    folder: this.item.folder\n                })\n                .then(res => {\n                    this.$store.dispatch('workflow/updateDocInState', res)\n                    this.cancel()\n                })\n            }\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.save()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Version.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Version.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Version.vue?vue&type=template&id=a16f24ce\"\nimport script from \"./Version.vue?vue&type=script&lang=js\"\nexport * from \"./Version.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.error_ifcxml,\"scrollable\":\"\",\"max-width\":\"600px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-4\"},[_vm._v(\"\\n            Ошибка конвертации\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 pl-4\",staticStyle:{\"background-color\":\"#fbfbfb\",\"color\":\"#000\"}},[_vm._v(\"\\n            Информационная модель не соответствует нормативным требованиям и не может быть конвертирована в РСИМ. Исправьте все ошибки, которые указал наш ИИ.\\n        \")]),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Закрыть\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"error_ifcxml\" scrollable max-width=\"600px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-4\">\n                Ошибка конвертации\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; color: #000;\" class=\"pt-5 pl-4\">\n                Информационная модель не соответствует нормативным требованиям и не может быть конвертирована в РСИМ. Исправьте все ошибки, которые указал наш ИИ.\n            </v-card-text>\n            <v-divider></v-divider>\n\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"#2c2c2c\"\n                    class=\"m-btn m-btn-normal\"\n                    @click=\"cancel\">Закрыть</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\n    export default {\n        props: ['error_ifcxml'],\n        name: 'ErrorIfcxml',\n        methods: {\n            cancel(){\n                this.$emit('update:error_ifcxml', false)\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorIfcxml.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorIfcxml.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ErrorIfcxml.vue?vue&type=template&id=24516936\"\nimport script from \"./ErrorIfcxml.vue?vue&type=script&lang=js\"\nexport * from \"./ErrorIfcxml.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperHeader } from 'vuetify/lib/components/VStepper';\nimport { VStepperItems } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"content-class\":_vm.clueBox ? 'm-transparent' : '',\"value\":_vm.SP333attr,\"scrollable\":\"\",\"max-width\":\"700px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-12 pl-4 m-modal--title\"},[_c('span',[_vm._v(\"Нормативные коллизии: Классификатор Строительной Информации\")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn--close\",attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VStepper,{staticClass:\"m-stepper\",model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c(VStepperHeader,[_c(VStepperStep,{attrs:{\"complete\":_vm.step > 1,\"step\":\"1\"}},[_vm._v(\"\\n                    Наименование компонентов\\n                \")]),_c(VDivider),_c(VStepperStep,{attrs:{\"step\":\"2\"}},[_vm._v(\"\\n                    Атрибутивная информация\\n                \")])],1),_c(VCardText,{staticClass:\"pa-0\",style:({\n                'overflow-y': 'scroll',\n                'max-height': 'calc(100% - 72px)'})},[_c(VStepperItems,[_c(VStepperContent,{attrs:{\"step\":\"1\"}},_vm._l((_vm.classerrorList),function(elem){return _c('div',[(elem.error_class)?[_c('div',{staticClass:\"m-card-list__title\"},[_vm._v(_vm._s(elem.title + elem.name))]),_c('div',{staticClass:\"m-card-list__row\"},[_c('span',{staticClass:\"m-card-list__cell\"},[_vm._v(_vm._s(elem.error_class.key))]),_c('span',{staticClass:\"m-card-list__cell\"},[_c(VAutocomplete,{staticClass:\"pa-0 ma-0\",attrs:{\"items\":elem.error_class.item_value.items,\"return-object\":\"\",\"item-text\":\"name\",\"item-value\":\"name\",\"persistent-hint\":\"\",\"placeholder\":\" \",\"hide-details\":\"\",\"dense\":\"\"},on:{\"change\":_vm.onChange},model:{value:(elem.error_class.item_value.value),callback:function ($$v) {_vm.$set(elem.error_class.item_value, \"value\", $$v)},expression:\"elem.error_class.item_value.value\"}})],1),_c('span',{staticClass:\"m-card-list__cell m-card-list__cell--no-width px-1\"},[(elem.error_class)?_c(VIcon,{attrs:{\"color\":\"#4e93e9\",\"size\":\"20\"},on:{\"click\":function($event){return _vm.showClue({\n                                        name: elem.error_class.key,\n                                        value: elem.key\n                                    })}}},[_vm._v(\"\\n                                    >\\n                                    mdi-help-circle-outline\\n                                \")]):_vm._e()],1)])]:_vm._e()],2)}),0),_c(VStepperContent,{attrs:{\"step\":\"2\"}},_vm._l((_vm.classerrorList),function(elem){return _c('div',[(elem.error_attr.length)?[_c('div',{staticClass:\"m-card-list__title\"},[_vm._v(_vm._s(elem.name))]),_vm._l((elem.error_attr),function(prop){return _c('div',{staticClass:\"m-card-list__row\"},[_c('span',{staticClass:\"m-card-list__cell\"},[_vm._v(_vm._s(prop.key))]),_c('span',{staticClass:\"m-card-list__cell py-0\"},[(prop.type == 'string')?_c(VTextField,{staticClass:\"ma-0 pa-0\",attrs:{\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(prop.item_value.value),callback:function ($$v) {_vm.$set(prop.item_value, \"value\", $$v)},expression:\"prop.item_value.value\"}}):(prop.type == 'integer')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(prop.item_value.value),expression:\"prop.item_value.value\"}],staticClass:\"ma-0 pa-0 m-input--noattr\",domProps:{\"value\":(prop.item_value.value)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(prop.item_value, \"value\", $event.target.value)},function($event){return _vm.onlyInteger($event, prop)}]}}):(prop.type == 'float')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(prop.item_value.value),expression:\"prop.item_value.value\"}],staticClass:\"ma-0 pa-0 m-input--noattr\",domProps:{\"value\":(prop.item_value.value)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(prop.item_value, \"value\", $event.target.value)},function($event){return _vm.onlyFloat($event, prop)}]}}):(prop.type == 'boolean')?_c(VSimpleCheckbox,{staticClass:\"ma-0\",attrs:{\"dense\":\"\",\"placeholder\":\" \",\"hide-details\":\"\",\"color\":\"primary\"},model:{value:(prop.item_value.value),callback:function ($$v) {_vm.$set(prop.item_value, \"value\", $$v)},expression:\"prop.item_value.value\"}}):(prop.type == 'text')?_c(VTextarea,{staticClass:\"ma-0\",attrs:{\"placeholder\":\" \",\"multi-line\":\"\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(prop.item_value.value),callback:function ($$v) {_vm.$set(prop.item_value, \"value\", $$v)},expression:\"prop.item_value.value\"}}):(prop.type == 'list')?_c(VAutocomplete,{staticClass:\"pa-0 ma-0\",attrs:{\"items\":prop.item_value.items,\"item-text\":\"name\",\"item-value\":\"name\",\"persistent-hint\":\"\",\"placeholder\":\" \",\"hide-details\":\"\",\"dense\":\"\"},model:{value:(prop.item_value.value),callback:function ($$v) {_vm.$set(prop.item_value, \"value\", $$v)},expression:\"prop.item_value.value\"}}):_vm._e()],1),_c('span',{staticClass:\"m-card-list__cell m-card-list__cell--no-width px-1\"},[_c(VIcon,{attrs:{\"color\":\"#4e93e9\",\"size\":\"20\"},on:{\"click\":function($event){return _vm.showClue({\n                                        name: prop.key,\n                                        value: prop.key == 'наименование системы'\n                                            ? elem.key\n                                            : prop.key\n                                    })}}},[_vm._v(\"\\n                                    >\\n                                    mdi-help-circle-outline\\n                                \")])],1)])})]:_vm._e()],2)}),0)],1)],1)],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"default\"},on:{\"click\":_vm.save}},[_vm._v(\"Сохранить\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"default\",\"disabled\":!_vm.getTagError},on:{\"click\":_vm.getReport}},[_vm._v(\"Отчет\\n            \")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.checkErrorReady},on:{\"click\":_vm.next}},[_vm._v(\"Продолжить\")]),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"default\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1),_c('clue-sp333-attribute',{attrs:{\"clueBox\":_vm.clueBox,\"SP333JSON\":_vm.SP333JSON,\"clueInfo\":_vm.clueInfo,\"step\":_vm.step},on:{\"update:clueBox\":function($event){_vm.clueBox=$event},\"update:clue-box\":function($event){_vm.clueBox=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"overlay-opacity\":\"0\",\"value\":_vm.clueBox,\"scrollable\":\"\",\"max-width\":_vm.step == 1 ? '' :  '700px'},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-12 pl-4 m-modal--title\"},[_c('span',[_vm._v(\"Подсказка Классификатор Строительной Информации: \"+_vm._s(_vm.getElem.name))]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn--close\",attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-4 pb-0\"},[_c(VDataTable,{staticClass:\"m-table--simple\",attrs:{\"headers\":_vm.headers,\"items\":_vm.getItems,\"disable-pagination\":\"\",\"hide-default-footer\":\"\"}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"grey\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog overlay-opacity=\"0\" :value=\"clueBox\" scrollable :max-width=\"step == 1 ? '' :  '700px'\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-12 pl-4 m-modal--title\">\n                <span>Подсказка Классификатор Строительной Информации: {{getElem.name}}</span>\n\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    class=\"m-btn--close\"\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n\n            <v-card-text class=\"pt-5 px-4 pb-0\">\n                <v-data-table\n                    :headers=\"headers\"\n                    :items=\"getItems\"\n                    class=\"m-table--simple\"\n                    disable-pagination\n                    hide-default-footer\n                >\n                </v-data-table>\n            </v-card-text>\n\n            <v-divider></v-divider>\n\n            <v-card-actions\n                class=\"pa-5 px-4\">\n                <v-spacer></v-spacer>\n                <v-btn outlined color=\"grey\" class=\"m-btn\" @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    name: 'ClueSp333Attribute',\n    props: {\n        clueBox: {\n            type: Boolean,\n            default: false\n        },\n        SP333JSON: {\n            type: Object,\n            default: {\n                list: [],\n                clue: []\n            }\n        },\n        clueInfo: {\n            type: Object,\n            default: null\n        },\n        step: {\n            type: Number,\n            default: 1\n        }\n\t},\n    data(){\n        return {\n            headersCom: [\n                {\n                    text: 'Наименование компонента',\n                    align: 'center',\n                    sortable: false,\n                    value: 'name'\n                },\n                { text: 'Определение компонента', value: 'definition', align: 'center', sortable: false },\n                { text: 'Источник', value: 'source', align: 'center', sortable: false },\n                { text: 'Примеры компонентов по ISO 81346-2:2019', value: 'examples_ISO', align: 'center', sortable: false },\n                { text: 'Примеры компонентов (НТД РФ)', value: 'examples_NTD', align: 'center', sortable: false }\n            ],\n            headersTeS: [\n                {\n                    text: 'Наименование характеристики',\n                    align: 'center',\n                    sortable: false,\n                    value: 'name'\n                },\n                { text: 'Определение', value: 'definition', align: 'center', sortable: false },\n                { text: 'Источник', value: 'source', align: 'center', sortable: false },\n                // { text: 'Тип данных', value: 'type', align: 'center', sortable: false },\n                // { text: 'Список значений', value: 'list', align: 'center', sortable: false }\n            ]\n        }\n    },\n    computed: {\n        headers(){\n            return this.step == 1 ? this.headersCom : this.headersTeS\n        },\n        getElem(){\n            if(!this.clueInfo){\n                return {\n                    name: ''\n                }\n            }\n            else{\n                return this.clueInfo\n            }\n        },\n        getItems(){\n            if(!this.clueInfo){\n                return []\n            }\n            else{\n                let info = this.clueInfo.info.map(i => {\n                    return {\n                        ...i,\n                        type: i.datatype\n                            ? i.datatype.type\n                            : null\n                    }\n                })\n                return info\n            }\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('update:clueBox', false)\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClueSp333Attribute.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClueSp333Attribute.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ClueSp333Attribute.vue?vue&type=template&id=eb3d10ca\"\nimport script from \"./ClueSp333Attribute.vue?vue&type=script&lang=js\"\nexport * from \"./ClueSp333Attribute.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-dialog :content-class=\"clueBox ? 'm-transparent' : ''\" :value=\"SP333attr\" scrollable max-width=\"700px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-12 pl-4 m-modal--title\">\n                <span>Нормативные коллизии: Классификатор Строительной Информации</span>\n\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    class=\"m-btn--close\"\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-stepper\n                v-model=\"step\"\n                class=\"m-stepper\"\n            >\n                <v-stepper-header>\n                    <v-stepper-step\n                        :complete=\"step > 1\"\n                        step=\"1\"\n                    >\n                        Наименование компонентов\n                    </v-stepper-step>\n                    <v-divider></v-divider>\n\n                    <v-stepper-step\n                        step=\"2\"\n                    >\n                        Атрибутивная информация\n                    </v-stepper-step>\n                </v-stepper-header>\n\n                <v-card-text class=\"pa-0\" :style=\"{\n                    'overflow-y': 'scroll',\n                    'max-height': 'calc(100% - 72px)'}\n                \">\n        <v-stepper-items>\n        <v-stepper-content step=\"1\">\n                    <div\n                        v-for=\"elem in classerrorList\">\n                        <template v-if=\"elem.error_class\">\n                            <div class=\"m-card-list__title\">{{elem.title + elem.name}}</div>\n                            <div class=\"m-card-list__row\">\n                                <span class=\"m-card-list__cell\">{{elem.error_class.key}}</span>\n                                <span class=\"m-card-list__cell\">\n                                    <v-autocomplete\n                                        class=\"pa-0 ma-0\"\n                                        v-model=\"elem.error_class.item_value.value\"\n                                        :items=\"elem.error_class.item_value.items\"\n                                        return-object\n                                        item-text=\"name\"\n                                        item-value=\"name\"\n                                        persistent-hint\n                                        placeholder=\" \"\n                                        hide-details\n                                        dense\n                                        @change=\"onChange\"\n                                        />\n                                </span>\n                                <span class=\"m-card-list__cell m-card-list__cell--no-width px-1\">\n                                    <v-icon\n                                        v-if='elem.error_class'\n                                        color=\"#4e93e9\"\n                                        size=\"20\"\n                                        @click=\"showClue({\n                                            name: elem.error_class.key,\n                                            value: elem.key\n                                        })\">\n                                        >\n                                        mdi-help-circle-outline\n                                    </v-icon>\n                                </span>\n                            </div>\n                        </template>\n                    </div>\n        </v-stepper-content>\n        <v-stepper-content step=\"2\">\n                    <div\n                        v-for=\"elem in classerrorList\">\n                        <template v-if=\"elem.error_attr.length\">\n                            <div class=\"m-card-list__title\">{{elem.name}}</div>\n                            <div class=\"m-card-list__row\" v-for=\"prop in elem.error_attr\">\n                                <span class=\"m-card-list__cell\">{{prop.key}}</span>\n                                <span class=\"m-card-list__cell py-0\">\n                                    <v-text-field\n                                        v-if=\"prop.type == 'string'\"\n                                        class=\"ma-0 pa-0\"\n                                        placeholder=\" \"\n                                        v-model=\"prop.item_value.value\"\n                                        hide-details\n                                        >\n                                    </v-text-field>\n                                    <input\n                                        v-else-if=\"prop.type == 'integer'\"\n                                        class=\"ma-0 pa-0 m-input--noattr\"\n                                        v-model=\"prop.item_value.value\"\n                                        @input=\"onlyInteger($event, prop)\"\n                                    ></input>\n                                    <input\n                                        v-else-if=\"prop.type == 'float'\"\n                                        class=\"ma-0 pa-0 m-input--noattr\"\n                                        v-model=\"prop.item_value.value\"\n                                        @input=\"onlyFloat($event, prop)\"\n                                    ></input>\n                                    <v-simple-checkbox\n                                        v-else-if=\"prop.type == 'boolean'\"\n                                        v-model=\"prop.item_value.value\"\n                                        class=\"ma-0\"\n                                        dense\n                                        placeholder=\" \"\n                                        hide-details\n                                        color=\"primary\"\n                                    ></v-simple-checkbox>\n                                    <v-textarea\n                                        v-else-if=\"prop.type == 'text'\"\n                                        placeholder=\" \"\n                                        v-model=\"prop.item_value.value\"\n                                        class=\"ma-0\"\n                                        multi-line\n                                        hide-details\n                                        rows=\"2\">\n                                    </v-textarea>\n                                    <v-autocomplete\n                                        v-else-if=\"prop.type == 'list'\"\n                                        class=\"pa-0 ma-0\"\n                                        v-model=\"prop.item_value.value\"\n                                        :items=\"prop.item_value.items\"\n                                        item-text=\"name\"\n                                        item-value=\"name\"\n                                        persistent-hint\n                                        placeholder=\" \"\n                                        hide-details\n                                        dense\n                                        />\n                                </span>\n                                <span class=\"m-card-list__cell m-card-list__cell--no-width px-1\">\n                                    <v-icon\n                                        color=\"#4e93e9\"\n                                        size=\"20\"\n                                        @click=\"showClue({\n                                            name: prop.key,\n                                            value: prop.key == 'наименование системы'\n                                                ? elem.key\n                                                : prop.key\n                                        })\">\n                                        >\n                                        mdi-help-circle-outline\n                                    </v-icon>\n                                </span>\n                            </div>\n                        </template>\n                    </div>\n        </v-stepper-content>\n        </v-stepper-items>\n        </v-card-text>\n\n          </v-stepper>\n\n            <v-divider></v-divider>\n\n            <v-card-actions\n                class=\"pa-5 px-4\">\n                <v-btn outlined color=\"default\" class=\"m-btn\" @click=\"save\">Сохранить</v-btn>\n                <v-btn outlined color=\"default\" class=\"m-btn\"\n                    :disabled=\"!getTagError\"\n                    @click=\"getReport\">Отчет\n                </v-btn>\n                <v-spacer></v-spacer>\n                <v-btn outlined color=\"primary\" class=\"m-btn\" :disabled=\"!checkErrorReady\" @click=\"next\">Продолжить</v-btn>\n                <v-btn outlined color=\"default\" class=\"m-btn\" @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n\n        <clue-sp333-attribute\n            :clueBox.sync=\"clueBox\"\n            :SP333JSON=\"SP333JSON\"\n            :clueInfo=\"clueInfo\"\n            :step=\"step\"\n            />\n    </v-dialog>\n</template>\n\n<script>\nimport ClueSp333Attribute from './ClueSp333Attribute'\nimport { http, api } from '@/utils/define'\nimport { v4 as uuidv4 } from 'uuid'\nexport default {\n    name: 'SetSp333Attribute',\n    components: {\n        ClueSp333Attribute\n    },\n    props: {\n        SP333attr: {\n            type: Boolean,\n            default: false\n        },\n        SP333JSON: {\n            type: Object,\n            default: {\n                list: [],\n                clue: []\n            }\n        },\n        item: {\n            type: Object,\n            default: null\n        }\n\t},\n    data(){\n        return {\n            clueBox: false,\n            clueInfo: null,\n            step: 1,\n            meta: null,\n            errorJson: null,\n            propertyJson: null,\n            classerrorList: [],\n            source: null\n        }\n    },\n    computed: {\n        getItem(){\n            return !this.item\n                ? {\n                    sp333: {\n                        value: ''\n                    },\n                    tags: {}\n                }\n                : this.item\n        },\n        checkErrorReady(){\n            return true\n            let check = true\n            if(this.step == 1){\n                this.classerrorList.map(e => {\n                    if(e.error_class && !e.error_class.item_value.value){\n                        check = false\n                    }\n                })\n            }\n            else{\n                this.classerrorList.map(e => {\n                    if(e.error_attr.length){\n                         e.error_attr.map(m => {\n                             if(m.type == 'list' && !m.item_value.value){\n                                 check = false\n                             }\n                             else if(m.item_value.value == m.item_value.init_value){\n                                 check = false\n                             }\n                         })\n                    }\n                })\n            }\n            if(!this.classerrorList.length){\n                check = false\n            }\n            return check\n        },\n        getTagError(){\n            let item = this.item\n            if(!item){\n                return false\n            }\n            else{\n                if(this.item.tags['class.error.xlsx'] && this.item.tags['class.error.xlsx'] == 1){\n                    return 'class.error.xlsx'\n                }\n                else if(this.item.tags['attribute.error.xlsx'] && this.item.tags['attribute.error.xlsx'] == 1){\n                    return 'attribute.error.xlsx'\n                }\n                else{\n                    return false\n                }\n            }\n        }\n    },\n    watch: {\n        clueBox(v){\n            if(!v){\n                this.clueInfo = null\n            }\n        },\n        SP333attr(v){\n            if(!v){\n                this.classerrorList = []\n            }\n            else{\n                this.getErrorJson()\n            }\n        }\n    },\n    methods: {\n        cancel(){\n            this.step = 1\n            this.$emit('update:SP333attr', false)\n        },\n        onChange(o){\n        },\n        getFileByVersion(f){\n            if(f.version == null){\n                return f.files[0]\n            }\n            else{\n                let file = f.files.find(i => i.id == f.version)\n                return file ? file : f.files[0]\n            }\n        },\n        getReport(){\n            let tag = this.getTagError\n            if(tag){\n                let uuid = uuidv4()\n                this.$store.dispatch('common/setUploadNote', [{\n                    name: this.item.name,\n                    uuid: uuid,\n                    action: 'download',\n                    pushin: true\n                }])\n                this.$store.dispatch('common/getFile', {\n                    id: this.getFileByVersion(this.item).url + '/' + tag,\n                    uuid: uuid,\n                    typeBlob: 'blob'\n                })\n                .then(res => {\n                    this.$store.dispatch('common/setUploadNote', [{\n                        uuid: uuid,\n                        action: 'download',\n                        pushin: false\n                    }])\n                    if(!res.error){\n                        let a = document.createElement(\"a\")\n                        let objectURL = URL.createObjectURL(res.file)\n                        a.href = objectURL\n                        a.download = this.item.name + '.' + tag\n                        document.body.appendChild(a)\n                        a.click()\n                        URL.revokeObjectURL(objectURL)\n                        a.remove()\n                    }\n                    else{\n                        console.log('downloadFile error', err)\n                    }\n                })\n                .catch(err => {\n                    console.log('downloadFile error', err)\n                })\n            }\n        },\n        onlyInteger(e, o){\n            o.item_value.value = e.target.value.replace(/[^0-9]/g, '')\n        },\n        onlyFloat(e, o){\n            o.item_value.value = e.target.value.replace(/[^0-9.]/g, '')\n        },\n        next(){\n            if(this.step == 1){\n                this.step = 2\n                this.getUpdateAttributes()\n            }\n            else{\n                let body = {\n                    Elements: this.classerrorList.map(c => {\n                        return {\n                            [c.obj || c.key]: {\n                                ...((c) => {\n                                    if(c.obj){\n                                        return {\n                                            Category: c.key\n                                        }\n                                    }\n                                    else{\n                                        return {}\n                                    }\n                                })(c),\n                                [c.obj ? 'Id' : 'Guid']: c.id,\n                                Name: c.name,\n                                attrerr: {\n                                    ...((c) => {\n                                        if(c){\n                                            return {\n                                                [c.key]: {\n                                                    val: c.item_value\n                                                        ? c.item_value.value\n                                                            ? c.item_value.value.name\n                                                            : ''\n                                                        : '',\n                                                    code: c.code,\n                                                    type: c.btype\n                                                }\n                                            }\n                                        }\n                                        else{\n                                            return {}\n                                        }\n                                    })(c.error_class),\n                                    ...((c) => {\n                                        if(c){\n                                            return Object.fromEntries(c.map(e => {\n                                                return [e.key, {\n                                                    code: e.code,\n                                                    type: e.btype,\n                                                    val: (e.item_value.value == null\n                                                            ? ''\n                                                            : e.item_value.value).toString()\n                                                }]\n                                            }))\n                                        }\n                                        else{\n                                            return {}\n                                        }\n                                    })(c.error_attr)\n                                }\n                            }\n                        }\n                    })\n\n                }\n                this.$store.dispatch('workflow/convertationTag', {\n                    uuid: this.getFileByVersion(this.item).url,\n                    tag: 'attribute.add.json',\n                    body: body,\n                    force: true\n                })\n                .then(res => {\n                    Promise.all([\n                        this.$store.dispatch('workflow/getFolders'),\n                        this.$store.dispatch('workflow/getGroups')\n                    ])\n                    .finally(res => {\n                        this.$store.dispatch('workflow/createFoldersMap')\n                    })\n                },\n                    er => {\n                        console.log(er)\n                })\n                this.cancel()\n            }\n        },\n        getUpdateAttributes(){\n            let promisesList = []\n            this.classerrorList.map(c => {\n                if(c.error_class){\n                    promisesList.push(this.getAttributes(c))\n                }\n            })\n            Promise.all(promisesList)\n            .then(res => {\n                this.classerrorList = this.classerrorList.map(c => {\n                    let item = res.find(f => f.id == c.id)\n                    let attrs = {\n                        ...Object.fromEntries(Object.entries(c.attrerr)\n                            .map(([k, v]) => {\n                                return [k.toLowerCase(), v]\n                            }))\n                    }\n                    if(item){\n                        item.response\n                        .then(res => {\n                            if(res){\n                                attrs = {\n                                    ...attrs,\n                                    ...Object.fromEntries(Object.entries(res)\n                                        .map(([k, v]) => {\n                                            return [k.toLowerCase(), v]\n                                        }))\n                                }\n                                c.error_attr = Object.entries(attrs)\n                                    .map(([m, l]) => {\n                                        return {\n                                            key: m,\n                                            item_value: l.list\n                                                ? {\n                                                    value: null,\n                                                    items: l.list.map((l, i) => {\n                                                        return {\n                                                            id: i,\n                                                            name: l\n                                                        }\n                                                    })\n                                                }\n                                                : {\n                                                    init_value: l.ftype == 'boolean'\n                                                        ? 'boolean'\n                                                        : l.val || '',\n                                                    value: l.ftype == 'boolean'\n                                                        ? l.val\n                                                            ? true : false\n                                                        : l.val || ''\n                                                },\n                                            type: l.list\n                                                ? 'list'\n                                                : l.ftype,\n                                            btype: l.type,\n                                            code: l.code\n                                        }\n                                    })\n                                    .filter(f => f.key != 'наименование компонента' && f.key != 'тип помещения или зоны')\n\n                                let meta_file = null\n                                if(this.meta){\n                                    let meta = JSON.parse(this.decodeHtmlCharCodes(this.meta))\n                                    meta_file = meta.files\n                                        ? meta.files.find(f => (f.versionID || f.i) == this.item.versionID)\n                                        : null\n                                }\n                                if(meta_file){\n                                    let elem = (meta_file.classerrorList || meta_file.l).find(e => (e.id || e.i) == c.id)\n                                    if(elem && (elem.error_attr || elem.a).length){\n                                        c.error_attr = c.error_attr.map(a => {\n                                            let attr = (elem.error_attr || elem.a).find(f => (f.key || f.k) == a.key)\n                                            if(attr){\n                                                a.item_value.value = (attr.value || attr.v)\n                                            }\n                                            return a\n                                        })\n                                    }\n                                }\n                            }\n                        })\n                    }\n                    return c\n                })\n            })\n        },\n        showClue(o){\n            let rcls = ''\n            switch(o.name){\n                case 'наименование компонента': rcls = 'Com'\n                    break\n                case 'наименование системы': rcls = 'TeS'\n                    break\n                default: rcls = 'Prp'\n            }\n            this.$store.dispatch('workflow/getClue', {\n                req:\n            [{\n                \"rcls\": rcls,\n                \"name\": o.value\n            }]\n            })\n            .then(res => {\n                this.clueInfo = res.resp[0]\n            },\n                er => {\n                    console.log(er)\n            })\n\n            this.clueBox = true\n        },\n        getAttributes(e){\n            return new Promise(resolve => {\n                resolve({\n                    id: e.id,\n                    response: this.$store.dispatch('workflow/getAttributes', {\n                        class: e.key,\n                        name: e.error_class\n                            ? e.error_class.item_value.value\n                                ? e.error_class.item_value.value.name\n                                : ''\n                            : '',\n                        source: this.source\n                    })\n                })\n            })\n        },\n        save(){\n            // let file = {\n            //     versionID: this.item.versionID,\n            //     classerrorList: this.classerrorList.map(({id, error_attr, error_class}) => {\n            //         error_attr = error_attr.map(e => ({key: e.key, value: e.item_value.value}))\n            //         error_class = error_class\n            //             ? {key: error_class.key, value: error_class.item_value.value}\n            //             : null\n            //         return {\n            //             id,\n            //             error_attr,\n            //             error_class\n            //         }\n            //     })\n            // }\n            let file = {\n                i: this.item.versionID,\n                l: this.classerrorList.map(({id, error_attr, error_class}) => {\n                    error_attr = error_attr.map(e => ({k: e.key, v: e.item_value.value}))\n                    error_class = error_class\n                        ? {k: error_class.key, v: error_class.item_value.value}\n                        : null\n                    return {\n                        i: id,\n                        a: error_attr,\n                        c: error_class\n                    }\n                })\n            }\n\n            let meta = this.meta\n                ? JSON.parse(this.decodeHtmlCharCodes(this.meta))\n                : {}\n            if(meta.files){\n                let check = meta.files.find(f => (f.versionID || f.i) == this.item.versionID)\n                if(check){\n                    meta.files = meta.files.map(f => (f.versionID || f.i) == this.item.versionID\n                        ? file\n                        : f\n                    )\n                }\n                else{\n                    meta.files = [...meta.files, file]\n                }\n            }\n            else{\n                meta.files = [file]\n            }\n\n            let url = this.item.files.filter(f => f.id == this.item.versionID)[0].url\n            this.$store.dispatch('common/setFileMeta', {\n                id: this.item.id,//url,\n                body: JSON.stringify(meta)\n            })\n            .then(res => {\n                if(res.error){\n                    this.$notify({\n                        group: 'note',\n                        type: 'error',\n                        text: res.data.error\n                    })\n                }\n                else{\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Изменения сохранены.'\n                    })\n                    // this.$store.dispatch('workflow/updateDocInState', {\n                    //     ...res,\n                    //     name_short: this.createShortName(res.name)\n                    // })\n                }\n            })\n        },\n        createShortName(str){\n            str = str.split('.')\n            let type = str.splice(-1, 1)[0]\n            return str.join('.')\n        },\n        getErrorJson(){\n            // let url = ''\n            // if(this.item.version == null){\n            //     url = f.files[0].url\n            // }\n            // else{\n            //     let file = this.item.files.find(i => i.version == this.item.version)\n            //     url = file ? file.url : this.item.files[0].url\n            // }\n            this.$store.dispatch('common/getFileMeta', {\n                id: this.item.id//url\n            })\n            .then(res => {\n                this.meta = res\n                return this.$store.dispatch('common/getFileInfo', {\n                    id: this.getFileByVersion(this.item).url + '/' + this.item.sp333.type + '.json'\n                })\n            })\n            .then(res => {\n                this.errorJson = res.Elements\n                this.source = res.Source || null\n                this.getError_(res.Elements)\n                if(this.item.sp333.type == 'attribute.error'){\n                    this.next()\n                }\n            },\n                er => {\n                    this.errorJson = []\n            })\n        },\n        decodeHtmlCharCodes(str){\n            return str.replace(/(&#(\\d+);)/g, (match, capture, charCode) =>\n                String.fromCharCode(charCode)\n            )\n        },\n        getError_(elems){\n            let meta_file = null\n            if(this.meta){\n                let meta = JSON.parse(this.decodeHtmlCharCodes(this.meta))\n\n                meta_file = meta.files\n                    ? meta.files.find(f => (f.versionID || f.i) == this.item.versionID)\n                    : null\n            }\n            let list = elems.map(e => {\n                let item = {}\n                Object.entries(e).map(([k, v]) => {\n                    let type = 0\n                    item = {\n                        obj: v.Category ? k : null,\n                        key: v.Category || k,\n                        title: v.Id || v.Guid ? 'ID: ' + (v.Id || v.Guid) + ' | ' : '',\n                        id: v.Id || v.Guid,\n                        name: v.Name,\n                        attrerr: v.attrerr,\n                        error_class: null,\n                        error_attr: []\n                    }\n                    if(!v.attrerr['наименование компонента'] && !v.attrerr['тип помещения или зоны']){\n                        type = 1\n                    }\n                    let items = Object.entries(v.attrerr)\n                        .map(([m, l]) => {\n                            return {\n                                key: m,\n                                item_value: m == 'наименование компонента' || l.list\n                                    ? {\n                                        value: null,\n                                        items: l.list.map(l => {\n                                            return {\n                                                id: v.Id || v.Guid,\n                                                name: l\n                                            }\n                                        })\n                                    }\n                                    : {\n                                        init_value: l.ftype == 'boolean'\n                                            ? 'boolean'\n                                            : l.val || '',\n                                        value: l.ftype == 'boolean'\n                                            ? l.val\n                                                ? true : false\n                                            : l.val || ''\n                                    },\n                                type: l.list\n                                    ? 'list'\n                                    : l.ftype,\n                                btype: l.type,\n                                code: l.code\n                            }\n                        })\n                    item.error_class = items.find(f => f.key == 'наименование компонента' || f.key == 'тип помещения или зоны') || null\n                    item.error_attr = items.filter(f => f.key != 'наименование компонента' && f.key != 'тип помещения или зоны')\n\n                    if(meta_file){\n                        let elem = (meta_file.classerrorList || meta_file.l).find(e => (e.id || e.i) == item.id)\n                            // console.log('способ открывания', elem)\n                        if(elem && (elem.error_class || elem.c)){\n                            item.error_class.item_value.value = (elem.error_class || elem.c).value || (elem.error_class || elem.c).v\n                        }\n\n                        if(elem && (elem.error_attr || elem.a).length){\n                            item.error_attr = item.error_attr.map(a => {\n                                let attr = (elem.error_attr || elem.a).find(f => (f.key || f.k) == a.key)\n                                if(attr){\n                                    a.item_value.value = (attr.value || attr.v)\n                                }\n                                return a\n                            })\n                        }\n                    }\n                })\n                return item\n            })\n            this.classerrorList = list\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetSp333Attribute.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetSp333Attribute.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SetSp333Attribute.vue?vue&type=template&id=65aa2550\"\nimport script from \"./SetSp333Attribute.vue?vue&type=script&lang=js\"\nexport * from \"./SetSp333Attribute.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.collisions,\"scrollable\":\"\",\"max-width\":\"700px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_c('span',[_vm._v(\"Геометрические коллизии: \")]),_c('span',{staticClass:\"m-text--color-red\"},[_vm._v(\" (бета версия)\")]),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-4 pb-0\"},[_c('span',{staticClass:\"m-text--size14 m-text--color-black\"},[_vm._v(\"В проекте были обнаружены геометрические коллизии между объектами:\\n            \")]),_c('div',{staticClass:\"pt-5\"},_vm._l((_vm.getCollisions),function(elem){return _c('div',{staticClass:\"m-card-list__row\"},[_c('span',{staticClass:\"m-card-list__cell\"},[_vm._v(_vm._s(elem.first.name))]),_c('span',{staticClass:\"m-card-list__cell\"},[_vm._v(_vm._s(elem.second.name))])])}),0)]),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"grey\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"collisions\" scrollable max-width=\"700px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-0 pl-4 m-modal--title\"><span>Геометрические коллизии: </span> <span class=\"m-text--color-red\">&nbsp;(бета версия)</span>\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text class=\"pt-5 px-4 pb-0\">\n                <span class=\"m-text--size14 m-text--color-black\">В проекте были обнаружены геометрические коллизии между объектами:\n                </span>\n                <div class=\"pt-5\">\n                    <div\n                        v-for=\"elem in getCollisions\"\n                        class=\"m-card-list__row\">\n                        <span class=\"m-card-list__cell\">{{elem.first.name}}</span>\n                        <span class=\"m-card-list__cell\">{{elem.second.name}}</span>\n                    </div>\n                </div>\n            </v-card-text>\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5 px-4\">\n                <v-spacer></v-spacer>\n                <v-btn outlined color=\"grey\" class=\"m-btn\" @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    name: 'Collisions',\n    props: {\n        collisions: {\n            type: Boolean,\n            default: false\n        },\n        collisionsJSON: {\n            type: Object,\n            default: null\n        },\n        item: {\n            type: Object,\n            default: null\n        }\n\t},\n    data () {\n        return {}\n    },\n    computed: {\n        getCollisions(){\n            let list = []\n            if(this.collisionsJSON){\n                list = this.collisionsJSON.collision_pairs\n            }\n            return list\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('update:collisions', false)\n            this.$emit('update:this.collisionsJSON', null)\n        },\n        saveChange(){\n            this.cancel()\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Collisions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Collisions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Collisions.vue?vue&type=template&id=327141ef\"\nimport script from \"./Collisions.vue?vue&type=script&lang=js\"\nexport * from \"./Collisions.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.specification_xml,\"scrollable\":\"\",\"max-width\":\"700px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n            Описание документа\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{ref:\"body\",staticClass:\"px-4\"},[_c('div',{staticClass:\"py-4 m-text--color-black\"},[_vm._v(\"Для правильной работы XML схемы вся сопроводительная документация должна быть представлена в цифровом виде, для этого заполните нижеуказанные поля.\")]),_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VAutocomplete,{staticClass:\"m-select\",attrs:{\"items\":_vm.items,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Выберите тип, к которому относится документ\",\"placeholder\":\" \",\"hide-details\":\"\"},on:{\"change\":_vm.checkType},scopedSlots:_vm._u([{key:\"item\",fn:function({ active, item, attrs, on }){return [_c(VListItem,_vm._g(_vm._b({scopedSlots:_vm._u([{key:\"default\",fn:function({ active }){return [_c(VListItemContent,[_c(VListItemTitle,{staticClass:\"m-list-item__title\"},[_vm._v(\"\\n                                        \"+_vm._s(item.name)+\"\\n                                    \")])],1)]}}],null,true)},'v-list-item',attrs,false),on))]}}]),model:{value:(_vm.metaType),callback:function ($$v) {_vm.metaType=$$v},expression:\"metaType\"}})],1)],1),(_vm.sections.length)?_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VAutocomplete,{staticClass:\"m-select\",attrs:{\"items\":_vm.sections,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Выберите подгруппу, к которой относится документ\",\"placeholder\":\" \",\"hide-details\":\"\"},on:{\"change\":function($event){}},scopedSlots:_vm._u([{key:\"item\",fn:function({ active, item, attrs, on }){return [_c(VListItem,_vm._g(_vm._b({scopedSlots:_vm._u([{key:\"default\",fn:function({ active }){return [_c(VListItemContent,[_c(VListItemTitle,{staticClass:\"m-list-item__title\"},[_vm._v(\"\\n                                        \"+_vm._s(item.name)+\"\\n                                    \")])],1)]}}],null,true)},'v-list-item',attrs,false),on))]}}],null,false,274345183),model:{value:(_vm.selecttype),callback:function ($$v) {_vm.selecttype=$$v},expression:\"selecttype\"}})],1)],1):_vm._e(),_vm._l((_vm.selecttype.items),function(item){return _c(VRow,[_c(VCol,{staticClass:\"m-label\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[(item.Type == 'Text' || item.Type == 'String')?_c(VTextField,{staticClass:\"m-select pt-0\",attrs:{\"label\":item.Name,\"placeholder\":\" \",\"hide-details\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('div',[_vm._v(_vm._s(item.Name))])]},proxy:true}],null,true),model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):(item.Type == 'Integer')?_c(VTextField,{staticClass:\"m-select pt-0\",attrs:{\"type\":\"number\",\"label\":item.Name,\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):(item.Type == 'Boolean')?_c(VSwitch,{staticClass:\"pt-0\",attrs:{\"label\":item.Name,\"inset\":\"\",\"color\":\"success\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):(item.Type == 'Date')?_c('date-xml',{attrs:{\"item\":item},on:{\"setValue\":_vm.setValue}}):(item.Type == 'TextArea')?_c(VTextarea,{staticClass:\"pt-0\",attrs:{\"placeholder\":\" \",\"label\":item.Name,\"multi-line\":\"\",\"hide-details\":\"\",\"rows\":\"2\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e()],1)],1)})],2),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.saveChange}},[_vm._v(\"Сохранить\\n            \")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cancel.apply(null, arguments)}}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VTextField,_vm._g({staticClass:\"pt-0\",attrs:{\"label\":_vm.item.Name,\"readonly\":\"\",\"hide-details\":\"\",\"placeholder\":\" \"},model:{value:(_vm.computedDateFormatted),callback:function ($$v) {_vm.computedDateFormatted=$$v},expression:\"computedDateFormatted\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c(VDatePicker,{ref:\"picker\",attrs:{\"landscape\":true,\"locale\":\"ru\",\"max\":new Date().toISOString().substr(0, 10),\"min\":\"1950-01-01\"},on:{\"change\":_vm.save},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n        ref=\"menu\"\n        v-model=\"menu\"\n        :close-on-content-click=\"false\"\n        transition=\"scale-transition\"\n        offset-y\n        min-width=\"290px\"\n        >\n        <template v-slot:activator=\"{ on }\">\n            <v-text-field\n                v-model=\"computedDateFormatted\"\n                class=\"pt-0\"\n                :label=\"item.Name\"\n                readonly\n                hide-details\n                placeholder=\" \"\n                v-on=\"on\"\n            >\n            </v-text-field>\n        </template>\n        <v-date-picker\n            ref=\"picker\"\n            v-model=\"date\"\n            :landscape=\"true\"\n            locale=\"ru\"\n            :max=\"new Date().toISOString().substr(0, 10)\"\n            min=\"1950-01-01\"\n            @change=\"save\"\n        ></v-date-picker>\n    </v-menu>\n</template>\n\n<script>\nexport default {\n    name: 'DateXml',\n    props: ['item'],\n    data(){\n        return {\n            date: null,\n            menu: false,\n        }\n    },\n    computed: {\n        computedDateFormatted(){\n            let date = this.formatDate(this.item.value)\n            return date\n        },\n    },\n    watch: {\n        menu(val){\n            val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n        }\n    },\n    methods: {\n        save(date){\n            // const [year, month, day] = date.split('-')\n            // let delta = new Date().getTimezoneOffset()\n            //\n            // let bd = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), (Math.abs(delta) / 60))\n            // let mbd = bd.getTime(bd)\n            this.$emit('setValue', {item: this.item, value: date})\n\n            this.$refs.menu.save(date)\n        },\n        formatDate(date){\n            if(!date) return null\n            const [year, month, day] = date.split('-')\n            return `${day}/${month}/${year}`\n        },\n    },\n    created(){\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateXml.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateXml.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DateXml.vue?vue&type=template&id=332d8ef6\"\nimport script from \"./DateXml.vue?vue&type=script&lang=js\"\nexport * from \"./DateXml.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-dialog :value=\"specification_xml\" scrollable max-width=\"700px\" @input=\"v => v || cancel()\">\n    <v-card>\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            Описание документа\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <v-card-text class=\"px-4\" ref=\"body\">\n            <div class=\"py-4 m-text--color-black\">Для правильной работы XML схемы вся сопроводительная документация должна быть представлена в цифровом виде, для этого заполните нижеуказанные поля.</div>\n\n            <v-row>\n                <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                    <v-autocomplete\n                        class=\"m-select\"\n                        :items=\"items\"\n                        v-model=\"metaType\"\n                        item-text=\"name\"\n                        item-value=\"id\"\n                        persistent-hint\n                        return-object\n                        label=\"Выберите тип, к которому относится документ\"\n                        placeholder=\" \"\n                        hide-details\n                        @change=\"checkType\"\n                    >\n                        <template v-slot:item=\"{ active, item, attrs, on }\">\n                            <v-list-item v-on=\"on\" v-bind=\"attrs\" #default=\"{ active }\">\n                                <v-list-item-content>\n                                    <v-list-item-title\n                                        class=\"m-list-item__title\"\n                                        >\n                                        {{item.name}}\n                                    </v-list-item-title>\n                                </v-list-item-content>\n                            </v-list-item>\n                        </template>\n                    </v-autocomplete>\n                </v-col>\n            </v-row>\n            <v-row v-if=\"sections.length\">\n                <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                    <v-autocomplete\n                        class=\"m-select\"\n                        v-model=\"selecttype\"\n                        :items=\"sections\"\n                        item-text=\"name\"\n                        item-value=\"id\"\n                        persistent-hint\n                        return-object\n                        label=\"Выберите подгруппу, к которой относится документ\"\n                        placeholder=\" \"\n                        hide-details\n                        @change=\"\"\n                    >\n                        <template v-slot:item=\"{ active, item, attrs, on }\">\n                            <v-list-item v-on=\"on\" v-bind=\"attrs\" #default=\"{ active }\">\n                                <v-list-item-content>\n                                    <v-list-item-title\n                                        class=\"m-list-item__title\"\n                                        >\n                                        {{item.name}}\n                                    </v-list-item-title>\n                                </v-list-item-content>\n                            </v-list-item>\n                        </template>\n                    </v-autocomplete>\n                </v-col>\n            </v-row>\n            <v-row v-for=\"item in selecttype.items\">\n                <v-col cols=\"12\" sm=\"12\" md=\"12\" class=\"m-label\">\n                    <v-text-field\n                        v-if=\"item.Type == 'Text' || item.Type == 'String'\"\n                        class=\"m-select pt-0\"\n                        :label=\"item.Name\"\n                        placeholder=\" \"\n                        v-model=\"item.value\"\n                        hide-details\n                    >\n                        <template #label><div>{{item.Name}}</div>\n                        </template>\n                    </v-text-field>\n                    <v-text-field\n                        v-else-if=\"item.Type == 'Integer'\"\n                        type=\"number\"\n                        class=\"m-select pt-0\"\n                        :label=\"item.Name\"\n                        placeholder=\" \"\n                        v-model=\"item.value\"\n                        hide-details\n                    ></v-text-field>\n                    <v-switch\n                        v-else-if=\"item.Type == 'Boolean'\"\n                        class=\"pt-0\"\n                        v-model=\"item.value\"\n                        :label=\"item.Name\"\n                        inset\n                        color=\"success\"\n                    ></v-switch>\n                    <date-xml\n                        v-else-if=\"item.Type == 'Date'\"\n                        :item=\"item\"\n                        @setValue=\"setValue\"\n                        />\n                    <v-textarea\n                        v-else-if=\"item.Type == 'TextArea'\"\n                        class=\"pt-0\"\n                        placeholder=\" \"\n                        v-model=\"item.value\"\n                        :label=\"item.Name\"\n                        multi-line\n                        hide-details\n                        rows=\"2\">\n                    </v-textarea>\n                </v-col>\n            </v-row>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-spacer></v-spacer>\n            <v-btn outlined color=\"primary\" class=\"m-btn\" @click=\"saveChange\">Сохранить\n            </v-btn>\n            <v-btn outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"cancel\">Отмена</v-btn>\n        </v-card-actions>\n    </v-card>\n</v-dialog>\n</template>\n\n<script>\nimport DateXml from './specification_xml/DateXml'\nexport default {\n    name: 'SpecificationXml',\n    components: {\n        DateXml\n    },\n    props: ['specification_xml', 'item'],\n    data(){\n        return {\n            selecttype: {items: []},\n            date: null,\n            menu: false,\n            items: [],\n            metaType: '',\n            sections: []\n        }\n    },\n    watch: {\n        specification_xml(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n\n                this.$store.dispatch('common/getJsonXml')\n                .then(res => {\n                    this.setItems(res)\n                },\n                    er => {\n                        this.items = []\n                    }\n                )\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n                this.items = []\n            }\n        }\n    },\n    methods: {\n        cancel(){\n            this.metaType = ''\n            this.selecttype = {items: []}\n            this.$emit('update:specification_xml', false)\n        },\n        setValue(o){\n            o.item.value = o.value\n        },\n        checkType(t){\n            if(t.items.some(s => s.Name)){\n                this.selecttype.items = []\n                this.sections = t.items.map((m, i) => {\n                    return {\n                        id: 'sec' + i,\n                        name: m.Name,\n                        items: m.Fields.map(f => {\n                            return {\n                                ...f,\n                                value: ((f) => {\n                                    if(f.Type == 'Boolean'){\n                                        return f.value || false\n                                    }\n                                    else if(f.Type == 'Date'){\n                                        return f.value\n                                            ? new Date(f.value).toISOString().substr(0, 10)\n                                            : null\n                                    }\n                                    else{\n                                        return f.value || ''\n                                    }\n                                })(f)\n                            }\n                        })\n                    }\n                })\n            }\n            else{\n                this.sections = []\n                this.selecttype.items = t.items[0].Fields.map(f => {\n                    return {\n                        ...f,\n                        value: ((f) => {\n                            if(f.Type == 'Boolean'){\n                                return f.value || false\n                            }\n                            else if(f.Type == 'Date'){\n                                return f.value\n                                    ? new Date(f.value).toISOString().substr(0, 10)\n                                    : null\n                            }\n                            else{\n                                return f.value || ''\n                            }\n                        })(f)\n                    }\n                })\n                this.selecttype.id = ''\n                this.selecttype.name = ''\n            }\n        },\n        setItems(items){\n            let list = Object.entries(items).map(([k, v], i) => {\n                return {\n                    id: i,\n                    name: k,\n                    items: v\n                }\n            })\n            if(this.item.meta){\n                let meta = JSON.parse(this.decodeHtmlCharCodes(this.item.meta)) || false\n\n                if(meta && meta.f){\n                    let type = meta.n\n                    list = list.map(l => {\n                        if(l.name == type){\n                            this.metaType = l\n\n                            let sub = null\n                            l.items = l.items.map((i, x) => {\n                                let elem = false\n                                let ar = i.Fields.map(a => {\n                                    if(i.Name){\n                                        sub = i.Name\n                                    }\n\n                                    elem = meta.f[i.Name || '']\n                                    if(elem){\n                                        elem = elem.find(e => e.n == a.Name)\n                                    }\n                                    return {\n                                        ...a,\n                                        value: elem\n                                            ? a.Type == 'Date'\n                                                ? new Date(JSON.parse(elem.v)).toISOString().substr(0, 10)\n                                                : a.Type == 'Boolean'\n                                                    ? JSON.parse(elem.v)\n                                                    : elem.v\n                                            : ''\n                                    }\n                                })\n                                if(elem){\n                                    this.selecttype = {\n                                        id: 'sec' + x,\n                                        name: i.Name,\n                                        items: ar\n                                    }\n                                }\n                                return {\n                                    ...i,\n                                    Fields: ar\n                                }\n                            })\n                            if(sub){\n                                this.sections = l.items.map((i, x) => {\n                                    return {\n                                        items: i.Fields,\n                                        id: 'sec' + x,\n                                        name: i.Name\n                                    }\n                                })\n                            }\n                        }\n                        return l\n                    })\n                }\n            }\n            this.items = list\n        },\n        transDate(date){\n            const [year, month, day] = date.split('-')\n            let delta = new Date().getTimezoneOffset()\n\n            let bd = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), (Math.abs(delta) / 60))\n            let mbd = bd.getTime(bd)\n            return(mbd)\n        },\n        getMeta(){\n            let meta = {\n                n: this.metaType.name,\n                f: {\n                    [this.selecttype.name]: [...this.selecttype.items.map(i => {\n                    return {\n                        n: i.Name,\n                        v: i.Type == 'String' || i.Type == 'Text' || i.Type == 'Integer' || i.Type == 'TextArea'\n                            ? i.value.toString()\n                            : i.Type == 'Boolean'\n                                ? i.value.toString() //? 1 : 0\n                                : i.Type == 'Date'\n                                    ? this.transDate(i.value).toString()\n                                    : i.value.toString()\n                        ,\n                        t: i.Type == 'String' || i.Type == 'Text' || i.Type == 'TextArea'\n                            ? 'S'\n                            : i.Type == 'Boolean' || i.Type == 'Integer' || i.Type == 'Date'\n                                ? 'I'\n                                : 'F'\n                    }\n                })]}\n            }\n            return JSON.stringify(meta)\n        },\n        decodeHtmlCharCodes(str){\n            return str.replace(/(&#(\\d+);)/g, (match, capture, charCode) =>\n                String.fromCharCode(charCode)\n            )\n        },\n        saveChange(){\n            let file = this.$store.state.workflow.listDocs.find(i => i.id == this.item.id)\n            this.$store.dispatch('workflow/addDoc', {\n                id: this.item.id,\n                name: file.name,\n                order: file.order,\n                folder: file.folder,\n                meta: this.getMeta()\n            })\n            .then(res => {\n                this.$store.dispatch('workflow/updateDocInState', {\n                    ...res,\n                    name_short: this.createShortName(res.name)\n                })\n            })\n            this.cancel()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.saveChange()\n            }\n        },\n        createShortName(str){\n            str = str.split('.')\n            str.splice(-1, 1)[0]\n            return str.join('.')\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpecificationXml.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpecificationXml.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SpecificationXml.vue?vue&type=template&id=24419b20\"\nimport script from \"./SpecificationXml.vue?vue&type=script&lang=js\"\nexport * from \"./SpecificationXml.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-container fluid fill-height text-xs-center class=\"m-container pb-10 pt-0\">\n<v-layout row wrap>\n<v-flex xs12>\n    <v-container fluid px-3 pb-10 pt-0 class=\"m-container\" ref=\"wrap\">\n\n        <v-toolbar flat height=\"auto\" class=\"m-table-toolbar\">\n            <v-text-field\n                v-model=\"search\"\n                prepend-icon=\"search\"\n                placeholder=\"Поиск...\"\n                single-line\n                hide-details\n                class=\"m-table-toolbar--search ml-2\"\n                ></v-text-field>\n\n            <v-spacer></v-spacer>\n            <!--\n            <v-btn\n                text\n                @click.stop=\"createXml = true\"\n                class=\"ma-0 m-btn--text_icon\">\n                <v-icon\n                    size=\"16\"\n                    left>mdi-plus-circle-outline</v-icon>Создать XML документ\n            </v-btn>\n        -->\n            <v-btn\n                text\n                @click.stop=\"newFolder = true\"\n                class=\"ma-0 m-btn--text_icon\">\n                <v-icon\n                    size=\"16\"\n                    left>mdi-plus-circle-outline</v-icon>Создать папку\n            </v-btn>\n            <v-btn\n                :disabled=\"!checkFolder\"\n                outlined\n                color=\"primary\"\n                @click.stop=\"upload\"\n                class=\"ma-0 m-btn--text_icon\">\n                <v-icon\n                    size=\"18\"\n                    left>icon-upload</v-icon>Загрузить\n            </v-btn>\n        <!--\n            <div class=\"m-spacer--v\"></div>\n            <v-btn\n                v-for=\"(i, j) in table_type_list\"\n                :key=\"j\"\n                depressed\n                :color=\"workflow_project == i.name ? '#e1e1e1' : '#fafafa'\"\n                class=\"m-btn-icon--cube\"\n                :class=\"{active: workflow_project == i.name}\"\n                @click=\"setTableType(i.name)\">\n                <v-icon\n                    color=\"#6e6e6e\"\n                    size=\"25\">{{i.icon}}</v-icon>\n            </v-btn>\n        -->\n        </v-toolbar>\n\n        <v-toolbar flat height=\"auto\" class=\"m-table-toolbar pa-3 m-table-toolbar--path\">\n            <span\n                v-for=\"(folder, i) in getPath\"\n                :key=\"folder.id + i + ''\"\n            >\n                <span\n                    v-if=\"folder.link\"\n                    class=\"m-table-toolbar--path_link\"\n                    @click=\"openFolder(folder)\"\n                >{{folder.name}}</span>\n                <span v-if=\"folder.link\">/</span>\n                <span\n                    v-if=\"!folder.link\"\n                >{{folder.name}}</span>\n            </span>\n        </v-toolbar>\n\n        <v-data-table\n            v-if=\"workflow_project == 'list'\"\n            :headers=\"getHeaders\"\n            :items=\"getDocs\"\n            show-select\n            v-model=\"selected\"\n            @toggle-select-all=\"selectRow\"\n            :search=\"search\"\n            disable-pagination\n            hide-default-footer\n            class=\"m-table-custom\"\n        >\n            <template v-slot:no-data>\n                {{noData}}\n            </template>\n\n            <template v-slot:header.collisions=\"{item}\">\n                <v-icon\n                    size=\"20\"\n                    color=\"#767676\">table-collision\n                </v-icon>\n            </template>\n\n            <template v-slot:header.tasks=\"{item}\">\n                <v-icon\n                    size=\"20\"\n                    color=\"#767676\">trd-ticket\n                </v-icon>\n            </template>\n\n            <template v-slot:item.tasks=\"{item}\">\n                <v-icon\n                    v-if=\"item.task\"\n                    size=\"20\"\n                    color=\"#767676\">trd-ticket\n                </v-icon>\n            </template>\n\n            <template v-slot:item.sp333=\"{item}\">\n                <v-tooltip v-if=\"item.inwork !== true && (item.sp333.type == 'error'\n                    && item.sp333.value == 1\n                    || item.sp333.type == 'classerror'\n                    || item.sp333.type == 'class.error'\n                    || item.sp333.type == 'attribute.error'\n                    || item.sp333.type == 'classerror.onlyempty')\" bottom right color=\"#fff\" max-width=\"250px\" content-class=\"m-tooltip--info\">\n                    <template v-slot:activator=\"{ on }\">\n                        <v-icon\n                            v-on=\"on\"\n                            style=\"cursor: pointer;\"\n                            color=\"#fc0000\"\n                            @click=\"setSP333Attr(item)\"\n                            size=\"20\">mdi-alert-outline</v-icon>\n                    </template>\n                    <template v-slot:default>\n                        <span class=\"\"><b>Критическая ошибка.</b><br>\nПроект не прошел проверку на нормативные требования.\n                        </span>\n                    </template>\n                </v-tooltip>\n                <v-tooltip v-if=\"item.sp333.type == 'warning'\n                    && item.inwork !== true\" bottom right color=\"#fff\" max-width=\"250px\" content-class=\"m-tooltip--info\">\n                    <template v-slot:activator=\"{ on }\">\n                        <v-icon\n                            v-on=\"on\"\n                            style=\"cursor: pointer;\"\n                            color=\"#ff904b\"\n                            @click=\"setSP333Attr(item)\"\n                            size=\"20\">mdi-alert-outline</v-icon>\n                    </template>\n                    <template v-slot:default>\n                        <span class=\"\">Проект не прошел проверку на нормативные коллизии.\n                        </span>\n                    </template>\n                </v-tooltip>\n            </template>\n\n            <template v-slot:item.collisions=\"{item}\">\n            <!--\n                <v-tooltip\n                    v-if=\"item.collisions == 1\n                        && item.inwork !== true\"\n                    bottom right color=\"#fff\" max-width=\"250px\" content-class=\"m-tooltip--info\">\n                    <template v-slot:activator=\"{ on }\">\n                        <v-icon\n                            v-on=\"on\"\n                            style=\"cursor: pointer;\"\n                            color=\"#000000\"\n                            @click=\"setCollisions(item)\"\n                            size=\"20\">table-collision_black</v-icon>\n                    </template>\n                    <template v-slot:default>\n                        <span class=\"\">Проект не прошел проверку на геометрические коллизии</span>\n                    </template>\n                </v-tooltip>\n            -->\n            </template>\n\n            <template v-slot:item.data-table-select=\"{ item, isSelected, select }\">\n                <v-simple-checkbox\n                    v-if=\"item.inwork !== true && getAccess(item.access, 'or', [1, 2])\"\n                    :value=\"isSelected && item.inwork !== true && getAccess(item.access, 'or', [1, 2])\"\n                    :disabled=\"item.inwork === true && getAccess(item.access,'or', [1, 2])\"\n                    @input=\"select($event)\">\n                </v-simple-checkbox>\n            </template>\n\n            <template v-slot:item.name=\"{ item, index }\">\n                <div class=\"m-table--name\">\n                    <span\n                        v-if=\"item.type == 'folder' && getAccess(item.access, 'and', [0])\"\n                        class=\"m-text--hover\"\n                        :class=\"{'m-item--sub': item.sub}\"\n                        @click=\"openFolder(item)\"\n                        >{{item.name}}\n                    </span>\n                    <span\n                        v-else-if=\"item.type != 'folder'\n                            && !item.inwork\n                            && getAccess(item.access, 'and', [0])\"\n                        :class=\"{'m-text--hover': item.status_file !== 3 && checkLicense('editRVT')}\"\n                        @click=\"item.status_file !== 3 && checkLicense('editRVT') ? getDct(item) : ';'\"\n                        >\n                        <v-tooltip top :transition=\"'100'\">\n                            <template v-slot:activator=\"{ on, attrs }\">\n                                <span\n                                    :class=\"{'m-item--sub': item.sub}\"\n                                    role=\"empty\"\n                                    v-bind=\"attrs\"\n                                    v-on=\"on\">\n                                    {{item.name_short}}\n                                </span>\n                            </template>\n                            {{item.name}}\n                        </v-tooltip>\n                    </span>\n                    <span\n                        v-else-if=\"item.type != 'folder' && item.inwork\"\n                        :class=\"{'m-item--sub': item.sub}\"\n                        >{{item.name_short}}\n                    </span>\n                    <span\n                        v-else\n                        :class=\"{'m-item--sub': item.sub}\"\n                        >{{item.name_short || item.name}}\n                    </span>\n                    <v-tooltip\n                        v-if=\"item.status_file === 3\"\n                        top\n                        right\n                        color=\"#fff\"\n                        max-width=\"250px\"\n                        content-class=\"m-tooltip--info\">\n                        <template v-slot:activator=\"{ on }\">\n                            <v-icon\n                                size=\"20\"\n                                v-on=\"on\"\n                                class=\"mr-1 m-info--file\"\n                                color=\"#ff0000\">mdi-alert-outline\n                            </v-icon>\n                        </template>\n                        <template v-slot:default>\n                            <span class=\"\">При обработке файла произошла ошибка. Проверьте файл и загрузите его еще раз.</span>\n                        </template>\n                    </v-tooltip>\n                </div>\n            </template>\n\n            <template v-slot:item.sub=\"{ item }\">\n                <span\n                    @click=\"expandSub(item)\">\n                    <v-icon\n                        v-show=\"!!item.group || !!item.consolidations\"\n                        :style=\"{margin: '0 -4px', cursor: 'pointer'}\"\n                        :class=\"{'m-item--expanded__icon': item.expanded}\"\n                        size=\"20\">mdi-chevron-down</v-icon>\n                </span>\n            </template>\n\n            <template v-slot:item.src=\"{ item }\">\n                <v-icon\n                    v-if=\"!!item.group\"\n                    size=\"30\">icon-group</v-icon>\n                <v-img\n                    v-else-if=\"item.type != 'folder' && item.inwork === true\"\n                    width=\"35\"\n                    class=\"mx-auto\"\n                    :class=\"{'m-item--sub': item.sub}\"\n                    :src=\"inwork\"></v-img>\n                <v-icon\n                    v-else-if=\"item.type == 'folder'\"\n                    :class=\"{'m-item--sub': item.sub}\"\n                    size=\"30\">icon-folder</v-icon>\n                <v-icon\n                    v-else\n                    :class=\"{'m-item--sub': item.sub}\"\n                    size=\"30\">ft-{{item.type == 'type' ? 'unknown' : item.type}}</v-icon>\n                </v-icon>\n            </template>\n\n            <template v-slot:item.action=\"{ item }\">\n                <action-menu\n                    v-if=\"item.inwork !== true && !checkSelected(item) && item.access\"\n                    @download=\"downloadFile\"\n                    @convertationIFCXML=\"convertationIFCXML\"\n                    @getDct=\"getDct\"\n                    @removeItem=\"removeItem\"\n                    @openFolder=\"openFolder\"\n                    @replaceItems=\"replaceItems\"\n                    @copyItems=\"copyItems\"\n                    @renameitem=\"renameitem\"\n                    @accessRights=\"accessRights\"\n                    @versionJournal=\"versionJournal\"\n                    @errorIFCXML=\"errorIFCXML\"\n                    @onSpecificationXml=\"onSpecificationXml\"\n                    :access=\"item.access\"\n                    :item=\"item\"\n                />\n            </template>\n        <!--\n            <template v-slot:item.status=\"{ item }\">\n                <span  v-if=\"item.type != 'folder'\">\n                    {{status[item.status]}}\n                </span>\n            </template>\n        -->\n        </v-data-table>\n\n        <table-grid\n            v-if=\"workflow_project == 'grid'\"\n            :list=\"getDocs\"\n            :headers=\"headers\"\n            :actions=\"[getDct]\"\n        >\n\n            <template v-slot:name=\"{item}\">\n                <div>\n                {{item.name}}\n                </div>\n            </template>\n        </table-grid>\n\n        <upload-files\n            :uploadF.sync=\"uploadF\"\n            :project_id=\"id\"\n        />\n\n        <v-card\n            class=\"m-table-custom--action\"\n            :style=\"cardActionStyle\"\n            v-show=\"selected.length && getAccessSelected('or', [0, 1, 2])\"\n            >\n            <v-card-actions>\n                <v-btn\n                    v-show=\"getAccessSelected('and', [2])\"\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"download\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-download</v-icon>Скачать</v-btn>\n                <v-btn\n                    v-show=\"getAccessSelected('and', [1])\"\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"removeSelectedFlag = true\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-trash-can-outline</v-icon>\n                    Удалить\n                </v-btn>\n                <v-btn\n                    v-show=\"getAccessSelected('and', [1])\"\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"copyItem = true\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-content-copy</v-icon>\n                    Копировать\n                </v-btn>\n                <v-btn\n                    v-show=\"getAccessSelected('and', [1])\"\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"replaceItem = true\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-file-replace-outline</v-icon>\n                    Переместить\n                </v-btn>\n                <v-btn\n                    v-show=\"getAccessSelected('and', [0]) && checkTypeFiles({\n                        type: ['rvt', 'ifc'],\n                        count: 'lot'\n                        })\"\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"setConsolidations\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">trd-conect</v-icon>\n                    Консолидация\n                </v-btn>\n            <!--\n                <v-btn\n                    v-show=\"getAccessSelected('and', [1]) && checkTypeFiles({\n                        type: ['rvt'],\n                        count: 'one'\n                        })\"\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"delta\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">trd-version1</v-icon>\n                    Версии\n                </v-btn>\n            -->\n            </v-card-actions>\n        </v-card>\n\n        <remove-selected\n            :removeSelectedFlag.sync=\"removeSelectedFlag\"\n            @removeSelected=\"removeSelected\"\n            />\n\n        <replace-item\n            :replaceItem.sync=\"replaceItem\"\n            :selected=\"getReplaceItems\"\n            :items=\"getDocs\"\n            @clearSelected=\"clearSelected\"\n            />\n        <copy-item\n            :copyItem.sync=\"copyItem\"\n            :selected=\"getReplaceItems\"\n            :items=\"getDocs\"\n            @clearSelected=\"clearSelected\"\n            />\n        <rename-item\n            :renameItem.sync=\"renameItem\"\n            :item=\"workItem\"\n            />\n        <remove-item\n            @removeFolder=\"removeFolder\"\n            @removeDct=\"removeDct\"\n            :remove_item.sync=\"remove_item\"\n            :item=\"workItem\"\n            />\n        <create-folder\n            :newFolder.sync=\"newFolder\"\n            @createFolder=\"createFolder\"\n            />\n        <create-xml\n            :createXml.sync=\"createXml\"\n            @createFolder=\"createFolder\"\n            />\n        <access-rights\n            :accessrights.sync=\"accessrights\"\n            :item=\"workItem\"\n            />\n        <version-journal\n            :versionjournal.sync=\"versionjournal\"\n            :item=\"workItem\"\n            />\n        <error-ifcxml\n            :error_ifcxml.sync=\"error_ifcxml\"\n            />\n        <set-sp333-attribute\n            :SP333attr.sync=\"SP333attr\"\n            :SP333JSON=\"SP333JSON\"\n            :item=\"workItem\"\n            />\n        <collisions\n            :collisions.sync=\"collisions\"\n            :collisionsJSON.sync=\"collisionsJSON\"\n            />\n        <specification-xml\n            :specification_xml.sync=\"specification_xml\"\n            :item=\"workItem\"\n            />\n    </v-container>\n</v-flex>\n</v-layout>\n</v-container>\n</template>\n\n<script>\nimport { sortObj, getAccess, checklicense } from '@/utils/services'\nimport { v4 as uuidv4 } from 'uuid'\nimport * as JSZip from 'jszip'\n// import Worker from \"worker-loader\"\n\nimport TableGrid from './workflow_project/TableGrid'\nimport UploadFiles from './workflow_project/UploadFiles'\nimport ActionMenu from \"./workflow_project/ActionMenu\"\nimport RemoveSelected from './workflow_project/RemoveSelected'\nimport ReplaceItem from './workflow_project/ReplaceItem'\nimport CopyItem from './workflow_project/CopyItem'\nimport RenameItem from './workflow_project/RenameItem'\nimport RemoveItem from './workflow_project/RemoveItem'\nimport CreateFolder from './workflow_project/CreateFolder'\nimport CreateXml from './workflow_project/CreateXml'\nimport AccessRights from './workflow_project/AccessRights'\nimport VersionJournal from './workflow_project/Version'\nimport ErrorIfcxml from './workflow_project/ErrorIfcxml'\nimport SetSp333Attribute from './workflow_project/SetSp333Attribute'\nimport Collisions from './workflow_project/Collisions'\nimport SpecificationXml from './workflow_project/SpecificationXml'\n\nexport default {\n    name: 'WorkflowProject',\n    components: {\n        TableGrid,\n        UploadFiles,\n        ActionMenu,\n        RemoveSelected,\n        ReplaceItem,\n        CopyItem,\n        RenameItem,\n        RemoveItem,\n        CreateFolder,\n        AccessRights,\n        VersionJournal,\n        ErrorIfcxml,\n        SetSp333Attribute,\n        Collisions,\n        SpecificationXml,\n        CreateXml\n    },\n    props: ['id'],\n    data () {\n        return {\n            newFolder: false,\n            createXml: false,\n            accessrights: false,\n            folderTree: [],\n            search: '',\n            inwork: require('@/assets/images/gear.gif'),\n            table_type_list: [{\n                name: 'list',\n                icon: 'mdi-format-list-bulleted'\n            },{\n                name: 'grid',\n                icon: 'mdi-view-grid'\n            }],\n            headers: [\n                { text: '', value: 'sub', grid: false, sortable: false },\n                {\n                    text: '',\n                    align: 'left',\n                    sortable: false,\n                    value: 'src',\n                    grid: false\n                },\n                { text: 'Название', value: 'name', grid: true },\n                // { text: 'Ответственный за проект', value: 'user', grid: false },\n                { text: 'Дата создания', value: 'date', grid: false },\n                { text: 'Изменено', value: 'updated', grid: false },\n                { text: 'Создал', value: 'creator', grid: false },\n                { text: 'Версия', value: 'version', grid: true, align: 'center', sortable: false},\n                // { text: 'Статус', value: 'status', grid: true },\n                { text: 'tasks', value: 'tasks', grid: true, align: 'center', sortable: false },\n                { text: 'КСИ/СП', value: 'sp333', grid: true, align: 'center', sortable: false },\n                // { text: 'collisions', value: 'collisions', grid: true, align: 'center', sortable: false },\n                { text: '', value: 'action', sortable: false, grid: false },\n                ],\n            status: {\n                '0': 'На рассмотрении',\n                '1': 'На исправлении',\n                '2': 'Принят',\n                '3': 'Отказ'\n            },\n            noData: 'Нет данных',\n            uploadF: false,\n            selected: [],\n            sublist: [],\n            expandedlist: [],\n            removeSelectedFlag: false,\n            replaceItem: false,\n            remove_item: false,\n            replace_items: [],\n            copyItem: false,\n            renameItem: false,\n            workItem: null,\n            versionjournal: false,\n            error_ifcxml: false,\n            SP333JSON: {\n                list: [],\n                clue: []\n            },\n            SP333attr: false,\n            collisions: false,\n            collisionsJSON: null,\n            fileTypeList: ['ifc', 'rvt', 'zip', 'ifcxml', 'consolidations', 'pdf', 'dwg', 'dxf'],\n            specification_xml: false\n        }\n    },\n    computed: {\n        getHeaders(){\n            let list = []\n            this.headers.map(h => {\n                switch(h.value){\n                    case 'sp333': (checklicense('errorKSI') && list.push(h))\n                        break\n                    case 'tasks': (checklicense('tasksList') && list.push(h))\n                        break\n                    default: list.push(h)\n                }\n                // if(\n                //     (h.value == 'sp333' && checklicense('errorKSI')) ||\n                //     (h.value == 'tasks' && checklicense('tasksList'))\n                // ){\n                //     list.push(h)\n                // }\n                // else{\n                //     list.push(h)\n                // }\n            })\n            return list\n        },\n        workflow_project(){\n            let state = this.$store.state\n            let type = state.workflow.workflow_project\n            type = type ? type : 'list'\n            return type\n        },\n        checkFolder(){\n            let state = this.$store.state\n            let currentF = state.workflow.currentFolder\n            let folder = false\n            let item = state.workflow.foldersMap.filter(i => i.id == currentF)\n            if(item.length && !item[0].group){\n                folder = true\n            }\n            return folder\n        },\n        getPath(){\n            let state = this.$store.state\n            let currentF = state.workflow.currentFolder\n            let root = state.workflow.activeProject.info.name\n            let path = [{\n                id: 0,\n                name: root,\n                link: false\n            }]\n            if(currentF){\n                path[0].link = true\n                path.push(...this.searchPath(currentF).reverse())\n            }\n            this.selected = []\n            return path\n        },\n        getDocs(){\n            let state = this.$store.state\n            let project = state.workflow.activeProject\n            let users = state.administration.company.users\n            state = state.workflow\n            let currentF = state.currentFolder\n            let folders = state.foldersMap\n\n            let foldersList = folders.filter(f => f.parent == currentF)\n                .map(i => {\n                    let creator = ''\n                    users.map(u => {\n                        if(u.id == i.created_by){\n                            creator = u.first_name + ' ' + u.last_name\n                        }\n                    })\n                    let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n                    let date = new Date(i.created_at)\n                    let updated = new Date(i.updated_at)\n\n                    return {\n                        access: i.access,\n                        id: i.id,\n                        name: i.name,\n                        type: 'folder',\n                        group: i.group,\n                        sublist: !!i.group\n                            ? i.folders\n                                ? i.folders.map(p => p.folder)\n                                : []\n                            : [],\n                        inwork: false,\n                        user: project.info.in_charge_name,\n                        date: date.toLocaleDateString(\"ru-RU\", options),\n                        updated: updated.toLocaleDateString(\"ru-RU\", options),\n                        creator: creator,\n                        sp333: {\n                            type: '',\n                            value: ''\n                        }\n                    }\n                })\n            let foldersListTemp = JSON.parse(JSON.stringify(foldersList))\n            foldersList.map(f => {\n                if(!!f.group){\n                    f.sublist.map(s => {\n                        let elem = folders.find(e => e.id == s)\n                        if(elem){\n                            let creator = ''\n                            users.map(u => {\n                                if(u.id == elem.created_by){\n                                    creator = u.first_name + ' ' + u.last_name\n                                }\n                            })\n                            let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n                            let date = new Date(elem.created_at)\n                            let updated = new Date(elem.updated_at)\n\n                            let folder = {\n                                access: elem.access,\n                                id: elem.id,\n                                name: elem.name,\n                                type: 'folder',\n                                group: elem.group,\n                                sublist: !!elem.group ? elem.folders.map(p => p.folder) : [],\n                                inwork: false,\n                                user: project.info.in_charge_name,\n                                date: date.toLocaleDateString(\"ru-RU\", options),\n                                updated: updated.toLocaleDateString(\"ru-RU\", options),\n                                creator: creator,\n                                sp333: {\n                                    type: '',\n                                    value: ''\n                                }\n                            }\n                            foldersListTemp.push(folder)\n                        }\n                    })\n                }\n                return f\n            })\n            .map(f => {\n                if(!!f.group){\n                    let subs = f.sublist.reverse()\n                    foldersListTemp = foldersListTemp.map(i => i.id == f.id\n                            ? {...i, expanded: this.expandedlist.some(s => s == f.id)}\n                            : i\n                        )\n                    subs.map(c => {\n                        let index = foldersListTemp.map(t => t.id).indexOf(c)\n                        let elem = foldersListTemp.splice(index, 1)[0]\n                        elem.sub = true\n                        if(this.sublist.some(s => s == c)){\n                            index = foldersListTemp.map(t => t.id).indexOf(f.id)\n                            foldersListTemp.splice((index + 1), 0, elem)\n                        }\n                    })\n                }\n            })\n\n            let docs = state.listDocs.filter(i => i.folder == currentF && !i.is_deleted)\n            docs = sortObj(docs, 'created_at')\n            let tasks = state.taskList\n            docs = docs.map((d, j) => {\n                let task = tasks.find(t => t.docid == d.id)\n                d.task = task ? true : false\n                let creator = ''\n                users.map(u => {\n                    if(u.id == d.created_by){\n                        creator = u.first_name + ' ' + u.last_name\n                    }\n                })\n                let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n                let date = new Date(d.created_at)\n                let updated = new Date(d.updated_at)\n                return {...d,\n                    creator: creator,\n                    version: d.version\n                        ? (() => {\n                            let vers = d.files.filter(f => f.id == d.version)\n                            return vers ? vers[0].version : d.files[0].version\n                        })()\n                        : d.files && d.files.length\n                            ? d.files[0].version\n                            : 1,\n                    versionID: d.version || d.files && d.files.length\n                        ? d.files[0].id\n                        : 1,\n                    date: date.toLocaleDateString(\"ru-RU\", options),\n                    updated: updated.toLocaleDateString(\"ru-RU\", options),\n                    // meta: JSON.parse(this.decodeHtmlCharCodes(d.meta)),\n                    user: project.info.in_charge_name,\n                    sp333: function(){\n                        if(!d.tags){\n                            return {\n                                type: '',\n                                value: ''\n                            }\n                        }\n                        if(d.tags.hasOwnProperty('class.error.json')){\n                            return {\n                                type: 'class.error',\n                                value: d.tags['class.error.json'],\n                                title: 'Классификатор Строительной Информации'\n                            }\n                        }\n                        if(d.tags.hasOwnProperty('attribute.error.json')){\n                            return {\n                                type: 'attribute.error',\n                                value: d.tags['attribute.error.json'],\n                                title: 'Классификатор Строительной Информации'\n                            }\n                        }\n                        if(d.tags.hasOwnProperty('classerror.json')){\n                            return {\n                                type: 'classerror',\n                                value: d.tags['classerror.json'],\n                                title: 'Классификатор Строительной Информации'\n                            }\n                        }\n                        if(d.tags.hasOwnProperty('classerror.onlyempty.json')){\n                            return {\n                                type: 'classerror.onlyempty',\n                                value: d.tags['classerror.onlyempty.json'],\n                                title: 'Классификатор Строительной Информации'\n                            }\n                        }\n                        if(d.tags.hasOwnProperty('warning.json')){\n                            return {\n                                type: 'warning',\n                                value: d.tags['warning.json'],\n                                title: 'СП333'\n                            }\n                        }\n                        if(d.tags.hasOwnProperty('error.json')){\n                            return {\n                                type: 'error',\n                                value: d.tags['error.json'],\n                                title: 'СП333'\n                            }\n                        }\n                        return {\n                            type: '',\n                            value: ''\n                        }\n                    }(),\n                    collisions: (() => {\n                        if(!d.tags){\n                            return 0\n                        }\n                        if(d.tags.hasOwnProperty('collisions.json')){\n                            return d.tags['collisions.json']\n                        }\n                        return 0\n                    })()\n                }\n            })\n            let tempDocs = JSON.parse(JSON.stringify(docs))\n            docs.map(d => {\n                if(d.consolidations){\n                    let subs = d.consolidations.reverse()\n                    tempDocs = tempDocs.map(i => i.id == d.id\n                            ? {...i, sublist: d.consolidations, expanded: this.expandedlist.some(s => s == d.id)}\n                            : i\n                        )\n                    subs.map(c => {\n                        let index = tempDocs.map(t => t.id).indexOf(c)\n                        let elem = tempDocs.splice(index, 1)[0]\n                        elem.sub = true\n                        if(this.sublist.some(s => s == c)){\n                            index = tempDocs.map(t => t.id).indexOf(d.id)\n                            tempDocs.splice((index + 1), 0, elem)\n                        }\n                    })\n                }\n            })\n\n            let list = [...foldersListTemp, ...tempDocs]\n\n            return list\n        },\n        cardActionStyle(){\n            let width = 0\n            let left = 0\n            if(this.selected.length){\n                let box = this.$refs['wrap'].getBoundingClientRect()\n                width = box.width\n                left = box.x\n            }\n            return {width: width + 'px', left: left + 'px'}\n        },\n        getReplaceItems(){\n            let replaced = {\n                type: '',\n                items: []\n            }\n            if(!this.replace_items.length){\n                replaced.items = this.selected\n                replaced.type = 'selected'\n            }\n            else{\n                replaced.items = this.replace_items\n                replaced.type = 'pointer'\n            }\n            return replaced\n        },\n    },\n    methods: {\n        checkLicense(v){\n            return checklicense(v)\n        },\n        expandSub(i){\n            if(!i.sublist){\n                return\n            }\n            if(!i.expanded){\n                this.expandedlist.push(i.id)\n                this.sublist = [...this.sublist, ...i.sublist]\n            }\n            else{\n                this.expandedlist = this.expandedlist.filter(f => f != i.id)\n                let list = this.sublist\n                i.sublist.map(m => {\n                    list = list.filter(f => f != m)\n                })\n                this.sublist = list\n            }\n        },\n        decodeHtmlCharCodes(str){\n            return str.replace(/(&#(\\d+);)/g, (match, capture, charCode) =>\n                String.fromCharCode(charCode)\n            )\n        },\n        checkTypeFiles(o){\n            let checkTypes = this.$store.state.workflow.fileTypeConversion\n            let len = false\n            switch(o.count){\n                case 'one': len = this.selected.length == 1\n                    break\n                case 'lot': len = this.selected.length > 1\n                    break\n                default:\n                    len = true\n            }\n            if(this.selected.some(s => s.type == 'folder')\n                    // || !this.selected.some(s => checkTypes.some(c => s.type == c))\n                    || !this.selected.some(s => o.type.some(c => s.type == c))\n                    || !this.selected.every((e, i, ar) => e.type == ar[0].type)\n                    || !len){\n                return false\n            }\n            else{\n                return true\n            }\n        },\n        // delta(){\n        //     let file = this.selected[0]\n        //     this.$store.dispatch('workflow/getDelta', {id: file.id})\n        //     .then(res => {\n        //         console.log('get delta', res)\n        //     })\n        // },\n        onSpecificationXml(i){\n            this.workItem = i\n            this.specification_xml = true\n        },\n        getAccess(a, b , c){\n            return getAccess(a, b, c)\n        },\n        getAccessSelected(power, ar){\n            if(!this.selected.length){\n                return true\n            }\n            else{\n                let access = true\n                let ini = 15\n                let r = this.selected.reduce((a, c) => a & c.access, ini)\n                access = access && getAccess(r, power, ar)\n                return !!access\n            }\n        },\n        convertationIFCXML(i){\n            let file = i.version ? i.files.find(f => f.version == i.version) : i.files[0]\n            this.$store.dispatch('workflow/convertationTag', {\n                uuid: file.url,\n                tag: 'ifcxml.zip'\n            })\n            .then(res => {\n                let list = this.$store.state.workflow.listSocket\n                list = list.map(s => {\n                    if(s.inworkId == i.id){\n                        s.url = i.files.find(f => f.version == i.version).url\n                    }\n                    return s\n                })\n                Promise.all([\n                    this.$store.commit('workflow/setListSocket', list)\n                ])\n                .then(() => {\n                    this.$store.dispatch('workflow/onSocket')\n                })\n            })\n        },\n        setCollisions(i){\n            this.workItem = i\n            this.collisionsJSON = null\n            this.collisions = true\n            let url = i.files.filter(f => f.id == i.versionID)[0].url\n\n            this.$store.dispatch('common/getFileInfo', {\n                id: url + '/collisions.json'\n            })\n            .then(res => {\n                this.collisionsJSON = res\n            })\n        },\n        setSP333Attr(i){\n            this.workItem = i\n            this.SP333JSON = {\n                list: [],\n                clue: []\n            }\n            this.SP333attr = true\n        },\n        replaceItems(ar = []){\n            this.replace_items = ar\n            this.replaceItem = true\n        },\n        copyItems(ar = []){\n            this.replace_items = ar\n            this.copyItem = true\n        },\n        renameitem(i){\n            this.workItem = i\n            this.renameItem = true\n        },\n        checkSelected(i){\n            return this.selected.some(s => s.id == i.id)\n        },\n        selectRow(e){\n            let list = e.items\n            list = list.filter(i => i.inwork !== true && getAccess(i.access, 'or', [1, 2]))\n\n            if(this.selected.length != list.length){\n                this.selected = list\n            }\n            else{\n                this.selected = []\n            }\n        },\n        searchPath(id, link = false){\n            let map = this.$store.state.workflow.foldersMap\n            let folder = map.filter(i => i.id == id)[0]\n            folder = folder || false\n            if(!folder){\n                return []\n            }\n            let path = [{\n                id: folder.id,\n                name: folder.name,\n                link: link\n            }]\n            if(folder.parent){\n                path.push(...this.searchPath(folder.parent, true))\n            }\n            return path\n        },\n        getDct(i){\n            if(!this.fileTypeList.some(s => s == i.type)){\n                return\n            }\n            this.$router.push({\n                name: 'workflow-view',\n                params: {\n                    id: this.$route.params.id,\n                    doc: i.id,\n                    list: null\n                }\n            })\n            // if(i.type == 'consolidations'){\n            //     let list = this.getDocs.filter(l => i.consolidations.some(s => s == l.id))\n            //     this.$router.push({\n            //         name: 'workflow-view',\n            //         params: {\n            //             id: this.$route.params.id,\n            //             doc: 'consolidation',\n            //             list: list\n            //         },\n            //         query: list.reduce((obj, item, i) => {\n            //             return {\n            //                 ...obj,\n            //                 ['id' + i]: item.id\n            //             }\n            //         }, {})\n            //     })\n            // }\n            // else{\n            //     this.$router.push({\n            //         name: 'workflow-view',\n            //         params: {\n            //             id: this.$route.params.id,\n            //             doc: i.id,\n            //             list: null\n            //         }\n            //     })\n            // }\n        },\n        setConsolidations(i){\n            let state = this.$store.state.workflow\n            let parentID = state.currentFolder\n            let parentLength = state.foldersMap.filter(f => f.parent == parentID).length\n            let parentFiles = state.foldersMap.find(f => f.id == parentID).files\n            parentFiles = parentFiles ? parentFiles.length : 0\n            parentLength += parentFiles\n            let name = this.selected.map((s, i) => {\n                return s.name\n            }).join(', ')\n            let consolidations = this.selected.map((s, i) => {\n                return s.id\n            })\n\n            let body = {\n                id: uuidv4(),\n                name: name,\n                order: parentLength,\n                folder: parentID,\n                files: null,\n                consolidations: consolidations\n            }\n\n            this.$store.dispatch('workflow/addDoc', body)\n            .then(res => {\n                return this.$store.dispatch('administration/setFilesPermissions', {\n                    id: res.id,\n                    body: {\n                        id: res.id,\n                        users: [{\n                            id: this.$store.state.administration.user.id + '',\n                            email: this.$store.state.administration.user.email,\n                            full_name: this.$store.state.administration.user.first_name + ' ' + this.$store.state.administration.user.last_name,\n                            can_open: true,\n                            can_edit: true,\n                            can_download: true,\n                            can_comment: true\n                        }],\n                        groups: this.$store.state.administration.groupPermissions.map(p => {\n                            return {\n                                id: p.id,\n                                name: p.name,\n                                can_open: true,\n                                can_edit: true,\n                                can_download: true,\n                                can_comment: true\n                            }\n                        })\n                    }\n                })\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(() => {\n                return this.$store.dispatch('administration/getFilesPermissions')\n            })\n            .then(() => {\n                this.$store.dispatch('workflow/createFoldersMap')\n                this.selected = []\n            })\n        },\n        removeDct(item){\n            let listPromises = []\n\n            listPromises.push(this.$store.dispatch('workflow/removeDoc', item))\n\n            // let state = this.$store.state.workflow\n            // let currentF = state.currentFolder\n            //\n            // let folder = state.foldersMap.filter(i => i.id == currentF)[0] || null\n            // if(folder && !folder.group){\n            //     let files = sortObj(folder.files.filter(i => i.id != item.id), 'order')\n            //     files.map((i, j) => {\n            //         listPromises.push(this.$store.dispatch('workflow/addDoc', {\n            //             id: i.id,\n            //             name: i.name,\n            //             order: j,\n            //             folder: i.folder\n            //         }))\n            //     })\n            // }\n\n            Promise.all(listPromises)\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                this.$store.dispatch('workflow/createFoldersMap')\n            })\n        },\n        removeFolder(i){\n            this.$store.dispatch('workflow/removeFolder', {uuid: i.id})\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                this.$store.dispatch('workflow/createFoldersMap')\n            })\n        },\n        removeItem(i){\n            this.remove_item = true\n            this.workItem = i\n        },\n        removeSelected(){\n            let list = this.selected\n            let listPromises = []\n            let state = this.$store.state.workflow\n            let currentF = state.currentFolder\n            currentF = state.foldersMap.filter(f => f.id == currentF)[0]\n            let listFiles = currentF\n                ? currentF.files\n                    ? JSON.parse(JSON.stringify(currentF.files))\n                    : []\n                : []\n\n            list.map(i => {\n                if(i.type == 'folder'){\n                    if(!!i.group){\n                        let group = state.foldersMap.filter(g => g.id == g.id)[0]\n                        let list = group.folders || []\n                        list.map((f, j) => {\n                            listPromises.push(this.$store.dispatch('workflow/removeFolder', {uuid: f.folder}))\n                        })\n                        let g_model = {\n                            name: group.name,\n                            order: group.order,\n                            created_at: group.created_at,\n                            created_by: group.created_by,\n                            updated_at: group.updated_at,\n                            updated_by: group.updated_by,\n                            folders: group.folders\n                        }\n                        group = g_model\n\n                        listPromises.push(this.$store.dispatch('workflow/removeGroup', group))\n                    }\n                    else{\n                        listPromises.push(this.$store.dispatch('workflow/removeFolder', {uuid: i.id}))\n                    }\n                }\n                else{\n                    listPromises.push(this.$store.dispatch('workflow/removeDoc', i))\n                    if(currentF && !currentF.group){\n                        listFiles = listFiles.filter(f => f.id != i.id)\n                    }\n                }\n            })\n\n            // if(currentF && currentF.files && currentF.files.length != listFiles.length){\n            //     listFiles = sortObj(listFiles, 'order')\n            //     listFiles.map((f, j) => {\n            //         listPromises.push(this.$store.dispatch('workflow/addDoc', {\n            //             id: f.id,\n            //             name: f.name,\n            //             order: j,\n            //             folder: f.folder\n            //         }))\n            //     })\n            // }\n\n            Promise.all(listPromises)\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                return this.$store.dispatch('workflow/createFoldersMap')\n            })\n            .then(res => {\n                this.selected = []\n            })\n        },\n        openFolder(i){\n            this.$store.commit('workflow/setCurrentFolder', i.id)\n        },\n        accessRights(i){\n            this.accessrights = true\n            this.workItem = i\n        },\n        versionJournal(i){\n            this.versionjournal = true\n            this.workItem = i\n        },\n        errorIFCXML(){\n            this.error_ifcxml = true\n        },\n        setTableType(v){\n            this.$store.commit('workflow/setTableType', {\n                name: 'workflow_project',\n                value: v\n            })\n        },\n        clearSelected(type){\n            if(type == 'selected'){\n                this.selected = []\n            }\n            else{\n                this.replace_items = []\n            }\n        },\n        upload(){\n            this.uploadF = true\n        },\n        downloadFile(f){\n            let url = ''\n            let name = ''\n            if(f.type !== 'ifcxml'){\n                url = f.file.files[0].url\n                name = f.file.name\n            }\n            else{\n                url = f.file.files[0].url + '/ifcxml.zip'\n                name = f.file.name_short + '.ifcxml.zip'\n            }\n\n            let uuid = uuidv4()\n            this.$store.dispatch('common/setUploadNote', [{\n                name: f.file.name,\n                uuid: uuid,\n                action: 'download',\n                pushin: true\n            }])\n            this.$store.dispatch('common/getFile', {\n                id: url,\n                uuid: uuid,\n                typeBlob: 'blob'\n            })\n            .then(res => {\n                this.$store.dispatch('common/setUploadNote', [{\n                    uuid: uuid,\n                    action: 'download',\n                    pushin: false\n                }])\n                if(!res.error){\n                    let a = document.createElement(\"a\")\n                    let objectURL = URL.createObjectURL(res.file)\n                    a.href = objectURL\n                    a.download = name\n                    document.body.appendChild(a)\n                    a.click()\n                    URL.revokeObjectURL(objectURL)\n                    a.remove()\n                }\n                else{\n                    console.log('downloadFile error', err)\n                }\n            })\n            .catch(err => {\n                console.log('downloadFile error', err)\n            })\n        },\n        download(){\n            let list = this.selected\n            let listPromises = []\n            let listFilename = []\n            list.map(f => {\n                if(f.type !== 'folder'){\n                    let file = f.files[0]\n                    let uuid = uuidv4()\n                    this.$store.dispatch('common/setUploadNote', [{\n                        name: f.name,\n                        uuid: uuid,\n                        action: 'download',\n                        pushin: true\n                    }])\n                    listFilename.push({\n                        id: file.url,\n                        uuid: uuid,\n                        name: f.name\n                    })\n                    listPromises.push(this.$store.dispatch('common/getFile', {\n                        id: file.url,\n                        name: f.name,\n                        uuid: uuid\n                    }))\n                }\n            })\n\n            if(!listFilename.length){\n                return\n            }\n            Promise.all(listPromises)\n            .then(res => {\n                let zip = new JSZip()\n                let resultat = res\n                    .filter(f => !f.error)\n                    .map((r, j) => {\n                        let file = listFilename.find(n => n.id == r.id)\n                        this.$store.dispatch('common/setUploadNote', [{\n                            uuid: r.uuid,\n                            action: 'download',\n                            pushin: false\n                        }])\n                        zip.file(file.name, r.file)\n                        URL.revokeObjectURL(r.file)\n                        return j\n                    })\n                return resultat.length ? zip.generateAsync({type: 'base64'}) : null\n            })\n            .then(res => {\n                if(res){\n                    let a = document.createElement(\"a\")\n                    a.href = \"data:application/zip;base64,\" + res\n                    a.download = 'unitbimprojectfiles.zip'\n                    document.body.appendChild(a)\n                    a.click()\n                    a.remove()\n                }\n            })\n        },\n        searchFolder(tree, folder, list = []){\n            for(let i = 0, len = tree.length; i < len ; i++){\n                if(tree[i].data.path == folder){\n                    list = tree[i].children\n                    return list\n                }\n                else{\n                    list = this.searchFolder(tree[i].children, folder, list)\n                    if(list.length){\n                        return list\n                    }\n                }\n            }\n            return list\n        },\n        createTree(ar){\n            let result = []\n            let level = {result}\n\n            ar.map(path => {\n                let a = path.split('/').slice(1)\n\n                a.reduce((r, title, i, a) => {\n                    if(!r[title]){\n                        r[title] = {result: []}\n                        r.result.push({\n                            title,\n                            data: {path: path},\n                            isExpanded: false,\n                            children: r[title].result\n                        })\n                    }\n\n                    return r[title]\n                }, level)\n            })\n            result = [{\n                title: '',\n                data: {path: '/'},\n                children: result\n            }]\n            return result\n        },\n        createFolder(v){\n            let state = this.$store.state.workflow\n            let currentF = state.currentFolder\n            if(currentF){\n                currentF = state.foldersMap.filter(i => i.id == currentF)[0]\n            }\n\n            let parent = currentF ? currentF.id : 0\n            let list = state.foldersMap.filter(i => i.parent == parent && !i.group)\n\n            let id = uuidv4()\n            let folder = {\n                id: id,\n                parent: currentF\n                    ? currentF.group\n                        ? id\n                        : currentF.id\n                    : id,\n                name: this.checkTween(list, v.name),\n                order: list.length\n            }\n\n            let group = false\n            if(currentF && currentF.group){\n                group = state.foldersMap.filter(i => i.id == currentF.id)[0]\n\n                let g_model = {\n                    name: group.name,\n                    order: group.order,\n                    created_at: group.created_at,\n                    created_by: group.created_by,\n                    updated_at: group.updated_at,\n                    updated_by: group.updated_by,\n                    folders: group.folders || []\n                }\n                group = g_model\n            }\n\n            this.$store.dispatch('workflow/addFolder', folder)\n            .then(res => {\n                this.$notify({\n                    group: 'note',\n                    type: res.notify ? 'success' : 'error',\n                    text: res.notify\n                        ? 'Создана папка ' + res.name\n                        : 'Ошибка: ' + res.data.error\n                })\n                if(res.notify){\n                    let listPromises = []\n                    if(group){\n                        group.folders.push({folder: res.id, order: 0})\n                        listPromises.push(this.$store.dispatch('workflow/addGroup', group))\n                    }\n                    let perms = this.$store.state.administration.folderPermissions\n                    if(!perms || !perms.find(f => f.id == currentF.id)){\n                        let getUser = this.$store.state.administration.user\n                        perms = {\n                            users: [{\n                                id: getUser.id + '',\n                                email: getUser.email,\n                                full_name: getUser.first_name + ' ' + getUser.last_name,\n                                can_open: true,\n                                can_edit: true,\n                                can_download: true,\n                                can_comment: true\n                            }]\n                        }\n                    }\n                    else{\n                        perms = perms.find(f => f.id == currentF.id)\n                    }\n\n                    listPromises.push(this.$store.dispatch('administration/setFolderPermissions', {\n                        id: res.id,\n                        body: {\n                            id: res.id,\n                            users: perms.users,\n                            groups: this.$store.state.administration.groupPermissions.map(p => {\n                                return {\n                                    id: p.id,\n                                    name: p.name,\n                                    can_open: true,\n                                    can_edit: true,\n                                    can_download: true,\n                                    can_comment: true\n                                }\n                            }),\n                        }\n                    }))\n                    return Promise.all(listPromises)\n                }\n                else{\n                    return Promise.reject('Ошибка: ' + res.data.error)\n                }\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getFolders')\n            })\n            .then(() => {\n                return this.$store.dispatch('workflow/getGroups')\n            })\n            .then(res => {\n                return this.$store.dispatch('workflow/createFoldersMap')\n            })\n            .then(() => {\n                return this.$store.dispatch('administration/getFoldersPermissions')\n            })\n            .catch(er => {\n                console.log(er)\n            })\n        },\n        checkTween(ar, v){\n            let name = v\n            ar.map(i => {\n                if(i.name == name){\n                    name += '0'\n                }\n            })\n            return name\n        },\n    },\n    created(){\n        let workflow = this.$store.state.workflow\n        let project = workflow.projects.filter(i => i.id == this.$route.params.id)\n        project = JSON.parse(JSON.stringify(project[0])) || null\n\n        let projectName = project ? project.info.name : ''\n\n        let title = [\n            {title: 'Документооборот', path: '/workflow'},\n            {title: projectName, path: ''}\n        ]\n        let clearPath = []\n        if(!workflow.activeProject || this.id != workflow.activeProject.id){\n            clearPath = [this.$store.commit('workflow/setExpanded', []),\n            this.$store.commit('workflow/setCurrentFolder', 0)]\n        }\n        this.$store.commit('toolbar/setTitle', title)\n        Promise.all([\n            this.$store.commit('workflow/setActiveProject', project),\n            ...clearPath,\n            this.$store.dispatch('workflow/getFolders'),\n            this.$store.dispatch('workflow/getGroups'),\n            this.$store.dispatch('administration/getFoldersPermissions'),\n            this.$store.dispatch('administration/getFilesPermissions'),\n            this.$store.dispatch('workflow/getTaskProject', {\n                type_id: 'c',\n                id: this.$store.state.administration.company.id,\n                project_uuid: project.id,\n                filter: {}\n            })\n        ])\n        .finally(res => {\n            this.$store.dispatch('workflow/createFoldersMap')\n        })\n    },\n    mounted(){\n        // let worker = new Worker('../../worker.js')\n        // let worker = new Worker('../../worker.js', { type: \"module\" })\n        // const worker = new Worker(new URL('./worker.js', import.meta.url))\n    },\n    beforeCreate(){\n        this.$store.commit('workflow/setFoldersMap', [])\n        this.$store.commit('workflow/setListDocs', [])\n    },\n    beforeDestroy(){\n        this.$store.commit('workflow/setTaskList', [])\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowProject.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowProject.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./WorkflowProject.vue?vue&type=template&id=26dce73e\"\nimport script from \"./WorkflowProject.vue?vue&type=script&lang=js\"\nexport * from \"./WorkflowProject.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c(VContainer,{staticClass:\"m-container--height work-place\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pt-0\":\"\"}},[_c('div',{ref:\"header\",staticClass:\"w-3 task-header\",style:(_vm.header_style)},[_c('div',{staticClass:\"m-flex pt-6 pb-3 pselect\"},[_c('span',{staticClass:\"m-flex--item__auto pr-3 m-text--size13\"},[_vm._v(\"Выберите проект:\")]),_c('div',{staticClass:\"m-flex--item\"},[_c(VAutocomplete,{staticClass:\"pa-0 ma-0 m-text--size16\",attrs:{\"items\":_vm.projects,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"placeholder\":\" \",\"dense\":\"\"},on:{\"change\":_vm.getTasks},model:{value:(_vm.project),callback:function ($$v) {_vm.project=$$v},expression:\"project\"}})],1)]),_c('div',{staticClass:\"task-wrap\"},_vm._l((_vm.statusList),function(group){return _c('div',{staticClass:\"task\"},[_c('p',{staticClass:\"m-text--size16 ma-0 px-4 py-3\"},[_vm._v(_vm._s(group.name))])])}),0)]),_c('div',{staticClass:\"task-wrap task-wrap--body\"},_vm._l((_vm.tasks111),function(group){return _c('Container',{key:group.name,staticClass:\"task\",attrs:{\"group-name\":\"1\"},on:{\"drop\":function($event){return _vm.onDrop(group.group, $event)},\"drop-ready\":function($event){return _vm.onEnter($event)}}},_vm._l((group.items),function(item){return _c('Draggable',{key:item.task_id},[_c('div',{staticClass:\"draggable-item\"},[_c('task',{attrs:{\"item\":item,\"editItem\":_vm.editItem},on:{\"update:editItem\":function($event){_vm.editItem=$event},\"update:edit-item\":function($event){_vm.editItem=$event}}})],1)])}),1)}),1),(_vm.editItem)?_c('tools',{attrs:{\"editItem\":_vm.editItem,\"h_style\":_vm.header_style},on:{\"update:editItem\":function($event){_vm.editItem=$event},\"update:edit-item\":function($event){_vm.editItem=$event}}}):_vm._e(),(_vm.editItem)?_c('div',{staticClass:\"overlay\"}):_vm._e()],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"cursor-move\",attrs:{\"color\":\"#fff\"}},[_c('div',{staticClass:\"d-flex\"},[_c(VCardTitle,{staticClass:\"m-text--size16 m-text--color-4a5568 pb-0\"},[_vm._v(\"\\n            \"+_vm._s(_vm.item.name)+\"\\n        \")]),_c(VSpacer),_c(VAvatar,{staticClass:\"ma-4 mb-0\",attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":_vm.item.avatar}})])],1),_c(VCardSubtitle,{staticClass:\"pt-1\"},[_vm._v(_vm._s(_vm.item.dname))]),_c(VDivider),_c('div',{staticClass:\"py-0 px-4\"},[_c(VImg,{attrs:{\"src\":_vm.item.src,\"height\":\"200px\"}})],1),_c(VDivider),_c(VCardActions,{staticClass:\"py-3 pr-2 pl-0 pb-0\"},[_c('div',[_c(VCardSubtitle,{staticClass:\"py-0\"},[_vm._v(\"Создан \"+_vm._s(_vm.getDate(_vm.item.create))+\"\\n            \")]),_c(VCardSubtitle,{staticClass:\"py-0\"},[_vm._v(\"До\\n                \"+_vm._s(_vm.getDate(_vm.item.deadline))+\"\\n            \")])],1),_c(VSpacer)],1),_c(VCardActions,{staticClass:\"py-3 pr-2 pl-0 pt-0\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.editTask(_vm.item)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.checkOwner(_vm.item.owner) ? 'Редактировать' : 'Подробнее')+\"\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card\n        class=\"cursor-move\"\n        color=\"#fff\">\n        <div class=\"d-flex\">\n            <v-card-title class=\"m-text--size16 m-text--color-4a5568 pb-0\">\n                {{item.name}}\n            </v-card-title>\n            <v-spacer />\n            <v-avatar\n                class=\"ma-4 mb-0\"\n                size=\"30\">\n                <img\n                    :src=\"item.avatar\"\n                >\n            </v-avatar>\n        </div>\n        <v-card-subtitle class=\"pt-1\">{{item.dname}}</v-card-subtitle>\n\n        <v-divider></v-divider>\n        <div class=\"py-0 px-4\">\n            <v-img\n                :src=\"item.src\"\n                height=\"200px\"\n            ></v-img>\n        </div>\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"py-3 pr-2 pl-0 pb-0\">\n            <div>\n                <v-card-subtitle class=\"py-0\">Создан {{getDate(item.create)}}\n                </v-card-subtitle>\n                <v-card-subtitle class=\"py-0\">До\n                    {{getDate(item.deadline)}}\n                </v-card-subtitle>\n            </div>\n            <v-spacer></v-spacer>\n\n        </v-card-actions>\n        <v-card-actions class=\"py-3 pr-2 pl-0 pt-0\">\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                color=\"primary\"\n                class=\"m-btn\"\n                @click=\"editTask(item)\"\n            >\n            {{checkOwner(item.owner) ? 'Редактировать' : 'Подробнее'}}\n            </v-btn>\n\n        </v-card-actions>\n\n    </v-card>\n</template>\n\n<script>\nexport default {\n    name: 'Task',\n    props: ['item', 'editItem'],\n    data(){\n        return {\n        }\n    },\n    computed: {\n        getOwner(){\n            return this.$store.state.administration.user.id\n        }\n    },\n    methods: {\n        checkOwner(v){\n            return this.getOwner == v\n        },\n        editTask(i){\n            this.$emit('update:editItem', i)\n        },\n        getDate(d){\n            let options = {year: '2-digit', month: 'short', day: '2-digit'}\n            return (new Date(d)).toLocaleDateString(\"ru-RU\", options)\n        },\n    }\n}\n</script>\n\n<style scoped>\n\n.cursor-move {\n    cursor: move;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Task.vue?vue&type=template&id=9f8fc122&scoped=true\"\nimport script from \"./Task.vue?vue&type=script&lang=js\"\nexport * from \"./Task.vue?vue&type=script&lang=js\"\nimport style0 from \"./Task.vue?vue&type=style&index=0&id=9f8fc122&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f8fc122\",\n  null\n  \n)\n\nexport default component.exports","import { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VNavigationDrawer,{staticClass:\"m-navigator-tools m-navigator-no-scroll px-2 pr-0\",style:(_vm.h_style),attrs:{\"permanent\":\"\",\"fixed\":\"\",\"floating\":\"\",\"width\":_vm.tools_width,\"right\":\"\",\"clipped\":\"\",\"color\":\"transparent\"}},[_c(VLayout,{staticClass:\"ma-0\",attrs:{\"fill-height\":\"\"}},[_c('div',{staticClass:\"m-overflow-hidden m-tools-content\"},[_c(VLayout,{staticClass:\"ma-0\",attrs:{\"fill-height\":\"\"}},[_c('task-create',{attrs:{\"item\":_vm.editItem},on:{\"cancel\":_vm.cancel}})],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCard,{staticClass:\"m-overhead m-overhead--white d-block pa-4 overflow-auto\"},[_c(VRow,{staticClass:\"d-block\"},[_c('div',{staticClass:\"d-flex\"},[_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1)]),_c(VTextField,{attrs:{\"disabled\":!_vm.checkOwner(),\"label\":\"Название задачи\",\"placeholder\":\" \"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c(VSelect,{attrs:{\"items\":_vm.statusList,\"item-text\":\"name\",\"item-value\":\"value\",\"persistent-hint\":\"\",\"label\":\"Статус\",\"placeholder\":\" \"},model:{value:(_vm.selectStatus),callback:function ($$v) {_vm.selectStatus=$$v},expression:\"selectStatus\"}}),_c(VAutocomplete,{attrs:{\"disabled\":!_vm.checkOwner(),\"label\":\"Ответственный за проект\",\"placeholder\":\" \",\"items\":_vm.managers,\"chips\":\"\",\"item-text\":\"name\",\"item-value\":\"id\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c(VChip,_vm._b({attrs:{\"dark\":\"\",\"input-value\":data.selected,\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeChips()}}},'v-chip',data.attrs,false),[_c(VAvatar,{attrs:{\"left\":\"\"}},[_c(VImg,{attrs:{\"src\":data.item.avatar}})],1),_vm._v(\"\\n                \"+_vm._s(data.item.name)+\"\\n            \")],1)]}},{key:\"item\",fn:function(data){return [_c(VListItemAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{attrs:{\"src\":data.item.avatar}})]),_c(VListItemContent,[_c(VListItemTitle,{domProps:{\"innerHTML\":_vm._s(data.item.name)}}),_c(VListItemSubtitle,{domProps:{\"innerHTML\":_vm._s(data.item.role)}})],1)]}}]),model:{value:(_vm.manager),callback:function ($$v) {_vm.manager=$$v},expression:\"manager\"}}),_c(VMenu,{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VTextField,_vm._g({staticClass:\"mb-4\",attrs:{\"disabled\":!_vm.checkOwner(),\"label\":\"Дата выполнения\",\"readonly\":\"\",\"placeholder\":\" \"},model:{value:(_vm.computedDateFormatted),callback:function ($$v) {_vm.computedDateFormatted=$$v},expression:\"computedDateFormatted\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c(VDatePicker,{ref:\"picker\",attrs:{\"landscape\":true,\"locale\":\"ru\",\"max\":\"2050-01-01\",\"min\":\"1950-01-01\"},on:{\"change\":_vm.save},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_c('div',{staticClass:\"py-4\",staticStyle:{\"position\":\"relative\"}},[_c('label',{staticClass:\"v-label v-label--active theme--light\",staticStyle:{\"left\":\"0px\",\"right\":\"auto\",\"position\":\"absolute\",\"max-width\":\"133%\",\"-webkit-transform\":\"translateY(-18px) scale(0.75)\",\"transform\":\"translateY(-18px) scale(0.75)\",\"-webkit-transform-origin\":\"top left\",\"transform-origin\":\"top left\"},attrs:{\"for\":\"input-477\"}},[_vm._v(\"Картинка ошибки\")]),_c(VImg,{attrs:{\"src\":this.item.src}})],1),_c(VTextarea,{attrs:{\"disabled\":!_vm.checkOwner(),\"label\":\"Описание\",\"placeholder\":\" \",\"multi-line\":\"\",\"rows\":\"3\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c(VCardActions,{staticClass:\"pa-0\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.sendTask}},[_vm._v(\"\\n        Применить\\n        \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"m-overhead m-overhead--white d-block pa-4 overflow-auto\">\n        <v-row class=\"d-block\">\n        <div class=\"d-flex\">\n            <v-spacer />\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </div>\n    </v-row>\n\n        <v-text-field\n            :disabled=\"!checkOwner()\"\n            label=\"Название задачи\"\n            placeholder=\" \"\n            v-model=\"name\"\n        />\n\n        <v-select\n            v-model=\"selectStatus\"\n            :items=\"statusList\"\n            item-text=\"name\"\n            item-value=\"value\"\n            persistent-hint\n            label=\"Статус\"\n            placeholder=\" \"\n        />\n\n        <v-autocomplete\n            :disabled=\"!checkOwner()\"\n            label=\"Ответственный за проект\"\n            placeholder=\" \"\n            :items=\"managers\"\n            v-model=\"manager\"\n            chips\n            item-text=\"name\"\n            item-value=\"id\"\n            >\n            <template v-slot:selection=\"data\">\n                <v-chip\n                    dark\n                    v-bind=\"data.attrs\"\n                    :input-value=\"data.selected\"\n                    close\n                    @click:close=\"removeChips()\"\n                >\n                    <v-avatar\n                        left\n                    >\n                        <v-img :src=\"data.item.avatar\"></v-img>\n                    </v-avatar>\n                    {{ data.item.name }}\n                </v-chip>\n            </template>\n\n            <template v-slot:item=\"data\">\n                <v-list-item-avatar size=\"30\">\n                    <img :src=\"data.item.avatar\">\n                </v-list-item-avatar>\n                <v-list-item-content>\n                    <v-list-item-title v-html=\"data.item.name\"></v-list-item-title>\n                    <v-list-item-subtitle v-html=\"data.item.role\"></v-list-item-subtitle>\n                </v-list-item-content>\n            </template>\n        </v-autocomplete>\n\n        <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"290px\"\n            >\n            <template v-slot:activator=\"{ on }\">\n                <v-text-field\n                    :disabled=\"!checkOwner()\"\n                    class=\"mb-4\"\n                    v-model=\"computedDateFormatted\"\n                    label=\"Дата выполнения\"\n                    readonly\n                    placeholder=\" \"\n                    v-on=\"on\"\n                />\n            </template>\n            <v-date-picker\n                ref=\"picker\"\n                v-model=\"date\"\n                :landscape=\"true\"\n                locale=\"ru\"\n                max=\"2050-01-01\"\n                min=\"1950-01-01\"\n                @change=\"save\"\n            ></v-date-picker>\n        </v-menu>\n\n        <div class=\"py-4\" style=\"position: relative;\">\n            <label for=\"input-477\" class=\"v-label v-label--active theme--light\" style=\"left: 0px; right: auto; position: absolute; max-width: 133%; -webkit-transform: translateY(-18px) scale(0.75); transform: translateY(-18px) scale(0.75); -webkit-transform-origin: top left; transform-origin: top left;\">Картинка ошибки</label>\n\n            <v-img\n                :src=\"this.item.src\"\n            ></v-img>\n        </div>\n\n        <v-textarea\n            :disabled=\"!checkOwner()\"\n            label=\"Описание\"\n            placeholder=\" \"\n            v-model=\"description\"\n            multi-line\n            rows=\"3\">\n        </v-textarea>\n\n        <v-card-actions class=\"pa-0\">\n            <v-spacer></v-spacer>\n            <v-btn\n                outlined\n                color=\"primary\"\n                class=\"m-btn\"\n                @click=\"sendTask\"\n            >\n            Применить\n            </v-btn>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\n\nexport default {\n    name: 'TaskCreate',\n    props: ['item'],\n    data(){\n        return{\n            name: this.item.name || '',\n            selectStatus: this.item.status || null,\n            statusList: [\n                {name: 'Новая', value: 0},\n                {name: 'В работе', value: 1},\n                {name: 'На рассмотрение', value: 2},\n                {name: 'Выполненное', value: 3}\n            ],\n            taskDay: '',\n            date: this.item.deadline.substr(0, 10) || null,\n            menu: false,\n            manager: this.item.user || null,\n            // screen: require('@/assets/images/screen.png'),\n            no_image: 'data:image/png;base64,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AlEsBpht23NCiAXGWKHjOLOWZRVIHx3HyViWJf82h7+BAeIAv4UQ14MiIcQcYyzGOS/MfmJbsaU0P3dYfs3RGgRAAARAAAT+HwEkEEQCCIAACICAKwJIIK6woRMIgAAIgAASCGIABEAABEDAFQEkEFfY0AkEQAAEQAAJBDEAAiAAAiDgigASiCts6AQCIAACIIAEghgAARAAARBwRQAJxBU2dAIBEAABEEACQQyAAAiAAAi4IoAE4gobOoEACIAACCCBIAZAAARAAARcEUACcYUNnUAABEAABJBAEAMgAAIgAAKuCCCBuMKGTiAAAiAAAkggiAEQAAEQAAFXBJBAXGFDJxAAARAAASQQxAAIgAAIgIArAkggrrChEwiAAAiAABIIYgAEQAAEQMAVASQQV9jQCQRAAARAAAkEMQACIAACIOCKABKIK2zoBAIgAAIggASCGAABEAABEHBFAAnEFTZ0AgEQAAEQQAJBDIAACIAACLgigATiChs6gQAIgAAIIIEgBkAABEAABFwRQAJxhQ2dQAAEQAAEkEAQAyAAAiAAAq4IIIG4woZOIAACIAACSCCIARAAARAAAVcEkEBcYUMnEAABEAABJBDEAAiAAAiAgCsCSCCusKETCIAACIDA/wWpWNQqGFIUyQAAAABJRU5ErkJggg==',\n            description: this.item.dscr || ''\n        }\n    },\n    computed: {\n        getOwner(){\n            return this.$store.state.administration.user.id\n        },\n        computedDateFormatted(){\n            let date = this.formatDate(this.date)\n            return date\n        },\n        managers(){\n            let users = this.$store.state.administration.company.users || []\n            let list = users.map(u => ({\n                id: u.id,\n                avatar: u.avatarSrc,\n                name: u.first_name + ' ' + u.last_name,\n                role: ''\n            }))\n            return list\n        }\n    },\n    watch: {\n        menu(val){\n            val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('cancel')\n        },\n        checkOwner(){\n            return this.getOwner == this.item.owner\n        },\n        save(date){\n            this.$refs.menu.save(date)\n        },\n        formatDate(date){\n            if (!date) return null\n\n            const [year, month, day] = date.split('-')\n            let delta = new Date().getTimezoneOffset()\n\n            let bd = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), (Math.abs(delta) / 60))\n            let mbd = bd.getTime(bd)\n\n            this.taskDay = mbd\n            return `${day}/${month}/${year}`\n        },\n        removeChips(){\n            this.manager = null\n        },\n        sendTask(){\n            let formData = new FormData()\n\n            let body = {}\n            if(this.name != this.item.name){\n                body.name = this.name\n            }\n            if((new Date(this.date)).toISOString() != this.item.deadline){\n                body.deadline = (new Date(this.date)).toISOString()\n            }\n            if(this.manager != this.item.user){\n                body.user = this.manager\n            }\n            if(this.selectStatus != this.item.status){\n                body.status = this.selectStatus\n            }\n            if(this.description != this.item.dscr){\n                body.dscr = this.description\n            }\n            if(this.name != this.item.name){\n                body.name = this.name\n            }\n            formData.append('JSON', JSON.stringify(body))\n\n            this.cancel()\n\n            this.$store.dispatch('workflow/updateTask', {\n                type_id: 'c',\n                id: this.item.company_id,\n                project_uuid: this.item.project,\n                body: formData,\n                task_id: this.item.task_id.toString(),\n                filter: {}\n            })\n        }\n    }\n}\n</script>\n\n<style>\n.pic{\n    position: absolute;\n    top: -13px;\n    right: 0;\n}\n.no_image{\n    opacity: 0.3;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskCreate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskCreate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TaskCreate.vue?vue&type=template&id=4cd91767\"\nimport script from \"./TaskCreate.vue?vue&type=script&lang=js\"\nexport * from \"./TaskCreate.vue?vue&type=script&lang=js\"\nimport style0 from \"./TaskCreate.vue?vue&type=style&index=0&id=4cd91767&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-navigation-drawer\n        permanent\n        fixed\n        floating\n        :width=\"tools_width\"\n        :style=\"h_style\"\n        class=\"m-navigator-tools m-navigator-no-scroll px-2 pr-0\"\n        right\n        clipped\n        color=\"transparent\"\n        >\n            <v-layout class=\"ma-0\" fill-height>\n                <div\n                    class=\"m-overflow-hidden m-tools-content\">\n                    <v-layout class=\"ma-0\" fill-height>\n\n                        <task-create\n                            :item=\"editItem\"\n                            @cancel=\"cancel\"\n                            />\n\n                    </v-layout>\n                </div>\n            </v-layout>\n    </v-navigation-drawer>\n</template>\n\n<script>\nimport TaskCreate from \"./TaskCreate\"\n\nexport default {\n    name: 'Tools',\n    components: {\n        TaskCreate\n    },\n    props: ['editItem', 'h_style'],\n    data(){\n        return {\n            tools_width: 440,\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('update:editItem', null)\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tools.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tools.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Tools.vue?vue&type=template&id=67bdf0cc\"\nimport script from \"./Tools.vue?vue&type=script&lang=js\"\nexport * from \"./Tools.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-container fluid fill-height text-xs-center class=\"m-container pb-10 pt-0\">\n<v-layout row wrap>\n<v-flex xs12>\n    <v-container fluid px-3 pt-0 class=\"m-container--height work-place\">\n\n        <div class=\"w-3 task-header\" ref=\"header\" :style=\"header_style\">\n            <div\n                class=\"m-flex pt-6 pb-3 pselect\">\n                <span class=\"m-flex--item__auto pr-3 m-text--size13\">Выберите проект:</span>\n                <div class=\"m-flex--item\">\n                    <v-autocomplete\n                        class=\"pa-0 ma-0 m-text--size16\"\n                        v-model=\"project\"\n                        :items=\"projects\"\n                        item-text=\"name\"\n                        item-value=\"id\"\n                        persistent-hint\n                        placeholder=\" \"\n                        dense\n                        @change=\"getTasks\"\n                        />\n                </div>\n            </div>\n            <div class=\"task-wrap\">\n                <div\n                    v-for=\"group in statusList\"\n                    class=\"task\"\n                    >\n                    <p class=\"m-text--size16 ma-0 px-4 py-3\">{{group.name}}</p>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"task-wrap task-wrap--body\">\n\n                <Container\n                    v-for=\"group in tasks111\"\n                    :key=\"group.name\"\n                    class=\"task\"\n                    group-name=\"1\"\n                    @drop=\"onDrop(group.group, $event)\"\n                    @drop-ready=\"onEnter($event)\"\n                    >\n                    <!--<p class=\"text-gray-700 font-semibold font-sans tracking-wide text-sm\">{{group.name}}</p>-->\n                    <Draggable v-for=\"item in group.items\" :key=\"item.task_id\">\n                        <div class=\"draggable-item\">\n                            <task :item=\"item\" :editItem.sync=\"editItem\"/>\n                        </div>\n                    </Draggable>\n                </Container>\n        </div>\n\n        <tools v-if=\"editItem\" :editItem.sync=\"editItem\" :h_style=\"header_style\"/>\n        <div v-if=\"editItem\" class=\"overlay\" />\n\n    </v-container>\n</v-flex>\n</v-layout>\n</v-container>\n</template>\n\n<script>\nimport { Container, Draggable } from \"vue-dndrop\"\nimport Task from \"./manage_tasks/Task\"\nimport Tools from \"./manage_tasks/Tools\"\n\nexport default {\n    name: 'ManageTasks',\n    components: {\n        Container,\n        Draggable,\n        Task,\n        Tools\n    },\n    data(){\n        return {\n            project: '',\n            header_style: {},\n            statusList: [\n                {name: 'Новая', value: 0},\n                {name: 'В работе', value: 1},\n                {name: 'На рассмотрение', value: 2},\n                {name: 'Выполненное', value: 3}\n            ],\n            removedIndex: null,\n            addedIndex: null,\n            editItem: null\n        }\n    },\n    watch: {\n        removedIndex(v){\n            if(v != null && this.addedIndex != null){\n                this.setTasks()\n            }\n        },\n        addedIndex(v){\n            if(v != null && this.removedIndex != null){\n                this.setTasks()\n            }\n        }\n    },\n    computed: {\n        projects(){\n            return this.$store.state.workflow.projects.map(p => {\n                return {\n                    id: p.id,\n                    name: p.info.name\n                }\n            })\n        },\n        getOwner(){\n            return this.$store.state.administration.user.id\n        },\n        tasks111(){\n            let list = this.$store.state.workflow.taskList\n            let tasks = [{\n                group: 0,\n                name: 'Новая',\n                items: []\n            },{\n                group: 1,\n                name: 'В работе',\n                items: []\n            },{\n                group: 2,\n                name: 'На рассмотрении',\n                items: []\n            },{\n                group: 3,\n                name: 'Выполненное',\n                items: []\n            }]\n            list.map((t, i) => {\n                let avatar = this.$store.state.administration.company.users\n                    .find(a => a.id == t.owner)\n                t.avatar = avatar\n                    ? avatar.avatarSrc\n                    : '',\n                tasks[t.status].items.push(t)\n            })\n            return tasks\n        }\n    },\n    methods: {\n        checkOwner(v){\n            return this.getOwner == v\n        },\n        setTasks(){\n            let elem = this.tasks111[this.removedIndex.grp].items[this.removedIndex.ind]\n\n            let list = this.$store.state.workflow.taskList\n            list = list.map(l => {\n                if(elem.task_id == l.task_id){\n                    elem.status = this.addedIndex.grp\n                    l.status = this.addedIndex.grp\n                }\n                return l\n            })\n            this.$store.commit('workflow/setTaskList', list)\n            this.removedIndex = null\n            this.addedIndex = null\n\n            let formData = new FormData()\n            let body = {\n                status: elem.status\n            }\n            formData.append('JSON', JSON.stringify(body))\n            this.$store.dispatch('workflow/updateTask', {\n                type_id: 'c',\n                id: elem.company_id,\n                project_uuid: elem.project,\n                body: formData,\n                task_id: elem.task_id.toString(),\n                filter: {}\n            })\n        },\n        onDrop(v, e){\n            const { removedIndex, addedIndex } = e\n            if((removedIndex === null && addedIndex === null) || (removedIndex != null && addedIndex != null)) return\n\n            if(removedIndex !== null){\n                this.removedIndex = {\n                    grp: v,\n                    ind: removedIndex\n                }\n            }\n            if(addedIndex !== null){\n                this.addedIndex = {\n                    grp: v,\n                    ind: addedIndex\n                }\n            }\n        },\n        onEnter(v, g, t){\n            // console.log('vbwer', v, g, t)\n        },\n        getTasks(v){\n            this.editItem = null\n            this.$store.dispatch('workflow/getTaskList', {\n                type_id: 'c',\n                id: this.$store.state.administration.company.id,\n                project_uuid: v,\n                filter: {}\n            })\n        }\n    },\n    mounted(){\n        this.$nextTick(() => {\n            let header = this.$refs['header']\n            this.header_style = {\n                top: header.getBoundingClientRect().top + 'px'\n            }\n        })\n    },\n    beforeDestroy(){\n        this.$store.commit('workflow/setTaskList', [])\n    }\n}\n</script>\n\n<style scoped>\n.work-place{\n    display: flex;\n    flex-direction: column;\n}\n.task-wrap {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n}\n.task-wrap--body{\n    flex: 1 0 auto;\n}\n.task-header{\n    position: sticky;\n    z-index: 1;\n    background-color: #fafafa;\n}\n.task-header .pselect{\n    width: 40%;\n}\n\n.task {\n  margin: 0;\n  background-color: #ebebeb;\n}\n.task-header .task{\n    border-radius: 10px 10px 0 0;\n}\n.task-wrap--body .task{\n    border-radius: 0 0 10px 10px;\n    padding-bottom: 10px;\n}\n/*\n.task-wrap:after {\n  content: '';\n  display: table;\n  height: 0;\n}\n.task-wrap:after,\n*/\n.task {\n  width: calc(100% / 4 - 13px);\n}\n.draggable-item {padding: 10px 15px;\n    background-color: #ebebeb;\n}\n.overlay {\n    border-radius: inherit;\n    bottom: 0;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    -webkit-transition: inherit;\n    transition: inherit;\n    width: 100%;\n    will-change: opacity;\n    opacity: 0.46;\n    background-color: rgb(33, 33, 33);\n    border-color: rgb(33, 33, 33);\n    z-index: 1;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageTasks.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageTasks.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ManageTasks.vue?vue&type=template&id=07848b67&scoped=true\"\nimport script from \"./ManageTasks.vue?vue&type=script&lang=js\"\nexport * from \"./ManageTasks.vue?vue&type=script&lang=js\"\nimport style0 from \"./ManageTasks.vue?vue&type=style&index=0&id=07848b67&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07848b67\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container pb-10 pt-0\",attrs:{\"fluid\":\"\",\"fill-height\":\"\",\"text-xs-center\":\"\"}},[_c(VLayout,{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c(VFlex,{attrs:{\"xs12\":\"\"}},[_c(VContainer,{ref:\"wrap\",staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pb-10\":\"\",\"pt-0\":\"\"}},[_c(VToolbar,{staticClass:\"m-table-toolbar\",attrs:{\"flat\":\"\",\"height\":\"auto\"}},[_c(VTextField,{staticClass:\"m-table-toolbar--search ml-2\",attrs:{\"prepend-icon\":\"search\",\"placeholder\":\"Поиск...\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c(VSpacer),_c(VBtn,{staticClass:\"ma-0 m-btn--text_icon\",attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onRemove(null, 'trash')}}},[_c(VIcon,{attrs:{\"size\":\"16\",\"left\":\"\"}},[_vm._v(\"mdi-trash-can-outline\")]),_vm._v(\"Очистить корзину\\n            \")],1)],1),_c(VDataTable,{staticClass:\"m-table-custom\",attrs:{\"headers\":_vm.headers,\"items\":_vm.getRemoved,\"show-select\":\"\",\"search\":_vm.search,\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},on:{\"toggle-select-all\":_vm.selectRow},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\"\\n                \"+_vm._s(_vm.noData)+\"\\n            \")]},proxy:true},{key:\"item.data-table-select\",fn:function({ item, isSelected, select }){return [_c(VSimpleCheckbox,{attrs:{\"value\":isSelected},on:{\"input\":function($event){return select($event)}}})]}},{key:\"item.src\",fn:function({ item }){return [_c(VIcon,{attrs:{\"size\":\"30\"}},[_vm._v(_vm._s(item.type == 'folder'\n                        ? 'icon-folder'\n                        : item.type == 'type'\n                            ? 'ft-unknown'\n                            : 'ft-' + item.type)+\"\\n                \")])]}},{key:\"item.name\",fn:function({ item }){return [_c('span',{staticClass:\"m-table--name\"},[_c('span',[_c(VTooltip,{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('span',_vm._g(_vm._b({},'span',attrs,false),on),[_vm._v(\"\\n                                    \"+_vm._s(item.name)+\"\\n                                \")])]}}],null,true)},[_vm._v(\"\\n                            \"+_vm._s(item.name)+\"\\n                        \")])],1)])]}},{key:\"item.status\",fn:function({ item }){return [_c('span',[_vm._v(\"\\n                    \"+_vm._s(_vm.status[item.status])+\"\\n                \")])]}},{key:\"item.action\",fn:function({ item }){return [(!_vm.checkSelected(item))?_c('action-menu',{attrs:{\"item\":item},on:{\"onRemove\":_vm.onRemove,\"onRestore\":_vm.onRestore}}):_vm._e()]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c(VCard,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected.length),expression:\"selected.length\"}],staticClass:\"m-table-custom--action\",style:(_vm.cardActionStyle)},[_c(VCardActions,[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.onRestoreSelected}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-trash-can-outline\")]),_vm._v(\"\\n                    Восстановить\\n                \")],1),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.onRemoveSelected}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-trash-can-outline\")]),_vm._v(\"\\n                    Удалить\\n                \")],1)],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"top\":\"\",\"right\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"m-icon-border\",attrs:{\"text\":\"\",\"icon\":\"\",\"size\":\"20\"},on:{\"mousedown\":function($event){$event.stopPropagation();}}},on),[_vm._v(\"\\n            mdi-dots-horizontal\\n        \")])]}}])},[_c(VCard,[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.notes),function(note,i){return _c(VListItem,{key:i,on:{\"click\":function($event){return _vm.action(note)}}},[_c(VListItemTitle,{staticClass:\"m-menu-title\",domProps:{\"textContent\":_vm._s(note.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n      top\n      right\n      offset-y\n      transition=\"slide-y-transition\"\n    >\n        <template v-slot:activator=\"{ on }\">\n            <v-icon\n                v-on=\"on\"\n                text\n                icon\n                class=\"m-icon-border\"\n                @mousedown.stop=\"\"\n                size=\"20\">\n                mdi-dots-horizontal\n            </v-icon>\n        </template>\n        <v-card>\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(note, i) in notes\"\n                    :key=\"i\"\n                    @click=\"action(note)\"\n                    >\n                    <v-list-item-title\n                        class=\"m-menu-title\"\n                        v-text=\"note.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\nexport default {\n    props: ['item'],\n    data: () => ({\n        notes: [{\n            title: 'Восстановить',\n            value: 'restore',\n            action: 'restore'\n        },{\n            title: 'Удалить',\n            value: 'remove',\n            action: 'remove'\n        }]\n    }),\n    methods: {\n        action(v){\n            switch(v.action){\n                case 'restore':\n                    this.$emit('onRestore', this.item)\n                    break\n                case 'remove':\n                    this.$emit('onRemove', this.item, this.item.type)\n                    break\n                default: ;\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActionMenu.vue?vue&type=template&id=2b18e765\"\nimport script from \"./ActionMenu.vue?vue&type=script&lang=js\"\nexport * from \"./ActionMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-container fluid fill-height text-xs-center class=\"m-container pb-10 pt-0\">\n<v-layout row wrap>\n<v-flex xs12>\n    <v-container fluid px-3 pb-10 pt-0 class=\"m-container\" ref=\"wrap\">\n\n        <v-toolbar flat height=\"auto\" class=\"m-table-toolbar\">\n            <v-text-field\n                v-model=\"search\"\n                prepend-icon=\"search\"\n                placeholder=\"Поиск...\"\n                single-line\n                hide-details\n                class=\"m-table-toolbar--search ml-2\"\n                ></v-text-field>\n\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                @click.stop=\"onRemove(null, 'trash')\"\n                class=\"ma-0 m-btn--text_icon\">\n                <v-icon\n                    size=\"16\"\n                    left>mdi-trash-can-outline</v-icon>Очистить корзину\n            </v-btn>\n        </v-toolbar>\n\n        <v-data-table\n            :headers=\"headers\"\n            :items=\"getRemoved\"\n            show-select\n            v-model=\"selected\"\n            @toggle-select-all=\"selectRow\"\n            :search=\"search\"\n            disable-pagination\n            hide-default-footer\n            class=\"m-table-custom\"\n        >\n            <template v-slot:no-data>\n                {{noData}}\n            </template>\n\n            <template v-slot:item.data-table-select=\"{ item, isSelected, select }\">\n                <v-simple-checkbox\n                    :value=\"isSelected\"\n                    @input=\"select($event)\">\n                </v-simple-checkbox>\n            </template>\n\n            <template v-slot:item.src=\"{ item }\">\n                <v-icon\n                    size=\"30\">{{item.type == 'folder'\n                        ? 'icon-folder'\n                        : item.type == 'type'\n                            ? 'ft-unknown'\n                            : 'ft-' + item.type}}\n                </v-icon>\n            </template>\n\n            <template v-slot:item.name=\"{ item }\">\n                <span class=\"m-table--name\">\n                    <span>\n                        <v-tooltip top>\n                            <template v-slot:activator=\"{ on, attrs }\">\n                                <span\n                                    v-bind=\"attrs\"\n                                    v-on=\"on\">\n                                    {{item.name}}\n                                </span>\n                            </template>\n                            {{item.name}}\n                        </v-tooltip>\n                    </span>\n                </span>\n            </template>\n\n            <template v-slot:item.status=\"{ item }\">\n                <span>\n                    {{status[item.status]}}\n                </span>\n            </template>\n\n            <template v-slot:item.action=\"{ item }\">\n                <action-menu\n                    v-if=\"!checkSelected(item)\"\n                    @onRemove=\"onRemove\"\n                    @onRestore=\"onRestore\"\n                    :item=\"item\"\n                />\n            </template>\n        </v-data-table>\n\n        <v-card\n            class=\"m-table-custom--action\"\n            :style=\"cardActionStyle\"\n            v-show=\"selected.length\"\n            >\n            <v-card-actions>\n                <v-btn\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"onRestoreSelected\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-trash-can-outline</v-icon>\n                    Восстановить\n                </v-btn>\n                <v-btn\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"onRemoveSelected\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-trash-can-outline</v-icon>\n                    Удалить\n                </v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-container>\n</v-flex>\n</v-layout>\n</v-container>\n</template>\n\n<script>\nimport { sortObj } from '@/utils/services'\nimport ActionMenu from \"./removed_files/ActionMenu\"\nexport default {\n    name: 'RemovedFiles',\n    components: {\n        ActionMenu\n    },\n    props: ['id'],\n    data(){\n        return {\n            search: '',\n            headers: [\n                {\n                    text: '',\n                    align: 'center',\n                    sortable: false,\n                    value: 'src',\n                    grid: false\n                },\n                { text: 'Имя файла', value: 'name', grid: true },\n                { text: 'Проект', value: 'projectName', grid: false },\n                { text: 'Дата удаления', value: 'trash_time', grid: false },\n                { text: 'Удалил', value: 'deleted_by', grid: false },\n                { text: 'Дата загрузки', value: 'upload_date', grid: false },\n                { text: 'Статус', value: 'status', grid: true },\n                { text: '', value: 'action', sortable: false, grid: false },\n                ],\n            status: {\n                '0': 'На рассмотрении',\n                '1': 'На исправлении',\n                '2': 'Принят',\n                '3': 'Отказ'\n            },\n            noData: 'Нет данных',\n            selected: [],\n            items: [],\n            status: {\n                '-1': '',\n                '0': 'На рассмотрении',\n                '1': 'На исправлении',\n                '2': 'Принят',\n                '3': 'Отказ'\n            },\n            actionList: ['trash', 'project', 'folder', 'file']\n        }\n    },\n    computed: {\n        getRemoved(){\n            let list = []\n            let state = this.$store.state\n            let projects = state.workflow.projects\n            let users = state.administration.company.users\n            let dx = 1\n            this.items.map(i => {\n                projects.map(p => {\n                    if(p.id == i.project){\n                        let project = {\n                            projectId: p.id,\n                            projectName: p.info.name\n                        }\n                        if(i.TrashFolder.folders){\n                            i.TrashFolder.folders.map(f => {\n                                let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n                                let created_at = new Date(f.created_at)\n                                let trash_time = new Date(f.trash_time)\n                                let user = users.find(u => u.id == f.deleted_by + '')\n                                user = user\n                                    ? user.first_name + ' ' + user.last_name\n                                    : ''\n                                let item = {\n                                    ...project,\n                                    ...f,\n                                    type: 'folder',\n                                    trash_time: trash_time.toLocaleDateString(\"ru-RU\", options),\n                                    upload_date: created_at.toLocaleDateString(\"ru-RU\", options),\n                                    deleted_by: user\n                                }\n                                list.push(item)\n                            })\n                        }\n                        if(i.TrashFolder.files){\n                            i.TrashFolder.files.map(f => {\n                                let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n                                let created_at = new Date(f.created_at)\n                                let trash_time = new Date(f.trash_time)\n                                let user = users.find(u => u.id == f.deleted_by + '')\n                                user = user\n                                    ? user.first_name + ' ' + user.last_name\n                                    : ''\n\n                                let arName = f.name.split('.')\n                                let type = arName.splice(-1, 1)[0] || 'type'\n                                if(f.consolidations){\n                                    type = 'consolidations'\n                                }\n                                let item = {\n                                    ...project,\n                                    ...f,\n                                    type: type,\n                                    trash_time: trash_time.toLocaleDateString(\"ru-RU\", options),\n                                    upload_date: created_at.toLocaleDateString(\"ru-RU\", options),\n                                    deleted_by: user\n                                }\n                                list.push(item)\n                            })\n                        }\n                    }\n                })\n            })\n            return list\n        },\n        cardActionStyle(){\n            let width = 0\n            let left = 0\n            if(this.selected.length){\n                let box = this.$refs['wrap'].getBoundingClientRect()\n                width = box.width\n                left = box.x\n            }\n            return {width: width + 'px', left: left + 'px'}\n        }\n    },\n    methods: {\n        checkSelected(i){\n            return this.selected.some(s => s.id == i.id)\n        },\n        selectRow(e){\n            let list = e.items\n            list = list.filter(i => i.inwork !== true)\n\n            if(this.selected.length != list.length){\n                this.selected = list\n            }\n            else{\n                this.selected = []\n            }\n        },\n        onRestore(item){\n            let type = item.type == 'folder'\n                ? 'folder'\n                : 'file'\n            this.$store.dispatch('workflow/restoreFiles', {\n                fileName: item.name,\n                fileId: item.id,\n                uuid: item.projectId,\n                fileType: type\n            })\n            .then(res => {\n                this.$notify({\n                    group: 'note',\n                    type: res.status ? 'success' : 'error',\n                    text: res.status\n                        ? res.fileType == 'folder'\n                            ? 'Папка ' + res.name + '<br/>восстановлена.'\n                            : 'Файл ' + res.name + '<br/>восстановлен.'\n                        : res.name + '<br/>' + res.text\n                })\n            })\n            .then(res => {\n                return this.$store.dispatch('workflow/getRemovedFiles')\n            })\n            .then(res => {\n                this.items = res\n            })\n        },\n        onRestoreSelected(){\n            let listPromises = []\n            this.selected.map(s => {\n                let type = s.type == 'folder'\n                    ? 'folder'\n                    : 'file'\n                listPromises.push(\n                    this.$store.dispatch('workflow/restoreFiles', {\n                        fileName: s.name,\n                        fileId: s.id,\n                        uuid: s.projectId,\n                        fileType: type\n                    })\n                )\n            })\n\n            Promise.all(listPromises)\n            .then(res => {\n                res.map(r => {\n                    this.selected = []\n                    this.$notify({\n                        group: 'note',\n                        type: r.status ? 'success' : 'error',\n                        text: r.status\n                            ? res.fileType == 'folder'\n                                ? 'Папка ' + res.name + '<br/>восстановлена.'\n                                : 'Файл ' + res.name + '<br/>восстановлен.'\n                            : r.name + '<br/>' + r.text\n                    })\n                })\n                return true\n            })\n            .then(res => {\n                return this.$store.dispatch('workflow/getRemovedFiles')\n            })\n            .then(res => {\n                this.items = res\n            })\n        },\n        onRemove(item, action){\n            if(action == 'trash' && !this.items.length){\n                return true\n            }\n            this.removeItem(item, action)\n            .then(res => {\n                return this.$store.dispatch('workflow/getRemovedFiles')\n            })\n            .then(res => {\n                this.items = res\n            })\n        },\n        removeItem(item, action){\n            action = this.actionList.some(s => s == action) ? action : 'file'\n            return new Promise(resolve => {\n                this.$store.dispatch('workflow/removeRemovedFiles', {\n                    fileName: item ? item.name : null,\n                    fileId: item ? item.id : null,\n                    uuid: item ? item.projectId : null,\n                    fileType: item\n                        ? item.type == 'folder'\n                            ? item.type\n                            : 'file'\n                        : null,\n                    action: action\n                })\n                .then(res => {\n                    this.selected = []\n                    this.$notify({\n                        group: 'note',\n                        type: res.status ? 'success' : 'error',\n                        text: res.status\n                            ? action == 'trash'\n                                ? 'Все папки и файлы удалены'\n                                : action == 'file'\n                                    ? 'Файл ' + res.name + '<br/>удален.'\n                                    : 'Папка ' + res.name + '<br/>удалена.'\n                            : res.name + '<br/>' + res.text\n                    })\n                    resolve(true)\n                })\n            })\n        },\n        onRemoveSelected(){\n            let list = this.selected\n            let listPromises = []\n            list.map(l => {\n                listPromises.push(this.removeItem(l, l.type))\n            })\n            Promise.all(listPromises)\n            .then(res => {\n                this.selected = []\n                return this.$store.dispatch('workflow/getRemovedFiles')\n            })\n            .then(res => {\n                this.items = res\n            })\n        }\n    },\n    created(){\n        this.$store.dispatch('workflow/getRemovedFiles').\n        then(res => {\n            this.items = res\n        })\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemovedFiles.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemovedFiles.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RemovedFiles.vue?vue&type=template&id=796ec030\"\nimport script from \"./RemovedFiles.vue?vue&type=script&lang=js\"\nexport * from \"./RemovedFiles.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VLayout,{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VForm,{ref:\"form_user\"},[_c(VCard,{staticClass:\"m-card pa-3 pt-0\",attrs:{\"outlined\":\"\",\"max-width\":\"1200\"}},[_c(VCardText,{staticClass:\"m-text--2c\"},[_vm._v(\"Информация о пользователе\")]),_c(VDivider),_c(VRow,{staticClass:\"ma-0 mt-3\"},[_c(VCol,{staticClass:\"justify-center m-border--inner-right pr-0\",attrs:{\"cols\":\"4\"}},[_c(VCard,{staticClass:\"m-card m-card--center m-card--avatar mb-3\",attrs:{\"outlined\":\"\",\"width\":\"150\",\"height\":\"150\"}},[_c('div',{staticClass:\"m-card--avatar-wrap\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.avatar.type == 'file'),expression:\"avatar.type == 'file'\"}],staticClass:\"m-card--avatar-delete\",on:{\"click\":_vm.removeAvatar}},[_c(VIcon,{attrs:{\"size\":\"55\",\"color\":\"#fff\"}},[_vm._v(\"mdi-trash-can-outline\\n                                        \")])],1),_c('img',{staticClass:\"m-card--avatar-wrap_img\",attrs:{\"src\":_vm.avatar.src}})])]),_c('div',{staticClass:\"m-link m-link--text m-text--center\",on:{\"click\":_vm.upload}},[_vm._v(\"редактировать\")])],1),_c(VCol,{staticClass:\"pl-7\",attrs:{\"cols\":\"8\"}},[_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Имя\",\"placeholder\":\" \",\"hide-details\":\"\",\"required\":\"\",\"rules\":_vm.checkInput},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Имя\\n                                            \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.user.first_name),callback:function ($$v) {_vm.$set(_vm.user, \"first_name\", $$v)},expression:\"user.first_name\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Фамилия\",\"placeholder\":\" \",\"hide-details\":\"\",\"required\":\"\",\"rules\":_vm.checkInput},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Фамилия\\n                                            \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.user.last_name),callback:function ($$v) {_vm.$set(_vm.user, \"last_name\", $$v)},expression:\"user.last_name\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Отчество\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.user.middle_name),callback:function ($$v) {_vm.$set(_vm.user, \"middle_name\", $$v)},expression:\"user.middle_name\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{staticClass:\"m-input--no-events\",attrs:{\"label\":\"Адрес электронной почты\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1)],1)],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VAutocomplete,{attrs:{\"items\":_vm.countries,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Страна\",\"placeholder\":\" \",\"hide-details\":\"\",\"filter\":_vm.filter,\"clearable\":\"\"},on:{\"click:clear\":function($event){_vm.$nextTick(() => _vm.selectCountry = null)},\"change\":_vm.getCountry},model:{value:(_vm.selectCountry),callback:function ($$v) {_vm.selectCountry=$$v},expression:\"selectCountry\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VAutocomplete,{attrs:{\"disabled\":!_vm.regions.length,\"items\":_vm.regions,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Регион\",\"placeholder\":\" \",\"hide-details\":\"\"},on:{\"change\":_vm.getRegion},model:{value:(_vm.selectRegion),callback:function ($$v) {_vm.selectRegion=$$v},expression:\"selectRegion\"}})],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Город\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.user.city),callback:function ($$v) {_vm.$set(_vm.user, \"city\", $$v)},expression:\"user.city\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Адрес\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.user.address),callback:function ($$v) {_vm.$set(_vm.user, \"address\", $$v)},expression:\"user.address\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Почтовый индекс\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.user.post_code),callback:function ($$v) {_vm.$set(_vm.user, \"post_code\", $$v)},expression:\"user.post_code\"}})],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Должность\",\"placeholder\":\" \",\"hide-details\":\"\",\"required\":\"\",\"rules\":_vm.checkInput},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Профессия\\n                                    \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.user.profession),callback:function ($$v) {_vm.$set(_vm.user, \"profession\", $$v)},expression:\"user.profession\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VSelect,{attrs:{\"items\":_vm.genderList,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Пол\",\"placeholder\":\" \",\"hide-details\":\"\",\"required\":\"\",\"rules\":_vm.checkSelect},on:{\"change\":_vm.getGender},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Пол\\n                                    \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.gender),callback:function ($$v) {_vm.gender=$$v},expression:\"gender\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VMenu,{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VTextField,_vm._g({attrs:{\"label\":\"Число/месяц/год рождения\",\"readonly\":\"\",\"hide-details\":\"\",\"placeholder\":\" \",\"required\":\"\",\"rules\":_vm.checkInput},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Число/месяц/год рождения\\n                                            \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}],null,true),model:{value:(_vm.computedDateFormatted),callback:function ($$v) {_vm.computedDateFormatted=$$v},expression:\"computedDateFormatted\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c(VDatePicker,{ref:\"picker\",attrs:{\"landscape\":true,\"locale\":\"ru\",\"max\":new Date().toISOString().substr(0, 10),\"min\":\"1950-01-01\"},on:{\"change\":_vm.save},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1)],1)],1),_c(VCardActions,{staticClass:\"pt-5 px-3\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){_vm.newpassword = true}}},[_vm._v(\"Сменить пароль\")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.changeUser},on:{\"click\":_vm.saveChange}},[_vm._v(\"Сохранить\")])],1)],1)],1)],1)],1),_c('upload-files',{attrs:{\"uploadF\":_vm.uploadF},on:{\"update:uploadF\":function($event){_vm.uploadF=$event},\"update:upload-f\":function($event){_vm.uploadF=$event},\"setAvatar\":_vm.setAvatar}}),_c('new-password',{attrs:{\"newpassword\":_vm.newpassword},on:{\"update:newpassword\":function($event){_vm.newpassword=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.uploadF,\"scrollable\":\"\",\"max-width\":\"800px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"Загрузить файл\\n            \"),_c(VSpacer),_c('div',{staticClass:\"m-card-title--desc\",class:{limit: _vm.limit.status}},[_vm._v(_vm._s(_vm.bytesToSize(_vm.totalSize))+\" / 2Mb\\n\\n                \"),_c(VTooltip,{attrs:{\"top\":\"\",\"right\":\"\",\"color\":\"#fff\",\"max-width\":\"250px\",\"content-class\":\"m-tooltip--info\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"mr-1 m-info--file\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},on),[_vm._v(\"mdi-information-outline\\n                        \")])]}},{key:\"default\",fn:function(){return [_c('span',{},[_vm._v(\"Максимальный размер файла 2 Мб\")])]},proxy:true}])})],1),_c(VDivider,{staticClass:\"mx-0\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5 px-4\",staticStyle:{\"background-color\":\"#fbfbfb\",\"height\":\"650px\"}},[_c(VLayout,{staticClass:\"m-drop-area\",class:[{'m-dragging': _vm.dragging}, {over: !_vm.mouseOver}],attrs:{\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"},on:{\"drop\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onChange.apply(null, arguments)},\"dragenter\":function($event){$event.stopPropagation();$event.preventDefault();_vm.dragging = true},\"dragleave\":function($event){$event.stopPropagation();$event.preventDefault();_vm.dragging = false},\"dragover\":function($event){$event.stopPropagation();$event.preventDefault();},\"mouseenter\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.mouseEnter.apply(null, arguments)},\"mouseleave\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.mouseLeave.apply(null, arguments)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.file),expression:\"!file\"}]},[_vm._v(\"Перетащите сюда файл для загрузки\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.file),expression:\"file\"}],staticClass:\"list\"},[_c('div',{staticClass:\"item\"},[_c(VIcon,{attrs:{\"size\":\"80\",\"left\":\"\"}},[_vm._v(\"icon-upload\")]),_vm._v(\"\\n                        \"+_vm._s(_vm.fileName)+\"\\n                    \")],1)])])],1),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"input-files\",attrs:{\"type\":\"file\",\"id\":\"items\",\"name\":\"items[]\",\"required\":\"\"},on:{\"change\":_vm.onChange}}),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.inputFiles}},[_vm._v(\"Выбрать файл\")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.file},on:{\"click\":_vm.submit}},[_vm._v(\"Подтвердить\")]),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"#2c2c2c\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Отмена\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog\n        :value=\"uploadF\"\n        scrollable\n        max-width=\"800px\"\n        @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-0 pl-4 m-modal--title\">Загрузить файл\n                <v-spacer></v-spacer>\n                <div\n                    :class=\"{limit: limit.status}\"\n                    class=\"m-card-title--desc\">{{bytesToSize(totalSize)}} / 2Mb\n\n                    <v-tooltip top right color=\"#fff\" max-width=\"250px\" content-class=\"m-tooltip--info\">\n                        <template v-slot:activator=\"{ on }\">\n                            <v-icon\n                                size=\"20\"\n                                v-on=\"on\"\n                                class=\"mr-1 m-info--file\"\n                                color=\"#0070e0\">mdi-information-outline\n                            </v-icon>\n                        </template>\n                        <template v-slot:default>\n                            <span class=\"\">Максимальный размер файла 2 Мб</span>\n                        </template>\n                    </v-tooltip>\n                </div>\n                <v-divider\n                  class=\"mx-0\"\n                  inset\n                  vertical\n                ></v-divider>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; height: 650px;\" class=\"pt-5 px-4\">\n                <v-layout\n                    column\n                    align-center\n                    justify-center\n                    class=\"m-drop-area\"\n                    :class=\"[{'m-dragging': dragging}, {over: !mouseOver}]\"\n                    @drop.stop.prevent=\"onChange\"\n                    @dragenter.stop.prevent=\"dragging = true\"\n                    @dragleave.stop.prevent=\"dragging = false\"\n                    @dragover.stop.prevent=\"\"\n                    @mouseenter.stop.prevent=\"mouseEnter\"\n                    @mouseleave.stop.prevent=\"mouseLeave\"\n                    >\n                    <div\n                        v-show=\"!file\"\n                        >Перетащите сюда файл для загрузки</div>\n                    <div\n                        class=\"list\"\n                        v-show=\"file\"\n                    >\n                        <div\n                            class=\"item\"\n                        >\n                        <!--\n                            <div\n                                @click.prevent.stop=\"removeFile()\"\n                                class=\"close\">\n                                <v-icon\n                                    size=\"20\"\n                                    left>close</v-icon>\n                            </div>\n                        -->\n                            <v-icon\n                                size=\"80\"\n                                left>icon-upload</v-icon>\n                            {{fileName}}\n                        </div>\n                    </div>\n                </v-layout>\n            </v-card-text>\n\n            <v-divider></v-divider>\n            <v-card-actions class=\"pa-5 px-4\">\n                <input\n                    type=\"file\"\n                    v-show=\"false\"\n                    ref=\"input-files\"\n                    id=\"items\"\n                    name=\"items[]\"\n                    required\n                    @change=\"onChange\">\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"inputFiles\">Выбрать файл</v-btn>\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    :disabled=\"!file\"\n                    @click=\"submit\">Подтвердить</v-btn>\n                <v-btn outlined color=\"#2c2c2c\" class=\"m-btn m-btn-normal\" @click=\"cancel\">Отмена</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\n\nexport default {\n    props: ['uploadF'],\n    name: 'UploadFiles',\n    data () {\n        return {\n            dragging: false,\n            mouseOver: false,\n            items: [],\n            file: false,\n            fileName: '',\n            itemsNames: [],\n            itemsSizes: [],\n            limit: {\n                value: 20,\n                unit: 2,\n                status: false\n            },\n            totalSize: 0,\n            formData: '',\n            successMsg: '',\n            errorMsg: '',\n        }\n    },\n    watch: {\n        uploadF(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        removeFile(){\n            this.file = false\n            this.totalSize = 0\n        },\n        removeFileAll(){\n            this.items = []\n            this.totalSize = 0\n        },\n        inputFiles(){\n            this.$refs['input-files'].click()\n        },\n        mouseEnter(e){\n            this.mouseOver = true\n        },\n        mouseLeave(){\n            this.mouseOver = false\n        },\n        bytesToSize(bytes){\n            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB']\n            if(bytes === 0){\n                this.limit.status = false\n                return 0\n            }\n\n            let i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)))\n            if(i === 0){\n                this.limit.status = false\n                return bytes + ' ' + sizes[i]\n            }\n\n            let total = (bytes / Math.pow(1024, i)).toFixed(2)\n            if(i >= this.limit.unit && total > this.limit.value){\n                this.limit.status = true\n            }\n            else{\n                this.limit.status = false\n            }\n\n            return total + sizes[i]\n        },\n        onChange(e){\n            this.dragging = false\n            this.fileOver = false\n            this.successMsg = ''\n            this.errorMsg = ''\n            this.formData = new FormData()\n            let files = e.target.files || e.dataTransfer.files\n            for(let x in files){\n                if(!isNaN(x)){\n                    let file = {\n                        id: new Date().getTime(),\n                        selected: false,\n                        item: files[x]\n                    }\n                    this.file = files[x]\n                    this.fileName = files[x].name\n                    this.totalSize = files[x].size\n                    //file.itemsNames[x] = files[x].name\n                    this.formData.append('name', this.fileName)\n                    this.formData.append('file', this.file)\n                }\n            }\n        },\n        cancel(){\n            this.items = []\n            this.totalSize = 0\n            this.$emit('update:uploadF', false)\n        },\n        submit(){\n            this.formData.append('project_id', null)\n            this.formData.append('is_attachment', true)\n            this.formData.append('uuid', uuidv4())\n\n            this.$store.dispatch('common/setUploadNote', [{\n                    name: this.formData.get('name'),\n                    uuid: this.formData.get('uuid'),\n                    action: 'upload',\n                    pushin: true\n                }]\n            )\n            .then(res => {\n                return this.$store.dispatch('common/uploadFile', this.formData)\n            })\n            .then(res => {\n                return this.$store.dispatch('common/getFile', res)\n            })\n            .then(res => {\n                this.$emit('setAvatar', res)\n                this.$store.dispatch('common/setUploadNote', [{\n                        name: this.formData.get('name'),\n                        uuid: this.formData.get('uuid'),\n                        action: 'upload',\n                        pushin: false\n                    }]\n                )\n            })\n            this.cancel()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.submit()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFiles.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFiles.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UploadFiles.vue?vue&type=template&id=141f3320\"\nimport script from \"./UploadFiles.vue?vue&type=script&lang=js\"\nexport * from \"./UploadFiles.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.newpassword,\"scrollable\":\"\",\"max-width\":\"630px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-1 pl-5\"},[_vm._v(\"Сменить пароль\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(VCardText,{staticClass:\"pt-5\",staticStyle:{\"background-color\":\"#fbfbfb\",\"color\":\"#333333\"}},[_c(VForm,{ref:\"form\"},[_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Старый пароль\",\"placeholder\":\" \",\"type\":\"password\",\"required\":\"\",\"rules\":_vm.passRules},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Старый пароль\\n                                \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.old_password),callback:function ($$v) {_vm.old_password=$$v},expression:\"old_password\"}})],1)],1),_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Новый пароль\",\"placeholder\":\" \",\"type\":\"password\",\"required\":\"\",\"rules\":_vm.passRules2},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Новый пароль\\n                                \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.new_password),callback:function ($$v) {_vm.new_password=$$v},expression:\"new_password\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Повторите пароль\",\"placeholder\":\" \",\"type\":\"password\",\"required\":\"\",\"rules\":_vm.passRules3},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Повторите пароль\\n                                \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.repeate_password),callback:function ($$v) {_vm.repeate_password=$$v},expression:\"repeate_password\"}})],1)],1)],1)],1),_c(VCardActions,{staticClass:\"pa-5\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.validate}},[_vm._v(\"Сменить пароль\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog :value=\"newpassword\" scrollable max-width=\"630px\" @input=\"v => v || cancel()\">\n        <v-card>\n            <v-card-title class=\"pr-1 pl-5\">Сменить пароль\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    icon\n                    @click=\"cancel\"\n                    color=\"#7f7f7f\">\n                    <v-icon size=\"20\">close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text style=\"background-color: #fbfbfb; color: #333333;\" class=\"pt-5\">\n                <v-form ref=\"form\">\n                    <v-row>\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-text-field\n                                label=\"Старый пароль\"\n                                placeholder=\" \"\n                                type=\"password\"\n                                v-model=\"old_password\"\n                                required\n                                :rules=\"passRules\"\n                            >\n                                <template #label>Старый пароль\n                                    <span class=\"red--text\"><strong>* </strong></span>\n                                </template>\n                            </v-text-field>\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-text-field\n                                label=\"Новый пароль\"\n                                placeholder=\" \"\n                                type=\"password\"\n                                v-model=\"new_password\"\n                                required\n                                :rules=\"passRules2\"\n                            >\n                                <template #label>Новый пароль\n                                    <span class=\"red--text\"><strong>* </strong></span>\n                                </template>\n                            </v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-text-field\n                                label=\"Повторите пароль\"\n                                placeholder=\" \"\n                                type=\"password\"\n                                v-model=\"repeate_password\"\n                                required\n                                :rules=\"passRules3\"\n                            >\n                                <template #label>Повторите пароль\n                                    <span class=\"red--text\"><strong>* </strong></span>\n                                </template>\n                            </v-text-field>\n                        </v-col>\n                    </v-row>\n\n                </v-form>\n            </v-card-text>\n\n            <v-card-actions class=\"pa-5\">\n                <v-spacer></v-spacer>\n                <v-btn\n                    outlined\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"validate\">Сменить пароль</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    props: ['newpassword'],\n    name: 'NewPassword',\n    data(){\n        return {\n            siteKey: '6Lfm0uMUAAAAAHUoxb0b6Ao81lmjLazVTcr7kKaW',\n            old_password: '',\n            new_password: '',\n            repeate_password: '',\n            passRules: [\n                v => !!v || 'Введите пароль',\n                v => (v && v.length >= 6) || 'Пароль должен состоять из 6 символов или больше',\n            ],\n            passRules2: [\n                v => !!v || 'Введите новый пароль',\n                v => (v && v.length >= 6) || 'Пароль должен состоять из 6 символов или больше',\n                v => (v != this.old_password) || 'Новый пароль должен отличаться от старого'\n            ],\n            passRules3: [\n                v => !!v || 'Повторите пароль',\n                v => (v && v.length >= 6) || 'Пароль должен состоять из 6 символов или больше',\n                v => (v == this.new_password) || 'Неверно введен пароль'\n            ]\n        }\n    },\n    watch: {\n        newpassword(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        cancel(){\n            this.old_password = ''\n            this.new_password = ''\n            this.$emit('update:newpassword', false)\n        },\n        newPassword(pass){\n            this.$store.dispatch('administration/newpass', {\n                old_password: pass.old_password,\n                new_password: pass.new_password\n            })\n            .then(res => {\n                this.alert(res)\n                if(res.status == 'success'){\n                    this.cancel()\n                }\n            })\n        },\n        alert(res){\n            this.$notify({\n              group: 'note',\n              text: res.text,\n              type: res.status\n            })\n        },\n        validate(){\n            if(this.$refs.form.validate()){\n                this.newPassword({\n                    old_password: this.old_password,\n                    new_password: this.new_password\n                })\n            }\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.validate()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewPassword.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewPassword.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NewPassword.vue?vue&type=template&id=9951515a\"\nimport script from \"./NewPassword.vue?vue&type=script&lang=js\"\nexport * from \"./NewPassword.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-layout fluid fill-height>\n        <v-row class=\"ma-0\">\n            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                <v-form ref=\"form_user\">\n                    <v-card outlined max-width=\"1200\" class=\"m-card pa-3 pt-0\">\n                        <v-card-text class=\"m-text--2c\">Информация о пользователе</v-card-text>\n                        <v-divider></v-divider>\n                        <v-row class=\"ma-0 mt-3\">\n                            <v-col cols=\"4\" class=\"justify-center m-border--inner-right pr-0\">\n                                <v-card outlined width=\"150\" height=\"150\" class=\"m-card m-card--center m-card--avatar mb-3\">\n                                    <div class=\"m-card--avatar-wrap\">\n                                        <div\n                                            v-show=\"avatar.type == 'file'\"\n                                            class=\"m-card--avatar-delete\"\n                                            @click=\"removeAvatar\"\n                                            >\n                                            <v-icon\n                                                size=\"55\"\n                                                color=\"#fff\">mdi-trash-can-outline\n                                            </v-icon>\n                                        </div>\n                                        <img\n                                            class=\"m-card--avatar-wrap_img\"\n                                            :src=\"avatar.src\"/>\n                                    </div>\n                                </v-card>\n                                <div\n                                    class=\"m-link m-link--text m-text--center\"\n                                    @click=\"upload\">редактировать</div>\n                            </v-col>\n                            <v-col cols=\"8\" class=\"pl-7\">\n                                <v-row>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <v-text-field\n                                            label=\"Имя\"\n                                            placeholder=\" \"\n                                            v-model=\"user.first_name\"\n                                            hide-details\n                                            required\n                                            :rules=\"checkInput\"\n                                        >\n                                            <template #label>Имя\n                                                <span class=\"red--text\"><strong>* </strong></span>\n                                            </template>\n                                        </v-text-field>\n                                    </v-col>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <v-text-field\n                                            label=\"Фамилия\"\n                                            placeholder=\" \"\n                                            v-model=\"user.last_name\"\n                                            hide-details\n                                            required\n                                            :rules=\"checkInput\"\n                                        >\n                                            <template #label>Фамилия\n                                                <span class=\"red--text\"><strong>* </strong></span>\n                                            </template>\n                                        </v-text-field>\n                                    </v-col>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <v-text-field\n                                            label=\"Отчество\"\n                                            placeholder=\" \"\n                                            v-model=\"user.middle_name\"\n                                            hide-details\n                                        ></v-text-field>\n                                    </v-col>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <v-text-field\n                                            label=\"Адрес электронной почты\"\n                                            placeholder=\" \"\n                                            v-model=\"user.email\"\n                                            class=\"m-input--no-events\"\n                                            hide-details\n                                        ></v-text-field>\n                                    </v-col>\n                                </v-row>\n                            </v-col>\n                        </v-row>\n                        <v-row class=\"ma-0\">\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                <v-autocomplete\n                                    v-model=\"selectCountry\"\n                                    :items=\"countries\"\n                                    item-text=\"name\"\n                                    item-value=\"id\"\n                                    persistent-hint\n                                    return-object\n                                    label=\"Страна\"\n                                    placeholder=\" \"\n                                    hide-details\n                                    :filter=\"filter\"\n                                    clearable\n                                    @click:clear=\"$nextTick(() => selectCountry = null)\"\n                                    @change=\"getCountry\"\n                                ></v-autocomplete>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                <v-autocomplete\n                                    :disabled=\"!regions.length\"\n                                    v-model=\"selectRegion\"\n                                    :items=\"regions\"\n                                    item-text=\"name\"\n                                    item-value=\"id\"\n                                    persistent-hint\n                                    return-object\n                                    label=\"Регион\"\n                                    placeholder=\" \"\n                                    hide-details\n                                    @change=\"getRegion\"\n                                ></v-autocomplete>\n                            </v-col>\n                        </v-row>\n                        <v-row class=\"ma-0\">\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    label=\"Город\"\n                                    placeholder=\" \"\n                                    v-model=\"user.city\"\n                                    hide-details\n                                ></v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    label=\"Адрес\"\n                                    placeholder=\" \"\n                                    v-model=\"user.address\"\n                                    hide-details\n                                ></v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    label=\"Почтовый индекс\"\n                                    placeholder=\" \"\n                                    v-model=\"user.post_code\"\n                                    hide-details\n                                ></v-text-field>\n                            </v-col>\n                        </v-row>\n                        <v-row class=\"ma-0\">\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    label=\"Должность\"\n                                    placeholder=\" \"\n                                    v-model=\"user.profession\"\n                                    hide-details\n                                    required\n                                    :rules=\"checkInput\"\n                                >\n                                    <template #label>Профессия\n                                        <span class=\"red--text\"><strong>* </strong></span>\n                                    </template>\n                                </v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-select\n                                    v-model=\"gender\"\n                                    :items=\"genderList\"\n                                    item-text=\"name\"\n                                    item-value=\"id\"\n                                    persistent-hint\n                                    return-object\n                                    label=\"Пол\"\n                                    placeholder=\" \"\n                                    hide-details\n                                    required\n                                    :rules=\"checkSelect\"\n                                    @change=\"getGender\"\n                                >\n                                    <template #label>Пол\n                                        <span class=\"red--text\"><strong>* </strong></span>\n                                    </template>\n                                </v-select>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-menu\n                                    ref=\"menu\"\n                                    v-model=\"menu\"\n                                    :close-on-content-click=\"false\"\n                                    transition=\"scale-transition\"\n                                    offset-y\n                                    min-width=\"290px\"\n                                    >\n                                    <template v-slot:activator=\"{ on }\">\n                                        <v-text-field\n                                            v-model=\"computedDateFormatted\"\n                                            label=\"Число/месяц/год рождения\"\n                                            readonly\n                                            hide-details\n                                            placeholder=\" \"\n                                            v-on=\"on\"\n                                            required\n                                            :rules=\"checkInput\"\n                                        >\n                                            <template #label>Число/месяц/год рождения\n                                                <span class=\"red--text\"><strong>* </strong></span>\n                                            </template>\n                                        </v-text-field>\n                                    </template>\n                                    <v-date-picker\n                                        ref=\"picker\"\n                                        v-model=\"date\"\n                                        :landscape=\"true\"\n                                        locale=\"ru\"\n                                        :max=\"new Date().toISOString().substr(0, 10)\"\n                                        min=\"1950-01-01\"\n                                        @change=\"save\"\n                                    ></v-date-picker>\n                                </v-menu>\n                            </v-col>\n                        </v-row>\n                        <v-card-actions class=\"pt-5 px-3\">\n                                <v-btn\n                                    outlined\n                                    color=\"normal\"\n                                    @click=\"newpassword = true\"\n                                    class=\"m-btn\">Сменить пароль</v-btn>\n                                <v-spacer></v-spacer>\n                                <v-btn\n                                    outlined\n                                    color=\"primary\"\n                                    :disabled=\"!changeUser\"\n                                    @click=\"saveChange\"\n                                    class=\"m-btn\">Сохранить</v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-form>\n            </v-col>\n        <!--\n            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                <v-card outlined max-width=\"1200\" class=\"m-card pa-3\">\n                    <v-card-text class=\"m-text--2c\">Информация об аккаунте</v-card-text>\n                    <v-divider></v-divider>\n                    <v-row class=\"ma-0 mt-3\">\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-text-field\n                                label=\"Адрес электронной почты\"\n                                placeholder=\" \"\n                                v-model=\"user.email\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-text-field\n                                label=\"Пароль\"\n                                placeholder=\" \"\n                                v-model=\"user.pass\"\n                                type=\"password\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                    </v-row>\n                    <v-row class=\"ma-0\">\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-text-field\n                                label=\"Новый пароль\"\n                                placeholder=\" \"\n                                v-model=\"user.pass_new\"\n                                type=\"password\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-text-field\n                                label=\"Повторить пароль\"\n                                placeholder=\" \"\n                                v-model=\"user.pass_new2\"\n                                type=\"password\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                    </v-row>\n                    <v-card-actions><v-spacer></v-spacer>\n                            <v-btn\n                                outlined\n                                color=\"primary\"\n                                class=\"m-btn\">Сохранить</v-btn>\n                    </v-card-actions>\n                </v-card>\n            </v-col>\n        -->\n        </v-row>\n\n        <upload-files\n            :uploadF.sync=\"uploadF\"\n            @setAvatar=\"setAvatar\"\n        />\n\n        <new-password\n            :newpassword.sync=\"newpassword\"\n        />\n\n    </v-layout>\n</template>\n\n<script>\nimport UploadFiles from './common/UploadFiles'\nimport NewPassword from './account/NewPassword'\n\nexport default {\n    name: 'Account',\n    components: {\n        UploadFiles,\n        NewPassword\n    },\n    data(){\n        return {\n            avatar: {\n                type: 'default',\n                src: '',\n            },\n            selectCountry: null,\n            selectRegion: {},\n            genderList: [{id: 'male', name: 'мужской'}, {id: 'female', name: 'женский'}],\n            gender: {},\n            date: null,\n            menu: false,\n            checkInput: [v => !!v || 'Необходимое поле'],\n            checkSelect: [v => !!v.name || 'Необходимое поле'],\n            user: {\n                birth_day: ''\n            },\n            requiredList: ['first_name', 'last_name', 'profession', 'gender', 'birth_day'],\n            uploadF: false,\n            newpassword: false\n        }\n    },\n    computed: {\n        computedDateFormatted(){\n            let date = this.formatDate(this.date)\n            return date\n        },\n        countries(){\n            return this.$store.state.common.countries\n        },\n        regions(){\n            return this.$store.state.common.regions\n        },\n        changeUser(){\n            let props = Object.keys(this.user)\n            let user = this.$store.state.administration.user\n            let change = false\n            props.map(i => {\n                if(this.user[i] != user[i]){\n                    change = true\n                }\n            })\n            this.requiredList.map(i => {\n                if(!this.user[i] || this.user[i] == ''){\n                    change = false\n                }\n            })\n            return change\n        }\n    },\n    watch: {\n        menu(val){\n            val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n        }\n    },\n    methods: {\n        save(date){\n            this.$refs.menu.save(date)\n        },\n        formatDate(date){\n            if (!date) return null\n\n            const [year, month, day] = date.split('-')\n            let delta = new Date().getTimezoneOffset()\n\n            let bd = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), (Math.abs(delta) / 60))\n            let mbd = bd.getTime(bd)\n\n            this.user.birth_day = mbd\n            return `${day}/${month}/${year}`\n        },\n        parseDate(date){\n            if (!date) return null\n\n            const [day, month, year] = date.split('/')\n            return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\n        },\n        getCountry(v){\n            if(v === undefined || v === null){\n                this.user.country_id = null\n                this.user.country = ''\n                this.getRegion(null)\n                this.selectRegion = null\n                this.$store.dispatch('common/getRegions', null)\n            }\n            else{\n                this.user.country_id = v.id\n                this.user.country = v.name\n                this.$store.dispatch('common/getRegions', {id: v.id})\n            }\n        },\n        getRegion(v){\n            if(v){\n                this.user.region_id = v.id\n                this.user.region = v.name\n            }\n            else{\n                this.user.region_id = null\n                this.user.region = ''\n            }\n        },\n        getGender(v){\n            this.user.gender = v.id\n        },\n        init(c, r, g, a){\n            this.selectCountry = {\n                id: c.id,\n                name: c.name\n            }\n            c.id && this.$store.dispatch('common/getRegions', {id: c.id})\n            this.selectRegion = r.id ? {\n                id: r.id,\n                name: r.name\n            } : null\n\n            this.gender = {}\n            this.genderList.map(i => {\n                if(i.id == g.id){\n                    this.gender = {\n                        id: g.id,\n                        name: i.name\n                    }\n                }\n            })\n            this.avatar = a.value\n        },\n        setAvatar(a){\n            this.avatar.src = a.file\n            this.avatar.type = 'file'\n            this.user.avatar = a.id\n        },\n        removeAvatar(){\n            let char = this.user.first_name.charAt(0)\n            char = char ? char.toUpperCase() : \"U\"\n            let canvas = document.createElement('canvas')\n            let size = 150\n            let fontSize = 90\n\n            canvas.width = size\n            canvas.height = size\n\n            let ctx = canvas.getContext('2d')\n            ctx.beginPath()\n            ctx.fillStyle = \"#e55d4a\"\n            ctx.fillRect(0, 0, size, size)\n            ctx.fillStyle = \"#ffffff\"\n            ctx.font = \"bold \" + (fontSize) + \"px Arial\"\n            ctx.textAlign = 'center'\n            ctx.fillText(char, size / 2, (size / 2) + ((fontSize * 0.70) / 2))\n\n            let avatar = canvas.toDataURL()\n\n            canvas  = null\n\n            this.avatar.src = avatar\n            this.avatar.type = 'default'\n            this.user.avatar = ''\n        },\n        updateUser(o){\n            this.user[o.name] = o.value\n        },\n        filter(a, b, c){\n            if(!c.toLowerCase().search(b.toLowerCase())){\n                return true\n            }\n            else{\n                return false\n            }\n        },\n        upload(){\n            this.uploadF = true\n        },\n        alert(res){\n            this.$notify({\n              group: 'note',\n              text: res.text,\n              type: res.status\n            })\n        },\n        saveChange(){\n            this.$store.dispatch('administration/updateUser', this.user)\n            .then(res => {\n                this.alert(res)\n                this.$store.dispatch('administration/getUser')\n            })\n        }\n    },\n    created(){\n        if(!this.$store.state.common.countries.length){\n            this.$store.dispatch('common/getCountries')\n        }\n        let user = this.$store.state.administration.user\n        user = JSON.parse(JSON.stringify(user))\n        this.user = user\n        this.init({\n            id: this.user.country_id,\n            name: this.user.country\n        },{\n            id: this.user.region_id,\n            name: this.user.region\n        },{\n            id: this.user.gender\n        },{\n            id: this.user.avatar,\n            value: this.$store.state.administration.userAvatar\n        })\n\n        if(user.birth_day){\n            this.date = new Date(user.birth_day).toISOString().substr(0, 10)\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=0bd9f2f9\"\nimport script from \"./Account.vue?vue&type=script&lang=js\"\nexport * from \"./Account.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{ref:\"wrap\",staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pb-10\":\"\",\"pt-0\":\"\"}},[_c(VCard,{staticClass:\"m-card pa-3 pt-0 mb-6\",attrs:{\"outlined\":\"\"}},[_c(VCardText,{staticClass:\"m-text--2c m-text--size22\"},[_vm._v(\"Обзор рабочей группы\")]),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{staticClass:\"justify-center pt-0 pl-4\",attrs:{\"cols\":\"3\"}},[_c('div',{staticClass:\"m-text--size13 mb-2\"},[_vm._v(\"Участники\")]),_c('div',{staticClass:\"m-text--size22 mb-2\"},[_c('span',[_vm._v(_vm._s(_vm.currentLicense.users))])]),_c('router-link',{staticClass:\"m-text--size13 m-text--color-blue\",attrs:{\"to\":'/administration/settings/employees/'}},[_vm._v(\"Подробнее\")])],1),_c(VCol,{staticClass:\"justify-center pt-0 px-0\",attrs:{\"cols\":\"3\"}},[_c('div',{staticClass:\"m-text--size13 mb-2\"},[_vm._v(\"Занятое место\")]),_c('div',{staticClass:\"m-text--size22 mb-2\"},[_c('span',{staticClass:\"m-text--color-blue\"},[_vm._v(_vm._s(_vm.project_size))]),_c('span',[_vm._v(\" / \"+_vm._s(_vm.currentLicense.space))])]),_c('router-link',{staticClass:\"m-text--size13 m-text--color-blue\",attrs:{\"to\":'/administration/payment/control'}},[_vm._v(\"Увеличить место\")])],1),_c(VCol,{staticClass:\"justify-center pt-0 px-0\",attrs:{\"cols\":\"3\"}},[_c('div',{staticClass:\"m-text--size13 mb-2\"},[_vm._v(\"Количество файлов\")]),_c('div',{staticClass:\"m-text--size22 mb-2\"},[_c('span',[_vm._v(_vm._s(_vm.projects.num_files))])])]),_c(VCol,{staticClass:\"justify-center pt-0 px-0\",attrs:{\"cols\":\"3\"}},[_c('div',{staticClass:\"m-text--size13 mb-2\"},[_vm._v(\"Дата завершения лицензии\")]),_c('div',{staticClass:\"m-text--size22 mb-2\"},[_c('span',[_vm._v(_vm._s(_vm.license.date))])]),_c('router-link',{staticClass:\"m-text--size13 m-text--color-blue\",attrs:{\"to\":'/administration/payment/control'}},[_vm._v(\"Продлить\")])],1)],1)],1),_c(VToolbar,{staticClass:\"m-table-toolbar\",attrs:{\"flat\":\"\",\"height\":\"auto\"}},[_c(VTextField,{staticClass:\"m-table-toolbar--search ml-2\",attrs:{\"prepend-icon\":\"search\",\"placeholder\":\"Поиск...\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c(VSpacer)],1),_c(VDataTable,{staticClass:\"m-table-custom\",attrs:{\"headers\":_vm.headers,\"items\":_vm.projects.list,\"show-select\":\"\",\"search\":_vm.search,\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\"\\n            \"+_vm._s(_vm.noData)+\"\\n        \")]},proxy:true},{key:\"item.data-table-select\",fn:function({ item, isSelected, select }){return [_c(VSimpleCheckbox,{attrs:{\"value\":isSelected},on:{\"input\":function($event){return select($event)}}})]}},{key:\"item.name\",fn:function({ item }){return [_c('span',[_vm._v(_vm._s(item.info.name)+\"\\n            \")])]}},{key:\"item.manager\",fn:function({ item }){return [_vm._v(\"\\n            \"+_vm._s(item.info.in_charge_name)+\"\\n        \")]}},{key:\"item.file_size\",fn:function({ item }){return [_vm._v(\"\\n            \"+_vm._s(item.info.file_size)+\"\\n        \")]}},{key:\"item.date\",fn:function({ item }){return [_vm._v(\"\\n            \"+_vm._s(_vm.getDate(item.info.created_at))+\"\\n        \")]}},{key:\"item.number_of_files\",fn:function({ item }){return [_vm._v(\"\\n            \"+_vm._s(item.info.number_of_files)+\"\\n        \")]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c(VCard,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected.length),expression:\"selected.length\"}],staticClass:\"m-table-custom--action\",style:(_vm.cardActionStyle)},[_c(VCardActions)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid px-3 pb-10 pt-0 class=\"m-container\" ref=\"wrap\">\n\n        <v-card outlined class=\"m-card pa-3 pt-0 mb-6\">\n            <v-card-text class=\"m-text--2c m-text--size22\">Обзор рабочей группы</v-card-text>\n            <v-row class=\"ma-0\">\n                <v-col cols=\"3\" class=\"justify-center pt-0 pl-4\">\n                    <div class=\"m-text--size13 mb-2\">Участники</div>\n                    <div class=\"m-text--size22 mb-2\">\n                        <span>{{currentLicense.users}}</span>\n                    </div>\n                    <router-link class=\"m-text--size13 m-text--color-blue\" :to=\"'/administration/settings/employees/'\">Подробнее</router-link>\n                </v-col>\n                <v-col cols=\"3\" class=\"justify-center pt-0 px-0\">\n                    <div class=\"m-text--size13 mb-2\">Занятое место</div>\n                    <div class=\"m-text--size22 mb-2\">\n                        <span class=\"m-text--color-blue\">{{project_size}}</span>\n                        <span> / {{currentLicense.space}}</span>\n                    </div>\n                    <router-link class=\"m-text--size13 m-text--color-blue\" :to=\"'/administration/payment/control'\">Увеличить место</router-link>\n                </v-col>\n                <v-col cols=\"3\" class=\"justify-center pt-0 px-0\">\n                    <div class=\"m-text--size13 mb-2\">Количество файлов</div>\n                    <div class=\"m-text--size22 mb-2\">\n                        <span>{{projects.num_files}}</span>\n                    </div>\n                </v-col>\n                <v-col cols=\"3\" class=\"justify-center pt-0 px-0\">\n                    <div class=\"m-text--size13 mb-2\">Дата завершения лицензии</div>\n                    <div class=\"m-text--size22 mb-2\">\n                        <span>{{license.date}}</span>\n                    </div>\n                    <router-link class=\"m-text--size13 m-text--color-blue\"\n                        :to=\"'/administration/payment/control'\">Продлить</router-link>\n                </v-col>\n            </v-row>\n        </v-card>\n\n\n        <v-toolbar flat height=\"auto\" class=\"m-table-toolbar\">\n            <v-text-field\n                v-model=\"search\"\n                prepend-icon=\"search\"\n                placeholder=\"Поиск...\"\n                single-line\n                hide-details\n                class=\"m-table-toolbar--search ml-2\"\n                ></v-text-field>\n\n            <v-spacer></v-spacer>\n        </v-toolbar>\n\n        <v-data-table\n            :headers=\"headers\"\n            :items=\"projects.list\"\n            show-select\n            v-model=\"selected\"\n            :search=\"search\"\n            disable-pagination\n            hide-default-footer\n            class=\"m-table-custom\"\n        >\n            <template v-slot:no-data>\n                {{noData}}\n            </template>\n            <template v-slot:item.data-table-select=\"{ item, isSelected, select }\">\n                <v-simple-checkbox\n                    :value=\"isSelected\"\n                    @input=\"select($event)\">\n                </v-simple-checkbox>\n            </template>\n\n            <template v-slot:item.name=\"{ item }\">\n                <span>{{item.info.name}}\n                </span>\n            </template>\n\n            <template v-slot:item.manager=\"{ item }\">\n                {{item.info.in_charge_name}}\n            </template>\n\n            <template v-slot:item.file_size=\"{ item }\">\n                {{item.info.file_size}}\n            </template>\n\n            <template v-slot:item.date=\"{ item }\">\n                {{getDate(item.info.created_at)}}\n            </template>\n\n            <template v-slot:item.number_of_files=\"{ item }\">\n                {{item.info.number_of_files}}\n            </template>\n        </v-data-table>\n\n        <v-card\n            class=\"m-table-custom--action\"\n            :style=\"cardActionStyle\"\n            v-show=\"selected.length\"\n            >\n            <v-card-actions>\n            <!--\n                <v-btn\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-trash-can-outline</v-icon>\n                    Удалить\n                </v-btn>\n            -->\n            </v-card-actions>\n        </v-card>\n    </v-container>\n</template>\n\n<script>\nexport default {\n    name: 'Statistics',\n    data(){\n        return {\n            headers: [\n                { text: 'НАЗАВАНИЕ проекта', value: 'name' },\n                { text: 'Ответственный за проект', value: 'manager' },\n                { text: 'Занятое место', value: 'file_size' },\n                { text: 'Дата создания', value: 'date' },\n                { text: 'Кол. Файлов', value: 'number_of_files' },\n            ],\n            search: '',\n            selected: [],\n            noData: 'Нет данных',\n            project_size: 0,\n            project_size_list: []\n        }\n    },\n    computed: {\n        currentLicense(){\n            let lic = this.$store.state.administration.currentLicense\n            return {\n                ...lic,\n                space: this.bytesToSize(lic.space)\n            }\n        },\n        projects(){\n            let list = this.$store.state.workflow.projects\n            list = list.map(p => {\n                let item = this.project_size_list.find(f => f.id == p.id)\n                if(item){\n                    p.info.file_size = item.size\n                }\n                else{\n                    p.info.file_size = 0\n                }\n                return p\n            })\n            return {\n                list,\n                num_files: list.reduce((a, v) => {\n                    return a + parseInt(v.info.number_of_files)\n                }, 0)\n            }\n        },\n        cardActionStyle(){\n            let width = 0\n            let left = 0\n            if(this.selected.length){\n                let box = this.$refs['wrap'].getBoundingClientRect()\n                width = box.width\n                left = box.x\n            }\n            return {width: width + 'px', left: left + 'px'}\n        },\n        users(){\n            return this.$store.state.administration.company.users.length\n        },\n        license(){\n            let size = 0\n            let date = ''\n            let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n            this.$store.state.administration.licenseList\n                .map(m => {\n                    if(m.rte == 10){\n                        size = m.data.idata / (1024 * 1024)\n                    }\n                    if(m.rte == 20\n                        || m.rte == 21\n                        || m.rte == 22\n                        || m.rte == 23){\n                            date = this.getDate(m.edate)\n                    }\n                })\n            return {size, date}\n        }\n    },\n    methods: {\n        getDate(d){\n            let options = {year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute:  '2-digit'}\n            return (new Date(parseInt(d) * 1000)).toLocaleDateString(\"ru-RU\", options)\n        },\n        bytesToSize(bytes){\n            const sizes = ['байт', 'Кб', 'Мб', 'Гб', 'Тб']\n            if(bytes === 0){\n                return 0 + ' ' + sizes[0]\n            }\n\n            let i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)))\n            if(i === 0){\n                return bytes + ' ' + sizes[i]\n            }\n\n            let total = (bytes / Math.pow(1024, i)).toFixed(2)\n\n            return total + sizes[i]\n        },\n    },\n    created(){\n        let promiseList = this.$store.state.workflow.projects.map(p => {\n            return this.$store.dispatch('workflow/getProjectSize', {id: p.id})\n        })\n        Promise.all(promiseList)\n        .then(res => {\n            let list = []\n            res.map(p => {\n                list.push({\n                    id: p.prj,\n                    size: this.bytesToSize(p.size)\n                })\n            })\n            this.project_size_list = list\n            let size = res.reduce((a, v) => {\n                return a + parseInt(v.size)\n            }, 0)\n            this.project_size = this.bytesToSize(size)\n        })\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Statistics.vue?vue&type=template&id=5620ecca\"\nimport script from \"./Statistics.vue?vue&type=script&lang=js\"\nexport * from \"./Statistics.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-view')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <router-view/>\n</template>\n\n<script>\nexport default {\n    name: 'Settings'\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=fa137630\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-4\":\"\",\"pa-0\":\"\",\"pb-10\":\"\"}},[_c('div',{staticClass:\"m-nav-tabs\"},[_c('router-link',{staticClass:\"m-nav-tabs--item\",attrs:{\"to\":\"/administration/payment/control\"}},[_c('span',[_vm._v(\"Управление тарифным планом\")])])],1),_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid px-4 pa-0 pb-10 class=\"m-container\">\n        <div\n            class=\"m-nav-tabs\"\n            >\n            <router-link\n                class=\"m-nav-tabs--item\"\n                to=\"/administration/payment/control\"><span>Управление тарифным планом</span></router-link>\n        </div>\n        <router-view/>\n    </v-container>\n</template>\n\n<script>\nexport default {\n    name: 'Payment'\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Payment.vue?vue&type=template&id=35ff012a\"\nimport script from \"./Payment.vue?vue&type=script&lang=js\"\nexport * from \"./Payment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"m-control--item\"},[_c('div',[_c('div',{staticClass:\"m-control--item__title\"},[_vm._v(_vm._s(_vm.parameters.Name))]),_c('div',{staticClass:\"m-control--item__desc\"},[_vm._v(\"Ваш текущий пакет. Выберите, на какой период вы хотите купить лицензию.\")])]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.onComponent('Plan')}}},[_vm._v(\"Изменить план\")])],1),_c('div',{staticClass:\"m-control--item\"},[_c('div',[_c('div',{staticClass:\"m-control--item__title\"},[_vm._v(\"Количество лицензий: \"+_vm._s(_vm.checkLic(_vm.parameters.License) == -1 ? 'неограничено' : _vm.checkLic(_vm.parameters.License)))]),_c('div',{staticClass:\"m-control--item__desc\"},[_vm._v(\"Количество лицензий, которые используют сотрудники вашей компании.\")])]),_c(VSpacer),(_vm.checkLic(_vm.parameters.License) != -1)?_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){return _vm.onComponent('License')}}},[_vm._v(\"Управление лицензиями\")]):_vm._e()],1),_c('div',{staticClass:\"m-control--item\"},[_c('div',[_c('div',{staticClass:\"m-control--item__title\"},[_vm._v(\"Использованное место\")]),_c('div',{staticClass:\"m-control--item__desc\"},[_vm._v(\"Ваш текущий пакет предоставляет \"+_vm._s(_vm.parameters.Size)+\" Мб места в облачном хранилище.\")])]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){return _vm.onComponent('Size')}}},[_vm._v(\"Получить больше места\")])],1),_c('control-dialog',{attrs:{\"component\":_vm.component,\"parameters\":_vm.parameters},on:{\"update:component\":function($event){_vm.component=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VDialog,{attrs:{\"value\":_vm.component,\"scrollable\":\"\",\"max-width\":\"700px\"},on:{\"input\":v => v || _vm.cancel()}},[_c(VCard,[_c(VCardTitle,{staticClass:\"pr-0 pl-4 m-modal--title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.title[_vm.component])+\"\\n            \"),_c(VSpacer),_c(VBtn,{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":\"#7f7f7f\"},on:{\"click\":_vm.cancel}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"close\")])],1)],1),_c(VDivider),_c(_vm.component,{tag:\"component\",attrs:{\"parameters\":_vm.parameters,\"values\":_vm.values},on:{\"update:values\":function($event){_vm.values=$event}}}),_c(VDivider),_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.component != 'Confirm'),expression:\"component != 'Confirm'\"}],staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.onConfirm}},[_vm._v(\"Купить\\n            \")]),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.component == 'Confirm'),expression:\"component == 'Confirm'\"}],staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.setLicense}},[_vm._v(\"Да\\n            \")]),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.component != 'Confirm'),expression:\"component != 'Confirm'\"}],staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cancel.apply(null, arguments)}}},[_vm._v(\"Отмена\")]),_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.component == 'Confirm'),expression:\"component == 'Confirm'\"}],staticClass:\"m-btn m-btn-normal\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cancel.apply(null, arguments)}}},[_vm._v(\"Нет\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCardText } from 'vuetify/lib/components/VCard';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCardText,{staticClass:\"px-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"m-flex pt-6 pb-3\"},[_c('span',{staticClass:\"m-flex--item__auto pr-3 m-text--size13\"},[_vm._v(\"Укажите количество пользователей:\")]),_c('div',{staticClass:\"m-flex--item\"},[_c(VTextField,{staticClass:\"m-text--size12\",on:{\"input\":_vm.onlyInteger},model:{value:(_vm.num),callback:function ($$v) {_vm.num=$$v},expression:\"num\"}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card-text class=\"px-4\" style=\"background-color: #fbfbfb;\">\n        <div\n            class=\"m-flex pt-6 pb-3\">\n            <span class=\"m-flex--item__auto pr-3 m-text--size13\">Укажите количество пользователей:</span>\n            <div class=\"m-flex--item\">\n                <v-text-field\n                    class=\"m-text--size12\"\n                    v-model=\"num\"\n                    @input=\"onlyInteger\"\n                ></v-text-field>\n            </div>\n        </div>\n    </v-card-text>\n</template>\n\n<script>\nexport default {\n    name: 'Plan',\n    props: ['parameters', 'values'],\n    data(){\n        return {\n            num: this.parameters.License\n        }\n    },\n    watch: {\n        num(v){\n            this.setNum()\n        }\n    },\n    methods: {\n        onlyInteger(e){\n            this.$nextTick(() => {\n                this.num = this.num.replace(/[^0-9]/g, '')\n            })\n        },\n        setNum(){\n            if(this.num == this.parameters.License){\n                return\n            }\n            this.$emit('update:values', {\n                route: 'lic',\n                body: {\n                    rte: this.parameters.Plan,\n                    data: {\n                        idata: this.num\n                    }\n                }\n            })\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./License.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./License.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./License.vue?vue&type=template&id=f313a37e\"\nimport script from \"./License.vue?vue&type=script&lang=js\"\nexport * from \"./License.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCardText } from 'vuetify/lib/components/VCard';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCardText,{staticClass:\"px-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"m-flex pt-6 pb-3\"},[_c('span',{staticClass:\"m-flex--item__auto pr-3 m-text--size13\"},[_vm._v(\"Выберите пакет:\")]),_c('div',{staticClass:\"m-flex--item\"},[_c(VAutocomplete,{staticClass:\"pa-0 ma-0 m-text--size12\",attrs:{\"items\":_vm.parameters.List,\"item-text\":\"name\",\"item-value\":\"code\",\"persistent-hint\":\"\",\"placeholder\":\" \",\"hide-details\":\"\",\"dense\":\"\"},model:{value:(_vm.plan),callback:function ($$v) {_vm.plan=$$v},expression:\"plan\"}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card-text class=\"px-4\" style=\"background-color: #fbfbfb;\">\n        <div\n            class=\"m-flex pt-6 pb-3\">\n            <span class=\"m-flex--item__auto pr-3 m-text--size13\">Выберите пакет:</span>\n            <div class=\"m-flex--item\">\n                <v-autocomplete\n                    class=\"pa-0 ma-0 m-text--size12\"\n                    v-model=\"plan\"\n                    :items=\"parameters.List\"\n                    item-text=\"name\"\n                    item-value=\"code\"\n                    persistent-hint\n                    placeholder=\" \"\n                    hide-details\n                    dense\n                    />\n            </div>\n        </div>\n    </v-card-text>\n</template>\n\n<script>\nexport default {\n    name: 'Plan',\n    props: ['parameters', 'values'],\n    data(){\n        return {\n            plan: this.parameters.Plan\n        }\n    },\n    watch: {\n        plan(v){\n            this.setPlan()\n        }\n    },\n    methods: {\n        setPlan(){\n            if(this.plan == this.parameters.Plan){\n                return\n            }\n            this.$emit('update:values', {\n                route: 'plan',\n                body: {\n                    rte: this.plan,\n                    data: {\n                        idata: this.parameters.License\n                    }\n                }\n            })\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Plan.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Plan.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Plan.vue?vue&type=template&id=f5652b06\"\nimport script from \"./Plan.vue?vue&type=script&lang=js\"\nexport * from \"./Plan.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCardText } from 'vuetify/lib/components/VCard';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCardText,{staticClass:\"px-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"m-flex pt-6 pb-3\"},[_c('span',{staticClass:\"m-flex--item__auto pr-3 m-text--size13\"},[_vm._v(\"Укажите объем необходимого пространства:\")]),_c('div',{staticClass:\"m-flex--item\"},[_c(VTextField,{staticClass:\"m-text--size12\",on:{\"input\":_vm.onlyInteger},model:{value:(_vm.size),callback:function ($$v) {_vm.size=$$v},expression:\"size\"}})],1),_c('span',{staticClass:\"m-flex--item__auto m-text--size13\"},[_vm._v(\"Мегабайт\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card-text class=\"px-4\" style=\"background-color: #fbfbfb;\">\n        <div\n            class=\"m-flex pt-6 pb-3\">\n            <span class=\"m-flex--item__auto pr-3 m-text--size13\">Укажите объем необходимого пространства:</span>\n            <div class=\"m-flex--item\">\n                <v-text-field\n                    class=\"m-text--size12\"\n                    v-model=\"size\"\n                    @input=\"onlyInteger\"\n                ></v-text-field>\n            </div>\n            <span class=\"m-flex--item__auto m-text--size13\">Мегабайт</span>\n        </div>\n    </v-card-text>\n</template>\n\n<script>\nexport default {\n    name: 'Plan',\n    props: ['parameters', 'values'],\n    data(){\n        return {\n            size: this.parameters.Size,\n            maxC: 5,\n            maxN: 51200\n        }\n    },\n    watch: {\n        size(v){\n            this.setSize()\n        }\n    },\n    methods: {\n        onlyInteger(e){\n            this.$nextTick(() => {\n                let n = this.size.replace(/[^0-9]/g, '').slice(0, this.maxC)\n                this.size = parseInt(n) > this.maxN\n                    ? this.maxN\n                    : n\n            })\n        },\n        setSize(){\n            if(this.size == this.parameters.Size){\n                return\n            }\n            this.$emit('update:values', {\n                route: 'size',\n                body: {\n                    rte: this.parameters.Plan,\n                    data: {\n                        idata: parseInt(this.size)\n                    }\n                }\n            })\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Size.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Size.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Size.vue?vue&type=template&id=cb0800ea\"\nimport script from \"./Size.vue?vue&type=script&lang=js\"\nexport * from \"./Size.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCardText } from 'vuetify/lib/components/VCard';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VCardText,{staticClass:\"px-4\",staticStyle:{\"background-color\":\"#fbfbfb\"}},[_c('div',{staticClass:\"pt-6 pb-3\"},[_c('span',{staticClass:\"m-flex--item__auto pr-3 m-text--size16 m-text--color-black\"},[_vm._v(\"Вы действительно хотите купить данную лицензию? Если вы нажмете «Да», Ваш запрос будет отправлен, в ближайшее время он будет принят в работу. Для отмены нажмите «Нет».\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card-text class=\"px-4\" style=\"background-color: #fbfbfb;\">\n        <div\n            class=\"pt-6 pb-3\">\n            <span class=\"m-flex--item__auto pr-3 m-text--size16 m-text--color-black\">Вы действительно хотите купить данную лицензию? Если вы нажмете «Да», Ваш запрос будет отправлен, в ближайшее время он будет принят в работу. Для отмены нажмите «Нет».</span>\n        </div>\n    </v-card-text>\n</template>\n\n<script>\nexport default {\n    name: 'Confirm'\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=5b903ea8\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-dialog :value=\"component\" scrollable max-width=\"700px\" @input=\"v => v || cancel()\">\n    <v-card>\n        <v-card-title class=\"pr-0 pl-4 m-modal--title\">\n            {{title[component]}}\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                icon\n                @click=\"cancel\"\n                color=\"#7f7f7f\">\n                <v-icon size=\"20\">close</v-icon>\n            </v-btn>\n        </v-card-title>\n\n        <v-divider></v-divider>\n\n        <component\n            :is=\"component\"\n            :parameters=\"parameters\"\n            :values.sync=\"values\"\n        />\n\n        <v-divider></v-divider>\n        <v-card-actions class=\"pa-5 px-4\">\n            <v-spacer></v-spacer>\n            <v-btn v-show=\"component != 'Confirm'\" outlined color=\"primary\" class=\"m-btn\" @click=\"onConfirm\">Купить\n            </v-btn>\n            <v-btn v-show=\"component == 'Confirm'\" outlined color=\"primary\" class=\"m-btn\" @click=\"setLicense\">Да\n            </v-btn>\n\n            <v-btn v-show=\"component != 'Confirm'\" outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"cancel\">Отмена</v-btn>\n            <v-btn v-show=\"component == 'Confirm'\" outlined color=\"normal\" class=\"m-btn m-btn-normal\" @click.stop=\"cancel\">Нет</v-btn>\n        </v-card-actions>\n    </v-card>\n</v-dialog>\n</template>\n\n<script>\nimport License from \"./License\"\nimport Plan from \"./Plan\"\nimport Size from \"./Size\"\nimport Confirm from \"./Confirm\"\n\nexport default {\n    name: 'ControlDialog',\n    components: {\n        License,\n        Plan,\n        Size,\n        Confirm\n    },\n    props: ['component', 'parameters'],\n    data(){\n        return {\n            title: {\n                Plan: 'Тип лицензий',\n                License: 'Количество лицензий',\n                Size: 'Количество места',\n                Confirm: ''\n            },\n            values: null,\n            confirm: false,\n            minLic: 3,\n            maxLic: 9223372036854775807n,\n            place: {\n                p20: 200,\n                p21: 5120,\n                p22: 10240,\n                p23: 51200\n            }\n        }\n    },\n    watch: {\n        component(v){\n            if(v){\n                document.addEventListener('keyup', this.enter, false)\n            }\n            else{\n                document.removeEventListener('keyup', this.enter, false)\n            }\n        }\n    },\n    methods: {\n        cancel(){\n            this.$emit('update:component', false)\n            this.values = null\n        },\n        onConfirm(){\n            this.$emit('update:component', 'Confirm')\n            // if(this.component == 'Plan'){\n            //     this.$emit('update:component', 'Confirm')\n            // }\n            // else{\n            //     this.setLicense()\n            // }\n        },\n        setLicense(){\n            if(!this.values){\n                this.cancel()\n                return\n            }\n            if(this.values.route == 'plan'){\n                let idata = this.maxLic.toString()\n                if(this.values.body.rte > 20){\n                    idata = BigInt(this.values.body.data.idata) == this.maxLic\n                        ? this.$store.state.administration.company.users.length >= this.minLic\n                            ? this.$store.state.administration.company.users.length.toString()\n                            : this.minLic.toString()\n                        : parseInt(this.values.body.data.idata) < this.minLic\n                            ? this.minLic.toString()\n                            : this.values.body.data.idata\n                }\n\n                this.$store.dispatch('administration/setLicense', {\n                    uid: this.$store.state.administration.user.id,\n                    cid: this.$store.state.administration.company.id,\n                    int: 1,\n                    rte: this.values.body.rte,\n                    data: {\n                        idata: idata\n                    }\n                })\n                this.$store.dispatch('administration/setLicense', {\n                    uid: this.$store.state.administration.user.id,\n                    cid: this.$store.state.administration.company.id,\n                    int: 1,\n                    rte: 10,\n                    data: {\n                        idata: (this.place['p' + this.values.body.rte] * 1024 * 1024).toString()\n                    }\n                })\n                this.$store.dispatch('administration/setLicense', {\n                    uid: this.$store.state.administration.user.id,\n                    cid: this.$store.state.administration.company.id,\n                    int: 1,\n                    rte: 30 + (this.values.body.rte % 10)\n                })\n            }\n            if(this.values.route == 'size'){\n                this.$store.dispatch('administration/setLicense', {\n                    uid: this.$store.state.administration.user.id,\n                    cid: this.$store.state.administration.company.id,\n                    int: 1,\n                    rte: 10,\n                    data: {\n                        idata: this.place['p' + this.values.body.rte] > this.values.body.data.idata\n                            ? (this.place['p' + this.values.body.rte] * 1024 * 1024).toString()\n                            : (this.values.body.data.idata * 1024 * 1024).toString()\n                    }\n                })\n            }\n            if(this.values.route == 'lic'){\n                this.$store.dispatch('administration/setLicense', {\n                    uid: this.$store.state.administration.user.id,\n                    cid: this.$store.state.administration.company.id,\n                    int: 1,\n                    rte: this.values.body.rte,\n                    data: {\n                        idata: BigInt(this.values.body.data.idata) >= this.maxLic\n                            ? this.maxLic.toString()\n                            : parseInt(this.values.body.data.idata) < this.minLic\n                                ? this.minLic.toString()\n                                : this.values.body.data.idata\n                    }\n                })\n            }\n            this.cancel()\n        },\n        enter(e){\n            if(e.keyCode === 13){\n                e.preventDefault()\n                this.cancel()\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ControlDialog.vue?vue&type=template&id=13725044\"\nimport script from \"./ControlDialog.vue?vue&type=script&lang=js\"\nexport * from \"./ControlDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <div\n            class=\"m-control--item\">\n            <div>\n                <div class=\"m-control--item__title\">{{parameters.Name}}</div>\n                <div class=\"m-control--item__desc\">Ваш текущий пакет. Выберите, на какой период вы хотите купить лицензию.</div>\n            </div>\n\n            <v-spacer></v-spacer>\n            <v-btn\n                outlined\n                color=\"primary\"\n                @click=\"onComponent('Plan')\"\n                class=\"m-btn\">Изменить план</v-btn>\n        </div>\n\n        <div\n            class=\"m-control--item\">\n            <div>\n                <div class=\"m-control--item__title\">Количество лицензий: {{checkLic(parameters.License) == -1 ? 'неограничено' : checkLic(parameters.License)}}</div>\n                <div class=\"m-control--item__desc\">Количество лицензий, которые используют сотрудники вашей компании.</div>\n            </div>\n\n            <v-spacer></v-spacer>\n            <v-btn\n                v-if=\"checkLic(parameters.License) != -1\"\n                outlined\n                color=\"normal\"\n                class=\"m-btn m-btn-normal\"\n                @click=\"onComponent('License')\">Управление лицензиями</v-btn>\n        </div>\n\n        <div\n            class=\"m-control--item\">\n            <div>\n                <div class=\"m-control--item__title\">Использованное место</div>\n                <div class=\"m-control--item__desc\">Ваш текущий пакет предоставляет {{parameters.Size}} Мб места в облачном хранилище.</div>\n            </div>\n\n            <v-spacer></v-spacer>\n            <v-btn\n                outlined\n                color=\"normal\"\n                class=\"m-btn m-btn-normal\"\n                @click=\"onComponent('Size')\">Получить больше места</v-btn>\n        </div>\n\n        <control-dialog\n            :component.sync=\"component\"\n            :parameters=\"parameters\"\n        />\n    </div>\n</template>\n\n<script>\nimport ControlDialog from \"./control/ControlDialog\"\n\nexport default {\n    name: 'Control',\n    components: {\n        ControlDialog\n    },\n    data(){\n        return {\n            // parameters: {\n            //     Plan: 23,\n            //     License: 3,\n            //     Size: 5\n            // },\n            list: [{\n                name: 'Старт',\n                code: 20\n            },{\n                name: 'Базовый',\n                code: 21\n            },{\n                name: 'Профессионал',\n                code: 22\n            },{\n                name: 'Интеллектуальный эксперт',\n                code: 23\n            }],\n            component: false\n        }\n    },\n    computed: {\n        parameters(){\n            let currentLicense = this.$store.state.administration.currentLicense\n\n            return {\n                Plan: currentLicense ? currentLicense.pcode : 0,\n                Name:  currentLicense ? this.list.find(f => f.code == currentLicense.pcode).name : '',\n                List: this.list,\n                License:  currentLicense ? currentLicense.users : 0,\n                Size:  currentLicense ? parseInt(currentLicense.space) / (1024 * 1024) : 0,\n                // sizePrint: (() => {\n                //     const sizes = ['Bytes', 'KB', 'Мб', 'Гб']\n                //     let i = parseInt(Math.floor(Math.log(currentLicense.space) / Math.log(1024)))\n                //     let value = (currentLicense.space / Math.pow(1024, i)).toFixed(2)\n                //     console.log(currentLicense.space / Math.pow(1024, i), value, i)\n                //     return {\n                //         value: value,\n                //         unit: sizes[i]\n                //     }\n                // })()\n            }\n        }\n    },\n    methods: {\n        onComponent(c){\n            this.component = c\n        },\n        checkLic(v){\n            if(v == '9223372036854775807' && this.parameters.Plan == 20){\n                return -1\n            }\n            else{\n                return v\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Control.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Control.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Control.vue?vue&type=template&id=ae15dab6\"\nimport script from \"./Control.vue?vue&type=script&lang=js\"\nexport * from \"./Control.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VContainer } from 'vuetify/lib/components/VGrid';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pa-0\":\"\",\"pb-10\":\"\"}},_vm._l((_vm.list),function(group){return _c('div',{staticClass:\"m-list--group\"},[_c('div',{staticClass:\"m-list--group-title\"},[_vm._v(_vm._s(group.group)+\"\\n        \")]),_vm._l((group.items),function(item){return _c('div',{staticClass:\"m-list--item\",on:{\"click\":function($event){return _vm.action(item.action)}}},[_c('div',{staticClass:\"m-list--item-title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"m-list--item-desc\"},[_vm._v(_vm._s(item.desc))])])})],2)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid px-3 pa-0 pb-10 class=\"m-container\">\n        <div\n            v-for=\"group in list\"\n            class=\"m-list--group\"\n            >\n                <div class=\"m-list--group-title\">{{group.group}}\n            </div>\n            <div\n                class=\"m-list--item\"\n                v-for=\"item in group.items\"\n                @click=\"action(item.action)\">\n                <div class=\"m-list--item-title\">{{item.title}}</div>\n                <div class=\"m-list--item-desc\">{{item.desc}}</div>\n            </div>\n        </div>\n    </v-container>\n</template>\n\n<script>\nexport default {\n    name: 'SettingsList',\n    data(){\n        return {\n            list: [\n                {\n                    group: 'Аккаунт',\n                    items: [\n                        {\n                            title: 'Профиль компании',\n                            desc: 'Укажите данные вашей компанией, чтобы иметь возможность покупать услуги, продукты UnitBIM и пользоваться всеми возможностями платформы.',\n                            action: 'company',\n                            permissions: ['1','2','3','4','5','6']\n                        },{\n                            title: 'Сотрудники',\n                            desc: 'Список сотрудников вашей компании использующие платформу UnitBIM.',\n                            action: 'employees',\n                            permissions: ['1','2','3','4','5','6']\n                        },\n                        // {\n                        //     title: 'Вход через социальные сети',\n                        //     desc: 'Используйте свои учетные записи в социальных сетях для быстрого, легкого и безопасного доступа к сервисам UnitBIM.',\n                        //     action: 'company'\n                        // }\n                    ]\n                },{\n                    group: 'Докуметооборот',\n                    items: [\n                        {\n                            title: 'Права доступа',\n                            desc: 'Укажите, кто из пользователей может совершать оплату при покупке лицензии и других сервисов.',\n                            action: 'accessrights',\n                            permissions: ['1','2']\n                        },{\n                            title: 'Контент',\n                            desc: 'Список всех проектов и файлов загруженных или созданных вашими сотрудниками.',\n                            action: 'kontent',\n                            permissions: ['1','2','3','4','5','6']\n                        },{\n                            title: 'Контрагенты',\n                            desc: 'Укажите свой контрагентов для возможности выстраивание совместной работы.',\n                            action: 'contragents',\n                            permissions: ['1','2']\n                        },{\n                            title: 'Версионность',\n                            desc: 'Укажите максимальное количество версий файла, которые будут храниться на облаке.',\n                            action: 'version',\n                            permissions: ['1','2','3','4','5','6']\n                        },{\n                            title: 'Активность',\n                            desc: 'Следите за действиями и активностью ваших сотрудников.',\n                            action: 'activity',\n                            permissions: ['1','2']\n                        }\n                    ]\n                }\n            ]\n        }\n    },\n    methods: {\n        action(a){\n            this.$router.push({name: a})\n        },\n        getList(){\n            let role = this.$store.state.administration.user.role\n            let list = this.list.map(l => ({\n                ...l, items: l.items.filter(i => i.permissions.some(p => p == role))\n            })).filter(l => l.items.length)\n            return list\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SettingsList.vue?vue&type=template&id=424f6402\"\nimport script from \"./SettingsList.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsList.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VLayout,{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VCard,{staticClass:\"m-card pa-3 pt-0\",attrs:{\"outlined\":\"\",\"max-width\":\"1200\"}},[_c(VCardText,{staticClass:\"m-text--2c\"},[_vm._v(\"Информация о компании\")]),_c(VDivider),_c(VRow,{staticClass:\"ma-0 mt-3\"},[_c(VCol,{staticClass:\"justify-center m-border--inner-right pr-0\",attrs:{\"cols\":\"4\"}},[_c(VCard,{staticClass:\"m-card m-card--center m-card--avatar mb-3\",attrs:{\"outlined\":\"\",\"width\":\"150\",\"height\":\"150\"}},[_c('div',{staticClass:\"m-card--avatar-wrap\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.logo.type == 'file'),expression:\"logo.type == 'file'\"}],staticClass:\"m-card--avatar-delete\",on:{\"click\":_vm.removeLogo}},[_c(VIcon,{attrs:{\"size\":\"55\",\"color\":\"#fff\"}},[_vm._v(\"mdi-trash-can-outline\\n                                    \")])],1),_c('img',{staticClass:\"m-card--avatar-wrap_img\",attrs:{\"src\":_vm.logo.src}})])]),_c('div',{staticClass:\"m-link m-link--text m-text--center\",on:{\"click\":_vm.upload}},[_vm._v(\"редактировать\")])],1),_c(VCol,{attrs:{\"cols\":\"8\"}},[_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Название компании\",\"placeholder\":\" \",\"hide-details\":\"\",\"required\":\"\",\"rules\":_vm.checkInput},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Название компании\\n                                        \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}]),model:{value:(_vm.company.name),callback:function ($$v) {_vm.$set(_vm.company, \"name\", $$v)},expression:\"company.name\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Юридическое лицо\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.company.official_name),callback:function ($$v) {_vm.$set(_vm.company, \"official_name\", $$v)},expression:\"company.official_name\"}})],1)],1)],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"ИНН\",\"placeholder\":\" \",\"required\":\"\",\"rules\":_vm.innRules,\"hide-details\":\"\"},model:{value:(_vm.company.inn),callback:function ($$v) {_vm.$set(_vm.company, \"inn\", $$v)},expression:\"company.inn\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"КПП\",\"placeholder\":\" \",\"required\":\"\",\"rules\":_vm.kppRules,\"hide-details\":\"\"},model:{value:(_vm.company.kpp),callback:function ($$v) {_vm.$set(_vm.company, \"kpp\", $$v)},expression:\"company.kpp\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"ОГРН\",\"placeholder\":\" \",\"required\":\"\",\"rules\":_vm.ogrnRules,\"hide-details\":\"\"},model:{value:(_vm.company.ogrn),callback:function ($$v) {_vm.$set(_vm.company, \"ogrn\", $$v)},expression:\"company.ogrn\"}})],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VAutocomplete,{attrs:{\"items\":_vm.countries,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Страна\",\"placeholder\":\" \",\"hide-details\":\"\",\"clearable\":\"\"},on:{\"click:clear\":function($event){_vm.$nextTick(() => _vm.selectCountry = null)},\"change\":_vm.getCountry},model:{value:(_vm.selectCountry),callback:function ($$v) {_vm.selectCountry=$$v},expression:\"selectCountry\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VAutocomplete,{attrs:{\"disabled\":!_vm.regions.length,\"items\":_vm.regions,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Регион\",\"placeholder\":\" \",\"hide-details\":\"\"},on:{\"change\":_vm.getRegion},model:{value:(_vm.selectRegion),callback:function ($$v) {_vm.selectRegion=$$v},expression:\"selectRegion\"}})],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Город\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.company.city),callback:function ($$v) {_vm.$set(_vm.company, \"city\", $$v)},expression:\"company.city\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Адрес\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.company.address),callback:function ($$v) {_vm.$set(_vm.company, \"address\", $$v)},expression:\"company.address\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Почтовый индекс\",\"placeholder\":\" \",\"hide-details\":\"\"},model:{value:(_vm.company.post_code),callback:function ($$v) {_vm.$set(_vm.company, \"post_code\", $$v)},expression:\"company.post_code\"}})],1)],1),_c(VCardActions,[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.changeUser},on:{\"click\":_vm.saveChange}},[_vm._v(\"Сохранить\")])],1)],1)],1)],1),_c('upload-files',{attrs:{\"uploadF\":_vm.uploadF},on:{\"update:uploadF\":function($event){_vm.uploadF=$event},\"update:upload-f\":function($event){_vm.uploadF=$event},\"setAvatar\":_vm.setLogo}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-layout fluid fill-height>\n        <v-row class=\"ma-0\">\n            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                <v-card outlined max-width=\"1200\" class=\"m-card pa-3 pt-0\">\n                    <v-card-text class=\"m-text--2c\">Информация о компании</v-card-text>\n                    <v-divider></v-divider>\n                    <v-row class=\"ma-0 mt-3\">\n                        <v-col cols=\"4\" class=\"justify-center m-border--inner-right pr-0\">\n                            <v-card outlined width=\"150\" height=\"150\" class=\"m-card m-card--center m-card--avatar mb-3\">\n                                <div class=\"m-card--avatar-wrap\">\n                                    <div\n                                        v-show=\"logo.type == 'file'\"\n                                        class=\"m-card--avatar-delete\"\n                                        @click=\"removeLogo\"\n                                        >\n                                        <v-icon\n                                            size=\"55\"\n                                            color=\"#fff\">mdi-trash-can-outline\n                                        </v-icon>\n                                    </div>\n                                    <img\n                                        class=\"m-card--avatar-wrap_img\"\n                                        :src=\"logo.src\"/>\n                                </div>\n                            </v-card>\n                            <div\n                                class=\"m-link m-link--text m-text--center\"\n                                @click=\"upload\">редактировать</div>\n                        </v-col>\n                        <v-col cols=\"8\">\n                            <v-row>\n                                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                    <v-text-field\n                                        label=\"Название компании\"\n                                        placeholder=\" \"\n                                        v-model=\"company.name\"\n                                        hide-details\n                                        required\n                                        :rules=\"checkInput\"\n                                    >\n                                        <template #label>Название компании\n                                            <span class=\"red--text\"><strong>* </strong></span>\n                                        </template>\n                                    </v-text-field>\n                                </v-col>\n                                <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                    <v-text-field\n                                        label=\"Юридическое лицо\"\n                                        placeholder=\" \"\n                                        v-model=\"company.official_name\"\n                                        hide-details\n                                    ></v-text-field>\n                                </v-col>\n                            </v-row>\n                        </v-col>\n                    </v-row>\n                    <v-row class=\"ma-0\">\n                        <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                            <v-text-field\n                                label=\"ИНН\"\n                                placeholder=\" \"\n                                v-model=\"company.inn\"\n                                required\n                                :rules=\"innRules\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                            <v-text-field\n                                label=\"КПП\"\n                                placeholder=\" \"\n                                v-model=\"company.kpp\"\n                                required\n                                :rules=\"kppRules\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                            <v-text-field\n                                label=\"ОГРН\"\n                                placeholder=\" \"\n                                v-model=\"company.ogrn\"\n                                required\n                                :rules=\"ogrnRules\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                    </v-row>\n                    <v-row class=\"ma-0\">\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-autocomplete\n                                v-model=\"selectCountry\"\n                                :items=\"countries\"\n                                item-text=\"name\"\n                                item-value=\"id\"\n                                persistent-hint\n                                return-object\n                                label=\"Страна\"\n                                placeholder=\" \"\n                                hide-details\n                                clearable\n                                @click:clear=\"$nextTick(() => selectCountry = null)\"\n                                @change=\"getCountry\"\n                            ></v-autocomplete>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            <v-autocomplete\n                                :disabled=\"!regions.length\"\n                                v-model=\"selectRegion\"\n                                :items=\"regions\"\n                                item-text=\"name\"\n                                item-value=\"id\"\n                                persistent-hint\n                                return-object\n                                label=\"Регион\"\n                                placeholder=\" \"\n                                hide-details\n                                @change=\"getRegion\"\n                            ></v-autocomplete>\n                        </v-col>\n                    </v-row>\n                    <v-row class=\"ma-0\">\n                        <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                            <v-text-field\n                                label=\"Город\"\n                                placeholder=\" \"\n                                v-model=\"company.city\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                            <v-text-field\n                                label=\"Адрес\"\n                                placeholder=\" \"\n                                v-model=\"company.address\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                            <v-text-field\n                                label=\"Почтовый индекс\"\n                                placeholder=\" \"\n                                v-model=\"company.post_code\"\n                                hide-details\n                            ></v-text-field>\n                        </v-col>\n                    </v-row>\n                    <v-card-actions><v-spacer></v-spacer>\n                            <v-btn\n                                outlined\n                                color=\"primary\"\n                                class=\"m-btn\"\n                                :disabled=\"!changeUser\"\n                                @click=\"saveChange\"\n                                >Сохранить</v-btn>\n                    </v-card-actions>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-row>\n\n    <upload-files\n        :uploadF.sync=\"uploadF\"\n        @setAvatar=\"setLogo\"\n    />\n\n    </v-layout>\n</template>\n\n<script>\nimport UploadFiles from './../common/UploadFiles'\n\nexport default {\n    name: 'Company',\n    components: {\n        UploadFiles\n    },\n    data(){\n        return {\n            logo: {\n                type: 'default',\n                src: '',\n            },\n            selectCountry: null,\n            selectRegion: {},\n            date: null,\n            menu: false,\n            checkInput: [v => !!v || 'Необходимое поле'],\n            checkSelect: [v => !!v.name || 'Необходимое поле'],\n            innRules: [\n                v => (v && v.length == 10) || 'ИНН должен состоять из 10 символов',\n            ],\n            kppRules: [\n                v => (v && v.length == 9) || 'КПП должен состоять из 9 символов',\n            ],\n            ogrnRules: [\n                v => (v && (v.length == 13 || v && v.length == 15))\n                        || 'ОГРН должен состоять из 13 или 15 символов',\n            ],\n            company: {\n                name: ''\n            },\n            requiredList: ['name'],\n            uploadF: false\n        }\n    },\n    computed: {\n        computedDateFormatted(){\n            return this.formatDate(this.date)\n        },\n        countries(){\n            return this.$store.state.common.countries\n        },\n        regions(){\n            return this.$store.state.common.regions\n        },\n        changeUser(){\n            let props = Object.keys(this.company)\n            let company = this.$store.state.administration.company\n            let change = false\n            props.map(i => {\n                if(this.company[i] != company[i]){\n                    change = true\n                }\n            })\n            this.requiredList.map(i => {\n                if(!this.company[i] || this.company[i] == ''){\n                    change = false\n                }\n            })\n            return change\n        }\n    },\n    watch: {\n        menu(val){\n            val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n        }\n    },\n    methods: {\n        save(date){\n            this.$refs.menu.save(date)\n        },\n        formatDate(date){\n            if (!date) return null\n\n            const [year, month, day] = date.split('-')\n            return `${day}/${month}/${year}`\n        },\n        parseDate(date){\n            if (!date) return null\n\n            const [day, month, year] = date.split('/')\n            return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\n        },\n        upload(){\n            this.uploadF = true\n        },\n        setLogo(a){\n            this.logo.src = a.file\n            this.logo.type = 'file'\n            this.company.logo = a.id\n        },\n        removeLogo(){\n            let char = this.company.name.charAt(0)\n            char = char ? char.toUpperCase() : \"U\"\n            let canvas = document.createElement('canvas')\n            let size = 150\n            let fontSize = 90\n\n            canvas.width = size\n            canvas.height = size\n\n            let ctx = canvas.getContext('2d')\n            ctx.beginPath()\n            ctx.fillStyle = \"#e55d4a\"\n            ctx.fillRect(0, 0, size, size)\n            ctx.fillStyle = \"#ffffff\"\n            ctx.font = \"bold \" + (fontSize) + \"px Arial\"\n            ctx.textAlign = 'center'\n            ctx.fillText(char, size / 2, (size / 2) + ((fontSize * 0.70) / 2))\n\n            let logo = canvas.toDataURL()\n\n            canvas  = null\n\n            this.logo.src = logo\n            this.logo.type = 'default'\n            this.company.logo = ''\n        },\n        getCountry(v){\n            if(v === undefined || v === null){\n                this.company.country_id = null\n                this.company.country = ''\n                this.getRegion(null)\n                this.selectRegion = null\n                this.$store.dispatch('common/getRegions', null)\n            }\n            else{\n                this.company.country_id = v.id\n                this.company.country = v.name\n                this.$store.dispatch('common/getRegions', {id: v.id})\n            }\n        },\n        getRegion(v){\n            if(v){\n                this.company.region_id = v.id\n                this.company.region = v.name\n            }\n            else{\n                this.company.region_id = null\n                this.company.region = ''\n            }\n        },\n        updateCompany(o){\n            this.company[o.name] = o.value\n        },\n        init(c, r, a){\n            this.selectCountry = {\n                id: c.id,\n                name: c.name\n            }\n            c.id && this.$store.dispatch('common/getRegions', {id: c.id})\n            this.selectRegion = r.id ? {\n                id: r.id,\n                name: r.name\n            } : null\n\n            this.logo = a.value\n        },\n        filter(a, b, c){\n            if(!c.toLowerCase().search(b.toLowerCase())){\n                return true\n            }\n            else{\n                return false\n            }\n        },\n        alert(res){\n            this.$notify({\n              group: 'note',\n              text: res.text,\n              type: res.status\n            })\n        },\n        saveChange(){\n            this.$store.dispatch('administration/updateCompany', this.company)\n            .then(res => {\n                this.alert(res)\n            })\n        }\n    },\n    created(){\n        if(!this.$store.state.common.countries.length){\n            this.$store.dispatch('common/getCountries')\n        }\n        let cmpny = this.$store.state.administration.company\n        cmpny = JSON.parse(JSON.stringify(cmpny))\n        this.company = {...this.company, ...cmpny}\n        this.init({\n            id: this.company.country_id,\n            name: this.company.country\n        },{\n            id: this.company.region_id,\n            name: this.company.region\n        },{\n            id: this.company.avatar,\n            value: this.$store.state.administration.companyLogo\n        })\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Company.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Company.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Company.vue?vue&type=template&id=07fc6578\"\nimport script from \"./Company.vue?vue&type=script&lang=js\"\nexport * from \"./Company.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-view')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <router-view/>\n</template>\n\n<script>\nexport default {\n    name: 'Employees'\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Employees.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Employees.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Employees.vue?vue&type=template&id=0cbe9a4a\"\nimport script from \"./Employees.vue?vue&type=script&lang=js\"\nexport * from \"./Employees.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pb-10\":\"\",\"pt-0\":\"\"}},[_c(VToolbar,{staticClass:\"m-table-toolbar pl-2\",attrs:{\"flat\":\"\",\"height\":\"auto\"}},[_c('span',{staticClass:\"pa-2 m-text--size13\"},[_vm._v(\"Глобальные настройки\")])]),_c(VDataTable,{staticClass:\"m-table-custom\",attrs:{\"headers\":_vm.headers,\"items\":_vm.list_,\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\"\\n            \"+_vm._s(_vm.noData)+\"\\n        \")]},proxy:true},{key:\"item.owner\",fn:function({ item }){return [_c('span',[_vm._v(\"Да\")])]}},{key:\"item.admin\",fn:function({ item }){return [_c('span',[_vm._v(\"Да\")])]}},{key:\"item.client\",fn:function({ item }){return [_c(VSwitch,{attrs:{\"value\":item.client.value,\"color\":\"success\",\"inset\":\"\"},on:{\"change\":function($event){return _vm.setPermission(item.client)}}})]}},{key:\"item.suborder\",fn:function({ item }){return [_c(VSwitch,{attrs:{\"value\":item.suborder.value,\"color\":\"success\",\"inset\":\"\"},on:{\"change\":function($event){return _vm.setPermission(item.suborder)}}})]}},{key:\"item.manager\",fn:function({ item }){return [_c(VSwitch,{attrs:{\"value\":item.manager.value,\"color\":\"success\",\"inset\":\"\"},on:{\"change\":function($event){return _vm.setPermission(item.manager)}}})]}},{key:\"item.employee\",fn:function({ item }){return [_c(VSwitch,{attrs:{\"value\":item.employee.value,\"color\":\"success\",\"inset\":\"\"},on:{\"change\":function($event){return _vm.setPermission(item.employee)}}})]}},{key:\"footer\",fn:function(){return [_c(VCardActions,{staticClass:\"pa-5 px-4\"},[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.checkChange},on:{\"click\":_vm.savePremissions}},[_vm._v(\"Сохранить\")])],1)]},proxy:true}])},[_vm._v(\"\\n    -->\\n    \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid px-3 pb-10 pt-0 class=\"m-container\">\n\n        <v-toolbar flat height=\"auto\" class=\"m-table-toolbar pl-2\">\n            <span class=\"pa-2 m-text--size13\">Глобальные настройки</span>\n        </v-toolbar>\n\n        <v-data-table\n            :headers=\"headers\"\n            :items=\"list_\"\n            disable-pagination\n            hide-default-footer\n            class=\"m-table-custom\"\n        >\n            <template v-slot:no-data>\n                {{noData}}\n            </template>\n\n            <template v-slot:item.owner=\"{ item }\">\n                <span>Да</span>\n            </template>\n            <template v-slot:item.admin=\"{ item }\">\n                <span>Да</span>\n            </template>\n\n            <template v-slot:item.client=\"{ item }\">\n                <v-switch\n                    :value=\"item.client.value\"\n                    color=\"success\"\n                    @change=\"setPermission(item.client)\"\n                    inset\n                ></v-switch>\n            </template>\n            <template v-slot:item.suborder=\"{ item }\">\n                <v-switch\n                    :value=\"item.suborder.value\"\n                    color=\"success\"\n                    @change=\"setPermission(item.suborder)\"\n                    inset\n                ></v-switch>\n            </template>\n            <template v-slot:item.manager=\"{ item }\">\n                <v-switch\n                    :value=\"item.manager.value\"\n                    color=\"success\"\n                    @change=\"setPermission(item.manager)\"\n                    inset\n                ></v-switch>\n            </template>\n            <template v-slot:item.employee=\"{ item }\">\n                <v-switch\n                    :value=\"item.employee.value\"\n                    color=\"success\"\n                    @change=\"setPermission(item.employee)\"\n                    inset\n                ></v-switch>\n            </template>\n\n            <template v-slot:footer>\n                <v-card-actions class=\"pa-5 px-4\">\n                    <v-spacer></v-spacer>\n                    <v-btn\n                        outlined\n                        color=\"primary\"\n                        class=\"m-btn\"\n                        :disabled=\"!checkChange\"\n                        @click=\"savePremissions\">Сохранить</v-btn>\n                </v-card-actions>\n            </template>\n        -->\n        </v-data-table>\n    </v-container>\n</template>\n\n<script>\nexport default {\n    name: 'Rights',\n    data(){\n        return {\n            slot: true,\n            items: [{\n                name: 'owner',\n                id: '1',\n            },{\n                name: 'admin',\n                id: '2',\n            },{\n                name: 'client',\n                id: '3',\n            },{\n                name: 'suborder',\n                id: '4',\n            },{\n                name: 'manager',\n                id: '5',\n            },{\n                name: 'employee',\n                id: '6',\n            }],\n            headers: [{\n                    text: '',\n                    align: 'left',\n                    sortable: false,\n                    value: 'name',\n                },\n                { text: 'владелец', value: 'owner', sortable: false },\n                { text: 'админ', value: 'admin', sortable: false },\n                { text: 'клиент', value: 'client', sortable: false },\n                { text: 'Субподрядчик', value: 'suborder', sortable: false },\n                { text: 'Менеджер', value: 'manager', sortable: false },\n                { text: 'сотрудник', value: 'employee', sortable: false },\n            ],\n            noData: 'Нет данных',\n            listPermission: [\n                {\n                    name: 'can_create_project',\n                    title: 'Создать проект',\n                    permissions: []\n                },{\n                    name: 'can_delete_project',\n                    title: 'Удалить проект',\n                    permissions: []\n                },{\n                    name: 'can_add_client',\n                    title: 'Добавить клиента',\n                    permissions: []\n                },{\n                    name: 'can_add_subcontractor',\n                    title: 'Добавить субподрядчика',\n                    permissions: []\n                },{\n                    name: 'can_send_project',\n                    title: 'Передать проект',\n                    permissions: []\n                },{\n                    name: 'can_manage_company',\n                    title: 'Редактировать компанию',\n                    permissions: []\n                },{\n                    name: 'can_manage_projects',\n                    title: 'Редактировать проект',\n                    permissions: []\n                },{\n                    name: 'can_manage_users',\n                    title: 'Редактировать пользователя',\n                    permissions: []\n                }\n            ],\n            groupPermissions: [],\n            listIDChange: []\n        }\n    },\n    computed: {\n        list_(){\n            let list = this.listPermission.map(l => {\n                return {\n                    name: l.title,\n                    id: l.name,\n                    ...Object.fromEntries(this.items.map(i => {\n                        let permissions = this.groupPermissions.find(p => p.id == i.id) || ''\n                        return [[i.name], {\n                            itemID: permissions.id,\n                            type: 'permission',\n                            name: l.name,\n                            value: permissions[l.name]\n                        }]\n                    }))\n                }\n            })\n            return list\n        },\n        checkChange(){\n            let check = false\n            this.groupPermissions.map(p => {\n                let sourceP = this.$store.state.administration.groupPermissions\n                    .find(s => s.id == p.id)\n                Object.entries(p).map(([k, v]) => {\n                    if(k !== 'users' && v != sourceP[k]){\n                        this.listIDChange.push(p.id)\n                        check = true\n                    }\n                })\n            })\n            return check\n        }\n    },\n    methods: {\n        setPermission(i){\n            this.groupPermissions = this.groupPermissions.map(p => p.id == i.itemID\n                ? {...p, [i.name]: !i.value}\n                : p\n            )\n        },\n        savePremissions(){\n            let listPromises = []\n            this.groupPermissions.map(g => {\n                if(this.listIDChange.some(l => l == g.id)){\n                    let params = {\n                        body: g.users.length\n                            ? {...g, users: g.users}\n                            : g,\n                        id: g.id\n                    }\n                    listPromises.push(this.$store.dispatch('administration/setGroupPermissions', params))\n                }\n            })\n            Promise.all(listPromises)\n            .then(res => {\n                this.listIDChange = []\n                this.$store.dispatch('administration/getGroupPermissions')\n            })\n        }\n    },\n    created(){\n        this.$store.dispatch('administration/getGroupPermissions')\n        .then(res => {\n            if(res){\n                this.groupPermissions = res\n            }\n        })\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Rights.vue?vue&type=template&id=230d0be0\"\nimport script from \"./Rights.vue?vue&type=script&lang=js\"\nexport * from \"./Rights.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pa-0\":\"\",\"pb-10\":\"\"}},[_c(VDivider),_c('div',[_c('div',{staticClass:\"m-list--item m-no-hover\"},[_c('div',{staticClass:\"m-list--item-title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"m-list--item-desc\"},[_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"10\",\"md\":\"10\"}},[_vm._v(\"\\n                        \"+_vm._s(_vm.desc)+\"\\n                    \")]),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"2\",\"md\":\"2\"}},[_c(VSelect,{staticClass:\"m-autocomplete\",attrs:{\"items\":_vm.items,\"outlined\":\"\",\"item-text\":\"title\",\"item-value\":\"value\"},on:{\"change\":_vm.onChange},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [_c('div',{staticClass:\"v-list-item__content\"},[_c('div',{staticClass:\"v-list-item__title\",class:{'m-text--size22': data.item.id == 1000}},[_vm._v(\"\\n                                        \"+_vm._s(data.item.title)+\"\\n                                    \")])])]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],1)],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container fluid px-3 pa-0 pb-10 class=\"m-container\">\n        <v-divider></v-divider>\n        <div>\n            <div\n                class=\"m-list--item m-no-hover\">\n                <div class=\"m-list--item-title\">{{title}}</div>\n                <div class=\"m-list--item-desc\">\n                    <v-row>\n                        <v-col cols=\"12\" sm=\"10\" md=\"10\">\n                            {{desc}}\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"2\" md=\"2\">\n                            <v-select\n                                v-model=\"value\"\n                                :items=\"items\"\n                                class=\"m-autocomplete\"\n                                @change=\"onChange\"\n                                outlined\n                                item-text=\"title\"\n                                item-value=\"value\"\n                            >\n                                <template v-slot:item=\"data\">\n                                    <div class=\"v-list-item__content\">\n                                        <div\n                                            class=\"v-list-item__title\"\n                                            :class=\"{'m-text--size22': data.item.id == 1000}\">\n                                            {{data.item.title}}\n                                        </div>\n                                    </div>\n                                </template>\n                            </v-select>\n                        </v-col>\n                    </v-row>\n                </div>\n            </div>\n        </div>\n    </v-container>\n</template>\n\n<script>\nimport {html2text} from '@/utils/services'\n\nexport default {\n    name: 'Version',\n    data () {\n        return {\n            title: 'Количество версий',\n            desc: 'Укажите, какое количество версий файла будут храниться на облаке. В случае, если вы уменьшаете текущее количество версий, версии, которые будут удалены, нельзя будет восстановить.',\n            value: 0,\n            items: [{\n                title:'Нет',\n                value: 0,\n                id: 0\n            },{\n                title:'3',\n                value: 3,\n                id: 1\n            },{\n                title:'4',\n                value: 4,\n                id: 2\n            },{\n                title:'5',\n                value: 5,\n                id: 3\n            },{\n                title:'6',\n                value: 6,\n                id: 4\n            },{\n                title:'7',\n                value: 7,\n                id: 5\n            },{\n                title:'8',\n                value: 8,\n                id: 6\n            },{\n                title:'9',\n                value: 9,\n                id: 7\n            },{\n                title:'10',\n                value: 10,\n                id: 8\n            },{\n                title:'15',\n                value: 9,\n                id: 9\n            },{\n                title:'20',\n                value: 20,\n                id: 10\n            },{\n                title: html2text('&#8734;'),\n                value: -1,\n                id: 1000,\n            }]\n        }\n    },\n    methods: {\n        onChange(v){\n            this.$store.dispatch('administration/setHistoryLimit', v)\n        }\n    },\n    beforeCreate(){\n        this.$store.dispatch('administration/getHistoryLimit')\n        .then(res => {this.value = res})\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Version.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Version.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Version.vue?vue&type=template&id=39061f6f\"\nimport script from \"./Version.vue?vue&type=script&lang=js\"\nexport * from \"./Version.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{staticClass:\"m-container\",attrs:{\"fluid\":\"\",\"px-3\":\"\",\"pb-10\":\"\",\"pt-0\":\"\"}},[_c(VToolbar,{staticClass:\"m-table-toolbar\",attrs:{\"flat\":\"\",\"height\":\"auto\"}},[_c(VTextField,{staticClass:\"m-table-toolbar--search ml-4\",attrs:{\"prepend-icon\":\"search\",\"placeholder\":\"Поиск...\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c(VSpacer),_c(VBtn,{staticClass:\"ma-0 m-btn--text_icon\",attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addUser.apply(null, arguments)}}},[_c(VIcon,{attrs:{\"size\":\"18\",\"left\":\"\"}},[_vm._v(\"mdi-account-plus\")]),_vm._v(\"Пригласить пользователя\\n        \")],1)],1),_c(VDataTable,{staticClass:\"m-table-custom\",attrs:{\"headers\":_vm.headers,\"items\":_vm.employees,\"show-select\":_vm.getRole == '1' || _vm.getRole == '2',\"search\":_vm.search,\"disable-pagination\":\"\",\"hide-default-footer\":\"\"},on:{\"toggle-select-all\":_vm.selectRow},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\"\\n            \"+_vm._s(_vm.noData)+\"\\n        \")]},proxy:true},{key:\"item.data-table-select\",fn:function({ item, isSelected, select }){return [_c(VSimpleCheckbox,{attrs:{\"value\":isSelected},on:{\"input\":function($event){return select($event)}}})]}},{key:\"item.src\",fn:function({ item }){return [_c(VAvatar,{attrs:{\"size\":\"30\"}},[_c('img',{staticClass:\"m-card--avatar-wrap_img\",attrs:{\"src\":_vm.getAvatar(item),\"alt\":\"avatar\"}})])]}},{key:\"item.action\",fn:function({ item }){return [((item.status && (_vm.getRole == '1' || _vm.getRole == '2')) || !item.status)?_c('action-menu',{attrs:{\"item\":item},on:{\"editUser\":_vm.editUser,\"reconfirm\":_vm.reconfirm,\"removeUser\":_vm.removeUser}}):_vm._e()]}},{key:\"item.status\",fn:function({ item }){return [_c('span',{class:!item.status ? 'red--text' : 'green--text'},[_vm._v(\"\\n                \"+_vm._s(_vm.getStatus(item.status))+\"\\n            \")])]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c(VCard,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected.length),expression:\"selected.length\"}],staticClass:\"m-table-custom--action\",style:(_vm.cardActionStyle)},[_c(VCardActions,[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.removeUser()}}},[_c(VIcon,{staticClass:\"mr-1\",attrs:{\"size\":\"20\",\"color\":\"#0070e0\"}},[_vm._v(\"mdi-trash-can-outline\")]),_vm._v(\"\\n                Удалить\\n            \")],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VMenu,{attrs:{\"top\":\"\",\"right\":\"\",\"offset-y\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c(VIcon,_vm._g({staticClass:\"m-icon-border\",attrs:{\"text\":\"\",\"icon\":\"\",\"size\":\"20\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"pevent\",undefined,$event.key,undefined))return null;$event.stopPropagation();}}},on),[_vm._v(\"\\n            mdi-dots-horizontal\\n        \")])]}}])},[_c(VCard,[_c(VList,{attrs:{\"dense\":\"\"}},_vm._l((_vm.getItems),function(item,i){return _c(VListItem,{key:i,on:{\"click\":function($event){return _vm.action(item)}}},[_c(VListItemTitle,{staticClass:\"m-menu-title\",domProps:{\"textContent\":_vm._s(item.title)}})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-menu\n      top\n      right\n      offset-y\n      transition=\"slide-y-transition\"\n    >\n        <template v-slot:activator=\"{ on }\">\n            <v-icon\n                v-on=\"on\"\n                text\n                icon\n                class=\"m-icon-border\"\n                @mousedown.stop.pevent=\"\"\n                size=\"20\">\n                mdi-dots-horizontal\n            </v-icon>\n        </template>\n        <v-card>\n            <v-list dense>\n                <v-list-item\n                    v-for=\"(item, i) in getItems\"\n                    :key=\"i\"\n                    @click=\"action(item)\"\n                    >\n                    <v-list-item-title\n                        class=\"m-menu-title\"\n                        v-text=\"item.title\" />\n                </v-list-item>\n            </v-list>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\n    export default {\n        props: ['item'],\n        data: () => ({\n            items: [{\n                title: 'Редактировать',\n                value: 'edit',\n                action: 'editUser'\n            },{\n                title: 'Отправить приглашение',\n                value: 'reconfirm',\n                action: 'reconfirm'\n            },{\n                title: 'Удалить',\n                value: 'remove',\n                action: 'removeUser'\n            }]\n        }),\n        computed: {\n            getItems(){\n                let list = this.items\n                if(this.item.status){\n                    list = list.filter(i => i.value != 'reconfirm')\n                }\n                else{\n                    list = list.filter(i => i.value != 'edit')\n                }\n                return list\n            }\n        },\n        methods: {\n            action(v){\n                switch(v.action){\n                    case 'removeUser':\n                        this.$emit('removeUser', [this.item])\n                        break\n                    case 'editUser':\n                        this.$emit('editUser', this.item)\n                        break\n                    case 'reconfirm':\n                        this.$emit('reconfirm', this.item)\n                        break\n                    default: return\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActionMenu.vue?vue&type=template&id=deb7129a\"\nimport script from \"./ActionMenu.vue?vue&type=script&lang=js\"\nexport * from \"./ActionMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-container fluid px-3 pb-10 pt-0 class=\"m-container\">\n\n        <v-toolbar flat height=\"auto\" class=\"m-table-toolbar\">\n            <v-text-field\n                v-model=\"search\"\n                prepend-icon=\"search\"\n                placeholder=\"Поиск...\"\n                single-line\n                hide-details\n                class=\"m-table-toolbar--search ml-4\"\n                ></v-text-field>\n\n            <v-spacer></v-spacer>\n            <v-btn\n                text\n                @click.stop=\"addUser\"\n                class=\"ma-0 m-btn--text_icon\">\n                <v-icon\n                    size=\"18\"\n                    left>mdi-account-plus</v-icon>Пригласить пользователя\n            </v-btn>\n        </v-toolbar>\n\n        <v-data-table\n            :headers=\"headers\"\n            :items=\"employees\"\n            :show-select=\"getRole == '1' || getRole == '2'\"\n            v-model=\"selected\"\n            @toggle-select-all=\"selectRow\"\n            :search=\"search\"\n            disable-pagination\n            hide-default-footer\n            class=\"m-table-custom\"\n        >\n            <template v-slot:no-data>\n                {{noData}}\n            </template>\n\n            <template v-slot:item.data-table-select=\"{ item, isSelected, select }\">\n                <v-simple-checkbox\n                    :value=\"isSelected\"\n                    @input=\"select($event)\">\n                </v-simple-checkbox>\n            </template>\n\n            <template v-slot:item.src=\"{ item }\">\n                <v-avatar\n                    size=\"30\"\n                    >\n                    <img\n                        class=\"m-card--avatar-wrap_img\"\n                        :src=\"getAvatar(item)\"\n                        alt=\"avatar\"\n                    >\n                </v-avatar>\n            </template>\n            <template v-slot:item.action=\"{ item }\">\n                <action-menu\n                    v-if=\"(item.status && (getRole == '1' || getRole == '2')) || !item.status\"\n                    @editUser=\"editUser\"\n                    @reconfirm=\"reconfirm\"\n                    @removeUser=\"removeUser\"\n                    :item=\"item\"\n                />\n            </template>\n            <template v-slot:item.status=\"{ item }\">\n                <span\n                    :class=\"!item.status ? 'red--text' : 'green--text'\">\n                    {{getStatus(item.status)}}\n                </span>\n            </template>\n        </v-data-table>\n\n        <v-card\n            class=\"m-table-custom--action\"\n            :style=\"cardActionStyle\"\n            v-show=\"selected.length\"\n            >\n            <v-card-actions>\n                <v-btn\n                    text\n                    color=\"primary\"\n                    class=\"m-btn\"\n                    @click=\"removeUser()\">\n                    <v-icon size=\"20\" class=\"mr-1\" color=\"#0070e0\">mdi-trash-can-outline</v-icon>\n                    Удалить\n                </v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-container>\n</template>\n\n<script>\nimport ActionMenu from \"./ActionMenu\"\nimport { createAvatarChar } from '@/utils/services'\n\nexport default {\n    name: 'EmployeesList',\n    components: {\n        ActionMenu,\n    },\n    data(){\n        return {\n            selected: [],\n            headers: [\n                {\n                    text: '',\n                    align: 'center',\n                    sortable: false,\n                    value: 'src',\n                },\n                { text: 'ЕМАЙЛ', value: 'email' },\n                { text: 'ФИО', value: 'name' },\n                /*\n                { text: 'ПОСЛЕДНЯЯ АКТИВНОСТЬ', value: 'last_activity' },\n                { text: 'ОТДЕЛ', value: 'department' },\n                */\n                { text: 'ДОЛЖНОСТЬ', value: 'position' },\n                { text: 'СТАТУС', value: 'status' },\n                { text: '', value: 'action', sortable: false },\n            ],\n            search: '',\n            noData: 'Нет данных',\n        }\n    },\n    computed: {\n        employees: function(){\n            let state = this.$store.state.administration\n            let list = state.invited\n            list = list ? list : []\n            let users = state.company.users || []\n\n            users = users.map(u => {\n                return {...u,\n                    src: u.avatarSrc,\n                    name: u.first_name + ' ' + u.last_name,\n                    status: u.status,\n                    position: Object.prototype.hasOwnProperty.call(u, 'profession')\n                        ? u.profession\n                        : ''\n                }\n            })\n\n            list = list.filter(l => !l.status).map((l, j) => {\n                return {...l,\n                    id: 'id-' + j,\n                    src: l.email.slice(0, 1),\n                    position: ''\n                }\n            })\n\n            // let owner = users.filter(u => list.every(l => l.email != u.email))\n            //\n            // owner = owner.length ? [{...owner[0],\n            //     email: owner[0].email,\n            //     src: owner[0].avatar,\n            //     name: owner[0].first_name + ' ' + owner[0].last_name,\n            //     status: owner[0].status,\n            //     position: Object.prototype.hasOwnProperty.call(owner[0], 'profession')\n            //         ? owner[0].profession\n            //         : ''\n            // }] : []\n\n            list = [...users, ...list]\n            return list\n        },\n        getRole(){\n            return this.$store.state.administration.user.role\n        },\n        avatar(){\n            return this.$store.state.administration.userAvatar\n        },\n        cardActionStyle(){\n            if(this.selected.length){\n                this.widthEl = this.$el.clientWidth\n            }\n            return {width: this.widthEl + 'px'}\n        }\n    },\n    methods: {\n        selectRow(e){\n            let list = e.items\n            if(this.selected.length != list.length){\n                this.selected = list\n            }\n            else{\n                this.selected = []\n            }\n        },\n        getStatus(v){\n            let status = ''\n            switch(v){\n                case 0: status = 'Создан'\n                        break\n                case 1:\n                case 200: status = 'Активен'\n                        break\n                default: status = 'Создан'\n            }\n            return status\n        },\n        getAvatar(i){\n            if(!i.src || i.src.length == 1){\n                let name = i.name ? i.name : i.email\n                return createAvatarChar(name)\n            }\n            else{\n                return i.src\n            }\n        },\n        addUser(){\n            this.$router.push({name: 'employees_invite'})\n        },\n        editUser(i){\n            this.$router.push({name: 'employee_account', params: {id: i.id, role: this.getRole}})\n            .catch(failure => {\n                console.log('failure')\n            })\n        },\n        reconfirm(i){\n            this.$router.push({name: 'employees_invite',  query: {email: i.email}})\n        },\n        removeUser(users = []){\n            let promises = []\n            let list = [...this.selected, ...users]\n            list.map(u => {\n                if(u.status){\n                    promises.push(this.$store.dispatch('administration/invitedRemove', u.id))\n                }\n                else{\n                    promises.push(this.$store.dispatch('administration/noregistredRemove', u.email))\n                }\n            })\n            Promise.all(promises)\n            .then(res => {\n                list.map(u => {\n                    this.$notify({\n                        group: 'note',\n                        type: 'success',\n                        text: 'Удален ' + u.email\n                    })\n                })\n                this.selected = []\n                this.$store.dispatch('administration/invitedList')\n                this.$store.dispatch('administration/getCompany')\n            })\n        }\n    },\n    created(){\n        this.$store.dispatch('administration/invitedList')\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmployeesList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmployeesList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EmployeesList.vue?vue&type=template&id=0e80c693\"\nimport script from \"./EmployeesList.vue?vue&type=script&lang=js\"\nexport * from \"./EmployeesList.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VLayout,{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[(!_vm.sended)?_c(VForm,{ref:\"form_user\"},[_c(VCard,{staticClass:\"m-card pa-3 pt-0\",attrs:{\"outlined\":\"\",\"max-width\":\"1200\"}},[_c(VCardText,{staticClass:\"m-text--2c\"},[_vm._v(\"Информация о пользователе\")]),_c(VDivider),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Электронная почта\",\"placeholder\":\" \",\"required\":\"\",\"rules\":_vm.emailRules},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\"Электронная почта\\n                                    \"),_c('span',{staticClass:\"red--text\"},[_c('strong',[_vm._v(\"* \")])])]},proxy:true}],null,false,4262767742),model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}})],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('vue-recaptcha',{attrs:{\"sitekey\":_vm.siteKey,\"loadRecaptchaScript\":true},on:{\"verify\":_vm.captchaVerify,\"expired\":_vm.captchaExpired,\"error\":_vm.captchaError}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}})],1),_c(VCardActions,[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.checkReady},on:{\"click\":_vm.invite}},[_vm._v(\"Пригласить\")])],1)],1)],1):_c('div',[_vm._v(\"\\n                Приглашение отправлено на почту \"+_vm._s(_vm.email)+\".\\n            \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-layout fluid fill-height>\n        <v-row class=\"ma-0\">\n            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                <v-form\n                    v-if=\"!sended\"\n                    ref=\"form_user\"\n                    >\n                    <v-card outlined max-width=\"1200\" class=\"m-card pa-3 pt-0\">\n                        <v-card-text class=\"m-text--2c\">Информация о пользователе</v-card-text>\n                        <v-divider></v-divider>\n                        <v-row class=\"ma-0\">\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                <v-text-field\n                                    label=\"Электронная почта\"\n                                    placeholder=\" \"\n                                    v-model=\"email\"\n                                    required\n                                    :rules=\"emailRules\"\n                                >\n                                    <template #label>Электронная почта\n                                        <span class=\"red--text\"><strong>* </strong></span>\n                                    </template>\n                                </v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            </v-col>\n                        </v-row>\n                        <v-row class=\"ma-0\">\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                <vue-recaptcha\n                                    :sitekey=\"siteKey\"\n                                    :loadRecaptchaScript=\"true\"\n                                    @verify=\"captchaVerify\"\n                                    @expired=\"captchaExpired\"\n                                    @error=\"captchaError\"\n                                    ></vue-recaptcha>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                            </v-col>\n                        </v-row>\n                        <v-card-actions><v-spacer></v-spacer>\n                            <v-btn\n                                outlined\n                                color=\"primary\"\n                                :disabled=\"!checkReady\"\n                                @click=\"invite\"\n                                class=\"m-btn\">Пригласить</v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-form>\n\n                <div\n                    v-else\n                    >\n                    Приглашение отправлено на почту {{email}}.\n                </div>\n            </v-col>\n        </v-row>\n    </v-layout>\n</template>\n\n<script>\nimport VueRecaptcha from 'vue-recaptcha'\n\nexport default {\n    name: 'EmployeesInvite',\n    components: {\n        VueRecaptcha\n    },\n    data(){\n        return {\n            email: '',\n            emailRules: [\n                v => !!v || 'Необходимое поле',\n                v => (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v)) || 'Неверный email'\n            ],\n            checkSelect: [v => !!v.name || 'Необходимое поле'],\n            siteKey: '6Lfm0uMUAAAAAHUoxb0b6Ao81lmjLazVTcr7kKaW',\n            recaptcha: false,\n            sended: false\n        }\n    },\n    computed: {\n        checkReady(){\n            let ready = this.recaptcha && this.email\n            return ready\n        }\n    },\n    methods: {\n        invite(){\n            this.$store.dispatch('administration/inviteUser', {\n                email: this.email,\n                code: this.recaptcha\n            })\n            .then(res => {\n                this.sended = true\n            })\n        },\n        captchaVerify(v){\n            this.recaptcha = v\n        },\n        captchaError(v){\n            console.log('error', v)\n            this.recaptcha = false\n        },\n        captchaExpired(v){\n            console.log('expired', v)\n            this.recaptcha = false\n        },\n    },\n    mounted(){\n        let query = this.$route.query\n        let email = Object.prototype.hasOwnProperty.call(query, 'email')\n\n        if(email){\n            this.email = query.email\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmployeesInvite.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmployeesInvite.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EmployeesInvite.vue?vue&type=template&id=649434db\"\nimport script from \"./EmployeesInvite.vue?vue&type=script&lang=js\"\nexport * from \"./EmployeesInvite.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VLayout,{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VForm,{ref:\"form_user\"},[_c(VCard,{staticClass:\"m-card pa-3 pt-0\",attrs:{\"outlined\":\"\",\"max-width\":\"1200\"}},[_c(VCardText,{staticClass:\"m-text--2c\"},[_vm._v(\"Информация о пользователе\")]),_c(VDivider),_c(VRow,{staticClass:\"ma-0 mt-3\"},[_c(VCol,{staticClass:\"justify-center m-border--inner-right pr-0\",attrs:{\"cols\":\"4\"}},[_c(VCard,{staticClass:\"m-card m-card--center m-card--avatar mb-3\",attrs:{\"outlined\":\"\",\"width\":\"150\",\"height\":\"150\"}},[_c('div',{staticClass:\"m-card--avatar-wrap\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.avatar.type == 'file'),expression:\"avatar.type == 'file'\"}],staticClass:\"m-card--avatar-delete\",on:{\"click\":_vm.removeAvatar}},[_c(VIcon,{attrs:{\"size\":\"55\",\"color\":\"#fff\"}},[_vm._v(\"mdi-trash-can-outline\\n                                        \")])],1),_c('img',{staticClass:\"m-card--avatar-wrap_img\",attrs:{\"src\":_vm.avatar.src}})])]),_c('div',{staticClass:\"m-link m-link--text m-text--center\",on:{\"click\":_vm.upload}},[_vm._v(\"редактировать\")])],1),_c(VCol,{staticClass:\"pl-7\",attrs:{\"cols\":\"8\"}},[_c(VRow,[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Имя\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.first_name),callback:function ($$v) {_vm.$set(_vm.user, \"first_name\", $$v)},expression:\"user.first_name\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Фамилия\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.last_name),callback:function ($$v) {_vm.$set(_vm.user, \"last_name\", $$v)},expression:\"user.last_name\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{attrs:{\"label\":\"Отчество\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.middle_name),callback:function ($$v) {_vm.$set(_vm.user, \"middle_name\", $$v)},expression:\"user.middle_name\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VTextField,{staticClass:\"m-input--no-events\",attrs:{\"label\":\"Адрес электронной почты\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1)],1)],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VAutocomplete,{attrs:{\"items\":_vm.countries,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Страна\",\"placeholder\":\" \",\"hide-details\":\"\",\"filter\":_vm.filter,\"clearable\":\"\",\"readonly\":\"\"},on:{\"click:clear\":function($event){_vm.$nextTick(() => _vm.selectCountry = null)},\"change\":_vm.getCountry},model:{value:(_vm.selectCountry),callback:function ($$v) {_vm.selectCountry=$$v},expression:\"selectCountry\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c(VAutocomplete,{attrs:{\"disabled\":!_vm.regions.length,\"items\":_vm.regions,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Регион\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},on:{\"change\":_vm.getRegion},model:{value:(_vm.selectRegion),callback:function ($$v) {_vm.selectRegion=$$v},expression:\"selectRegion\"}})],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Город\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.city),callback:function ($$v) {_vm.$set(_vm.user, \"city\", $$v)},expression:\"user.city\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Адрес\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.address),callback:function ($$v) {_vm.$set(_vm.user, \"address\", $$v)},expression:\"user.address\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Почтовый индекс\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.post_code),callback:function ($$v) {_vm.$set(_vm.user, \"post_code\", $$v)},expression:\"user.post_code\"}})],1)],1),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Должность\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.profession),callback:function ($$v) {_vm.$set(_vm.user, \"profession\", $$v)},expression:\"user.profession\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VSelect,{attrs:{\"items\":_vm.genderList,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Пол\",\"placeholder\":\" \",\"hide-details\":\"\",\"readonly\":\"\"},on:{\"change\":_vm.getGender},model:{value:(_vm.gender),callback:function ($$v) {_vm.gender=$$v},expression:\"gender\"}})],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VTextField,{attrs:{\"label\":\"Число/месяц/год рождения\",\"readonly\":\"\",\"hide-details\":\"\",\"placeholder\":\" \"},model:{value:(_vm.computedDateFormatted),callback:function ($$v) {_vm.computedDateFormatted=$$v},expression:\"computedDateFormatted\"}})],1)],1),_c(VCardActions,{staticClass:\"pt-5 px-3\"},[_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"normal\"},on:{\"click\":function($event){_vm.newpassword = true}}},[_vm._v(\"Сменить пароль\")]),_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.changeUser},on:{\"click\":_vm.saveChange}},[_vm._v(\"Сохранить\")])],1)],1)],1)],1),_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c(VCard,{staticClass:\"m-card pa-3\",attrs:{\"outlined\":\"\",\"max-width\":\"1200\"}},[_c(VCardText,{staticClass:\"m-text--2c\"},[_vm._v(\"Права пользователя\")]),_c(VDivider),_c(VRow,{staticClass:\"ma-0\"},[_c(VCol,{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c(VSelect,{attrs:{\"items\":_vm.permissionList,\"item-text\":\"name\",\"item-value\":\"id\",\"persistent-hint\":\"\",\"return-object\":\"\",\"label\":\"Роль пользователя\",\"placeholder\":\" \",\"hide-details\":\"\",\"required\":\"\",\"rules\":_vm.checkSelect},model:{value:(_vm.group_permissions.turn),callback:function ($$v) {_vm.$set(_vm.group_permissions, \"turn\", $$v)},expression:\"group_permissions.turn\"}})],1)],1),_c(VCardActions,[_c(VSpacer),_c(VBtn,{staticClass:\"m-btn\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"disabled\":!_vm.checkRole},on:{\"click\":_vm.saveRole}},[_vm._v(\"Сохранить\")])],1)],1)],1)],1),_c('upload-files',{attrs:{\"uploadF\":_vm.uploadF},on:{\"update:uploadF\":function($event){_vm.uploadF=$event},\"update:upload-f\":function($event){_vm.uploadF=$event},\"setAvatar\":_vm.setAvatar}}),_c('new-password',{attrs:{\"newpassword\":_vm.newpassword},on:{\"update:newpassword\":function($event){_vm.newpassword=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-layout fluid fill-height>\n        <v-row class=\"ma-0\">\n            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                <v-form ref=\"form_user\">\n                    <v-card outlined max-width=\"1200\" class=\"m-card pa-3 pt-0\">\n                        <v-card-text class=\"m-text--2c\">Информация о пользователе</v-card-text>\n                        <v-divider></v-divider>\n                        <v-row class=\"ma-0 mt-3\">\n                            <v-col cols=\"4\" class=\"justify-center m-border--inner-right pr-0\">\n                                <v-card outlined width=\"150\" height=\"150\" class=\"m-card m-card--center m-card--avatar mb-3\">\n                                    <div class=\"m-card--avatar-wrap\">\n                                        <div\n                                            v-show=\"avatar.type == 'file'\"\n                                            class=\"m-card--avatar-delete\"\n                                            @click=\"removeAvatar\"\n                                            >\n                                            <v-icon\n                                                size=\"55\"\n                                                color=\"#fff\">mdi-trash-can-outline\n                                            </v-icon>\n                                        </div>\n                                        <img\n                                            class=\"m-card--avatar-wrap_img\"\n                                            :src=\"avatar.src\"/>\n                                    </div>\n                                </v-card>\n                                <div\n                                    class=\"m-link m-link--text m-text--center\"\n                                    @click=\"upload\">редактировать</div>\n                            </v-col>\n                            <v-col cols=\"8\" class=\"pl-7\">\n                                <v-row>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <v-text-field\n                                            label=\"Имя\"\n                                            placeholder=\" \"\n                                            v-model=\"user.first_name\"\n                                            hide-details\n                                            readonly\n                                        >\n                                        </v-text-field>\n                                    </v-col>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <v-text-field\n                                            label=\"Фамилия\"\n                                            placeholder=\" \"\n                                            v-model=\"user.last_name\"\n                                            hide-details\n                                            readonly\n                                        >\n                                        </v-text-field>\n                                    </v-col>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <v-text-field\n                                            label=\"Отчество\"\n                                            placeholder=\" \"\n                                            v-model=\"user.middle_name\"\n                                            hide-details\n                                            readonly\n                                        ></v-text-field>\n                                    </v-col>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <v-text-field\n                                            label=\"Адрес электронной почты\"\n                                            placeholder=\" \"\n                                            v-model=\"user.email\"\n                                            class=\"m-input--no-events\"\n                                            hide-details\n                                            readonly\n                                        ></v-text-field>\n                                    </v-col>\n                                </v-row>\n                            </v-col>\n                        </v-row>\n                        <v-row class=\"ma-0\">\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                <v-autocomplete\n                                    v-model=\"selectCountry\"\n                                    :items=\"countries\"\n                                    item-text=\"name\"\n                                    item-value=\"id\"\n                                    persistent-hint\n                                    return-object\n                                    label=\"Страна\"\n                                    placeholder=\" \"\n                                    hide-details\n                                    :filter=\"filter\"\n                                    clearable\n                                    readonly\n                                    @click:clear=\"$nextTick(() => selectCountry = null)\"\n                                    @change=\"getCountry\"\n                                ></v-autocomplete>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                <v-autocomplete\n                                    :disabled=\"!regions.length\"\n                                    v-model=\"selectRegion\"\n                                    :items=\"regions\"\n                                    item-text=\"name\"\n                                    item-value=\"id\"\n                                    persistent-hint\n                                    return-object\n                                    label=\"Регион\"\n                                    placeholder=\" \"\n                                    hide-details\n                                    readonly\n                                    @change=\"getRegion\"\n                                ></v-autocomplete>\n                            </v-col>\n                        </v-row>\n                        <v-row class=\"ma-0\">\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    label=\"Город\"\n                                    placeholder=\" \"\n                                    v-model=\"user.city\"\n                                    hide-details\n                                    readonly\n                                ></v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    label=\"Адрес\"\n                                    placeholder=\" \"\n                                    v-model=\"user.address\"\n                                    hide-details\n                                    readonly\n                                ></v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    label=\"Почтовый индекс\"\n                                    placeholder=\" \"\n                                    v-model=\"user.post_code\"\n                                    hide-details\n                                    readonly\n                                ></v-text-field>\n                            </v-col>\n                        </v-row>\n                        <v-row class=\"ma-0\">\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    label=\"Должность\"\n                                    placeholder=\" \"\n                                    v-model=\"user.profession\"\n                                    hide-details\n                                    readonly\n                                >\n                                </v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-select\n                                    v-model=\"gender\"\n                                    :items=\"genderList\"\n                                    item-text=\"name\"\n                                    item-value=\"id\"\n                                    persistent-hint\n                                    return-object\n                                    label=\"Пол\"\n                                    placeholder=\" \"\n                                    hide-details\n                                    readonly\n                                    @change=\"getGender\"\n                                >\n                                </v-select>\n                            </v-col>\n                            <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                                <v-text-field\n                                    v-model=\"computedDateFormatted\"\n                                    label=\"Число/месяц/год рождения\"\n                                    readonly\n                                    hide-details\n                                    placeholder=\" \"\n                                >\n                                </v-text-field>\n                            </v-col>\n                        </v-row>\n                        <v-card-actions class=\"pt-5 px-3\">\n                                <v-btn\n                                    outlined\n                                    color=\"normal\"\n                                    @click=\"newpassword = true\"\n                                    class=\"m-btn\">Сменить пароль</v-btn>\n                                <v-spacer></v-spacer>\n                                <v-btn\n                                    outlined\n                                    color=\"primary\"\n                                    :disabled=\"!changeUser\"\n                                    @click=\"saveChange\"\n                                    class=\"m-btn\">Сохранить</v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-form>\n            </v-col>\n\n            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                <v-card outlined max-width=\"1200\" class=\"m-card pa-3\">\n                    <v-card-text class=\"m-text--2c\">Права пользователя</v-card-text>\n                    <v-divider></v-divider>\n                    <v-row class=\"ma-0\">\n                        <v-col cols=\"12\" sm=\"4\" md=\"4\">\n                            <v-select\n                                v-model=\"group_permissions.turn\"\n                                :items=\"permissionList\"\n                                item-text=\"name\"\n                                item-value=\"id\"\n                                persistent-hint\n                                return-object\n                                label=\"Роль пользователя\"\n                                placeholder=\" \"\n                                hide-details\n                                required\n                                :rules=\"checkSelect\"\n                            >\n                            </v-select>\n                        </v-col>\n                    </v-row>\n                    <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                            outlined\n                            color=\"primary\"\n                            :disabled=\"!checkRole\"\n                            @click=\"saveRole\"\n                            class=\"m-btn\">Сохранить</v-btn>\n                    </v-card-actions>\n                </v-card>\n            </v-col>\n        </v-row>\n\n        <upload-files\n            :uploadF.sync=\"uploadF\"\n            @setAvatar=\"setAvatar\"\n        />\n\n        <new-password\n            :newpassword.sync=\"newpassword\"\n        />\n\n    </v-layout>\n</template>\n\n<script>\nimport UploadFiles from '../../common/UploadFiles'\nimport NewPassword from '../../account/NewPassword'\nimport { createAvatarChar } from '@/utils/services'\n\nexport default {\n    name: 'Account',\n    components: {\n        UploadFiles,\n        NewPassword\n    },\n    props: [\n        'id',\n        'role'\n    ],\n    beforeRouteEnter(to, from, next){\n        next(to.params.role == '1' || to.params.role == '2')\n    },\n    data(){\n        return {\n            avatar: {\n                type: 'default',\n                src: '',\n            },\n            selectCountry: null,\n            selectRegion: {},\n            genderList: [{id: 'male', name: 'мужской'}, {id: 'female', name: 'женский'}],\n            gender: {},\n            date: null,\n            menu: false,\n            checkInput: [v => !!v || 'Необходимое поле'],\n            checkSelect: [v => !!v.name || 'Необходимое поле'],\n            user: {\n                birth_day: ''\n            },\n            group_permissions: {\n                stand: {},\n                turn: {}\n            },\n            permissionList: [],\n            requiredList: ['first_name', 'last_name', 'profession', 'gender', 'birth_day'],\n            uploadF: false,\n            newpassword: false\n        }\n    },\n    computed: {\n        computedDateFormatted(){\n            let date = this.formatDate(this.date)\n            return date\n        },\n        countries(){\n            return this.$store.state.common.countries\n        },\n        regions(){\n            return this.$store.state.common.regions\n        },\n        changeUser(){\n            let props = Object.keys(this.user)\n            let user = this.$store.state.administration.company.users.find(u => u.id == this.id)\n            let change = false\n            props.map(i => {\n                if(this.user[i] != user[i]){\n                    change = true\n                }\n            })\n            this.requiredList.map(i => {\n                if(!this.user[i] || this.user[i] == ''){\n                    change = false\n                }\n            })\n            return change\n        },\n        checkRole(){\n            let check = false\n            if(this.group_permissions.stand.id){\n                check = this.group_permissions.stand.id != this.group_permissions.turn.id\n            }\n            return check\n        }\n    },\n    watch: {\n        menu(val){\n            val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n        }\n    },\n    methods: {\n        save(date){\n            this.$refs.menu.save(date)\n        },\n        formatDate(date){\n            if (!date) return null\n\n            const [year, month, day] = date.split('-')\n            let delta = new Date().getTimezoneOffset()\n\n            let bd = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), (Math.abs(delta) / 60))\n            let mbd = bd.getTime(bd)\n\n            this.user.birth_day = mbd\n            return `${day}/${month}/${year}`\n        },\n        parseDate(date){\n            if (!date) return null\n\n            const [day, month, year] = date.split('/')\n            return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\n        },\n        getCountry(v){\n            if(v === undefined || v === null){\n                this.user.country_id = null\n                this.user.country = ''\n                this.getRegion(null)\n                this.selectRegion = null\n                this.$store.dispatch('common/getRegions', null)\n            }\n            else{\n                this.user.country_id = v.id\n                this.user.country = v.name\n                this.$store.dispatch('common/getRegions', {id: v.id})\n            }\n        },\n        getRegion(v){\n            if(v){\n                this.user.region_id = v.id\n                this.user.region = v.name\n            }\n            else{\n                this.user.region_id = null\n                this.user.region = ''\n            }\n        },\n        getGender(v){\n            this.user.gender = v.id\n        },\n        init(c, r, g, a){\n            this.selectCountry = {\n                id: c.id,\n                name: c.name\n            }\n            c.id && this.$store.dispatch('common/getRegions', {id: c.id})\n            this.selectRegion = r.id ? {\n                id: r.id,\n                name: r.name\n            } : null\n\n            this.gender = {}\n            this.genderList.map(i => {\n                if(i.id == g.id){\n                    this.gender = {\n                        id: g.id,\n                        name: i.name\n                    }\n                }\n            })\n            this.avatar.src = a.value\n        },\n        setAvatar(a){\n            this.avatar.src = a.file\n            this.avatar.type = 'file'\n            this.user.avatar = a.id\n        },\n        removeAvatar(){\n            let char = this.user.first_name.charAt(0)\n            char = char ? char.toUpperCase() : \"U\"\n            let canvas = document.createElement('canvas')\n            let size = 150\n            let fontSize = 90\n\n            canvas.width = size\n            canvas.height = size\n\n            let ctx = canvas.getContext('2d')\n            ctx.beginPath()\n            ctx.fillStyle = \"#e55d4a\"\n            ctx.fillRect(0, 0, size, size)\n            ctx.fillStyle = \"#ffffff\"\n            ctx.font = \"bold \" + (fontSize) + \"px Arial\"\n            ctx.textAlign = 'center'\n            ctx.fillText(char, size / 2, (size / 2) + ((fontSize * 0.70) / 2))\n\n            let avatar = canvas.toDataURL()\n\n            canvas  = null\n\n            this.avatar.src = avatar\n            this.avatar.type = 'default'\n            this.user.avatar = ''\n        },\n        updateUser(o){\n            this.user[o.name] = o.value\n        },\n        filter(a, b, c){\n            if(!c.toLowerCase().search(b.toLowerCase())){\n                return true\n            }\n            else{\n                return false\n            }\n        },\n        upload(){\n            this.uploadF = true\n        },\n        alert(res){\n            this.$notify({\n              group: 'note',\n              text: res.text,\n              type: res.status\n            })\n        },\n        saveChange(){\n            this.$store.dispatch('administration/updateEmployee', this.user)\n            .then(res => {\n                this.alert(res)\n                this.$store.dispatch('administration/getUser')\n            })\n        },\n        saveRole(){\n            let params = {\n                body: {\n                    id: this.id + ''\n                },\n                id: this.group_permissions.turn.id\n            }\n            this.$store.dispatch('administration/setUserPermissions', params)\n            .then(res => {\n                this.$store.dispatch('administration/getGroupPermissions')\n            })\n        }\n    },\n    created(){\n        if(!this.$store.state.common.countries.length){\n            this.$store.dispatch('common/getCountries')\n        }\n        let user = this.$store.state.administration.company.users.find(u => u.id == this.id)\n            || {}\n        this.user = JSON.parse(JSON.stringify(user))\n\n        this.init({\n            id: this.user.country_id,\n            name: this.user.country\n        },{\n            id: this.user.region_id,\n            name: this.user.region\n        },{\n            id: this.user.gender\n        },{\n            id: this.user.avatar,\n            value: this.user.avatarFull\n                ? this.user.avatarFull\n                : this.user.name\n                    ? createAvatarChar(this.user.name, 150, 90)\n                    : createAvatarChar(this.user.email, 150, 90)\n        })\n\n        if(user.birth_day){\n            this.date = new Date(user.birth_day).toISOString().substr(0, 10)\n        }\n\n        this.$store.dispatch('administration/getGroupPermissions')\n        .then(res => {\n            if(res){\n                this.permissionList = res.map(r => {\n                    let users = r.users ? r.users : []\n                    if(this.id){\n                        if(users.some(u => u.id == this.id)){\n                            this.group_permissions = {\n                                stand: r,\n                                turn: r\n                            }\n                        }\n                    }\n                    return {\n                        ...r,\n                        users: users\n                    }\n                })\n            }\n        })\n    }\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=4e8a64d1\"\nimport script from \"./Account.vue?vue&type=script&lang=js\"\nexport * from \"./Account.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from '@/store'\nimport Init from '@/components/core/Init.vue'\nimport Layout from '@/components/core/Layout.vue'\nimport Dummy from '@/components/pages/Dummy.vue'\nimport Callback from '@/components/pages/Callback.vue'\nimport Main from '@/components/pages/Main.vue'\nimport Moduls from '@/components/pages/Moduls.vue'\n//import Cloud from '@/components/pages/Cloud.vue' // for delete\nimport Engineering from '@/components/pages/Engineering.vue'\nimport Invite from '@/components/pages/Invite.vue'\nimport Administration from '@/components/pages/Administration.vue'\n\n/*  //for delete\nimport Projects from '@/components/pages/cloud/Projects.vue'\nimport CommonAc from '@/components/pages/cloud/CommonAc.vue'\nimport Basket from '@/components/pages/cloud/Basket.vue'\nimport BasketList from '@/components/pages/cloud/basket/BasketList.vue'\n*/\n\n/*    //for delete\nimport ProjectList from '@/components/pages/cloud/projects/ProjectList.vue'\nimport ProjectItem from '@/components/pages/cloud/projects/ProjectItem.vue'\nimport Params from '@/components/pages/cloud/projects/Params.vue'\nimport Objects from '@/components/pages/cloud/projects/Objects.vue'\nimport Materials from '@/components/pages/cloud/projects/Materials.vue'\n*/\n\nimport Workflow from '@/components/pages/Workflow.vue'\nimport WorkflowList from '@/components/pages/workflow/WorkflowList.vue'\nimport DctView from '@/components/pages/workflow/DctView.vue'\nimport WorkflowProject from '@/components/pages/workflow/WorkflowProject'\nimport ManageTasks from '@/components/pages/workflow/ManageTasks'\nimport RemovedFiles from '@/components/pages/workflow/RemovedFiles'\n\nimport Account from '@/components/pages/administration/Account.vue'\nimport Statistics from '@/components/pages/administration/Statistics.vue'\nimport Settings from '@/components/pages/administration/Settings.vue'\nimport Payment from '@/components/pages/administration/Payment.vue'\n\nimport Control from '@/components/pages/administration/payment/Control.vue'\n// import ControlAdmin from '@/components/pages/administration/payment/ControlAdmin.vue'\n\nimport SettingsList from '@/components/pages/administration/settings/SettingsList.vue'\nimport Company from '@/components/pages/administration/settings/Company.vue'\nimport Employees from '@/components/pages/administration/settings/Employees.vue'\nimport Rights from '@/components/pages/administration/settings/Rights.vue'\nimport Version from '@/components/pages/administration/settings/Version.vue'\n\nimport EmployeesList from '@/components/pages/administration/settings/employees/EmployeesList.vue'\nimport EmployeesInvite from '@/components/pages/administration/settings/employees/EmployeesInvite.vue'\nimport EmployeeAccount from '@/components/pages/administration/settings/employees/Account.vue'\n\nVue.use(Router)\n\nconst router = new Router({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    scrollBehavior(){\n        return { x: 0, y: 0 }\n    },\n    routes: [{\n        path: '*',\n        redirect: { name: 'main-page' },\n    },\n    /*\n    {\n        path: '/',\n        name: 'init',\n        component: Init\n    },*/\n    {\n        path: '',\n        component: Layout,\n        children: [{\n            path: '',\n            redirect: { name: 'main-page' }\n        },\n        {\n            path: 'callback',\n            component: Callback,\n            //beforeEnter: ifAuthenticated,\n            meta: {\n                part: 'main'\n            }\n        },\n        {\n            name: 'main-page',\n            path: 'main',\n            component: Dummy,\n            //beforeEnter: ifAuthenticated,\n            meta: {\n                part: 'main',\n                crumbs: 'Главная страница'\n            }\n        },\n        {\n            path: 'engineering',\n            component: Engineering,\n            //beforeEnter: ifAuthenticated,\n            meta: {\n                part: 'main'\n            },\n            children: [{\n                path: '',\n                redirect: 'moduls'\n            },{\n                path: 'moduls',\n                component: Dummy,\n                meta: {\n                    part: 'engineering',\n                    crumbs: 'Модули'\n                },\n            },{\n                path: 'teamwork',\n                component: Dummy,\n                meta: {\n                    part: 'engineering',\n                    crumbs: 'Совместная работа'\n                },\n            },{\n                path: 'callback',\n                component: Dummy,\n                meta: {\n                    part: 'engineering',\n                    crumbs: 'Обратная связь'\n                },\n            },{\n                path: 'reference',\n                component: Dummy,\n                meta: {\n                    part: 'engineering',\n                    crumbs: 'Справка'\n                },\n            }]\n        },\n        {\n            path: 'workflow',\n            component: Workflow,\n            children: [{\n                path: '',\n                redirect: {name: 'projects'}\n            },{\n                name: 'projects',\n                path: 'projects',\n                component: WorkflowList,\n                //beforeEnter: ifAuthenticated,\n                meta: {\n                    part: 'workflow',\n                    crumbs: 'Проекты'\n                }\n            },{\n                name: 'workflow-view',\n                path: ':id/view/:doc',\n                components: {default: DctView},\n                meta: {\n                    part: 'workflow-view'\n                },\n                props: {\n                    default: true\n                }\n            },{\n                name: 'workflow-project',\n                path: ':id/list',\n                component: WorkflowProject,\n                meta: {\n                    part: 'workflow-project',\n                    crumbs: 'Документооборот'\n                },\n                props: true\n            },{\n                name: 'managetasks',\n                path: 'managetasks',\n                component: ManageTasks,\n                meta: {\n                    part: 'workflow',\n                    crumbs: 'Управление задачами'\n                }\n            },{\n                path: 'deleted',\n                component: RemovedFiles,\n                meta: {\n                    part: 'workflow',\n                    crumbs: 'Удаленные файлы'\n                },\n            },{\n                path: 'sharing',\n                component: Dummy,\n                meta: {\n                    part: 'workflow',\n                    crumbs: 'Общий доступ'\n                },\n            },{\n                path: 'archive',\n                component: Dummy,\n                meta: {\n                    part: 'workflow',\n                    crumbs: 'Архив'\n                },\n            },{\n                path: 'callback',\n                component: Dummy,\n                meta: {\n                    part: 'workflow',\n                    crumbs: 'Обратная связь'\n                },\n            },{\n                path: 'reference',\n                component: Dummy,\n                beforeEnter: (to, from, next) => {\n                    window.open('https://doc.unitbim.ru/')\n                },\n                meta: {\n                    part: 'workflow',\n                    crumbs: 'Справка'\n                },\n            }],\n        },\n        {\n            name: 'invite',\n            path: 'invite',\n            component: Invite,\n            //beforeEnter: ifAuthenticated,\n            meta: {\n                part: 'main',\n                crumbs: 'Приглашение'\n            }\n        },\n        {\n            path: 'administration',\n            component: Administration,\n            children: [{\n                path: '',\n                redirect: { name: 'account' },\n            },\n            {\n                name: 'statistics',\n                path: 'statistics',\n                component: Statistics,\n                //beforeEnter: ifAuthenticated,\n                meta: {\n                    part: 'administration',\n                    crumbs: 'Статистика'\n                }\n            },\n            {\n                name: 'account',\n                path: 'account',\n                component: Account,\n                meta: {\n                    part: 'administration',\n                    crumbs: 'Учетная запись'\n                }\n            },\n            {\n                path: 'payment',\n                component: Payment,\n                beforeEnter: (to, from, next) => {\n                    let role = store.state.administration.user.role\n                    next(role == '1' || role == '2')\n                },\n                meta: {\n                    part: 'administration',\n                    crumbs: 'Оплата'\n                },\n                children: [{\n                    path: '',\n                    redirect: {name: 'control'}\n                },\n                {\n                    name: 'control',\n                    path: 'control',\n                    component: Control,\n                    //beforeEnter: ifAuthenticated,\n                    meta: {\n                        part: 'administration',\n                    }\n                },\n                // {\n                //     name: 'controladmin',\n                //     path: 'controladmin',\n                //     component: ControlAdmin,\n                //     //beforeEnter: ifAuthenticated,\n                //     meta: {\n                //         part: 'administration',\n                //     }\n                // }\n                ]\n            },\n            {\n                path: 'settings',\n                component: Settings,\n                beforeEnter: (to, from, next) => {\n                    let role = store.state.administration.user.role\n                    next(role == '1' || role == '2')\n                },\n                meta: {\n                    part: 'administration',\n                    crumbs: 'Настройки'\n                },\n                children: [\n                {\n                    name: 'settings',\n                    path: '',\n                    component: SettingsList,\n                    //beforeEnter: ifAuthenticated,\n                    meta: {\n                        part: 'administration'\n                    }\n                },{\n                    name: 'company',\n                    path: 'company',\n                    component: Company,\n                    //beforeEnter: ifAuthenticated,\n                    meta: {\n                        part: 'administration',\n                        crumbs: 'Профиль компании'\n                    }\n                },{\n                    path: 'employees',\n                    component: Employees,\n                    //beforeEnter: ifAuthenticated,\n                    meta: {\n                        part: 'administration',\n                        crumbs: 'Сотрудники'\n                    },\n                    children: [\n                        {\n                            name: 'employees',\n                            path: '',\n                            component: EmployeesList,\n                            //beforeEnter: ifAuthenticated,\n                            meta: {\n                                part: 'administration'\n                            }\n                        },{\n                            name: 'employees_invite',\n                            path: 'invite',\n                            component: EmployeesInvite,\n                            //beforeEnter: ifAuthenticated,\n                            meta: {\n                                part: 'administration',\n                                crumbs: 'Пригласить пользователя'\n                            }\n                        },{\n                            name: 'employee_account',\n                            path: 'account/:id',\n                            component: EmployeeAccount,\n                            meta: {\n                                part: 'administration',\n                                crumbs: 'Учетная запись'\n                            },\n                            props: true\n                        }\n                    ]\n                },{\n                    name: 'accessrights',\n                    path: 'accessrights',\n                    component: Rights,\n                    //beforeEnter: ifAuthenticated,\n                    meta: {\n                        part: 'administration',\n                        crumbs: 'Права доступа'\n                    }\n                },{\n                    name: 'content',\n                    path: 'content',\n                    component: Dummy,\n                    meta: {\n                        part: 'administration',\n                        crumbs: 'Контент'\n                    }\n                },{\n                    name: 'contragents',\n                    path: 'contragents',\n                    component: Dummy,\n                    meta: {\n                        part: 'administration',\n                        crumbs: 'Контрагенты'\n                    }\n                },{\n                    name: 'version',\n                    path: 'version',\n                    component: Version,\n                    meta: {\n                        part: 'administration',\n                        crumbs: 'Версионность'\n                    }\n                },{\n                    name: 'activity',\n                    path: 'activity',\n                    component: Dummy,\n                    meta: {\n                        part: 'administration',\n                        crumbs: 'Активность'\n                    }\n                },]\n            }]\n        }]\n    }]\n})\n\n// router.afterEach((to, from) => {\n//     Vue.nextTick(() => {\n//         document.title = to.meta.title ? to.meta.title : 'UnitBim'\n//     })\n// })\n\nrouter.beforeEach((to, from, next) => {\n\n\n\n    document.title = to.meta.title ? to.meta.title : 'UnitBim'\n    next()\nreturn\n    if(!store.state.administration.existUser){\n\n        //store.commit('auth/rememberRouter', JSON.parse(JSON.stringify(to)))\n        store.commit('administration/existUser', true)\n\n        let query = to.query\n\n\n/* ******************   FOR LOCALHOST    ********************/\n        if(location.host.split(':')[0] == 'localhost'){\n            //Object.prototype.hasOwnProperty.call(query, 'id_token')\n\n            let tokenInfo = {\n                access_token: \"8y69aRFUVlLnk3408oRa8_d_58ZnjM_CicdX683O_2Q.pRhj166ARoVn_5cRJePk0sxZPpfitS8Byk8-QPn4XXM\",\nexpiry: 1659438300,\nid_token: \"eyJhbGciOiJSUzI1NiIsImtpZCI6InB1YmxpYzo4MjVmMGQ5YS0zOTI5LTQwNjYtODU3YS02NzBmZTVkYTNmZGQifQ.eyJhdF9oYXNoIjoiSVdnRDI4dUpDUlNma0JsLVJWaWNDZyIsImF1ZCI6WyJ1Yl9zdG9yZV9kZXYiXSwiYXV0aF90aW1lIjoxNjU4ODE2Mzg0LCJlbWFpbCI6InN0YXNrb250cmFiYXNAeWFob28uY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImV4cCI6MTY1OTQzODMwMSwiZmFtaWx5X25hbWUiOiJ0ZXN0IiwiZ2l2ZW5fbmFtZSI6InN0YXMiLCJpYXQiOjE2NTk0MzQ3MDEsImlzcyI6Imh0dHBzOi8vbG9naW4udWJkZXYucnUvIiwianRpIjoiMTk0OGM3OGYtOWU2NS00M2NlLWIxNGQtNzE2OGVlMTU1MDU5IiwibWlkZGxlX25hbWUiOiIiLCJuYW1lIjoic3RhcyIsIm5pY2tuYW1lIjoic3Rhc2tvbnRyYWJhc0B5YWhvby5jb20iLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzdGFza29udHJhYmFzQHlhaG9vLmNvbSIsInJhdCI6MTY1OTQzNDY5Niwic2lkIjoiZTEwMDAyOWEtNmY4Ni00MmZkLTg3MjgtNTM3YzAzOGRkNzE2Iiwic3ViIjoic3Rhc2tvbnRyYWJhc0B5YWhvby5jb20ifQ.TGfUzhs8-9pCj18LcNhBgFkVUxqqVn1KqhkF2dOw5XRR6bhsxh4X-2eRSg7X-vbkOVDAPEH41Mx2qogCI54g2OYBT4RkkvzJBRU4bY6i7wB3qlS4e97AQxLV2Nf0fiOGQ4CS12hfaKtIet0nlxVqL4tM3ueILNP4X5t-sl77nAyfQDBnZ39s9CyFqQWivf1do2fWzjf3tOWf8zenTM5at7fL4nMCobkvh8hRT0BIAgbCDvIAZOdImVFkCV3_sZdqwKE4Xsp-SLTgU43XOgKFjsTcHKtMghZeXfR_uqu-nrIhrin7V099O_ksySfDuHNoX0Adn2rCFIqbBKCr-QDlMIlmLqIy2vEKaYymhA7tpw3yrURKwrMH8GLqf5WOr54r7nw2nqLS2fxONh11EoAK_xe1SSsMzpY2dk-rU9U28CEWu5rAxW8e8bqTn9D2z44gv0gAi3mXLJ_9hY3kDVfA6rTG7X7L14xC_9V_fv-ykhoygZQiCzSWN0sm8u6HigWpabtk460qmg9lEHEBDb8raeZsMIRMGa3zMtBlqsU_VOYtc0HeROFrg7d0iY9GeTqjYglKrRkcEmQ4qf4UD6Si4IppJ3nnqtWtvkEFPdiDB_Y97z_bYt5hWRw8CBcTDW3ZAz8rNbXhv8vblOo04Q7M8pzR0Jxn0_qx3BTzI1N77wk\",\nrefresh_token: \"UO90uh50V2RdEuzTSFYatJuF5ZOnpbTm5p-dtT0dfxA.ewRzckFMbjpZh97DBhEsQ9yTVI9UTUaI9QspvELWd5U\",\ntoken_type: \"bearer\"\n            }\n\n// let tokenInfo = JSON.parse(localStorage.getItem('token'))\n\n\n            store.dispatch('auth/refresh')\n            .then(res => {\n                if(res){\n                    store.dispatch('auth/setTokenId', res)\n                    .then(() => {\n                        next()\n                    })\n                }\n                else{\n                    localStorage.setItem('token', JSON.stringify(tokenInfo))\n                    store.dispatch('auth/setTokenId', tokenInfo)\n                    .then(() => {\n                        next()\n                    })\n                }\n            })\n        }\n/**/\n//////////////////  FOR PRODACTION  /////////////////////////////////\n/**/\n        else{\n            store.dispatch('auth/refresh')\n            .then(res => {\n                if(!res){\n                    if(to.path === '/callback'){\n                        store.dispatch('auth/token', {\n                            code: query.code,\n                            state: query.state\n                        })\n                        .then(res => {\n                            let stateInit = JSON.parse(localStorage.getItem('state'))\n                            if(stateInit.path === '/invite'){\n                                store.commit('setToken', res)\n                                return true\n                            }\n                            else{\n                                return store.dispatch('auth/setTokenId', res)\n                            }\n                        })\n                        .then(() => {\n                            let stateInit = JSON.parse(localStorage.getItem('state'))\n                            let url = stateInit.url || '/'\n\n                            if(stateInit.path === '/callback'){\n                                url = '/'\n                            }\n                            if(stateInit.path === '/invite'){\n                                store.commit('administration/existUser', false)\n                            }\n                            return url\n                        })\n                        .then(res => {\n                            next(res)\n                        })\n                    }// для callback\n                    else if(to.path === '/invite'){\n                        localStorage.setItem('state', JSON.stringify({\n                            path: to.path,\n                            url: to.fullPath,\n                            query: to.query\n                        }))\n                        //store.commit('auth/setInviteCode', query.code)\n                        store.dispatch('auth/checkInvite', {\n                            code: to.query.code,\n                            redirect_url: to.fullPath\n                        })\n                    }\n                    else{\n                        store.dispatch('auth/getCodeForToken')\n                    }\n                }// нет рефреш токена\n                else{//есть рефреш токен\n                    if(to.path === '/invite'){\n                        store.dispatch('auth/checkInvite', {\n                            code: to.query.code\n                        })\n                        .then(() => {\n                            store.commit('administration/existUser', true)\n                            return true\n                        })\n                        .then(() => {\n                            return store.dispatch('auth/setTokenId', res)\n                        })\n                        .then(() => {\n                            next()\n                        })\n                    }\n                    else{\n                        store.dispatch('auth/setTokenId', res)\n                        .then(() => {\n                            next()\n                        })\n                    }\n                }\n            })\n        }\n    }\n    else{\n        let localState = JSON.parse(localStorage.getItem('state'))\n        localStorage.setItem('state', JSON.stringify({\n            ...localState,\n            path: to.path,\n            url: to.fullPath\n        }))\n\n        localState = JSON.parse(localStorage.getItem('token')) || {expiry: false}\n        let expiry = store.state.auth.expiry\n                    || localState.expiry\n        if(expiry){\n            let now = new Date()\n            let out = new Date((expiry * 1000))\n            let left = parseInt((out.getTime() - now.getTime()) / 1000 / 60)\n            if(left < 5){\n                store.dispatch('auth/refresh')\n                .then(res => {\n                    if(res){\n                        next()\n                    }\n                    else{\n                        store.dispatch('auth/getCodeForToken')\n                    }\n                })\n            }\n            else{\n                next()\n            }\n        }\n        else{\n            store.dispatch('auth/getCodeForToken')\n        }\n    }\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\nimport { Ripple } from 'vuetify/lib/directives'\n\n//import VueZoomer from 'vue-zoomer'\n\nVue.use(Vuetify, {\n  directives: {\n    Ripple\n  }\n})\n//Vue.use(VueZoomer)\n\nexport default new Vuetify({\n    icons: {\n        iconfont: 'mdi',\n    },\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport vuetify from './plugins/vuetify'\nimport Notifications from 'vue-notification'\nimport { http } from './utils/define'\n\nimport VueDraggable from 'vue-draggable'\n//import {Vuetify} from 'vuetify'\nimport 'material-design-icons-iconfont/dist/material-design-icons.css'\nimport \"@/assets/less/index.less\"\n\n//Vue.use(Vuetify)\n\nVue.config.productionTip = false\nVue.prototype.$url = http.server\nVue.prototype.$urllocal = http.local\n\nVue.use(Notifications)\nVue.use(VueDraggable)\n\nnew Vue({\n    router,\n    store,\n    vuetify,\n    render: h => h(App)\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"img/Logo_text.923c16b8.svg\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewObj.vue?vue&type=style&index=0&id=86d99872&prod&lang=css\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Components.vue?vue&type=style&index=0&id=7b2627be&prod&lang=less\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelCollisionReport.vue?vue&type=style&index=0&id=417a7a46&prod&lang=css\"","var map = {\n\t\"./78-EUC-H.bcmap\": [\n\t\t\"0e59\",\n\t\t\"noprefetch-78-EUC-H-bcmap\"\n\t],\n\t\"./78-EUC-V.bcmap\": [\n\t\t\"23b5\",\n\t\t\"noprefetch-78-EUC-V-bcmap\"\n\t],\n\t\"./78-H.bcmap\": [\n\t\t\"b22a\",\n\t\t\"noprefetch-78-H-bcmap\"\n\t],\n\t\"./78-RKSJ-H.bcmap\": [\n\t\t\"5c50\",\n\t\t\"noprefetch-78-RKSJ-H-bcmap\"\n\t],\n\t\"./78-RKSJ-V.bcmap\": [\n\t\t\"e49a\",\n\t\t\"noprefetch-78-RKSJ-V-bcmap\"\n\t],\n\t\"./78-V.bcmap\": [\n\t\t\"b904\",\n\t\t\"noprefetch-78-V-bcmap\"\n\t],\n\t\"./78ms-RKSJ-H.bcmap\": [\n\t\t\"20a0\",\n\t\t\"noprefetch-78ms-RKSJ-H-bcmap\"\n\t],\n\t\"./78ms-RKSJ-V.bcmap\": [\n\t\t\"15ed\",\n\t\t\"noprefetch-78ms-RKSJ-V-bcmap\"\n\t],\n\t\"./83pv-RKSJ-H.bcmap\": [\n\t\t\"5314\",\n\t\t\"noprefetch-83pv-RKSJ-H-bcmap\"\n\t],\n\t\"./90ms-RKSJ-H.bcmap\": [\n\t\t\"23a02\",\n\t\t\"noprefetch-90ms-RKSJ-H-bcmap\"\n\t],\n\t\"./90ms-RKSJ-V.bcmap\": [\n\t\t\"adb9\",\n\t\t\"noprefetch-90ms-RKSJ-V-bcmap\"\n\t],\n\t\"./90msp-RKSJ-H.bcmap\": [\n\t\t\"f5c5\",\n\t\t\"noprefetch-90msp-RKSJ-H-bcmap\"\n\t],\n\t\"./90msp-RKSJ-V.bcmap\": [\n\t\t\"58c0\",\n\t\t\"noprefetch-90msp-RKSJ-V-bcmap\"\n\t],\n\t\"./90pv-RKSJ-H.bcmap\": [\n\t\t\"49c6\",\n\t\t\"noprefetch-90pv-RKSJ-H-bcmap\"\n\t],\n\t\"./90pv-RKSJ-V.bcmap\": [\n\t\t\"ea11\",\n\t\t\"noprefetch-90pv-RKSJ-V-bcmap\"\n\t],\n\t\"./Add-H.bcmap\": [\n\t\t\"9fe8\",\n\t\t\"noprefetch-Add-H-bcmap\"\n\t],\n\t\"./Add-RKSJ-H.bcmap\": [\n\t\t\"8300\",\n\t\t\"noprefetch-Add-RKSJ-H-bcmap\"\n\t],\n\t\"./Add-RKSJ-V.bcmap\": [\n\t\t\"4c1f\",\n\t\t\"noprefetch-Add-RKSJ-V-bcmap\"\n\t],\n\t\"./Add-V.bcmap\": [\n\t\t\"c975\",\n\t\t\"noprefetch-Add-V-bcmap\"\n\t],\n\t\"./Adobe-CNS1-0.bcmap\": [\n\t\t\"96ac\",\n\t\t\"noprefetch-Adobe-CNS1-0-bcmap\"\n\t],\n\t\"./Adobe-CNS1-1.bcmap\": [\n\t\t\"4c01\",\n\t\t\"noprefetch-Adobe-CNS1-1-bcmap\"\n\t],\n\t\"./Adobe-CNS1-2.bcmap\": [\n\t\t\"7276\",\n\t\t\"noprefetch-Adobe-CNS1-2-bcmap\"\n\t],\n\t\"./Adobe-CNS1-3.bcmap\": [\n\t\t\"12f3\",\n\t\t\"noprefetch-Adobe-CNS1-3-bcmap\"\n\t],\n\t\"./Adobe-CNS1-4.bcmap\": [\n\t\t\"bc1b\",\n\t\t\"noprefetch-Adobe-CNS1-4-bcmap\"\n\t],\n\t\"./Adobe-CNS1-5.bcmap\": [\n\t\t\"af89\",\n\t\t\"noprefetch-Adobe-CNS1-5-bcmap\"\n\t],\n\t\"./Adobe-CNS1-6.bcmap\": [\n\t\t\"23d0\",\n\t\t\"noprefetch-Adobe-CNS1-6-bcmap\"\n\t],\n\t\"./Adobe-CNS1-UCS2.bcmap\": [\n\t\t\"bb19\",\n\t\t\"noprefetch-Adobe-CNS1-UCS2-bcmap\"\n\t],\n\t\"./Adobe-GB1-0.bcmap\": [\n\t\t\"b48b\",\n\t\t\"noprefetch-Adobe-GB1-0-bcmap\"\n\t],\n\t\"./Adobe-GB1-1.bcmap\": [\n\t\t\"ecc7\",\n\t\t\"noprefetch-Adobe-GB1-1-bcmap\"\n\t],\n\t\"./Adobe-GB1-2.bcmap\": [\n\t\t\"b086\",\n\t\t\"noprefetch-Adobe-GB1-2-bcmap\"\n\t],\n\t\"./Adobe-GB1-3.bcmap\": [\n\t\t\"ddae\",\n\t\t\"noprefetch-Adobe-GB1-3-bcmap\"\n\t],\n\t\"./Adobe-GB1-4.bcmap\": [\n\t\t\"f610\",\n\t\t\"noprefetch-Adobe-GB1-4-bcmap\"\n\t],\n\t\"./Adobe-GB1-5.bcmap\": [\n\t\t\"27f1\",\n\t\t\"noprefetch-Adobe-GB1-5-bcmap\"\n\t],\n\t\"./Adobe-GB1-UCS2.bcmap\": [\n\t\t\"4573\",\n\t\t\"noprefetch-Adobe-GB1-UCS2-bcmap\"\n\t],\n\t\"./Adobe-Japan1-0.bcmap\": [\n\t\t\"ed5d\",\n\t\t\"noprefetch-Adobe-Japan1-0-bcmap\"\n\t],\n\t\"./Adobe-Japan1-1.bcmap\": [\n\t\t\"4b3a\",\n\t\t\"noprefetch-Adobe-Japan1-1-bcmap\"\n\t],\n\t\"./Adobe-Japan1-2.bcmap\": [\n\t\t\"4908\",\n\t\t\"noprefetch-Adobe-Japan1-2-bcmap\"\n\t],\n\t\"./Adobe-Japan1-3.bcmap\": [\n\t\t\"eb19\",\n\t\t\"noprefetch-Adobe-Japan1-3-bcmap\"\n\t],\n\t\"./Adobe-Japan1-4.bcmap\": [\n\t\t\"9488\",\n\t\t\"noprefetch-Adobe-Japan1-4-bcmap\"\n\t],\n\t\"./Adobe-Japan1-5.bcmap\": [\n\t\t\"c24d\",\n\t\t\"noprefetch-Adobe-Japan1-5-bcmap\"\n\t],\n\t\"./Adobe-Japan1-6.bcmap\": [\n\t\t\"98df\",\n\t\t\"noprefetch-Adobe-Japan1-6-bcmap\"\n\t],\n\t\"./Adobe-Japan1-UCS2.bcmap\": [\n\t\t\"24d3\",\n\t\t\"noprefetch-Adobe-Japan1-UCS2-bcmap\"\n\t],\n\t\"./Adobe-Korea1-0.bcmap\": [\n\t\t\"5941\",\n\t\t\"noprefetch-Adobe-Korea1-0-bcmap\"\n\t],\n\t\"./Adobe-Korea1-1.bcmap\": [\n\t\t\"ac9a\",\n\t\t\"noprefetch-Adobe-Korea1-1-bcmap\"\n\t],\n\t\"./Adobe-Korea1-2.bcmap\": [\n\t\t\"0e77\",\n\t\t\"noprefetch-Adobe-Korea1-2-bcmap\"\n\t],\n\t\"./Adobe-Korea1-UCS2.bcmap\": [\n\t\t\"0ab5\",\n\t\t\"noprefetch-Adobe-Korea1-UCS2-bcmap\"\n\t],\n\t\"./B5-H.bcmap\": [\n\t\t\"b601\",\n\t\t\"noprefetch-B5-H-bcmap\"\n\t],\n\t\"./B5-V.bcmap\": [\n\t\t\"8c39\",\n\t\t\"noprefetch-B5-V-bcmap\"\n\t],\n\t\"./B5pc-H.bcmap\": [\n\t\t\"c121\",\n\t\t\"noprefetch-B5pc-H-bcmap\"\n\t],\n\t\"./B5pc-V.bcmap\": [\n\t\t\"aeab\",\n\t\t\"noprefetch-B5pc-V-bcmap\"\n\t],\n\t\"./CNS-EUC-H.bcmap\": [\n\t\t\"8927\",\n\t\t\"noprefetch-CNS-EUC-H-bcmap\"\n\t],\n\t\"./CNS-EUC-V.bcmap\": [\n\t\t\"f124\",\n\t\t\"noprefetch-CNS-EUC-V-bcmap\"\n\t],\n\t\"./CNS1-H.bcmap\": [\n\t\t\"36c9\",\n\t\t\"noprefetch-CNS1-H-bcmap\"\n\t],\n\t\"./CNS1-V.bcmap\": [\n\t\t\"2f59\",\n\t\t\"noprefetch-CNS1-V-bcmap\"\n\t],\n\t\"./CNS2-H.bcmap\": [\n\t\t\"1f9e\",\n\t\t\"noprefetch-CNS2-H-bcmap\"\n\t],\n\t\"./CNS2-V.bcmap\": [\n\t\t\"8154\",\n\t\t\"noprefetch-CNS2-V-bcmap\"\n\t],\n\t\"./ETHK-B5-H.bcmap\": [\n\t\t\"fefc\",\n\t\t\"noprefetch-ETHK-B5-H-bcmap\"\n\t],\n\t\"./ETHK-B5-V.bcmap\": [\n\t\t\"5ad1\",\n\t\t\"noprefetch-ETHK-B5-V-bcmap\"\n\t],\n\t\"./ETen-B5-H.bcmap\": [\n\t\t\"500e\",\n\t\t\"noprefetch-ETen-B5-H-bcmap\"\n\t],\n\t\"./ETen-B5-V.bcmap\": [\n\t\t\"6e3c\",\n\t\t\"noprefetch-ETen-B5-V-bcmap\"\n\t],\n\t\"./ETenms-B5-H.bcmap\": [\n\t\t\"6a25\",\n\t\t\"noprefetch-ETenms-B5-H-bcmap\"\n\t],\n\t\"./ETenms-B5-V.bcmap\": [\n\t\t\"f079\",\n\t\t\"noprefetch-ETenms-B5-V-bcmap\"\n\t],\n\t\"./EUC-H.bcmap\": [\n\t\t\"6946\",\n\t\t\"noprefetch-EUC-H-bcmap\"\n\t],\n\t\"./EUC-V.bcmap\": [\n\t\t\"1e29\",\n\t\t\"noprefetch-EUC-V-bcmap\"\n\t],\n\t\"./Ext-H.bcmap\": [\n\t\t\"9741\",\n\t\t\"noprefetch-Ext-H-bcmap\"\n\t],\n\t\"./Ext-RKSJ-H.bcmap\": [\n\t\t\"68df\",\n\t\t\"noprefetch-Ext-RKSJ-H-bcmap\"\n\t],\n\t\"./Ext-RKSJ-V.bcmap\": [\n\t\t\"2bc0\",\n\t\t\"noprefetch-Ext-RKSJ-V-bcmap\"\n\t],\n\t\"./Ext-V.bcmap\": [\n\t\t\"e7de\",\n\t\t\"noprefetch-Ext-V-bcmap\"\n\t],\n\t\"./GB-EUC-H.bcmap\": [\n\t\t\"c012\",\n\t\t\"noprefetch-GB-EUC-H-bcmap\"\n\t],\n\t\"./GB-EUC-V.bcmap\": [\n\t\t\"d62e\",\n\t\t\"noprefetch-GB-EUC-V-bcmap\"\n\t],\n\t\"./GB-H.bcmap\": [\n\t\t\"3a6f\",\n\t\t\"noprefetch-GB-H-bcmap\"\n\t],\n\t\"./GB-V.bcmap\": [\n\t\t\"f7b6\",\n\t\t\"noprefetch-GB-V-bcmap\"\n\t],\n\t\"./GBK-EUC-H.bcmap\": [\n\t\t\"1415\",\n\t\t\"noprefetch-GBK-EUC-H-bcmap\"\n\t],\n\t\"./GBK-EUC-V.bcmap\": [\n\t\t\"7bbc\",\n\t\t\"noprefetch-GBK-EUC-V-bcmap\"\n\t],\n\t\"./GBK2K-H.bcmap\": [\n\t\t\"0591\",\n\t\t\"noprefetch-GBK2K-H-bcmap\"\n\t],\n\t\"./GBK2K-V.bcmap\": [\n\t\t\"ab5b\",\n\t\t\"noprefetch-GBK2K-V-bcmap\"\n\t],\n\t\"./GBKp-EUC-H.bcmap\": [\n\t\t\"18c7\",\n\t\t\"noprefetch-GBKp-EUC-H-bcmap\"\n\t],\n\t\"./GBKp-EUC-V.bcmap\": [\n\t\t\"5b1b\",\n\t\t\"noprefetch-GBKp-EUC-V-bcmap\"\n\t],\n\t\"./GBT-EUC-H.bcmap\": [\n\t\t\"253c\",\n\t\t\"noprefetch-GBT-EUC-H-bcmap\"\n\t],\n\t\"./GBT-EUC-V.bcmap\": [\n\t\t\"8523\",\n\t\t\"noprefetch-GBT-EUC-V-bcmap\"\n\t],\n\t\"./GBT-H.bcmap\": [\n\t\t\"3c26\",\n\t\t\"noprefetch-GBT-H-bcmap\"\n\t],\n\t\"./GBT-V.bcmap\": [\n\t\t\"176a\",\n\t\t\"noprefetch-GBT-V-bcmap\"\n\t],\n\t\"./GBTpc-EUC-H.bcmap\": [\n\t\t\"0152\",\n\t\t\"noprefetch-GBTpc-EUC-H-bcmap\"\n\t],\n\t\"./GBTpc-EUC-V.bcmap\": [\n\t\t\"a711\",\n\t\t\"noprefetch-GBTpc-EUC-V-bcmap\"\n\t],\n\t\"./GBpc-EUC-H.bcmap\": [\n\t\t\"30fd\",\n\t\t\"noprefetch-GBpc-EUC-H-bcmap\"\n\t],\n\t\"./GBpc-EUC-V.bcmap\": [\n\t\t\"06f5\",\n\t\t\"noprefetch-GBpc-EUC-V-bcmap\"\n\t],\n\t\"./H.bcmap\": [\n\t\t\"8db7\",\n\t\t\"noprefetch-H-bcmap\"\n\t],\n\t\"./HKdla-B5-H.bcmap\": [\n\t\t\"c0fc\",\n\t\t\"noprefetch-HKdla-B5-H-bcmap\"\n\t],\n\t\"./HKdla-B5-V.bcmap\": [\n\t\t\"4d8a\",\n\t\t\"noprefetch-HKdla-B5-V-bcmap\"\n\t],\n\t\"./HKdlb-B5-H.bcmap\": [\n\t\t\"17d8\",\n\t\t\"noprefetch-HKdlb-B5-H-bcmap\"\n\t],\n\t\"./HKdlb-B5-V.bcmap\": [\n\t\t\"a893\",\n\t\t\"noprefetch-HKdlb-B5-V-bcmap\"\n\t],\n\t\"./HKgccs-B5-H.bcmap\": [\n\t\t\"9abe\",\n\t\t\"noprefetch-HKgccs-B5-H-bcmap\"\n\t],\n\t\"./HKgccs-B5-V.bcmap\": [\n\t\t\"e8bf\",\n\t\t\"noprefetch-HKgccs-B5-V-bcmap\"\n\t],\n\t\"./HKm314-B5-H.bcmap\": [\n\t\t\"f431\",\n\t\t\"noprefetch-HKm314-B5-H-bcmap\"\n\t],\n\t\"./HKm314-B5-V.bcmap\": [\n\t\t\"b859\",\n\t\t\"noprefetch-HKm314-B5-V-bcmap\"\n\t],\n\t\"./HKm471-B5-H.bcmap\": [\n\t\t\"ab23\",\n\t\t\"noprefetch-HKm471-B5-H-bcmap\"\n\t],\n\t\"./HKm471-B5-V.bcmap\": [\n\t\t\"74b0\",\n\t\t\"noprefetch-HKm471-B5-V-bcmap\"\n\t],\n\t\"./HKscs-B5-H.bcmap\": [\n\t\t\"1602\",\n\t\t\"noprefetch-HKscs-B5-H-bcmap\"\n\t],\n\t\"./HKscs-B5-V.bcmap\": [\n\t\t\"7342\",\n\t\t\"noprefetch-HKscs-B5-V-bcmap\"\n\t],\n\t\"./Hankaku.bcmap\": [\n\t\t\"bcb6\",\n\t\t\"noprefetch-Hankaku-bcmap\"\n\t],\n\t\"./Hiragana.bcmap\": [\n\t\t\"3dcb\",\n\t\t\"noprefetch-Hiragana-bcmap\"\n\t],\n\t\"./KSC-EUC-H.bcmap\": [\n\t\t\"dc61\",\n\t\t\"noprefetch-KSC-EUC-H-bcmap\"\n\t],\n\t\"./KSC-EUC-V.bcmap\": [\n\t\t\"949c\",\n\t\t\"noprefetch-KSC-EUC-V-bcmap\"\n\t],\n\t\"./KSC-H.bcmap\": [\n\t\t\"b67b\",\n\t\t\"noprefetch-KSC-H-bcmap\"\n\t],\n\t\"./KSC-Johab-H.bcmap\": [\n\t\t\"3f40\",\n\t\t\"noprefetch-KSC-Johab-H-bcmap\"\n\t],\n\t\"./KSC-Johab-V.bcmap\": [\n\t\t\"3a3b\",\n\t\t\"noprefetch-KSC-Johab-V-bcmap\"\n\t],\n\t\"./KSC-V.bcmap\": [\n\t\t\"b5c9\",\n\t\t\"noprefetch-KSC-V-bcmap\"\n\t],\n\t\"./KSCms-UHC-H.bcmap\": [\n\t\t\"25ca\",\n\t\t\"noprefetch-KSCms-UHC-H-bcmap\"\n\t],\n\t\"./KSCms-UHC-HW-H.bcmap\": [\n\t\t\"9c89\",\n\t\t\"noprefetch-KSCms-UHC-HW-H-bcmap\"\n\t],\n\t\"./KSCms-UHC-HW-V.bcmap\": [\n\t\t\"9149\",\n\t\t\"noprefetch-KSCms-UHC-HW-V-bcmap\"\n\t],\n\t\"./KSCms-UHC-V.bcmap\": [\n\t\t\"25d1\",\n\t\t\"noprefetch-KSCms-UHC-V-bcmap\"\n\t],\n\t\"./KSCpc-EUC-H.bcmap\": [\n\t\t\"1f5f\",\n\t\t\"noprefetch-KSCpc-EUC-H-bcmap\"\n\t],\n\t\"./KSCpc-EUC-V.bcmap\": [\n\t\t\"95d1\",\n\t\t\"noprefetch-KSCpc-EUC-V-bcmap\"\n\t],\n\t\"./Katakana.bcmap\": [\n\t\t\"9d22\",\n\t\t\"noprefetch-Katakana-bcmap\"\n\t],\n\t\"./NWP-H.bcmap\": [\n\t\t\"65c0\",\n\t\t\"noprefetch-NWP-H-bcmap\"\n\t],\n\t\"./NWP-V.bcmap\": [\n\t\t\"e679\",\n\t\t\"noprefetch-NWP-V-bcmap\"\n\t],\n\t\"./RKSJ-H.bcmap\": [\n\t\t\"dda4\",\n\t\t\"noprefetch-RKSJ-H-bcmap\"\n\t],\n\t\"./RKSJ-V.bcmap\": [\n\t\t\"3e4a\",\n\t\t\"noprefetch-RKSJ-V-bcmap\"\n\t],\n\t\"./Roman.bcmap\": [\n\t\t\"7526\",\n\t\t\"noprefetch-Roman-bcmap\"\n\t],\n\t\"./UniCNS-UCS2-H.bcmap\": [\n\t\t\"8ba4\",\n\t\t\"noprefetch-UniCNS-UCS2-H-bcmap\"\n\t],\n\t\"./UniCNS-UCS2-V.bcmap\": [\n\t\t\"af85\",\n\t\t\"noprefetch-UniCNS-UCS2-V-bcmap\"\n\t],\n\t\"./UniCNS-UTF16-H.bcmap\": [\n\t\t\"1f79\",\n\t\t\"noprefetch-UniCNS-UTF16-H-bcmap\"\n\t],\n\t\"./UniCNS-UTF16-V.bcmap\": [\n\t\t\"727b\",\n\t\t\"noprefetch-UniCNS-UTF16-V-bcmap\"\n\t],\n\t\"./UniCNS-UTF32-H.bcmap\": [\n\t\t\"51bf\",\n\t\t\"noprefetch-UniCNS-UTF32-H-bcmap\"\n\t],\n\t\"./UniCNS-UTF32-V.bcmap\": [\n\t\t\"6785\",\n\t\t\"noprefetch-UniCNS-UTF32-V-bcmap\"\n\t],\n\t\"./UniCNS-UTF8-H.bcmap\": [\n\t\t\"55d9\",\n\t\t\"noprefetch-UniCNS-UTF8-H-bcmap\"\n\t],\n\t\"./UniCNS-UTF8-V.bcmap\": [\n\t\t\"2a4e\",\n\t\t\"noprefetch-UniCNS-UTF8-V-bcmap\"\n\t],\n\t\"./UniGB-UCS2-H.bcmap\": [\n\t\t\"6f3e\",\n\t\t\"noprefetch-UniGB-UCS2-H-bcmap\"\n\t],\n\t\"./UniGB-UCS2-V.bcmap\": [\n\t\t\"b445\",\n\t\t\"noprefetch-UniGB-UCS2-V-bcmap\"\n\t],\n\t\"./UniGB-UTF16-H.bcmap\": [\n\t\t\"6d06\",\n\t\t\"noprefetch-UniGB-UTF16-H-bcmap\"\n\t],\n\t\"./UniGB-UTF16-V.bcmap\": [\n\t\t\"1d84\",\n\t\t\"noprefetch-UniGB-UTF16-V-bcmap\"\n\t],\n\t\"./UniGB-UTF32-H.bcmap\": [\n\t\t\"a43e\",\n\t\t\"noprefetch-UniGB-UTF32-H-bcmap\"\n\t],\n\t\"./UniGB-UTF32-V.bcmap\": [\n\t\t\"841f\",\n\t\t\"noprefetch-UniGB-UTF32-V-bcmap\"\n\t],\n\t\"./UniGB-UTF8-H.bcmap\": [\n\t\t\"4343\",\n\t\t\"noprefetch-UniGB-UTF8-H-bcmap\"\n\t],\n\t\"./UniGB-UTF8-V.bcmap\": [\n\t\t\"f7ab\",\n\t\t\"noprefetch-UniGB-UTF8-V-bcmap\"\n\t],\n\t\"./UniJIS-UCS2-H.bcmap\": [\n\t\t\"909a\",\n\t\t\"noprefetch-UniJIS-UCS2-H-bcmap\"\n\t],\n\t\"./UniJIS-UCS2-HW-H.bcmap\": [\n\t\t\"da0a\",\n\t\t\"noprefetch-UniJIS-UCS2-HW-H-bcmap\"\n\t],\n\t\"./UniJIS-UCS2-HW-V.bcmap\": [\n\t\t\"92f3\",\n\t\t\"noprefetch-UniJIS-UCS2-HW-V-bcmap\"\n\t],\n\t\"./UniJIS-UCS2-V.bcmap\": [\n\t\t\"1122\",\n\t\t\"noprefetch-UniJIS-UCS2-V-bcmap\"\n\t],\n\t\"./UniJIS-UTF16-H.bcmap\": [\n\t\t\"efa2\",\n\t\t\"noprefetch-UniJIS-UTF16-H-bcmap\"\n\t],\n\t\"./UniJIS-UTF16-V.bcmap\": [\n\t\t\"6a8f\",\n\t\t\"noprefetch-UniJIS-UTF16-V-bcmap\"\n\t],\n\t\"./UniJIS-UTF32-H.bcmap\": [\n\t\t\"1418\",\n\t\t\"noprefetch-UniJIS-UTF32-H-bcmap\"\n\t],\n\t\"./UniJIS-UTF32-V.bcmap\": [\n\t\t\"4c57\",\n\t\t\"noprefetch-UniJIS-UTF32-V-bcmap\"\n\t],\n\t\"./UniJIS-UTF8-H.bcmap\": [\n\t\t\"d02d\",\n\t\t\"noprefetch-UniJIS-UTF8-H-bcmap\"\n\t],\n\t\"./UniJIS-UTF8-V.bcmap\": [\n\t\t\"b2ed\",\n\t\t\"noprefetch-UniJIS-UTF8-V-bcmap\"\n\t],\n\t\"./UniJIS2004-UTF16-H.bcmap\": [\n\t\t\"1e4a\",\n\t\t\"noprefetch-UniJIS2004-UTF16-H-bcmap\"\n\t],\n\t\"./UniJIS2004-UTF16-V.bcmap\": [\n\t\t\"f840\",\n\t\t\"noprefetch-UniJIS2004-UTF16-V-bcmap\"\n\t],\n\t\"./UniJIS2004-UTF32-H.bcmap\": [\n\t\t\"0839\",\n\t\t\"noprefetch-UniJIS2004-UTF32-H-bcmap\"\n\t],\n\t\"./UniJIS2004-UTF32-V.bcmap\": [\n\t\t\"b2d7\",\n\t\t\"noprefetch-UniJIS2004-UTF32-V-bcmap\"\n\t],\n\t\"./UniJIS2004-UTF8-H.bcmap\": [\n\t\t\"4b82\",\n\t\t\"noprefetch-UniJIS2004-UTF8-H-bcmap\"\n\t],\n\t\"./UniJIS2004-UTF8-V.bcmap\": [\n\t\t\"34c5\",\n\t\t\"noprefetch-UniJIS2004-UTF8-V-bcmap\"\n\t],\n\t\"./UniJISPro-UCS2-HW-V.bcmap\": [\n\t\t\"e2f5\",\n\t\t\"noprefetch-UniJISPro-UCS2-HW-V-bcmap\"\n\t],\n\t\"./UniJISPro-UCS2-V.bcmap\": [\n\t\t\"7454\",\n\t\t\"noprefetch-UniJISPro-UCS2-V-bcmap\"\n\t],\n\t\"./UniJISPro-UTF8-V.bcmap\": [\n\t\t\"b6a2\",\n\t\t\"noprefetch-UniJISPro-UTF8-V-bcmap\"\n\t],\n\t\"./UniJISX0213-UTF32-H.bcmap\": [\n\t\t\"17c1\",\n\t\t\"noprefetch-UniJISX0213-UTF32-H-bcmap\"\n\t],\n\t\"./UniJISX0213-UTF32-V.bcmap\": [\n\t\t\"8d60\",\n\t\t\"noprefetch-UniJISX0213-UTF32-V-bcmap\"\n\t],\n\t\"./UniJISX02132004-UTF32-H.bcmap\": [\n\t\t\"5776\",\n\t\t\"noprefetch-UniJISX02132004-UTF32-H-bcmap\"\n\t],\n\t\"./UniJISX02132004-UTF32-V.bcmap\": [\n\t\t\"cf96\",\n\t\t\"noprefetch-UniJISX02132004-UTF32-V-bcmap\"\n\t],\n\t\"./UniKS-UCS2-H.bcmap\": [\n\t\t\"adc9\",\n\t\t\"noprefetch-UniKS-UCS2-H-bcmap\"\n\t],\n\t\"./UniKS-UCS2-V.bcmap\": [\n\t\t\"5f76\",\n\t\t\"noprefetch-UniKS-UCS2-V-bcmap\"\n\t],\n\t\"./UniKS-UTF16-H.bcmap\": [\n\t\t\"e1a2\",\n\t\t\"noprefetch-UniKS-UTF16-H-bcmap\"\n\t],\n\t\"./UniKS-UTF16-V.bcmap\": [\n\t\t\"24eb\",\n\t\t\"noprefetch-UniKS-UTF16-V-bcmap\"\n\t],\n\t\"./UniKS-UTF32-H.bcmap\": [\n\t\t\"331c\",\n\t\t\"noprefetch-UniKS-UTF32-H-bcmap\"\n\t],\n\t\"./UniKS-UTF32-V.bcmap\": [\n\t\t\"8f6e\",\n\t\t\"noprefetch-UniKS-UTF32-V-bcmap\"\n\t],\n\t\"./UniKS-UTF8-H.bcmap\": [\n\t\t\"b9e9\",\n\t\t\"noprefetch-UniKS-UTF8-H-bcmap\"\n\t],\n\t\"./UniKS-UTF8-V.bcmap\": [\n\t\t\"648b\",\n\t\t\"noprefetch-UniKS-UTF8-V-bcmap\"\n\t],\n\t\"./V.bcmap\": [\n\t\t\"171f\",\n\t\t\"noprefetch-V-bcmap\"\n\t],\n\t\"./WP-Symbol.bcmap\": [\n\t\t\"fa3a\",\n\t\t\"noprefetch-WP-Symbol-bcmap\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"a62e\";\nmodule.exports = webpackAsyncContext;","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageTasks.vue?vue&type=style&index=0&id=07848b67&prod&scoped=true&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelDispatcher.vue?vue&type=style&index=0&id=feb6935e&prod&scoped=true&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelResurs.vue?vue&type=style&index=0&id=04fd8766&prod&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=style&index=0&id=9f8fc122&prod&scoped=true&lang=css\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskCreate.vue?vue&type=style&index=0&id=43fa0b98&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBotton.vue?vue&type=style&index=0&id=97c3b4c8&prod&lang=less\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelTabs.vue?vue&type=style&index=0&id=2b36a9c2&prod&lang=less\"","module.exports = __webpack_public_path__ + \"img/in_work.03cd711a.svg\";"],"sourceRoot":""}